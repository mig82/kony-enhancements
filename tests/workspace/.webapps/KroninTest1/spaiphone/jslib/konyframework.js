if("undefined"==typeof kony&&(kony={api:{},app:{},globals:{},system:{},widgets:{},io:{},apm:{},automation:{},isformRenderd:!0,enableGetterSetters:!1,constants:{KONY_WIDGET_TYPE:"kwidgettype",SELECTED_ITEM:"selecteditem",IMAGE_PATH:"images",RESOURCES_PATH:"resources",TRANSLATION_PATH:"strings",TRANSLATION_EXT:"js",MODE:"s",RUNMODE:"debug",APPSTATE:0}},spaAPM=null,$KAR=null,_kony={mvc:{}},com={},com.kony={},konychannel="wap",kiden="useragent",$KI=kony.api,$KW=kony.widgets,$KG=kony.globals,$KIO=kony.io,$KA=kony.apm,$KAU=kony.automation,$KG.allforms={},$KG.allTemplates={},$KG.appbehaviors={},$KG.widgetPositions={},$KG.cwtexists=[],$KG.retina="",$KG.imagecat="",$KG.uniqueId=0,$KG.animStyleSheet=""),app={headers:{},footers:{}},$KI.print=kony.print=function(e){"debug"==kony.constants.RUNMODE&&("s"==kony.constants.MODE?"undefined"!=typeof JSON&&"object"==typeof e?console.log(JSON.stringify(e,$KU.jsonReplacer)):console.log(e):alert(e))},kony.web={},kony.web.logger=function(e,i){var n=!(!0!==$KG.appbehaviors.enableLoggerFramework||!kony.perflog.logger);switch(e){case"log":n?kony.perflog.log("info",i):kony.print(i);break;case"warn":n?kony.perflog.log("warn",i):console.warn(i);break;case"error":n?kony.perflog.log("error",i):console.error(i);break;case"trace":n?kony.perflog.log("trace",i):kony.print(i);break;case"debug":n?kony.perflog.log("debug",i):kony.print(i);break;case"perf":n?kony.perflog.log("perf",i):kony.print(i);break;default:n?kony.perflog.log("info",i):kony.print(i)}},kony.perflog={logger:null,loggerInit:function(){this.logger=kony.logger.createNewLogger("KonyFrameworkLogger",new kony.logger.createLoggerConfig),!0===appConfig.isDebug&&(kony.logger.activatePersistors(kony.logger.consolePersistor),kony.logger.currentLogLevel=kony.logger.logLevel.ALL,this.logger.setIndirectionLevel(3))},log:function(e,i){this.logger[e](i)}},"undefined"==typeof console){var alertFallback=!1,warnFallback=!1,errorFallback=!1;console={},console.log=function(e){alertFallback&&alert(e)},console.warn=function(e){warnFallback&&alert(e)},console.error=function(e){errorFallback&&alert(e)}}kony.appinit={index:0,JSMapFileCount:0,head:document.getElementsByTagName("head")[0],debugFilesCount:0,foldertype:IndexJL?"LuaFiles":"JSFiles",vendor:/trident/gi.test(navigator.userAgent)?"ms":/webkit/i.test(navigator.userAgent)&&!/edge/i.test(navigator.userAgent)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"o":/msie/i.test(navigator.userAgent)||/rv:([1][1-9])/i.test(navigator.userAgent)?"ms":"",isIE:null!=window.navigator.appVersion.match(/MSIE (\d+)/)||/rv:([1][1-9])/i.test(navigator.userAgent),isIE7:null!=window.navigator.appVersion.match(/MSIE (\d+)/)&&"7"==RegExp.$1,isIE8:null!=window.navigator.appVersion.match(/MSIE (\d+)/)&&"8"==RegExp.$1,isIE9:null!=window.navigator.appVersion.match(/MSIE (\d+)/)&&"9"==RegExp.$1,isIE10:null!=navigator.userAgent.match(/MSIE (\d+)/)&&"10"==RegExp.$1,isIE11:/rv:([1][1-9])/i.test(navigator.userAgent),isEdge:/edge/gi.test(navigator.userAgent),isFirefox:window.navigator.userAgent.indexOf("Firefox")>=0,isChrome:window.navigator.userAgent.indexOf("Chrome")>=0,isSafari:window.navigator.userAgent.indexOf("Safari")>=0&&!(window.navigator.userAgent.indexOf("Chrome")>=0||window.navigator.userAgent.indexOf("CriOS")>=0||window.navigator.userAgent.indexOf("GSA")>=0),isOpera:window.navigator.userAgent.indexOf("Opera")>=0,isAndroid:/android/gi.test(navigator.userAgent)&&!/trident/gi.test(navigator.userAgent)&&!/edge/gi.test(navigator.userAgent),isIDevice:/iphone|ipad/gi.test(navigator.userAgent)&&!/trident/gi.test(navigator.userAgent),isiPhone:/iphone/gi.test(navigator.userAgent)&&!/trident/gi.test(navigator.userAgent),isiPod:/ipod/gi.test(navigator.userAgent),isiPad:/ipad/gi.test(navigator.userAgent),isPlaybook:/playbook/gi.test(navigator.userAgent),isBlackBerry:(/bb10/gi.test(navigator.userAgent)||/blackberry/gi.test(navigator.userAgent))&&"undefined"==typeof bbnth,isBlackBerry10:/bb10/gi.test(navigator.userAgent),isBlackBerryNTH:/blackberry/gi.test(navigator.userAgent)&&"undefined"!=typeof bbnth&&bbnth,isTouchPad:/hp-tablet/gi.test(navigator.userAgent),isWindowsPhone:/Windows Phone/gi.test(navigator.userAgent),isWindowsTouch:/Windows/gi.test(navigator.userAgent)&&/Touch/gi.test(navigator.userAgent)||/trident/gi.test(navigator.userAgent),isWindowsTablet:/Windows NT/gi.test(navigator.userAgent)&&/Touch/gi.test(navigator.userAgent),isTablet:/hp-tablet|ipad|playbook/gi.test(navigator.userAgent)||/android/gi.test(navigator.userAgent)&&!/mobile/gi.test(navigator.userAgent),isMob:/mobile/gi.test(navigator.userAgent),transition:/edge/gi.test(navigator.userAgent)?"transition":"Transition",syncFiles:["jslib/konytextfieldwidget.js"],syncJSFiles:["jslib/konyconstants.js","jslib/konywidgetdefault.js","jslib/konyJSLib/ui/konyuiBaseClasses.js","jslib/konyJSLib/ui/konyuiForm.js","jslib/konyJSLib/ui/konyuiBox.js"],syncLuaFiles:["jslib/konyLuaLib/ui/windowBaseClasses.js","jslib/konyLuaLib/ui/windowForm.js","jslib/konyLuaLib/ui/windowBox.js"],asyncViewFiles:["jslib/tparty/jasmine/jasmine.js","jslib/konyconstcommon.js","jslib/konymodel.js","jslib/konycore.js","jslib/konysystem.js","jslib/konyapi.js","jslib/konymodule.js","jslib/konytableapi.js","jslib/konyosapi.js","jslib/konymathapi.js","jslib/konyutils.js","jslib/konyi18n.js","jslib/konywidgets.js","jslib/konyskinutils.js","jslib/konyflexutils.js","jslib/konywidgetapiutils.js","jslib/konyimageutils.js","jslib/konytouchwidgets.js","jslib/konyformwidget.js","jslib/konyappmenu.js","jslib/konynetwork.js","jslib/konyworker.js","jslib/konylabelwidget.js","jslib/konybuttonwidget.js","jslib/konysliderwidget.js","jslib/konytextfieldautocomplete.js","jslib/konytextfieldpassword.js","jslib/konycomboboxgroup.js","jslib/konyradiobuttongroup.js","jslib/konylistboxgroup.js","jslib/konytextareawidget.js","jslib/konycheckboxgroup.js","jslib/konylinkwidget.js","jslib/konyboxwidget.js","jslib/konyvboxwidget.js","jslib/konyflexlayoutengine.js","jslib/konyflexcontainerwidget.js","jslib/konyflexscrollcontainerwidget.js","jslib/konylinewidget.js","jslib/konysegmentwidget.js","jslib/konyimagewidget.js","jslib/konyHorizontalImagewidget.js","jslib/konyHorizontalImageGallerywidget.js","jslib/konyslotviewwidget.js","jslib/konybrowserwidget.js","jslib/konydatagridwidget.js","jslib/konymapwidget.js","jslib/konytabwidget.js","jslib/konyswitchwidget.js","jslib/konypopup.js","jslib/konyphone.js","jslib/konyscrollerwidget.js","jslib/konyrichtextwidget.js","jslib/konyscrollboxwidget.js","jslib/konymediawidget.js","jslib/konythemesapi.js","jslib/konycalendarwidget.js","jslib/konyanimations.js","jslib/konyhybridapi.js","jslib/konydatabaseapi.js","jslib/konydatastoreapi.js","jslib/konygeolocationapi.js","jslib/konyphoneapi.js","jslib/konytimerapi.js","jslib/konyapm.js","jslib/konycrypto.js","jslib/tparty/crypto/cryptojslib-min.js","jslib/tparty/requirejs/require.js","jslib/konymvc.js","jslib/konyuserwidget.js","jslib/konycollectionview.js","jslib/konynosqlapi.js","jslib/konyimagepinchzoom.js","jslib/konycamerawidget.js"],asyncDebugFiles:["jslib/automation/konyautomationutils.js","jslib/automation/konyautomationwidgets.js","jslib/automation/konyautomationtouchevents.js","jslib/automation/konyautomationrecorder.js"],asyncJSFiles:["jslib/konyJSLib/core/konyJSUtils.js","jslib/konyJSLib/ui/konyuiBasicWidgets.js","jslib/konyJSLib/ui/konyuiFlexContainer.js","jslib/konyJSLib/ui/konyuiCalendar.js","jslib/konyJSLib/ui/konyuiDataGrid.js","jslib/konyJSLib/ui/konyuiGroupWidgets.js","jslib/konyJSLib/ui/konyuiImage.js","jslib/konyJSLib/ui/konyuiImageGallery.js","jslib/konyJSLib/ui/konyuiHorizontalImageStrip.js","jslib/konyJSLib/ui/konyuiMap.js","jslib/konyJSLib/ui/konyuiBrowser.js","jslib/konyJSLib/ui/konyuiRichText.js","jslib/konyJSLib/ui/konyuiScrollBox.js","jslib/konyJSLib/ui/konyuiSegmentedUI.js","jslib/konyJSLib/ui/konyuiCollectionView.js","jslib/konyJSLib/ui/konyuiText.js","jslib/konyJSLib/ui/konyuiPopup.js","jslib/konyJSLib/ui/konyuiTabPane.js","jslib/konyJSLib/ui/konyuiSlider.js","jslib/konyJSLib/ui/konyuiVideo.js","jslib/konyJSLib/ui/konyuiUserWidget.js","jslib/konyJSLib/ui/konyuiCamera.js"],JSMapList:["jslib/konyJSLib/core/konyJSMapping.js","jslib/konyJSLib/core/konyapplication.js","jslib/konymvc_sdk.js"],asyncLuaFiles:["jslib/konyLuaLib/ui/konyWidgetNativeMapping.js","jslib/konyLuaLib/ui/windowBasicWidgets.js","jslib/konyLuaLib/ui/windowCalendar.js","jslib/konyLuaLib/ui/windowDataGrid.js","jslib/konyLuaLib/ui/windowForm.js","jslib/konyLuaLib/ui/windowGallery.js","jslib/konyLuaLib/ui/windowGroupWidgets.js","jslib/konyLuaLib/ui/windowHorizontalImageStrip.js","jslib/konyLuaLib/ui/windowImage.js","jslib/konyLuaLib/ui/windowMap.js","jslib/konyLuaLib/ui/windowPopup.js","jslib/konyLuaLib/ui/windowRichText.js","jslib/konyLuaLib/ui/windowScrollBox.js","jslib/konyLuaLib/ui/windowSegmentedUI.js","jslib/konyLuaLib/ui/windowText.js","jslib/konyLuaLib/ui/windowBrowser.js","jslib/konyLuaLib/ui/windowTabPane.js","jslib/konyLuaLib/ui/windowSlider.js","jslib/konyLuaLib/ui/windowVideo.js"],isLocalBuild:!1,setPlatformName:function(){var e,i;this.isiPhone?(e="spaiphone",i="spaiphone"):this.isAndroid&&this.isTablet?(e="spaandroidtablet",i="spaandroidtab"):this.isAndroid?(e="spaandroid",i="spaandroid"):this.isBlackBerry?(e="spablackberry",i="spabb"):this.isiPad?(e="spaipad",i="spaipad"):this.isBlackBerryNTH?(e="spabbnth",i="spabbnth"):this.isPlaybook?(e="spaplaybook",i="spaother"):this.isWindowsPhone&&this.isIE10?(e="spawinphone8",i="spawinphone8"):this.isWindowsTablet?(e="spawindowstablet",i="spawindowstablet"):this.isWindowsPhone?(e="spawindows",i="spawindows"):(e="",i="spaother"),"undefined"!=typeof spaMarkup&&spaMarkup&&(e=spaMarkup,i=spaMarkup),$KG.platformver=e+"/",$KG.rcid=i,this.isiPhone&&2==window.devicePixelRatio?$KG.retina="retina/":$KG.retina=""},initializeWidgets:function(){for(var e=[$KW.Form,$KW.HBox,$KW.VBox,$KW.Button,$KW.Image,$KW.Label,$KW.TextField,$KW.ComboBox,$KW.ListBox,$KW.Link,$KW.RichText,$KW.CheckBoxGroup,$KW.RadioButtonGroup,$KW.Map,$KW.HStrip,$KW.IGallery,$KW.Phone,$KW.Segment,$KW.Appmenu,$KW.ScrollBox,$KW.TabPane,$KW.Calendar,$KW.Switch,$KW.TextArea,$KW.DataGrid,$KW.FlexScrollContainer,$KW.MenuContainer,$KW.Slider,$KW.Line,$KW.FlexContainer,$KW.FlexScrollContainer,$KW.Camera],i=0;i<e.length;i++)e[i]&&e[i].initialize&&e[i].initialize()},loadlibrarysync:function(){var e=kony.appinit;if($KI.themes)$KG.skipproxy=!0,e.verifyhref(!0);else{if(e.index>0&&kony.web.logger("log","File loaded in sync: "+e.syncFiles[e.index-1]+"  number: "+e.index),e.index==e.syncFiles.length)return void e.loadlibraryasync(e.asyncViewFiles,e.ondone);kony.appinit.loadScript(kony.appinit.syncFiles[kony.appinit.index],kony.appinit.loadlibrarysync),e.index++}},ondone:function(){var e=kony.appinit;kony.web.logger("log","File loaded in async: "+e.asyncViewFiles[e.index]+"  number: "+e.index),e.index++,e.index!=e.asyncViewFiles.length||(IndexJL?e.verifyhref():kony.appinit.loadJSMap())},loadlibraryasync:function(e,i){var n=kony.appinit;n.index=0;for(var o=0;o<e.length;o++)n.loadScript(e[o],i)},loadJSMap:function(){var e=kony.appinit;e.JSMapList[e.JSMapFileCount]&&e.loadScript(e.JSMapList[e.JSMapFileCount],e.loadJSMap),e.JSMapFileCount++,3==e.JSMapFileCount&&e.verifyhref()},getStaticContentPath:function(){return $KG.staticContentPath?$KG.staticContentPath:""},loadScript:function(e,i){var n=document.createElement("script");n.src=kony.appinit.getStaticContentPath()+$KG.platformver+e,n.type="text/javascript",n.addEventListener?n.onload=i:n.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&i()},kony.appinit.head.appendChild(n)},mergeDownloadLists:function(){var e=kony.appinit,i="sync"+e.foldertype,n="async"+e.foldertype;e.syncFiles=e.syncFiles.concat(e[i]),e.asyncViewFiles=e.asyncViewFiles.concat(e[n])},appcacheeventhndlr:function(e){switch(e||(e=window.event),e.type){case"checking":kony.web.logger("log","Checking for Manifest Version");break;case"downloading":kony.web.logger("log","Downloading of Manifest Resources");break;case"progress":break;case"cached":kony.web.logger("log","Manifest Resources loading done");break;case"noupdate":kony.web.logger("log","No Change in Manifest File");break;case"updateready":kony.web.logger("log","New manifest resources downloaded,swap the cache");try{window.applicationCache.swapCache(),window.location.reload()}catch(e){kony.web.logger("log","invalid state: swapping the cache")}break;case"obsolete":kony.web.logger("warn","Cache Manifest file not found. So deleting app cache");break;case"error":kony.web.logger("warn","Error while loading app cache");break;default:kony.web.logger("warn","Appcache Event not supported")}},verifyhref:function(e){var i=document.getElementsByName("_konyAppProperties")[0];if(i&&i.value&&"null"!==i.value)try{window._konyAppProperties=JSON.parse(i.value)}catch(e){kony.web.logger("warn","Error while loading application properties. i.e <appId>.properties")}else window._konyAppProperties=void 0;var n=document.getElementsByName("_reqParams")[0];n&&n.value&&"null"!==n.value&&(kony.globals.konyParams=JSON.parse($KU.getDecodedPropValue(n.value)));var o=document.getElementsByName("_reqHeaders")[0];if(o&&o.value&&"null"!==o.value){var a=[],t="";for(p in t=JSON.parse($KU.getDecodedPropValue(o.value).replace(/"="/g,'":"')))t[p]=decodeURIComponent(t[p]);if(kony.globals.httpheaders=t,Object.keys)a=Object.keys(kony.globals.httpheaders);else for(var s in kony.globals.httpheaders)a.push(s);for(var r=0;r<a.length;r++)kony.globals.httpheaders[a[r]]=unescape(kony.globals.httpheaders[a[r]])}if(""==window.location.search.slice(1)){var l=window.location.hash.slice(2),d=null;try{d=sessionStorage.getItem("klastform")}catch(e){}if($KG.__launchmode=1,""!=l)d==l?kony.logfer("log","verifyhref:Last Form Stored: "+d):kony.web.logger("log","verifyhref:Last Form Stored: "+d+" Hash: "+l),e?kony.appinit.hashflowshowform():kony.appinit.loadappjs(kony.appinit.hashflowshowform);else{if(null!=d){try{sessionStorage.removeItem("klastform"),sessionStorage.removeItem("kmodel")}catch(e){}kony.print("verifyhref: Deleted Existing sessionStorage")}e?kony.appinit.deeplinkflow():kony.appinit.loadappjs(kony.appinit.deeplinkflow)}}else $KG.__launchmode=3,e?kony.appinit.deeplinkflow():kony.appinit.loadappjs(kony.appinit.deeplinkflow)},restorespamodel:function(){try{var e=sessionStorage.getItem("kmodel"),i=""}catch(e){}return e&&(i=JSON.parse(e)),i?(kony.print("restorespamodel:Model Reloaded"),!0):(kony.print("restorespamodel:Case of Corrupt Model"),!0)},appstartup:function(){setTimeout(function(){kony.appinit.disablesplash()},100)},hashflowshowform:function(){var e=null;try{e=sessionStorage.getItem("klastform")}catch(e){}if(kony.appinit.restorespamodel()&&e){var i=$KG.allforms[e];kony.print("hashflowshowform: Display Form "+i.id),i&&$KW.Form.show(i)}else kony.print("hashflowshowform:ERROR recovering model so landing on Home Page"),kony.appinit.deeplinkflow()},deeplinkflow:function(){var e=window.location.search.slice(1),i={},n=e.split("&");kony.print("deeplinkflow: args:"+n.join());for(var o=0;o<n.length;o++){var a=n[o].replace(/\+/g," ").split("="),t=decodeURIComponent(a[0]),s=decodeURIComponent(a[1]);t&&(i[t]=s)}var r=window.location.href.split("?"),l=e.search("kdeeplink=");if(i.deeplinkpath=r[0],i.deepLinkPath=r[0],i.reqheaders=kony.globals.httpheaders,kony.globals.konyParams)for(var p in kony.globals.konyParams)i[p]=kony.globals.konyParams[p];$KG.kdeepobj=i,-1==l?kony.print("deeplinkflow:newsession"):kony.print("deeplinkflow:insession"),setTimeout(function(){kony.appinit.disablesplash()},100)},loadappjs:function(e){kony.appinit.loadScript("jslib/konylicense.js"),kony.appinit.loadScript("appjs/app.js",e)},initLocalStorage:function(){try{if("object"==typeof localStorage){var e=$KU.getLocalStorage();if("object"==typeof e&&e&&!0===e.migrated&&$KU.isArray(e.data))return;""!==e&&null!==e&&($KG.localStorageBackup=e),e=$KU.createBlankLocalStorage(),localStorage.setItem($KG.appid,JSON.stringify(e))}}catch(e){}},migrateLocalStorage:function(){try{if("object"==typeof localStorage){var e=$KU.getLocalStorage(),i=[],n=0,o=0,a=null,t="",s="";if(!0===e.migrated)return;if(e.migrated=!0,$KG.appbehaviors[constants.API_LEVEL]<constants.API_LEVEL_8200){for(localStorage.removeItem("i18nVersion"),o=localStorage.length,n=0;n<o;n++)if((t=localStorage.key(n))===$KG.appid)$KG.hasOwnProperty("localStorageBackup")&&e.data.push({key:t,value:$KG.localStorageBackup});else if(0!==t.indexOf($KG.appid+"_")&&t.split("_").length<2){s=localStorage.getItem(t);try{a=JSON.parse(s)}catch(e){a=s}"object"==typeof a&&a&&!0===a.migrated&&$KU.isArray(a.data)||(i.push(t),e.data.push({key:t,value:a}))}for(o=i.length,n=0;n<o;n++)localStorage.removeItem(i[n])}localStorage.setItem($KG.appid,JSON.stringify(e))}}catch(e){}},disablesplash:function(){kony.print("disabling splash"),$KG.animStyleSheet=$KU.createStyleSheet("animSheet"),kony.appinit.initializeheaders();$KG.__konyappevents;kony.appinit.initLocalStorage(),kony.appinit.konyLoadFunctionalModules(),kony.print("appmode:not hybrid,invoking initializeapp"),kony.perflog.loggerInit(),appConfig.isDebug&&kony.appinit.isLocalBuild?kony.appinit.loadlibraryasync(kony.appinit.asyncDebugFiles,kony.appinit.debugfilesonDone):initializeApp&&initializeApp()},debugfilesonDone:function(){var e=kony.appinit;kony.web.logger("log","File loaded in async: "+e.asyncDebugFiles[e.debugFilesCount]+"  number: "+e.debugFilesCount),e.debugFilesCount++,e.debugFilesCount==e.asyncDebugFiles.length&&initializeApp&&initializeApp()},setAppHeaderRef:function(){var e=function(e){for(var i in e){var n=e[i],o=e[i]=window[n][i];$KU.setChildren(n,o,o.children)}},i=kony.app.headers;i&&e(i);var n=kony.app.footers;n&&e(n)},setChildren:function(e,i,n){if(n&&n.length>0)for(var o=0;o<n.length;o++)i[n[o]]=window[e][n[o]],this.setChildren(e,i,window[e][n[o]].children)},setImageBasedDP:function(){var e="";if($KU.isAndroid){var i=window.devicePixelRatio;$KU.isTablet?i<=1?e="mdpi/":i<=1.5?e="hdpi/":i>1.5&&(e="xhdpi/"):i<=1?e="320/":i>1&&i<=1.5?e="360/":i>1.5&&i<=2?e="400/":i>2&&(e="440/")}else if($KU.isWindowsPhone)e="320/";else if($KU.isBlackBerry||$KU.isBlackBerryNTH){var n=window.orientation;e=window.innerWidth+"/";n&&(e=Math.min(window.innerWidth,window.innerHeight)),e=n&&parseInt(e,10)>250?"360/":n||parseInt(e,10)<340?"320/":"360/",window.devicePixelRatio>2&&(e="440/")}"undefined"!=typeof spaMarkup&&spaMarkup&&"spaiphone"===spaMarkup&&(e=""),$KG.imagecat=e,$KG.imagewhiledownloading&&((new Image).src=$KU.getImageURL($KG.imagewhiledownloading)),(new Image).src=$KU.getImageURL("imgload.gif")},initializeheaders:function(e){0==kony.constants.APPSTATE&&(kony.constants.APPSTATE=1,kony.appinit.setImageBasedDP(),kony.appinit.initializeMainContainer(),kony.app&&kony.appinit.setAppHeaderRef(),kony.appinit.setPlatformName())},initializeMainContainer:function(){if(!$KU.getElementById("__MainContainer")){var e=document.createElement("div");e.setAttribute("id","__MainContainer"),document.body.appendChild(e)}kony.events.registerDocumentEvents()},prepareHttpHeaders:function(){var e=document.getElementById("isnewsession");null!=e&&(kony.appinit.isNewSession=e.innerHTML),null!=document.getElementById("sessionId")&&(kony.appinit.sessionId=e.innerHTML)},initappcache:function(){if(kony.appinit.prepareHttpHeaders(),kony.appinit.setPlatformName(),kony.appinit.mergeDownloadLists(),document.documentElement.getAttribute("manifest")&&window.applicationCache)for(var e=["checking","downloading","progress","cached","noupdate","updateready","obsolete","error"],i=0;i<e.length;i++)window.applicationCache.addEventListener(e[i],kony.appinit.appcacheeventhndlr,!1);kony.appinit.isLocalBuild=!0,kony.appinit.loadlibrarysync()},konyLoadFunctionalModules:function(){if($KG.functionalModules){var e=$KG.functionalModules;for(var i in e)i&&"KonydefaultModules"!==i&&(e[i].cache||e[i].loadOnStartUp)&&kony.modules.loadModule(i)}},isPWAStandalone:function(){return!!(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone)}},$KI.os={platform:function(){$KU.logExecuting("kony.os.deviceInfo"),$KU.logExecutingWithParams("kony.os.deviceInfo");var e={},i=$KG.imagecat;i=i.substring(0,i.length-1);var n=$KU.getPlatform();return"iphone"==n.name&&(i=1==window.devicePixelRatio?"320":"640"),e.name="thinclient",e.model="",e.version=n.version,e.deviceWidth=screen.availWidth,e.deviceHeight=screen.availHeight,e.screenWidth=$KU.getWindowWidth(),e.screenHeight=$KU.getWindowHeight(),e.hascamera=!1,e.hasgps=void 0!=navigator.geolocation,e.hastouchsupport=$KU.isTouchSupported,e.hasorientationsupport=$KU.isOrientationSupported,e.iswifiavailable=void 0==navigator.onLine||navigator.onLine,e.type="spa",e.imagecat=i,e.deviceid=$KU.getDeviceId(),e.category=n.name,e.userAgent=navigator.userAgent,e.ip="",$KG.httpheaders&&(e.httpheaders=JSON.stringify($KG.httpheaders)),$KU.logExecutingFinished("kony.os.deviceInfo"),e},useragent:function(){return $KU.logExecuting("kony.os.userAgent"),$KU.logExecutingWithParams("kony.os.userAgent"),$KU.logExecutingFinished("kony.os.userAgent"),navigator.userAgent},setapplicationmode:function(e){$KU.logExecuting("kony.application.setApplicationMode"),$KU.logExecutingWithParams("kony.application.setApplicationMode",e),$KG.appmode=e,2!=e&&3!=e||($KG.platformver=""),$KU.logExecutingFinished("kony.application.setApplicationMode")},getapplicationmode:function(e){$KU.logExecuting("kony.application.getApplicationMode"),$KU.logExecutingWithParams("kony.application.getApplicationMode",e);e=$KG.appmode;return $KU.logExecutingFinished("kony.application.getApplicationMode"),e||1}},kony.decrement=function(e){return"number"==typeof e?e-1:e},kony.increment=function(e){return"number"==typeof e?e+1:e},kony.decrementIndices=function(e){for(var i=[],n=0;n<e.length;n++)i[n]=e[n]-1;return i},kony.incrementIndices=function(e){for(var i=[],n=0;n<e.length;n++)i[n]=e[n]+1;return i};
function containerWidgetExtendAdd(e){this.ownchildrenref=this.ownchildrenref.concat(e),this.createhierarchy(e),this.setparent(e)}function containerWidgetExtendAddAt(e,t){t=t<IndexJL?IndexJL:t-IndexJL>this.ownchildrenref.length?this.ownchildrenref.length+1:t-IndexJL,this.children.splice(t,0,e.id),this.ownchildrenref.splice(t,0,e),e.parent=this,this.createhierarchy([e])}function containerWidgetExtendRemove(e){_konyConstNS.ContainerWidget.prototype.removeReferences.call(this,e),boxWidgetExtendRemoveUpdate.call(this,e,!0)}function containerWidgetExtendRemoveAt(e){var t=null;e>=IndexJL&&e-IndexJL<=this.ownchildrenref.length&&((t=this.ownchildrenref[e-IndexJL])&&_konyConstNS.ContainerWidget.prototype.remove.call(this,t));return boxWidgetExtendRemoveUpdate.call(this,t,!0),t}function containerWidgetExtendSetParent(e){for(var t=0;t<e.length;t++)this.children.push(e[t].id),e[t].parent=this,e[t].defineContainerGetter&&(e[t].defineContainerGetter(this),e[t].defineContainerSetter(this))}function __createHierarchy(e,t,i){if(void 0==t.id)throw new KonyError(1102,"WidgetError","Widget ID cannot be null, please provide proper ID");if($KG.appbehaviors[constants.API_LEVEL]>=constants.API_LEVEL_7000&&e[t.id]&&!t.childHierarchy)throw new KonyError(1102,"WidgetError","Duplicate widget ID found while added to Form, Widget ID:-"+t.id);t.immediateMaster||(e[t.id]=t,t.childHierarchy=!0),"Form"!=i||"Popup"!=e.wType&&"Form"!=e.wType||!t.screenLevelWidget||(e.screenLevelWidgets=e.screenLevelWidgets||{},e.screenLevelWidgets[t.id]=t),"TabPane"==e.wType?t.pf=e.pf:t.pf=e.id,"Map"==t.wType&&(e[t.id]=t)}function containerWidgetExtendCreateHierarchy(e){for(var t=0;t<e.length;t++){var i=e[t];__createHierarchy(this,i,"container"),i.layoutConfig={self:!0,children:!1},this.isMaster&&updateImmediateMasterToChilds(i,this),this.immediateMaster&&updateImmediateMasterToChilds(i,$KW.Utils.getMasterWidgetModel(this))}}function updateImmediateMasterToChilds(e,t){if(e.immediateMaster||(t[e.id]=e,e.immediateMaster=t.id),e.isMaster&&(t=e),e.isContainerWidget)for(var i=0;i<e.children.length;i++){updateImmediateMasterToChilds(e[e.children[i]],t)}}function generateKMasterID(e){var t=$KW.Utils.getActualWidgetModel(e,!0);if(t.isContainerWidget)for(var i=t.children.length,r=0;r<i;r++){generateKMasterID(t[t.children[r]])}setKMasterIDToWidgetModel(t)}function setKMasterIDToWidgetModel(e){var t=[],i=e.parent;for(e._userWidget&&(i=e.kComponentModel.parent);i;)i.isMaster&&t.push(i.id),i=i._userWidget?i.kComponentModel.parent:i.parent;var r=t.reverse().join("_");""!=r&&(e.kmasterid=r)}function containerWidgetExtendRemoveReferences(e){if(delete this[e.id],("Form"==this.wType||"Popup"==this.wType)&&this.screenLevelWidgets&&this.screenLevelWidgets[e.id]&&delete this.screenLevelWidgets[e.id],this.children.remove)this.children.remove(e.id);else{var t=this.children;t.indexOf(e.id)>=0&&t&&t.splice(t.indexOf(e.id),1)}var i=this.ownchildrenref;i&&i.splice(i.indexOf(e),1),removeAllReferences(e),removeImmediateMasterProperty(e)}function removeAllReferences(e){var t=$KG.allforms[e.pf];if(t)if(e instanceof _konyConstNS.ContainerWidget)for(var i=e.widgets(),r=0;r<i.length;r++)delete t[i[r].id],i[r]instanceof _konyConstNS.ContainerWidget&&removeAllReferences(i[r]);else delete t[e.id]}function containerWidgetExtendRemoveAll(){containerWidgetExtendRemoveAllReferences.call(this),this.ownchildrenref=[],this.children=[]}function containerWidgetExtendRemoveAllReferences(){for(var e=this.widgets(),t=0;t<e.length;t++){var i=e[t];delete this[i.id];var r=window[this.pf];r&&delete r[i.id],removeImmediateMasterProperty(i)}}function boxWidgetExtendAdd(e){if(_konyConstNS.ContainerWidget.prototype.add.call(this,e),$KG.allforms[this.pf])$KG.allforms[this.pf].createFormLevelHierarchy(e);else if(window[this.pf]){var t=window[this.pf];_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(t,t.ownchildrenref)}"ScrollBox"==this.wType&&_konyConstNS.Box.prototype.updateBoxWeight.call(this,e),$KW.HBox.addChild(this,e)}function boxWidgetExtendAddAt(e,t){if(_konyConstNS.ContainerWidget.prototype.addAt.call(this,e,t),$KG.allforms[this.pf])$KG.allforms[this.pf].createFormLevelHierarchy([e]);else if(window[this.pf]){var i=window[this.pf];_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(i,i.ownchildrenref)}"ScrollBox"==this.wType&&_konyConstNS.Box.prototype.updateBoxWeight.call(this,e),$KW.HBox.addChildat(this,[e],t)}function boxWidgetExtendRemove(e){if(e){$KW.HBox.DOMremove(this,e);var t=this.ownchildrenref.indexOf(e);_konyConstNS.ContainerWidget.prototype.remove.call(this,e),-1!=t&&$KW.FlexUtils.onWidgetRemove(this,t)}}function boxWidgetExtendRemoveAt(e){$KW.HBox.DOMremove(this,this.ownchildrenref[e-IndexJL]);var t=_konyConstNS.ContainerWidget.prototype.removeAt.call(this,e);return $KW.FlexUtils.onWidgetRemove(this,e),t}function boxWidgetExtendRemoveAll(){this.widgets().length>0&&($KW.HBox.DOMremoveAll(this),_konyConstNS.ContainerWidget.prototype.removeAll.call(this))}function boxWidgetExtendUpdateBoxWeight(e){if(e.length)for(var t=0;t<e.length;++t)this.totalWt+=e[t].containerweight;else e.containerweight&&(this.totalWt+=e.containerweight);$KW[this.wType].updateView(this,"totalWt",this.totalWt)}function boxWidgetExtendRemoveUpdate(e,t){if("ScrollBox"==this.wType){this.totalWt=0;for(var i=0;i<this.children.length;++i)this.totalWt+=this[this.children[i]].containerweight;$KW[this.wType].updateView(this,"totalWt",this.totalWt)}}function formWidgetExtendAdd(e){_konyConstNS.ContainerWidget.prototype.add.call(this,e),this.createFormLevelHierarchy(e);try{$KW.Form.addChild(this,e)}catch(e){}}function formWidgetExtendAddAt(e,t){_konyConstNS.ContainerWidget.prototype.addAt.call(this,e,t),this.createFormLevelHierarchy([e]),t=t<IndexJL?0:t>this.children.length?this.children.length:t-IndexJL,$KW.Form.addChildAt(this,e,t)}function formWidgetExtendRemove(e){if(e){$KW.Form.DOMremove(this,e);var t=this.ownchildrenref.indexOf(e);_konyConstNS.ContainerWidget.prototype.remove.call(this,e),updateFormAfterRemove(this,e),-1!=t&&$KW.FlexUtils.onWidgetRemove(this,t)}}function formWidgetExtendRemoveAt(e){$KW.Form.DOMremoveAt(this,e-IndexJL);var t=_konyConstNS.ContainerWidget.prototype.removeAt.call(this,e);return updateFormAfterRemove(this,t),$KW.FlexUtils.onWidgetRemove(this,e),t}function updateFormAfterRemove(e,t){t&&t.screenLevelWidget&&$KW.Form.addChild(e,e.ownchildrenref)}function formWidgetExtendRemoveAll(e){this.widgets().length>0&&($KW.Form.DOMremoveAll(this),_konyConstNS.ContainerWidget.prototype.removeAll.call(this))}function formWidgetExtendCreateFormLevelHierarchy(e){for(var t=0;t<e.length;t++){__createHierarchy(this,e[t],"form")}_konyConstNS.Form2.getallboxes.call(this,e);for(t=0;t<this.allboxes.length;t++){var i=this.allboxes[t],r=i.ownchildrenref;this.createhierarchy.call(this,r),i instanceof kony.ui.FlexContainer&&(!this.initdone&&this._registerForAddWidgetsEvent?(i.addWidgets&&this._registerForAddWidgetsEvent(i),i.init&&this._registerForInitEvent(i)):($KU.invokeAddWidgets(i),$KU.invokeWidgetInit(i)),i.defineContainerGetter&&(i.defineContainerGetter(this),i.defineContainerSetter(this)))}generateKMasterID(this),this.allboxes=[]}function formWidgetExtendCommonHeaderFooterSetup(e){for(var t={children:[]},i=0;i<this[e].length;i++)"string"==typeof this[e][i]&&(this[e][i]=_kony.mvc.initializeSubViewController(this[e][i]));for(var r=IndexJL;r<this[e].length;r++){app&&(app[e][this[e][r].id]&&app[e][this[e][r].id]!=this[e][r]||!app[e][this[e][r].id])&&(app[e][this[e][r].id]=this[e][r]);var o=this[e][r];if("VBox"==o.wType&&"Form"==this.wType)throw new KonyError(1102,"WidgetError","Widget cannot be created due to invalid input data");_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(this,[o]),_konyConstNS.ContainerWidget.prototype.createhierarchy.call(o,[o]),app[e][this[e][r].id].isheader=!0,_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(this[e][r],[].slice.call([this[e][r]])),t.children[r]=this[e][r].id,t[this[e][r].id]=this[e][r],window[this[e][r].id]||(window[this[e][r].id]=this[e][r])}t.pf=this.id,t.id=this[e.substr(0,6)]=[this.id,e.substr(0,6)].join("_"),$KG[t.id]=t}function formWidgetExtendGetAllBoxes(e){for(var t=0;t<e.length;t++){var i=e[t];i.ownchildrenref&&(this.allboxes.push(i),_konyConstNS.Form2.getallboxes.call(this,i.ownchildrenref))}}function formWidgetExtendaddHeaderorFooter(){for(var e=[].slice.call(arguments[0]),t=0;t<e.length;t++)if("VBox"==e[t].wType&&"Form"==this.wType)throw new KonyError(1102,"WidgetError","Widget cannot be created due to invalid input data");_konyConstNS.ContainerWidget.prototype.createhierarchy.call(this,e),_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(this,e)}function removeImmediateMasterProperty(e){var t,i,r=0;if(delete e.immediateMaster,(t=$KW.Utils.getActualWidgetModel(e)).isContainerWidget&&!t.isMaster)for(i=t.children.length,r=0;r<i;r++)removeImmediateMasterProperty(t[t.children[r]])}
kony.model=function(){var e={update:function(e,t,i){if(void 0!=e&&null!=e)if(void 0==e.wType||e[t]&&e[t].wType)e[t]=i;else{var a=e;if("TPW"==a.wType){for(var o=a.widgetName.split("."),r=window,l=0;l<o.length;l++)r=r[o[l]];r.modelChange&&r.modelChange(e,t,i)}else{var s=a[t];$KI.i18n&&$KI.i18n.checkI18nStatus(a,t),a[t]=i,this.updateView(a,t,i,s)}}else kony.print("kony.model.update:Error in Model,value is undefined or null")},updateView:function(e,t,i,a){switch(r="Form"==e.wType?document.getElementById(e.id):"ScrollBox"==e.wType?document.getElementById(e.pf+"_"+e.id+"_parent"):$KU.getNodeByModel(e),"TabPane"==e.wType&&e.viewtype==constants.TABPANE_VIEW_TYPE_TABVIEW&&(r=document.getElementById(e.pf+"_"+e.id+"_Body")),r=$KW.Utils.getClonedTemplateNode(r,e,t),t){case"onhover":new $KI.HoverInit(e);break;case"skin":this.updateWidgetSkin(e,r,i,a);break;case"focusskin":case"rowfocusskin":case"activefocusskin":$KW.skins.updateFocusSkin(e,e.rowfocusskin?"rowfocusskin":"focusskin");break;case"isvisible":$KW.APIUtils.setvisibility(e,i);break;case"margin":if(r&&!$KW.FlexUtils.isFlexWidget(e)&&($KW.skins.setMarginPadding(r,t,e,i),"ScrollBox"==e.wType)){var o=$KG[e.pf+"_"+e.id+"_scroller"];o&&o.refresh()}break;case"padding":this.updateWidgetPadding(e,r,i,a);break;case"containerweight":this.updateWidgetContainerWeight(e,r,i,a);break;case"containerheightreference":case"containerheight":this.updateContainerHeight(e,r,i,a);break;case"backgroundimage":$KW.Utils.updateNormalImage(e);break;case"contentalignment":this.updateWidgetContentAlignment(e,r,i,a);break;case"accessibilityConfig":if(!r||"Link"!=e.wType&&"Label"!=e.wType||(r=r.firstChild),!r||"RadioButtonGroup"==e.wType||"CheckBoxGroup"==e.wType)return;$KU.addAriatoElement(r,i,e,a);break;case"zindex":case"opacity":case"transform":case"anchorpoint":case"backgroundcolor":case"bordercolor":this.updateLayoutProps(e,t,i);break;case"touchstart":case"touchmove":case"touchend":if(e.touches&&e.touches[t]&&e.touches[t].callback===i)break;$KW.Utils.removetouch(e,t,!1),$KW.Utils.updateModelWithTouches(e,t,i),(r=$KW.Utils.getWidgetNode(e))&&e.touches[t]&&(r.id&&r.id.indexOf("_scroller")>0&&(r=r.childNodes[0]),e.touches[t].instance=new $KW.touch.TouchEvents(e,r,t,i));break;case"borderwidth":case"cornerradius":var r=$KW.Utils.getWidgetNode(e);r=$KW.Utils.getClonedTemplateNode(r,e,t),"borderwidth"==t&&r&&(r.style.borderWidth=i+"px"),"cornerradius"==t&&r&&(r.style.borderRadius=i+"px");break;case"shadowcolor":case"shadowoffset":case"shadowradius":this.updateShadowProps(e,t);break;case"cursortype":r&&this.updateWidgetCursor(e,r);break;case"flexblur":if($KW.FlexUtils.isFlexWidget(e)){"FlexContainer"==e.wType&&(r=r.parentNode);var l=$KW.skins.getBlurStyle(e);l?(l=l.replace("filter:","").replace(";",""),r.style.filter=l):r.style.removeProperty("filter")}break;case"widgetSwipeMove":r&&$KW.Utils.applyGesturestoDOM(e,r);break;default:var s="Tab"==e.wType?"TabPane":e.wType,n=$KW[s];n.updateView&&n.updateView(e,t,i,a)}},updateWidgetCursor:function(e,t){var i=$KW.Utils.getCursorStyle(e);i&&(t.style.cursor=i)},updateShadowProps:function(e,t){var i=$KW.Utils.getWidgetNode(e);if(i){i=$KW.Utils.getClonedTemplateNode(i,e,t);var a=$KW.Utils.getBoxShadowStyle(e);$KW.FlexUtils.isFlexWidget(e)?i.parentNode.style["box-shadow"]=a:i.style["box-shadow"]=a}},updateLayoutProps:function(e,t,i,a,o){var r=a||$KW.Utils.getWidgetNode(e);switch(r=$KW.Utils.getClonedTemplateNode(r,e,t),t){case"zindex":r&&($KW.FlexUtils.isFlexWidget(e)?r.parentNode.style.zIndex=i:r.style.zIndex=i);break;case"opacity":r&&($KW.FlexUtils.isFlexWidget(e)?r.parentNode.style.opacity=i:r.style.opacity=i);break;case"transform":if(r){var l=$KW.animUtils.applyTransform(e,i);(s="segmentRow"==o?r:$KW.FlexUtils.isFlexWidget(e)?r.parentNode:r).style[vendor+"Transform"]=l,s.style.transform=l}break;case"anchorpoint":var s;if(r)if(s="segmentRow"==o?r:$KW.FlexUtils.isFlexWidget(e)?r.parentNode:r,i){if(i.x<0||i.x>1||i.y<0||i.y>1)return;s.style[vendor+"TransformOrigin"]=100*i.x+"% "+100*i.y+"% "}else s.style[vendor+"TransformOrigin"]="50% 50%";break;case"backgroundcolor":case"bordercolor":if($KW.skins.validateHexValue(i))var n=$KW.skins.convertHexValuetoRGBA(i);r=$KW.Utils.getWidgetNode(e);r=$KW.Utils.getClonedTemplateNode(r,e,t),"backgroundcolor"==t?r&&(r.style.background=n):"bordercolor"==t&&r&&(r.style.borderColor=n)}},updateWidgetSkin:function(e,t,i,a){var o;"Form"==e.wType?($KG.needScroller||$KU.isBlackBerryNTH?o=$KU.isBlackBerryNTH?document.getElementById(e.id+"_container"):document.getElementById(e.id+"_scroller"):document.body.className=i||"",o&&($KU.removeClassName(o,a),$KU.addClassName(o,i))):"Tab"==e.wType?t=$KU.getElementById(e.pf+"_"+e.id+"_Body"):t&&"Image"==e.wType&&(t=t.parentNode);if(t){var r=e.wType;if(-1==["Phone","Switch","ScrollBox"].indexOf(r)){var l=$KW.skins.getDefaultSkin(e);if($KU.removeClassName(t,a||l),$KU.addClassName(t,i||l),"Line"==e.wType&&$KW.Line.applySkin(t,i),"Calendar"==e.wType&&(t.children[0].style.color="inherit"),$KW.FlexUtils.isFlexWidget(e)&&("FlexContainer"!=e.wType||e.clipbounds)){if(!(t=$KW.Utils.getWidgetNodeFromNodeByModel(e,t).parentNode))return;$KU.removeClassName(t,a||l),$KU.addClassName(t,i||l)}}else $KW.skins.updateDOMSkin(e,i,a,t)}"Label"==e.wType&&$KW.Label.updateView(e,"linespacing",e.linespacing)},updateWidgetPadding:function(e,t,i,a){if(!$KW.FlexUtils.isFlexContainer(e)&&"Slider"!=e.wType&&"Switch"!=e.wType){if("Segment"==e.wType&&e.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&t)for(var o=t.childNodes[0].childNodes,r=IndexJL;r<o.length;r++)(t=o[r].childNodes[0]).style.padding=$KU.joinArray(i,"% ")+"%";else if("DataGrid"==e.wType&&t){var l=$KW.FlexUtils.isFlexWidget(e),s=t.rows;for(r=0;r<s.length;r++)for(var n=0;n<s[r].cells.length;n++)l?$KW.FlexUtils.setPaddingByParent(e,s[r].cells[n]):s[r].cells[n].style.padding=$KU.joinArray(i,"% ")+"%"}else if("Image"==e.wType&&t&&(t=t.parentNode),t&&($KW.FlexUtils.isFlexWidget(e)?$KW.FlexUtils.setPaddingByParent(e,t):t.style.padding=$KU.joinArray(i,"% ")+"%","ScrollBox"==e.wType&&(e.scrollDirection!=constants.SCROLLBOX_SCROLL_VERTICAL&&e.scrollDirection!=constants.SCROLLBOX_SCROLL_BOTH||$KU.setScrollHeight(e)),"VBox"==e.wType||"HBox"==e.wType)){var d=t.style.margin;t.style.margin="1px",setTimeout(function(){t.style.margin=d},10)}}},updateWidgetContainerWeight:function(t,i,a,o){if(i){if(i=i.parentNode,"Image"==t.wType&&(i=i.parentNode),"Slider"==t.wType&&(i=i.parentNode.parentNode),"HStrip"==t.wType&&i.parentNode.parentNode.parentNode&&-1!=i.parentNode.parentNode.parentNode.className.indexOf("kcell")&&(i=i.parentNode.parentNode.parentNode),$KU.removeClassName(i,"kwt"+o),$KU.addClassName(i,"kwt"+a),1==$KG.appbehaviors.adherePercentageStrictly){var r=e.getWidgetModel(t.pf,t.parent&&t.parent.id);r&&"HBox"==r.wType&&($KU.removeClassName(i.parentNode.lastChild,"kwt"+r.dummyNodeWidth),r.dummyNodeWidth=$KW.HBox.getExtraNodeWidth(r),$KU.addClassName(i.parentNode.lastChild,"kwt"+r.dummyNodeWidth))}if("HStrip"==t.wType)1==i.parentNode.childNodes.length&&(cell.style.display="inline-block");else if("Switch"==t.wType)n=t.pf,d=window.setTimeout(function(){$KW.Switch.adjustSwitchWidth(n),$KW.Switch.adjustSwitchHeight(n),window.clearTimeout(d),delete d},0);else if("ScrollBox"==t.wType){var l=i.childNodes[0].id,s=l.substring(0,l.lastIndexOf("_"));$KW.ScrollBox.adjustArrowPosition(s)}else"Slider"==t.wType&&$KW[t.wType].updateView(t,"containerweight")}var n,d;if($KG.allforms[t.pf]){var c=t.parent;c&&"ScrollBox"==c.wType&&$KW.ScrollBox.recalculateScrollBoxWidth(c)}},updateContainerHeight:function(e,t,i,a){var o=e.needScroller;if($KU.updateScrollFlag(e),(!o||!e.needScroller)&&e.screenLevelWidget){var r=$KG.allforms[e.pf];$KW.Form.addChild(r,r.ownchildrenref,!0)}if(d=$KU.getNodeByModel(e)){if("Popup"==e.wType){var l=document.getElementById(e.id+"_container"),s=$KU.getElementById(e.id+"_group"),n=$KU.getElementById(e.id+"_scroller");e.ismodal||(e.containerheight||0==e.containerheight?(s.style.height="100%",n.style.overflow="hidden"):(s.style.height="auto",n.style.overflow="visible")),d=e.ismodal?s:l}if($KU.setScrollHeight(e,d),e.needScroller&&!$KG[d.id+"_scroller"]&&"Map"!=e.wType){var d="Popup"==e.wType?$KU.getElementById(e.id+"_scroller"):d.parentNode.parentNode;$KW.Scroller.initialize([d],"ScrollBox")}"Popup"==e.wType&&$KW.Popup.adjustPopupDimensions(e,l.childNodes[1]||l.childNodes[0])}},updateWidgetContentAlignment:function(e,t,i,a){var o=$KW.skins.getContentAlignment(e);if(t)if(-1!=["Calendar","Label"].indexOf(e.wType)&&$KW.FlexUtils.isFlexWidget(e)){var r=$KW.skins.getFlexContentAlignmentSkin(a),l=$KW.skins.getFlexContentAlignmentSkin(i);$KU.hasClassName(t,r)&&$KU.removeClassName(t,r),$KU.addClassName(t,l)}else t.style.textAlign=o},getWidgetModel:function(t,i,a){if(!t)return null;var o=e.getWidgetRef(t);if(a&&o&&i)return o[a][i];return i&&t!=i?o[i]:o},getWidgetRef:function(e){var t=$KG.allforms[e];return t&&["Form","Form2"].contains(t.wType)?t:$KG[e]||window[e]||$KG.allTemplates[e]}};return e}();
kony.events={widgetEventMap:{},hiddenIFrame:null,isFrameworkEventsRegistered:!1,addEvent:function(e,t,n){kony.events.widgetEventMap[t]=kony.events.widgetEventMap[t]||{},kony.events.widgetEventMap[t][e]=n},getEventHandler:function(e){var t,n,o,i=(e=e||window.event).target||e.srcElement,r=!0;if($KG.__idletimeout&&$KG.__idletimeout.enabled&&!1===$KI.appevents.resettimer())return;if($KW.Appmenu&&$KW.Appmenu.hidemoreappmenuitems(),null!=(o=$KU.getParentByAttribute(i,"kcelltemplate"))&&(i=o.parentElement),"Calendar"!=i.getAttribute("w-type")&&"Calendar"!=i.getAttribute("kwidgettype")&&$KW.Calendar&&$KW.Calendar.destroyCalendar(null,null,i),!i.getAttribute("w-type-inactive"))if((t=$KU.getParentByAttribute(i,kony.constants.KONY_WIDGET_TYPE))&&t.hasAttribute("overlay"))$KW.Image.onClickHandler(t);else{if("click"==e.type&&"undefined"==typeof cvox&&($KU.isTouchSupported||$KU.isPointerSupported)&&$KG.targetWidget&&($KG.moved||$KG.targetWidget&&i!=$KG.targetWidget&&"Calendar"!=i.getAttribute("w-type"))){"A"==i.tagName&&i.getAttribute("href")&&(kony.events.stopPropagation(e),kony.events.preventDefault(e)),$KG.targetWidget="",$KG.moved=!1;var a=e.srcElement;if(!(a.getAttribute&&"Calendar"==a.getAttribute("kwidgettype")||a.parentNode&&a.parentNode.getAttribute&&"Calendar"==a.parentNode.getAttribute("kwidgettype")))return}if(i){var s=i.getAttribute(kony.constants.KONY_WIDGET_TYPE);if("A"==i.tagName&&(n=[i.innerText,i.getAttribute("href")]),i.getAttribute("tpwidgettype"))return void($KW.Popup&&$KW.Popup.dismissPopup());if(!s){var d=i.childNodes[0];if(i.getAttribute("index")&&d&&"Segment"==d.getAttribute("kwidgettype"))i=d,s="Segment";else{var c=$KU.getParentByAttribute(i,kony.constants.KONY_WIDGET_TYPE);if(i&&"CANVAS"==i.tagName&&$KU.isIE11&&c&&"googlemap"==c.getAttribute("kwidgettype"))return;var u=$KU.getParentByAttribute(i,"tpwidgettype");if(!(i=c)||u)return void($KW.Popup&&$KW.Popup.dismissPopup());s=i.getAttribute(kony.constants.KONY_WIDGET_TYPE)}}if(("RadioButtonGroup"==s||"CheckBoxGroup"==s||"ComboBox"==s||"ListBox"==s)&&$KU.preventClickEvent(e,i))return;var v=$KU.getContainerForm(i);if($KW.Popup&&$KW.Popup.dismissPopup(v))return;var l=$KU.getModelByNode(i);if(l&&l.disabled)return;var p=kony.events.widgetEventMap[s];if(p&&p[e.type]){if(!$KW.Utils.isWidgetInteractable(i,!0))return;var g=p[e.type];"RichText"==s&&(l.onclick||(r=!1));var h=e.target||e.srcElement;"TextField"==s||"CheckBoxGroup"==s||"TextArea"==s||"RadioButtonGroup"==s||"ListBox"==s||"DataGrid"==s&&"checkbox"==h.type||r&&(kony.events.stopPropagation(e),kony.events.preventDefault(e));var y=document.querySelectorAll("div[name='SelectOptions']");if(y)for(var K=0;K<y.length;K++)"block"==y[K].style.display&&i.id!=y[K].parentNode.id&&(y[K].style.display="none");g(e,i,"RichText"==s&&n?n:h),kony.system.activity.hasActivity()||($KW.skins.removeBlockUISkin(),$KW.unLoadWidget())}}}},addEventListener:function(e,t,n,o){e&&(n||(n=kony.events.getEventHandler),o||(o=!1),e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n))},removeEventListener:function(e,t,n,o){e&&(n||(n=kony.events.getEventHandler),o||(o=!1),e.removeEventListener?e.removeEventListener(t,n,o):e.attachEvent&&e.detachEvent("on"+t,n))},preventDefault:function(e){e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(e){if(e){var t=arguments[1];kony.touchClickNotifier&&!t&&kony.touchClickNotifier.handleEvent(e),e.stopPropagation?(e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation()):e.cancelBubble=!0}},ontouchstartHandler:function(e){if($KU.isIE||$KU.isPointerSupported?e:e.changedTouches){var t,n=e.changedTouches?e.changedTouches[0].target||e.changedTouches[0].srcElement:e.target||e.srcElement;if(3==n.nodeType&&(n=n.parentNode),$KG.targetWidget=n,$KG.moved=!1,$KU.isIE||$KU.isPointerSupported){var o=e.touches&&e.touches[0]||e;$KG.pointX=o.pageX,$KG.pointY=o.pageY}$KU.isiPhone&&(this.allowUp=this.scrollTop>0,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,"number"==typeof e.pageY&&(this.slideBeginY=e.pageY)),t=$KU.getParentByAttribute(e.target,kony.constants.KONY_WIDGET_TYPE),$KW.Utils.belongsToSegment(t)&&$KW.Segment.resetSwipeMoveConfigOnTouchStart(t)}},ontouchmoveHandler:function(e){var t=!1,n=!1;if($KU.isIE||$KU.isPointerSupported||$KU.isAndroid){var o=e.touches&&e.touches[0]||e,i=o.pageX-$KG.pointX,r=o.pageY-$KG.pointY;(Math.abs(i)>0||Math.abs(r)>0)&&($KG.moved=!0)}else $KG.moved=!0;$KU.isiPhone&&("number"==typeof e.pageY&&(t=e.pageY>this.slideBeginY,n=e.pageY<this.slideBeginY,this.slideBeginY=e.pageY),t&&this.allowUp||n&&this.allowDown||e.preventDefault())},registerDocumentEvents:function(){var e=$KU.isWindowsPhone&&$KU.isIE9?document:document.getElementById("__MainContainer");if(kony.touchClickNotifier)for(var t=["touchstart","touchmove","touchend","touchcancel","click"],n=0;n<t.length;n++)kony.events.addEventListener(e,t[n],kony.touchClickNotifier,!1);kony.events.addEventListener(e,"click"),kony.events.addEventListener(e,"input"),kony.events.addEventListener(e,"change"),kony.events.addEventListener(e,"keydown"),kony.events.addEventListener(e,"keyup"),$KG.useNativeScroll?(kony.events.addEventListener(e,"touchstart",function(){}),kony.events.addEventListener(e,"touchmove",function(){})):$KU.isTouchSupported?(kony.events.addEventListener(e,"touchstart",kony.events.ontouchstartHandler),kony.events.addEventListener(e,"touchmove",kony.events.ontouchmoveHandler)):$KU.isPointerSupported&&(kony.events.addEventListener(e,"MSPointerDown",kony.events.ontouchstartHandler),kony.events.addEventListener(e,"MSPointerMove",kony.events.ontouchmoveHandler)),kony.appinit.initializeWidgets(),kony.events.orientationregistration(),kony.events.addEventListener(window,"unload",kony.events.unregisterListeners),kony.events.isFrameworkEventsRegistered=!0},unregisterListeners:function(e){var t=$KU.isWindowsPhone?document:document.getElementById("__MainContainer");if(kony.events.removeEventListener(t,"click"),kony.events.removeEventListener(t,"touchstart"),kony.events.removeEventListener(t,"touchmove"),kony.events.removeEventListener(t,"change"),kony.events.removeEventListener(t,"keydown"),kony.events.removeEventListener(t,"keyup"),kony.events.removeEventListener(t,"touchstart"),kony.touchClickNotifier)for(var n=["touchstart","touchmove","touchend","touchcancel","click"],o=0;o<n.length;o++)kony.events.removeEventListener(t,n[o],kony.touchClickNotifier,!1);$KU.hashChange&&kony.events.removeEventListener(window,"hashchange"),$KW.Form.delistSystemTimerActions()},windowOrientationChange:function(){var e=window.event,t=$KU.detectOrientation(),n=($KU.getWindowWidth(),$KU.getWindowHeight());if(void 0!=t&&t==$KG.__orientation&&e&&"resize"==e.type)return window.clearTimeout(kony.events.resizeTimeoutId),void(kony.events.resizeTimeoutId=setTimeout(function(){$KG.activeInput&&!$KG.nativeScroll&&n>$KG.__viewportHeight?(kony.appinit.isChrome&&$KU.isAndroid&&"portrait"==$KG.__orientation&&n-$KG.__viewportHeight>50?1==$KG.appbehaviors.disableScrollOnInputFocus&&$KG.activeInput.blur():kony.appinit.isChrome||1==$KG.appbehaviors.disableScrollOnInputFocus&&$KG.activeInput.blur(),$KU.onHideKeypad()):$KU.adjustScrollBoxesOnResize(!0),$KG.__viewportHeight=n},$KU.orientationDelay));if($KG.__orientation=t,$KG.__currentForm){if($KU.isOrientationSupported&&$KU.isAndroid&&e&&"resize"==e.type)return;$KU.getInnerHeight($KU.orientationDelay),$KU.setActiveInput(),$KG.__viewportHeight=n,window.clearTimeout(kony.events.orientationTimeoutId),kony.events.orientationTimeoutId=setTimeout(function(){var e=kony.events.widgetEventMap||{};for(var t in e){var n=e[t],o=n.onorientationchange||n.onresize;o&&o($KG.__currentForm.id,$KG.__orientation)}$KW.Form.resizeForm($KG.__currentForm.id,!0)},$KU.orientationDelay)}},orientationregistration:function(){$KG.__orientation=$KU.detectOrientation();var e=$KU.isOrientationSupported&&!$KU.isAndroid?"orientationchange":"resize";kony.events.addEventListener(window,e,kony.events.windowOrientationChange),$KU.isOrientationSupported&&$KU.isAndroid&&kony.events.addEventListener(window,"orientationchange",kony.events.windowOrientationChange)},canExecuteEventHandler:function(e,t){return!!e[t]},executeBoxEvent:function(e,t,n){if(!t||!n){for(var o=e.pf,i=e,r=$KG.allforms[o]||$KG.allTemplates[o]||$KG.__currentForm;i;){if(this.canExecuteEventHandler(i,"onclick")||i.parent&&o==i.parent.id&&"HBox"!=i.parent.wType||i.id==r.id)return!!this.canExecuteEventHandler(i,"onclick")&&(this.fireBoxEvent(i),!0);if(r.topLayerFCModal&&i===r.topLayerFCModal)return!0;i=i.parent}return!1}var a,s=null,d=null;if("Segment"==n.wType||"CollectionView"==n.wType){var c=n.currentIndex[0],u=n.currentIndex[1],v=$KW.Utils.getClonedModelByContainerUsingIndex(n,u,c);if(!v)return!1;e=$KU.getValueFromObjectByPath($KW.Utils.getWidgetPathByModel(e),v),a="Segment"==n.wType?{sectionIndex:c,rowIndex:u,widgetInfo:n}:{sectionIndex:c,itemIndex:u,widgetInfo:n}}for(parentModel=e;parentModel;){var l=n.widgetdatamap?t[n.widgetdatamap[parentModel.id]]:t[parentModel.id];if(l&&"Segment"!=n.wType&&"CollectionView"!=n.wType){if("string"==typeof(s=$KU.cloneObj(l))&&(s="Image"===parentModel.wType?{src:s}:{text:s}),!IndexJL)for(var p in s)s.hasOwnProperty(p)&&p!==p.toLowerCase()&&(s[p.toLowerCase()]=s[p]);if((s.onclick||parentModel.onclick)&&!1!==s.enable)return d=$KU.extend(s,parentModel),this.fireBoxEvent(d,a),!0}else if(this.canExecuteEventHandler(parentModel,"onclick")&&!1!==parentModel.enable)return this.fireBoxEvent(parentModel,a),!0;if(parentModel=parentModel.parent,!parentModel)return!1}},fireBoxEvent:function(e,t){var n=$KU.returnEventReference(e.onclick);if(n&&e.blockeduiskin&&$KW.skins.applyBlockUISkin(e),!e.containerID&&"Segment"!=e.wType&&e.parent&&"TabPane"!=e.parent.wType){var o=$KU.getNodeByModel(e);$KW.HBox.setProgressIndicator(o)}n&&(t?$KU.executeWidgetEventHandler(e,n,t):$KU.executeWidgetEventHandler(e,n)),$KU.onEventHandler(e)},executeActionOnContainer:function(e,t,n){for(var o=0;o<e.children.length;o++){var i=e[e.children[o]];(i=$KW.Utils.getActualWidgetModel(i)).isContainerWidget&&(n&&this.executeActionEvt(i,i[t]),this.executeActionOnContainer(i,t,n),n||this.executeActionEvt(i,i[t]))}},executeActionEvt:function(e,t){if(t&&e.isMaster){var n=$KU.returnEventReference(t);n&&$KU.executeWidgetEventHandler(e,n)}},browserback:{currentHash:window.location.hash,HASH_PREFIX:"#_",handleBrowserBackEvent:function(){if($KG.__idletimeout&&$KG.__idletimeout.enabled&&$KI.appevents.resettimer(),(window.location.hash||""===window.location.hash)&&kony.events.browserback.currentHash&&window.location.hash!==kony.events.browserback.currentHash){var e=$KG.__currentForm,t=$KU.returnEventReference(e.ondeviceback);if(t)return kony.events.browserback.updateURLWithLocation(e.id),void $KU.executeWidgetEventHandler(e,t);$KI.window.dismissLoadingScreen(),$KW.Calendar&&$KW.Calendar.destroyCalendar();var n=window.location.hash.substr(kony.events.browserback.HASH_PREFIX.length),o=document.querySelector("form[kwidgettype='Popup']");if(o&&$KW.Popup.dismiss(),o&&(n=e.id),""===n)return void window.history.go(-1);kony.events.browserback.updateURLWithLocation(n);var i=$KG.allforms[n];i&&"Form"==i.wType&&n!==e.id&&(i.isfromBrowserBack=!0,$KW.Form.show(i))}},updateURLWithLocation:function(e){e&&(window.location.hash=kony.events.browserback.currentHash=this.HASH_PREFIX+e)}}},window.onload=function(){setTimeout(function(){window.scrollTo(0,1)},100)},window.onbeforeprint=function(e){var t=kony.application.getCurrentForm(),n=$KU.getNodeByModel(t);t.media={type:"print",height:n.style.height,width:document.body.style.width},n.style.height=n.scrollHeight+"px",document.body.style.width=t.media.width},window.onafterprint=function(e){var t=kony.application.getCurrentForm(),n=$KU.getNodeByModel(t);document.body.style.width=t.media.width,n.style.height=t.media.height,delete t.media};
kony.system={activity:{activityCounter:0,increment:function(){this.activityCounter++},decrement:function(){0!=this.activityCounter&&this.activityCounter--},hasActivity:function(){return this.activityCounter>0}},timers:{timerActions:new Array,TimerAction:function(t,i){this.actionName=t,this.frequency=i,this.timer=null,this.elapsedTimeSinceLastCall=0},registerTimerAction:function(t){!1===this.timerActions.containsTimerAction(t)&&this.timerActions.push(t)},executeTimerActions:function(){if(this.timerActions.length>0)for(var t=0;t<this.timerActions.length;t++){var i=this.timerActions[t];i.timer=setInterval(i.actionName,i.frequency)}},removeTimerAction:function(t){var i=new Array;if(this.timerActions.length>0){for(var e=0;e<this.timerActions.length;e++)this.timerActions[e].actionName!==t.actionName&&i.push(this.timerActions[e]);this.timerActions=i}},clearTimerAction:function(t){if(this.timerActions.length>0)for(var i=0;i<this.timerActions.length;i++)t=this.timerActions[i],clearTimeout(t.timer)}}};
function tobeimplemented(e){e="string"==typeof e?e:"",kony.web.logger("warn",e+"  API is either not implemented or unsupported")}$KI.setappevents=function(e){var n;if($KU.logExecuting("kony.application.setApplicationInitializationEvents"),$KU.logExecutingWithParams("kony.application.setApplicationInitializationEvents",e),$KG.appmode==constants.APPLICATION_MODE_HYBRID)return(n=IndexJL?window.appinit:window.appInit)&&n(),$KU.detectDevice(),void $KU.logExecutingFinished('kony.application.setApplicationInitializationEvents VIA $KG["appmode"] == constants.APPLICATION_MODE_HYBRID ');$KG.__konyappevents=e;var t,i,o,a=e.preappinit||null,r=e.init||null,s=e.postappinit||null,l=e.appservice||null,c=e.showstartupform||null,p=e.deeplink||null,g={},d=null,u={};if(u.launchparams={},window.location.hash){var _=kony.bm.getFormId(window.location.hash);if(_){g.formID=_;var y=kony.bm.getBMState(_);if(y)for(var m in y)g[m]=y[m]}}for(var h in u.launchmode=$KG.__launchmode,$KG.kdeepobj&&(u.launchparams=$KG.kdeepobj),g)u.launchparams[h]=g[h];if($KU.getInnerHeight($KU.isIDevice?0:200),$KU.isAndroid&&setTimeout(function(){$KG.__viewportHeight=window.innerHeight},200),a&&a(u),$KU.detectDevice(),(r=$KU.returnEventReference(r))&&r(g),appConfig.testAutomation&&((i=appConfig.testAutomation.scriptsURL)&&0!==i.length&&i.startsWith("http")?(o=appConfig.testAutomation.scriptsURL,$KU.isMob?o=appConfig.testAutomation.scriptsURL+"Mobile":$KU.isTablet&&(o=appConfig.testAutomation.scriptsURL+"Tablet"),setTimeout(function(){$KAR&&$KAR.invokeJasmineAutomation(o)},1e3)):kony.web.logger("log","Invalid test automation configuration.")),kony.appinit.migrateLocalStorage(),$KG.isMVC=$KG.appbehaviors.isMVC||!1,g.isRefresh=!1,g.isNewSPASession="true"==kony.appinit.isNewSession,window.location.hash){var k=window[window.location.hash.substring(2)];k&&!g.isNewSPASession&&(g.isRefresh=!0,g.refreshForm=k)}for(var h in g)u.launchparams[h]=g[h];if(s&&(d=s(u)),(p||l)&&(l?d=l(u):p&&(d=p($KG.kdeepobj))),null==d||0==d.length)c&&c(u);else if("string"==typeof d){var K=$KG.allforms[d];K?K.show():(K=new kony.mvc.Navigation(d)).navigate()}else(t=d)&&t.show();document.body.setAttribute("aria-busy","false"),!0===$KG.appbehaviors.responsive&&$KU.addClassName(document.documentElement,"responsive"),$KU.logExecutingFinished("kony.application.setApplicationInitializationEvents VIA end of the function ")},$KI.window={openURL:function(e,n,t){$KU.logExecuting("kony.application.openURL"),$KU.logExecutingWithParams("kony.application.openURL",e,n,t),$KW.unLoadWidget(),t||(t="_blank"),$KU.logExecutingFinished("kony.application.openURL"),window.open(e,t)},openURLAsync:function(e){var n,t;$KU.logExecuting("kony.application.openURLAsync"),e?($KU.logExecutingWithParams("kony.application.openURLAsync",e),n=e.url,t=e.callback,window.open(n,"_blank"),$KU.logExecutingFinished("kony.application.openURLAsync"),t&&t(constants.OPEN_URL_UNKNOWN)):$KU.logErrorMessage("Invalid parameter")},alert:function(e,n,t){if(null!==e){var i=e,o=n||null,a=t||null;if((e.message||e.alerttype||e.alertType)&&(a=e.alerttype||e.alertType,i=e.message,o=e.alerthandler||e.alertHandler||null),a!==constants.ALERT_TYPE_INFO&&a!==constants.ALERT_TYPE_ERROR&&a){if(a===constants.ALERT_TYPE_CONFIRMATION){var r=confirm(i);o&&o(r)}}else alert(i),o&&o()}},openMediaURL:function(){$KU.logWarnMessage("openMediaURL not supported in SPA")},showLoadingScreen:function(){$KU.logExecuting("kony.application.showLoadingScreen"),$KU.logExecutingWithParams("kony.application.showLoadingScreen"),$KG.__dismissed=!1;var e=arguments[0],n=arguments[1]||"",t=arguments[2]||constants.LOADING_SCREEN_POSITION_FULL_SCREEN,i=!1!==arguments[3],o=!1!==arguments[4],a=o?"<img src='"+$KU.getImageURL("loading.gif")+"' style='vertical-align:middle'/>":"";n=n?"<label style='padding:10px; xfont-size: 16px;color:"+(e?" inherit;":"white;")+(o?"":"display: block;")+"'>"+n+"</label>":"",$KU.createa11yDynamicElement();var r=document.getElementById("__loadingScreenDiv"),s=r||document.createElement("div");$KU.isWindowsPhone&&(s.onclick=function(){var e=window.event;e&&(kony.events.preventDefault(e),kony.events.stopPropagation(e))}),s.id="__loadingScreenDiv",s.style.zIndex="100",s.style.visibility="hidden",s.style.backgroundColor="";$KG.bgImgHeight=0,s.className="";var l=function(e){if(!$KG.__dismissed)if(e||(e=window.event),e&&"error"==e.type)document.body.appendChild(s);else{var n,t,i,o,a="";e&&"load"==e.type?(n=e.srcElement.tagName,$KG.bgImgHeight=e.srcElement.naturalHeight):a=document.querySelector("div[id='__wrapperDiv']");var r,l=0;if($KG.nativeScroll){var c=document.getElementById("__MainContainer").clientHeight;c<(window.innerHeight||document.body.clientHeight)?s.style.height=(window.innerHeight||document.body.clientHeight)+"px":s.style.height=c+"px",$KU.isIDevice&&(l=document.body.scrollTop||window.pageYOffset)}document.body.appendChild(s),o=$KG.__innerHeight||window.innerHeight||document.body.clientHeight,s.style.display="",s.style.visibility="visible";var p=s.firstChild;r=n&&"img"==n.toLowerCase()?e.srcElement.naturalHeight:a?a.firstChild&&"img"==a.firstChild.tagName.toLowerCase()?a.firstChild.naturalHeight:$KG.bgImgHeight||p.clientHeight||0:p.clientHeight,i=Math.round(l+(o-r)/2)+"px",t="50% "+parseInt(i,10)+"px",s.style.backgroundPosition=t,i,p.style.top=i;var g=document.querySelector("#__loadingScreenDiv label");(g=g&&g.textContent)&&$KU.changea11yDynamicElement(g)}},c=$KU.isOrientationSupported&&!$KU.isAndroid?"onorientationchange":"onresize";if(kony.events.addEvent(c,"loadingScreen",function(){setTimeout(l,$KU.orientationDelay)}),(t==constants.LOADING_SCREEN_POSITION_FULL_SCREEN||i)&&(s.className="popuplayer absoluteContainer ",$KG.nativeScroll&&!$KU.isIDevice&&(s.style.position="fixed"),s.style.top=0,t==constants.LOADING_SCREEN_POSITION_FULL_SCREEN)){s.style.backgroundPosition="center",s.className+=e;var p=$KU.getCSSPropertyFromRule(e,"background-color");p&&"initial"!=p&&"inherit"!=p&&($KU.isWindowsPhone&&"transparent"==p?s.style.background="url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)":s.style.backgroundColor=p)}var g="xcolor:white;position:absolute;width:100%;z-index:100;text-align:center;";$KG.nativeScroll&&$KU.isBlackBerryNTH&&(g="xcolor:white;position:fixed;width:100%;z-index:100;text-align:center;");var d="";if(t==constants.LOADING_SCREEN_POSITION_ONLY_CENTER){var u=$KU.getCSSPropertyFromRule(e,"height");u&&(u=u.replace("%",""),g+="height:"+(u=parseInt(u*window.innerHeight/100,10))+"px !important"),d=e,g+="background-position: center;"}s.innerHTML="<div id='__innerDiv' class='"+d+"' style='"+g+"'><div id ='__wrapperDiv'>"+a+n+"</div></div>";var _="";if(o?(_=$KU.getImageURL("loading.gif"),$KU.imagePreloader(_,l)):(_=$KU.getCSSPropertyFromRule(e,"background-image"))&&"none"!=_&&"initial"!=_&&"inherit"!=_?(_=_.split("/").pop().split(")")[0].split('"')[0],_=$KU.getImageURL(_),$KU.imagePreloader(_,l)):l(),!r&&$KG.nativeScroll){function y(e){var n=e||window.event;return kony.events.preventDefault(n),kony.events.stopPropagation(n),!1}kony.events.addEventListener(s,$KU.isTouchSupported?"touchstart":"mousedown",y),kony.events.addEventListener(s,$KU.isTouchSupported?"touchmove":"mousemove",y)}$KU.logExecutingFinished("kony.application.showLoadingScreen")},dismissLoadingScreen:function(){$KU.logExecuting("kony.application.dismissLoadingScreen"),$KU.logExecutingWithParams("kony.application.dismissLoadingScreen");var e=document.getElementById("__loadingScreenDiv");e&&(e.style.display="none"),$KG.__dismissed=!0,$KU.logExecutingFinished("kony.application.dismissLoadingScreen")}},$KI.exit=function(){$KU.logExecuting("kony.application.exit"),$KU.logExecutingWithParams("kony.application.exit"),!$KU.isIDevice&&$KU.isMob||(window.open("","_self",""),$KU.logExecutingFinished("kony.application.exit"),window.close())},$KI.appreset=function(){kony.web.logger("warn","appreset not supported in SPA")},$KI.assert=function(e,n){if(null===args1||!1===args2)throw arguments.length>1?"string"==typeof args2?new Error(args2):new Error("Invalid argument to assert"):new Error("Assertion failed");return e},$KI.type=function(e){return void 0===e||e+""=="null"?IndexJL?"nil":"null":"boolean"==typeof e?"boolean":"number"==typeof e?"number":"string"==typeof e?"string":"function"==typeof e?"function":IndexJL?"table":"object"},$KI.converttobase64=function(e){return $KU.logExecuting("kony.convertToBase64"),$KU.logExecutingWithParams("kony.convertToBase64",e),$KU.logExecutingFinished("kony.convertToBase64"),$KU.getBase64(e)},$KI.converttorawbytes=function(){$KU.logWarnMessage("converttorawbytes api not supported in SPA")},$KI.setappheaders=function(e){for(kony.app.headers={},IndexJL&&e.splice(0,1),i=0;i<e.length;i++)kony.app.headers[e[i].id]=e[i],_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(e[i],e[i].ownchildrenref)},$KI.setappfooters=function(e){for(kony.app.footers={},IndexJL&&e.splice(0,1),i=0;i<e.length;i++)kony.app.footers[e[i].id]=e[i],_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(e[i],e[i].ownchildrenref)},$KI.setapplicationcallbacks=function(){kony.web.logger("warn","setApplicationCallbacks API is not supported on SPA, DesktopWeb and Responsive Web")},$KI.addapplicationcallbacks=function(){kony.web.logger("warn","addApplicationCallbacks API is not supported on SPA, DesktopWeb and Responsive Web")},$KI.removeapplicationcallbacks=function(){kony.web.logger("warn","removeApplicationCallbacks API is not supported on SPA, DesktopWeb and Responsive Web")},$KI.setapplicationbehaviors=function(e){var n;if($KU.logExecuting("kony.application.setApplicationBehaviors"),$KU.logExecutingWithParams("kony.application.setApplicationBehaviors",e),$KG.appbehaviors)for(n in e)"FormControllerSyncLoad"===n&&void 0===$KG.appbehaviors[n]?Object.defineProperty($KG.appbehaviors,"FormControllerSyncLoad",{value:e[n],writable:!1}):$KG.appbehaviors[n]=e[n];else $KG.appbehaviors=e;$KU.logExecutingFinished("kony.application.setApplicationBehaviors")},$KI.getapplicationbehavior=function(e){return $KG.appbehaviors&&$KG.appbehaviors[e]},$KI.setupWidgetDataRecording=function(){$KG.appbehaviors.recording=!0},$KI.setSeoDataReadyFlag=function(){$KU.logExecuting("kony.application.setSeoDataReadyFlag"),$KU.logExecutingWithParams("kony.application.setSeoDataReadyFlag"),document.body.setAttribute("data-ready",1),$KU.logExecutingFinished("kony.application.setSeoDataReadyFlag")},$KI.removeSeoDataReadyFlag=function(){$KU.logExecuting("kony.application.removeSeoDataReadyFlag"),$KU.logExecutingWithParams("kony.application.removeSeoDataReadyFlag"),document.body.removeAttribute("data-ready"),$KU.logExecutingFinished("kony.application.removeSeoDataReadyFlag")},KonyError=function(e,n,t){this.errorCode=this.errorcode=e,this.name=n,this.message=t},KonyError.prototype=new Error,KonyError.prototype.constructor=KonyError,kony.getError=function(e){return $KU.logExecuting("kony.getError"),$KU.logExecutingWithParams("kony.getError",e),$KU.logExecutingFinished("kony.getError"),e},kony.bm={FORM_PREFIX:"#_",GSTATE_PREFIX:"/",__global_state__:{},__check_args__:function(e,n){if(e.length!=n)throw $KU.logErrorMessage("Invalid number of arguments. Expected: "+n+", Given: "+e.length),new Error("Invalid number of arguments. Expected: "+n+", Given: "+e.length);for(var t in e)if(void 0===e[t])throw new Error("Invalid arg["+t+"] in "+e)},__initialized__:!1,__init__:function(){var e=window.location.href;0==e.indexOf("http")&&(e=kony.bm.__get_hash__(e));var n=kony.bm.__get_raw_state__(e);n&&(kony.bm.__global_state__=JSON.parse(decodeURI(n))),kony.bm.__initialized__=!0},__update_hash__:function(){var e=JSON.stringify(kony.bm.__global_state__),n=kony.bm.getFormId(window.location.hash);window.location.hash=kony.bm.FORM_PREFIX+n+kony.bm.GSTATE_PREFIX+encodeURI(e)},__get_hash__:function(e){return e.substr(e.indexOf(kony.bm.FORM_PREFIX))},__get_raw_state__:function(e){var n=e,t="";return n.indexOf(kony.bm.GSTATE_PREFIX)>0&&(t=n.substr(n.indexOf(kony.bm.GSTATE_PREFIX)+kony.bm.GSTATE_PREFIX.length)),t},getFormId:function(e){var n=e;n||(n=location.hash);var t=n.substr(n.indexOf(kony.bm.FORM_PREFIX)+kony.bm.FORM_PREFIX.length),i=t.indexOf(kony.bm.GSTATE_PREFIX);return i<0?t:t.substr(0,i)},setBMState:function(e,n){$KU.logExecuting("kony.application.setBMState"),$KU.logExecutingWithParams("kony.application.setBMState",e,n),kony.bm.__check_args__(arguments,2),kony.bm.__initialized__||kony.bm.__init__(),kony.bm.__global_state__[e]=n,kony.bm.__update_hash__(),$KU.logExecutingFinished("kony.application.setBMState")},resetBMState:function(e){$KU.logExecuting("kony.application.resetBMState"),$KU.logExecutingWithParams("kony.application.resetBMState",e),kony.bm.__check_args__(arguments,1),kony.bm.__initialized__||kony.bm.__init__(),delete kony.bm.__global_state__[e],kony.bm.__update_hash__(),$KU.logExecutingFinished("kony.application.resetBMState")},addBMState:function(e,n,t){$KU.logExecuting("kony.application.addBMState"),kony.bm.__check_args__(arguments,3),kony.bm.__initialized__||kony.bm.__init__(),$KU.logExecutingWithParams("kony.application.addBMState",e,n,t);var i=kony.bm.getBMState(e);i||(i={},kony.bm.setBMState(e,i)),i[n]=t,kony.bm.__update_hash__(),$KU.logExecutingFinished("kony.application.addBMState")},removeBMState:function(e,n){$KU.logExecuting("kony.application.removeBMState"),$KU.logExecutingWithParams("kony.application.removeBMState",e,n),kony.bm.__check_args__(arguments,2),kony.bm.__initialized__||kony.bm.__init__();var t=kony.bm.getBMState(e);t&&(delete t[n],kony.bm.__update_hash__()),$KU.logExecutingFinished("kony.application.removeBMState")},getBMState:function(e){return $KU.logExecuting("kony.application.getBMState"),$KU.logExecutingWithParams("kony.application.getBMState",e),kony.bm.__check_args__(arguments,1),kony.bm.__initialized||kony.bm.__init__(),$KU.logExecutingFinished("kony.application.getBMState"),kony.bm.__global_state__[e]}},$KI.setUncaughtExceptionHandler=function(e){null===e?$KI.uncaughtExceptionHandler=null:"function"==typeof e&&($KI.uncaughtExceptionHandler=e)},$KI.getUncaughtExceptionHandler=function(){return $KI.uncaughtExceptionHandler},window.onerror=function(e,n,t,i,o){var a,r;$KI.uncaughtExceptionHandler?(a={message:e,sourceURL:n,line:t,column:i,error:o},$KI.uncaughtExceptionHandler(a)):spaAPM&&spaAPM.apmErrorHandler(e,n,t,i,o),appConfig.isDebug&&appConfig.testAutomation&&window.jasmineOnError&&(arguments instanceof KonyError?window.jasmineOnError(arguments):(r=o?o.stack:null,window.jasmineOnError({name:"jasmineException",errorCode:"200",message:e,sourceURL:n,line:t,stack:r})))};
$KI.phone={dial:function(e){var r;$KW.unLoadWidget();var n=$KU.getPlatform();r="iphone"==n.name&&n.version>="5"&&n.version<"8"?"tel://"+e:"tel:"+e,window.location.href=r},myLocation:function(){kony.web.logger("warn","DEPRECATED API. Instead use geolocation.")},openmediagallery:function(e,r,n){if(window.File&&window.FileReader&&window.FileList){var o=document.createElement("input");o.type="file",o.setAttribute("style","display:none;"),o.setAttribute("id","openmediagallery"),r&&r.mimetype&&o.setAttribute("accept",r.mimetype);var t=document.getElementsByTagName("form")[0];t.appendChild(o),kony.events.addEventListener(o,"change",function r(){if(kony.events.removeEventListener(o,"change",r),t.removeChild(o),e&&e instanceof Function){var n,a=new FileReader,i=this.files[0].type;a.onload=function(r){for(var o,t=new Uint8Array(r.target.result),a=0,l="";a<t.length;)o=t.subarray(a,Math.min(a+32768,t.length)),l+=String.fromCharCode.apply(null,o),a+=32768;n=new kony.utils.konyRawBytes(l,"utf8"),e(n,kony.application.PERMISSION_GRANTED,i)},a.onerror=function(e){if(e.target.error instanceof FileError)switch(e.target.error.code){case FileError.NOT_FOUND_ERR:kony.print("openMediaGallery error:: The file resource couldn't be found at the time the read was processed.");break;case FileError.NOT_READABLE_ERR:kony.print("openMediaGallery error:: 2101, The resource couldn't be read. Insufficient Permissions.");break;case FileError.ENCODING_ERR:kony.print("openMediaGallery error:: The resource couldn't be encoded.");break;case FileError.SECURITY_ERR:default:kony.print("openMediaGallery error:: The file resource is unsafe/changed/other unspecified security error.")}else kony.print("openMediaGallery error:: "+e.target.error.name+", "+e.target.error.message)},a.readAsArrayBuffer(this.files[0])}else kony.print("openMediaGallery error:: callback function not provided.")}),o.click()}else kony.print("openMediaGallery error:: 2103, Cannot open media gallery. Not supported.")},addCalendarEvent:function(){kony.web.logger("warn","The addCalendarEvent API is not supported.")},findCalendarEvents:function(){kony.web.logger("warn","The findCalendarEvents API is not supported.")},openEmail:function(){kony.web.logger("warn","The openEmail API is not supported.")},removeCalendarEvent:function(){kony.web.logger("warn","The removeCalendarEvent API is not supported.")},sendSMS:function(){kony.web.logger("warn","The sendSMS API is not supported.")}};
$KI.timer=function(){var e={timerinfo:{},callbackclosure:function(i){var t=i;return function(){var i,n=e.timerinfo[t].cb;"function"==typeof n&&n(),(i=e.timerinfo[t])&&!i.repeat&&e.cancel(t)}},schedule:function(i,t,n,r){$KU.logExecuting("kony.timer.schedule"),$KU.logExecutingWithParams("kony.timer.schedule",i,t,n,r);var o=e.timerinfo;if(i&&!o[i]){o[i]={},o[i].cb=t,o[i].repeat=r;var l=e.callbackclosure(i),a=1e3*n;timerid=window[!0===r?"setInterval":"setTimeout"](l,a),o[i].timerid=timerid,$KU.logExecutingFinished("kony.timer.schedule")}else $KU.logErrorMessage("timerId is mandatory or duplicate timer id")},cancel:function(i){$KU.logExecuting("kony.timer.cancel"),$KU.logExecutingWithParams("kony.timer.cancel",i);var t=e.timerinfo;if(!t[i])return $KU.logErrorMessage("timerId is mandatory"),null;var n=t[i].timerid,r=!0===t[i].repeat?"clearInterval":"clearTimeout";$KU.logExecutingFinished("kony.timer.cancel"),window[r](n),t[i]=null},setcallback:function(i,t){$KU.logExecuting("kony.timer.setCallBack"),$KU.logExecutingWithParams("kony.timer.setCallBack",i,t);var n=e.timerinfo;n[i]&&(n[i].cb=t),$KU.logExecutingFinished("kony.timer.setCallBack")}};return e}(),$KI.appevents=function(){var e={id:null,value:0,cb:null,enabled:!1,expired:!1,lastInteraction:0};return{timercb:function(){var i=$KW.Form.getCurrentForm(),t=null;$KU.BB7||$KU.BB6?(e.count++,e.count===e.value&&(clearInterval(e.id),e.expired=!0,e.enabled=!1,i.enabledforidletimeout&&(e.cb&&(t=e.cb,e.cb=null,t(i)),e.count=0))):(e.expired=!0,e.enabled=!1,i.enabledforidletimeout&&e.cb&&(t=e.cb,e.cb=null,t(i)))},registerforidletimeout:function(i,t){$KU.logExecuting("kony.application.registerForIdleTimeout"),$KU.logExecutingWithParams("kony.application.registerForIdleTimeout",i,t),e.enabled||($KU.BB7||$KU.BB6?(e.count=0,e.value=60*i,e.id=setInterval($KI.appevents.timercb,1e3)):(e.value=60*i*1e3,e.id=setTimeout($KI.appevents.timercb,e.value),e.lastInteraction=(new Date).getTime()),e.enabled=!0,e.expired=!1,e.cb=t,$KG.__idletimeout=e,$KU.logExecutingFinished("kony.application.registerForIdleTimeout"))},unregisterforidletimeout:function(){$KU.logExecuting("kony.application.unregisterForIdleTimeout"),$KU.logExecutingWithParams("kony.application.unregisterForIdleTimeout"),$KU.BB7||$KU.BB6?clearInterval(e.id):clearTimeout(e.id),e.enabled=!1,$KG.__idletimeout="",$KU.logExecutingFinished("kony.application.unregisterForIdleTimeout")},resettimer:function(){if($KU.BB7||$KU.BB6)e.count=0;else{var i=(new Date).getTime();if(i-e.lastInteraction>=e.value)return void $KI.appevents.timercb();clearTimeout(e.id),e.id=setTimeout($KI.appevents.timercb,e.value),e.lastInteraction=i}}}}();
$KI.geolocation={getcurrentposition:function(o,t,n){$KU.logExecuting("kony.location.getCurrentPosition"),$KU.logExecutingWithParams("kony.location.getCurrentPosition",o,t,n),navigator.geolocation&&navigator.geolocation.getCurrentPosition(o,t,n),$KU.logExecutingFinished("kony.location.getCurrentPosition")},watchposition:function(o,t,n){if($KU.logExecuting("kony.location.watchPosition"),$KU.logExecutingWithParams("kony.location.watchPosition",o,t,n),navigator.geolocation)return $KU.logExecutingFinished("kony.location.watchPosition"),navigator.geolocation.watchPosition(o,t,n)},clearwatch:function(o){$KU.logExecuting("kony.location.clearWatch"),$KU.logExecutingWithParams("kony.location.clearWatch",o),navigator.geolocation&&navigator.geolocation.clearWatch(o),$KU.logExecutingFinished("kony.location.clearWatch")}};

$KI.os.time=function(){var e=(new Date).toTimeString();return e.slice(0,e.indexOf(" "))},$KI.os.diffdatetime=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new Error("Invalid argument(s) to os.diffdatetime");var n=e.split(":");n[2]=n[2]-0;var r=t.split(":");r[2]=r[2]-0;var o=3600*n[0]+60*n[1]+n[2],i=3600*r[0]+60*r[1]+r[2];return o>86400||i>86400?null:o-i},$KI.os.date=function(){var e,t=new Date;if(0===arguments.length){var n=t.toTimeString();return e=$KI.os.padZero(t.getMonth()+1)+"/"+$KI.os.padZero(t.getDate())+"/"+$KI.os.padZero(t.getFullYear()%100)+" "+n.slice(0,n.indexOf(" "))}if("string"==typeof arguments[0]){if(-1!=arguments[0].toLowerCase().indexOf("dd"))return $KI.os.formatDate(arguments[0],t);var r="!"===arguments[0].charAt(0),o=r?1:0;if("*"===arguments[0].charAt(o)&&"t"===arguments[0].charAt(o+1)){var i=r?t.getUTCDate():t.getDate(),a=(r?t.getUTCMonth():t.getMonth())+1,s=r?t.getUTCFullYear():t.getFullYear();return(e=new Object).year=s,e.month=a,e.day=i,e.hour=r?t.getUTCHours():t.getHours(),e.min=r?t.getUTCMinutes():t.getMinutes(),e.sec=r?t.getUTCSeconds():t.getSeconds(),e.wday=r?t.getUTCDay():t.getDay()+1,e.yday=$KU.getDayOfYear(i,a,s),e.isdst=!r&&$KI.os.checkForDst(),e}return null}return null},$KI.os.tocurrency=function(e){if($KU.logExecuting("kony.os.toCurrency"),e-=0,isNaN(e))throw $KU.logErrorMessage("Invalid argument to os.tocurrency"),new Error("Invalid argument to os.tocurrency");$KU.logExecutingWithParams("kony.os.toCurrency",e),e<0&&(e*=-1);var t=e.toFixed(3);t=t.substr(0,t.length-1);for(var n="",r=0;r<t.length-4;r++)n+=t.charAt(r),(t.length-r-1)%3==0&&(n+=",");for(;r<t.length;r++)n+=t.charAt(r);return $KU.logExecutingFinished("kony.os.toCurrency"),"$"+n},$KI.os.tonumber=function(e){if($KU.logExecuting("kony.os.toNumber"),1!=arguments.length)throw $KU.logErrorMessage("Invalid argument to os.number"),new Error("Invalid argument to os.tonumber");if($KU.logExecutingWithParams("kony.os.toNumber",e),$KU.logExecutingFinished("kony.os.toNumber"),"number"==typeof e)return e;if("string"==typeof e){var t=e.replace(/^\s*/,"").replace(/\s*$/,"");if(""===t)return null;var n=t-0;return isNaN(n)?null:n}return $KU.logWarnMessage("Request aborted on user request"),null},$KI.os.freememory=function(){return $KU.logExecuting("kony.os.freeMemory"),$KU.logExecutingWithParams("kony.os.freeMemory"),$KU.logExecutingFinished("kony.os.freeMemory"),104857600},$KI.os.comparedates=function(e,t,n){if(null==e||null==t||null==n||!$KU.isValidDate(e,n)||!$KU.isValidDate(t,n))return null;var r=$KU.getDate(e,n),o=$KU.getDate(t,n);return parseInt((r.getTime()-o.getTime())/864e5)},$KI.os.addtodate=function(e,t,n,r){if(null==e||null==t||null==n||null==r)return null;var o=e,i=t.split(" ")[0],a=n,s=r,u=o.split(" "),l=(u[0].split("/"),u[1]);if(!$KU.isValidDate(u[0],i))return null;if(l){var g=l.split(":");if(3600*g[0]+60*g[1]+(g[2]-0)>86400)return null}var c=$KU.getDate(o,i);if(c){switch(a){case"years":c.setFullYear(c.getFullYear()+s);break;case"months":c.setMonth(c.getMonth()+s);break;case"days":c.setDate(c.getDate()+s);break;case"hours":c.setHours(c.getHours()+s);break;case"minutes":c.setMinutes(c.getMinutes()+s)}return $KI.os.isleapyear([e,i])&&c.getMonth()>=1&&("years"==a||"months"==a&&(-12==s||12==s))&&c.setDate(c.getDate()-1),$KI.os.formatDate(i,c)+(l?" "+c.toTimeString().split(" ")[0]:"")}return null},$KI.os.isleapyear=function(e,t){var n,r=new Date;if(n=r.getFullYear(),"string"==typeof e&&"string"==typeof t){if(!$KU.isValidDate(e,t))return!1;var o=e.split("/")[2];n=2==o.length?parseInt(r.getFullYear().toString().substr(0,2)+o):parseInt(o)}return n%400==0||n%4==0&&n%100!=0},$KI.os.formatdate=function(e,t,n){if(null==e||null==t||null==n)return null;if("string"==typeof e&&"string"==typeof t&&"string"==typeof n){var r=e,o=t,i=n,a=o.indexOf("dd"),s=o.indexOf("mm"),u=-1!=o.indexOf("yyyy")?o.indexOf("yyyy"):o.indexOf("yy");if("dd/mm/yyyy"==o&&!$KU.isValidDate(r,o)||-1==a||-1==s||-1==u||-1!=o.indexOf("ddd")||-1!=o.indexOf("mmm"))return null;var l=o.charAt(a-1),g=o.charAt(a+2);g="("==g?"":g;var c=o.charAt(s-1),f=o.charAt(s+2),d=o.charAt(u-1),y=o.charAt(u+4),p=""==l?r.indexOf(l,a-1):r.indexOf(l,a-2)+1,$=""==c?r.indexOf(c,s-1):r.indexOf(c,s-2)+1,K=""==d?r.indexOf(d,u-1):-1!=r.indexOf(d,u-2)?r.indexOf(d,u-2)+1:r.indexOf(d,u-4)+1,h=""!=g?r.indexOf(g,a):r.indexOf(g,a+2),x=""!=f?r.indexOf(f,s):r.indexOf(f,s+2),m=""!=y?r.indexOf(y,u):r.indexOf(y,u+4),I=r.substring(p,h),v=r.substring($,x),U=r.substring(K,m);if(2==U.length&&-1!=i.indexOf("yyyy"))var O=(new Date).getFullYear().toString().substr(0,2)+U;return i=(i=(i=i.replace(/dd/,$KI.os.padZero(parseInt(I,10)))).replace(/mm/,$KI.os.padZero(parseInt(v,10)))).replace(/(yyyy|yy)/,O||(-1==i.indexOf("yyyy")&&4==U.length?U.substr(2,2):U))}return null},$KI.os.isvaliddate=function(e,t){return 2==arguments.length&&null!=e&&null!=t&&$KU.isValidDate(e,t)},$KI.os.checkForDst=function(){var e=new Date,t=new Date(e.getFullYear(),0,1,0,0,0,0),n=t.toGMTString(),r=(t-new Date(n.substring(0,n.lastIndexOf(" ")-1)))/36e5,o=new Date(e.getFullYear(),6,1,0,0,0,0);return n=o.toGMTString(),r!=(o-new Date(n.substring(0,n.lastIndexOf(" ")-1)))/36e5},$KI.os.datecomponents=function(e,t){var n,r;if(0==arguments.length)r=new Date;else if(null!=e&&null!=t){if(!$KU.isValidDate(e,t))return null;r=$KU.getDate(e,t);var o=t.split("/")[2]}if(r){var i=r.getDate(),a=r.getMonth()+1,s=o&&2==o.length?parseInt(r.getFullYear().toString().substr(2,2)):r.getFullYear();return(n=new Object).year=s,n.month=a,n.day=i,n.hour=r.getHours(),n.min=r.getMinutes(),n.sec=r.getSeconds(),n.wday=r.getDay()+1,n.yday=$KU.getDayOfYear(i,a,s),n.isdst=$KI.os.checkForDst(),n}return null},$KI.os.padZero=function(e){return e<10?"0"+e:e},$KI.os.formatDate=function(e,t){return(e=(e=(e=e.toLowerCase()).replace(/dd/,$KI.os.padZero(t.getDate()))).replace(/mm/,$KI.os.padZero(t.getMonth()+1))).replace(/(yyyy|yy)/,-1==e.indexOf("yyyy")?t.getFullYear().toString().substr(2,2):t.getFullYear())},$KI.os.getappcontext=function(){var e={},t="standalone"in window.navigator&&window.navigator.standalone?1:0;return $KU.logExecuting("kony.os.getAppContext"),$KU.logExecutingWithParams("kony.os.getAppContext"),$KU.logExecutingFinished("kony.os.getAppContext"),e.launchmode=t,e},$KI.os.hasgpssupport=function(){return $KU.logExecuting("kony.os.hasGPSSupport"),$KU.logExecutingWithParams("kony.os.hasGPSSupport"),$KU.logExecutingFinished("kony.os.hasGPSSupport"),"navigator"in window&&"geolocation"in navigator},$KI.os.hascamerasupport=function(){return $KU.logWarnMessage("hascamerasupport not supported in SPA"),!1},$KI.os.hastouchsupport=function(){return $KU.logExecuting("kony.os.hasTouchSupport"),$KU.logExecutingWithParams("kony.os.hasTouchSupport"),$KU.logExecutingFinished("kony.os.hasTouchSupport"),$KU.isTouchSupported||$KU.isPointerSupported},$KI.os.hasorientationsupport=function(){return $KU.logExecuting("kony.os.hasOrientationSupport"),$KU.logExecutingWithParams("kony.os.hasOrientationSupport"),$KU.logExecutingFinished("kony.os.hasOrientationSupport"),"onorientationchange"in window||$KU.isPointerSupported},$KI.os.hasaccelerometersupport=function(){return!1},$KI.os.httpheaders=function(){if($KG.httpheaders)return JSON.stringify($KG.httpheaders)},$KI.os.getdevicecurrentorientation=function(){$KU.logExecuting("kony.os.getDeviceCurrentOrientation"),$KU.logExecutingWithParams("kony.os.getDeviceCurrentOrientation");var e=$KU.detectOrientation();return $KU.logExecutingFinished("kony.os.getDeviceCurrentOrientation"),"portrait"==e?constants.DEVICE_ORIENTATION_PORTRAIT:constants.DEVICE_ORIENTATION_LANDSCAPE},$KI.os.setapplicationscrollmode=function(e){if(e){var t=(g=$KU.getPlatform()).name.toLowerCase(),n=g.version;if(!("blackberryNTH"==t||"windowsphone"==t&&$KU.isIE9)){e.customscroll;var r,o,i=e.mixedscroll,a=e.nativescroll;if(i)if(o=i.platforms)for(var s=IndexJL;s<o.length;s++){if(t==(g=o[s]).name.toLowerCase()){if(c=g.useragents){for(var u=IndexJL;u<c.length;u++)if(-1!=navigator.userAgent.toLowerCase().indexOf(c[u].toLowerCase())){$KG.useMixedScroll=!0,r=!0;break}if(r)break}var l=g.versions;if(!c&&!l||-1==l[IndexJL]){$KG.useMixedScroll=!0;break}for(u=IndexJL;u<l.length;u++)if(n==l[u]){$KG.useMixedScroll=!0;break}}}if(a&&!r)if(o=a.platforms)for(s=IndexJL;s<o.length;s++){var g;if(t==(g=o[s]).name.toLowerCase()){var c;if(c=g.useragents){for(u=IndexJL;u<c.length;u++)if(-1!=navigator.userAgent.toLowerCase().indexOf(c[u].toLowerCase())){$KG.useNativeScroll=!0,$KG.useMixedScroll=!1,r=!0;break}if(r)break}l=g.versions;if(!c&&!l||-1==l[IndexJL]){$KG.useMixedScroll||($KG.useNativeScroll=!0);break}for(u=IndexJL;u<l.length;u++)if(n==l[u]){$KG.useNativeScroll=!0,$KG.useMixedScroll=!1;break}}}$KG.useMixedScroll||$KG.useNativeScroll||($KG.useCustomScroll=!0)}}};

function accessorDescriptor(e,t){var n={enumerable:!0,configurable:!0};return n[e]=t,n}function defineGetter(e,t,n){if(Object.defineProperty)return Object.defineProperty(e,t,accessorDescriptor("get",n));if(Object.prototype.__defineGetter__)return e.__defineGetter__(t,n);throw new Error("browser does not support getters")}function defineSetter(e,t,n){if(Object.defineProperty)return Object.defineProperty(e,t,accessorDescriptor("set",n));if(Object.prototype.__defineSetter__)return e.__defineSetter__(t,n);throw new Error("browser does not support setters")}var vendor=/webkit/i.test(navigator.userAgent)&&!/edge/i.test(navigator.userAgent)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"o":/msie/i.test(navigator.userAgent)||/rv:([1][0-9])/i.test(navigator.userAgent)?"ms":"",nextFrame=window.requestAnimationFrame||window[vendor+"RequestAnimationFrame"]||function(e){return setTimeout(e,1)},cancelFrame=window.cancelAnimationFrame||window[vendor+"CancelRequestAnimationFrame"]||clearTimeout,Rectangle=function(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i};Rectangle.prototype.contains=function(e){return e.x>=this.x&&e.y>=this.y&&e.x+e.width<=this.x+this.width&&e.y+e.height<=this.y+this.height},Rectangle.prototype.intersects=function(e){return!(e.x+e.width<=this.x||e.y+e.height<=this.y||e.x>=this.x+this.width||e.y>=this.y+this.height)},$KU=kony.utils={Rectangle:Rectangle,getValueFromObjectByPath:function(e,t,n){var i=0,r=0,o=null;if("string"==typeof n&&n||(n="."),"string"==typeof e&&e&&(e=e.split(n)),e instanceof Array&&"object"==typeof t&&t)for(o=t,r=e.length,i=0;i<r&&("object"==typeof o&&o&&o[e[i]]);i++)o=o[e[i]];return o},deduceTopLevelFlexModal:function(e){var t,n,i,r=function(e){return e.shift()},o=function(e,t){return t instanceof Array?e=e.concat(t):e.push(t),e},a=function(e){var t,n=[],i=e[0].zIndex.length-1;if(e.length>1){for(e.sort(function(e,t){return(e=e.zIndex[i])>(t=t.zIndex[i])?-1:1}),t=0;t<e.length&&(n.push(e[t]),!e[t].model.isModalContainer);t++);n.sort(function(e,t){return(e=e.path[i])<=(t=t.path[i])?-1:1})}else n=e;return n};return e.topLayerFCModal||(i=$KU.getNonFlexModalNodes(e),$KU.setFlexModalAttribute(i,!1),(t=function(e){for(var t,n,i,l,s,d,c,u,p,g,f=[{model:e,path:[0],zIndex:[0]}],h=[];f.length>0;){for(l=r(f),d=$KW.Utils.getActualWidgetModel(l.model).widgets(),u=[],s=0;s<d.length;s++)c=d[s],p=c,g=void 0,g=!1,$KW.FlexUtils.canContainFlexModel(p)&&p.isVisible&&(g=!0),g&&((n=l.path.slice(0)).push(s),(i=l.zIndex.slice(0)).push(c.zIndex),t={model:c,path:n,zIndex:i},u.push(t),"FlexContainer"===c.wType&&c.isModalContainer&&h.push(t));u.length>0&&(u=a(u),f=o(f,u))}return h}(e)).length>0&&(n=function(e){var t,n=e[0];if(e.length>1)for(t=1;t<e.length;t++)n.zIndex[1]<=e[t].zIndex[1]&&(n=e[t]);return n}(t)),n&&(e.topLayerFCModal=n.model)),e.topLayerFCModal&&(i=$KU.getNonFlexModalNodes(e),$KU.setFlexModalAttribute(i,!0)),e.topLayerFCModal},nodeIterator:function(e,t,n){var i,r=e.children,o=0,a=r.length;for(o=0;o<a;o++)(i=r[o]).id!==n&&(i.getAttribute("kwidgettype")&&t.push(i),i.children&&i.children.length>0&&$KU.nodeIterator(i,t,n))},getNonFlexModalNodes:function(e){var t=e.id,n=[],i=document.getElementById(t),r=$KU.getPopupModalID(e);return i&&$KU.nodeIterator(i,n,r),n},getPopupModalID:function(e){return e.topLayerFCModal?$KW.Utils.getKMasterWidgetID(e.topLayerFCModal):null},setFlexModalAttribute:function(e,t){var n,i=e.length;for(n=0;n<i;n++)$KU.setDisabledProperty(e[n],"notinmodal","readonly",t)},shouldRemoveDisabled:function(e){var t=!0;return(e.getAttribute("kdisabled")||e.getAttribute("notinmodal"))&&(t=!1),t},setDisabledProperty:function(e,t,n,i,r){var o,a,l,s=e.getAttribute("kwidgettype"),d=i?"setAttribute":"removeAttribute";r=r||$KU.getModelByNode(e);if(e[d](t,i),l=$KU.shouldRemoveDisabled(e),"kdisabled"===t&&(r.disabled=i),$KU.isWindowsPhone&&$KU.isIE9&&"SELECT"===e.tagName&&(l||i))for(a=0;a<e.childNodes.length;a++)e.children[a].disabled=i;"Link"!==s&&"Label"!==s&&"HBox"!==s&&"VBox"!==s&&(i||l)&&(e.disabled=i),"Link"===s&&e.childNodes[0][d](t,i),r&&"Label"===r.wType&&"kdisabled"===t&&(!i&&r.textCopyable?($KU.addClassName(e,"enableSelection"),$KU.removeClassName(e,"disableSelection")):($KU.addClassName(e,"disableSelection"),$KU.removeClassName(e,"enableSelection"))),"RichText"===s&&(o=document.querySelectorAll("#"+e.id+" a")),"RichText"==s&&o&&i?(e.ishref=!0,e.innerHTML=e.innerHTML.replace(/href=["'].*?["']/g,"href='javascript:void(0)'")):e.ishref&&(e.innerHTML=r.text),"Video"==s&&(!i&&l?(e.oncontextmenu="",e.playing&&e.paused&&e.play(),r.controls&&e.setAttribute("controls","controls")):(e.playing&&e.pause(),e.removeAttribute("controls"),e.oncontextmenu=function(){return!1})),!r||"Map"!==r.wType||"Map"!==e.getAttribute("kwidgettype")&&"googlemap"!==e.getAttribute("kwidgettype")||(l||i)&&("kdisabled"===t&&(r.disabled=i),$KW.Map.setEnabledMap(r,e))},checkAndReCalculateTopFlexModal:function(e,t){var n=$KW.FlexUtils.canContainFlexModel(e);t=t||$KG.allforms[e.pf],n&&t&&document.getElementById(t.id)&&(t.topLayerFCModal=null,$KU.deduceTopLevelFlexModal(t))},getLocalStorage:function(){var e=null,t=localStorage.getItem($KG.appid);if("string"==typeof t&&t)try{e=JSON.parse(t)}catch(n){e=t}return e},createBlankLocalStorage:function(){return{migrated:!1,data:[]}},callTargetEventHandler:function(e,t,n){if(t.getAttribute("kcontainerID"))$KW.Utils.updateContainerData(e,t,!1,n);else{var i=$KU.returnEventReference(e[n]);i&&$KU.executeWidgetEventHandler(e,i)}},getAllDefaults:function(e){return kony.defaults.getAllDefaults(e)},mergeProperties:function(e,t,n){var i=e[n];if(i&&"object"==typeof i&&!i.wType)for(var r in t[n]=t[n]||{},i)$KU.mergeProperties(i,t[n],r);else t[n]=i},mergeDefaults:function(e,t){var n=owl.deepCopy(t);if(e instanceof Object)for(var i in e)e.hasOwnProperty(i)&&(void 0===n[i]||null==n[i]||$KU.isArray(n[i])?n[i]=e[i]:$KU.mergeProperties(e,n,i));return void 0!==n.id&&null!=n.id||(n.id="konyRandomId"+$KG.uniqueId++),n},equals:function(e,t){if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))return!1;if("[object Array]"===Object.prototype.toString.call(e)){if(e.length!==t.length)return!1;for(var n=0;n<t.length;n++)if(!$KU.equals(e[n],t[n]))return!1;return!0}if("[object Object]"===Object.prototype.toString.call(e)){for(var i in t)if("[object Function]"!==Object.prototype.toString.call(t[i])&&!$KU.equals(e[i],t[i]))return!1;return!0}return"[object Function]"!==Object.prototype.toString.call(t)?e===t:void 0},isMouseEventSupported:function(){var e=!1;try{document.createEvent("MouseEvent"),e=!0}catch(t){e=!1}return e},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},addArray:function(e,t){return e.push.apply(e,t),e},arrayIndex:function(e,t){for(var n=0;n<e.length;n++)if($KU.equals(e[n],t))return n;return-1},inArray:function(e,t,n){var i=-1;return e&&(i=$KU.arrayIndex(e,t)),n?-1!=i:-1==i?[!1,-1]:[!0,i]},removeArray:function(e){for(var t,n,i=arguments,r=i.length;r>1&&e&&e.length;)for(t=i[--r];-1!=(n=e.indexOf(t));)e.splice(n,1);return e},joinArray:function(e,t){return t=t||",",e[1+IndexJL]+t+e[2+IndexJL]+t+e[3+IndexJL]+t+e[0+IndexJL]},mergeObjects:function(e,t){e=e||{};var n,i,r={};if(t)for(n in t)i=t[n],r[n]!==i&&(e[n]=i);return e},convertObjectToArray:function(e){var t=[];for(var n in e)t[n]=e[n];return t},getkeys:function(e){return Object.keys&&Object.keys(e)||function(){var t=[];for(var n in e)t.push(n);return t}()},getKey:function(e,t){for(var n in e)if(e[n]===t)return n},adjustNodeIndex:function(e,t,n){var i=e.childNodes;if(t-=IndexJL,t=i.length>t?t:i.length-1,i&&i.length>0)for(var r=t;r<i.length;r++)i[r].setAttribute(n,r+IndexJL)},toggleVisibilty:function(e,t,n,i){var r=$KW.FlexUtils.isFlexWidget(n);0!=i&&(r||"Segment"==n.wType&&n.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW)&&(e=e.parentNode),t&&t.length>0&&n.isvisible?this.removeClassName(e,"hide"):this.addClassName(e,"hide")},removeClassNames:function(e,t){},addClassNames:function(e,t){},removeClassName:function(e,t){if(e.classList&&t)e.classList.remove(t);else if($KU.hasClassName(e,t)){var n=e.className;e.className=n.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")}},hasClassName:function(e,t){return e.classList&&t?e.classList.contains(t):e.className.length>0&&(e.className==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className))},addClassName:function(e,t){e.classList&&t?e.classList.add(t):$KU.hasClassName(e,t)||(e.className+=(e.className?" ":"")+t)},getElementById:function(e,t){return"string"==typeof e&&(t||document).getElementById(e)||null},getPosition:function(e){var t=0,n=0,i=e.getBoundingClientRect();return i&&(t=i.left,n=i.top),window.pageYOffset?(t+=window.pageXOffset,n+=window.pageYOffset):e.ownerDocument.documentElement.scrollTop?(t+=e.ownerDocument.documentElement.scrollLeft,n+=e.ownerDocument.documentElement.scrollTop):document.body.scrollTop&&(t+=document.body.scrollLeft,n+=document.body.scrollTop),e.ownerDocument.documentElement.clientTop?(t-=e.ownerDocument.documentElement.clientLeft,n-=e.ownerDocument.documentElement.clientTop):document.body.clientTop&&(t-=document.body.clientLeft,n-=document.body.clientTop),{top:n,left:t,bottom:n+e.offsetHeight,right:t+e.offsetWidth,width:e.offsetWidth,height:e.offsetHeight}},getAnchorPosition:function(e,t){var n,i=e.context,r=0,o=0,a=$KU.getPosition($KU.getNodeByModel(i.widget)),l=0,s=0,d=document.body;return n=void 0!=document.height?document.height:void 0!=d.scrollHeight&&void 0!=d.offsetHeight?Math.max(d.scrollHeight,d.offsetHeight):d.scrollHeight||d.offsetHeight,1==$KU.isMobile()&&void 0!=window.orientation?(90!==window.orientation&&-90!==window.orientation||(l=window.innerHeight,s=n),0!==window.orientation&&180!==window.orientation||(l=window.innerWidth,s=n)):(l=window.innerWidth,s=screen.height),"bottom"==i.anchor&&(o=a.bottom+t.offsetHeight>s?a.bottom-(a.bottom+t.offsetHeight-s):a.bottom,r=a.left+t.offsetWidth>l?0:a.left),"top"==i.anchor&&(o=a.top-t.offsetHeight<0?0:a.top-t.offsetHeight,r=a.left+t.offsetWidth>l?0:a.left),"right"==i.anchor&&(o=a.top+t.offsetHeight>s?a.top-(a.top+t.offsetHeight-s):a.top,r=a.left+a.width+t.offsetWidth>l?a.left+a.width-(a.left+a.width+t.offsetWidth-l):a.left+a.width),"left"==i.anchor&&(o=a.top+t.offsetHeight>s?a.top-(a.top+t.offsetHeight-s):a.top,r=a.left-t.offsetWidth<0?0:a.left-t.offsetWidth),{leftPos:r,topPos:o}},getNodeByModel:function(e){return e&&e.kmasterid?document.getElementById(e.pf+"_"+e.kmasterid+"_"+e.id):e?document.getElementById(e.pf+"_"+e.id)||document.getElementById(e.id):null},getElementID:function(e){return e&&"string"==typeof e?e.substring(e.indexOf("_")+1,e.length):null},getModelByNode:function(e){if(e.hasAttribute("overlay")){var t,n,i=$KU.getParentByAttribute(e.parentNode,"kwidgettype"),r=this.getModelByNode(i.childNodes[0].childNodes[0]),o=e.getAttribute("id"),a=r.overlayWidgets;for(t=0;t<a.length;t++)if(a[t].id===o){n=a[t];break}return n}if(null!=e){if(e.getAttribute("kmasterid"))return this.getWidgetModelByID(e.getAttribute("id"));var l=this.getElementID(e.getAttribute("id")),s=e.getAttribute("ktabpaneid"),d=e.getAttribute("kformname")||e.id;return kony.model.getWidgetModel(d,l,s)}},getScreenLevelWidgetModel:function(e){var t;if(e.screenLevelWidgets)for(var n in e.screenLevelWidgets)if(e.screenLevelWidgets[n].isvisible&&1!=e.screenLevelWidgets[n].needScroller){t=e.screenLevelWidgets[n];break}return t},getPullString:function(e){return"<div class='pullDown' id='"+(e.pf+"_"+e.id+"_pullDown")+"'>                    <span class='pullDownIcon'></span>                    <span class='pullDownLabel'>Pull down to refresh...</span>                </div>"},getPushString:function(e){return"<div class='pullUp' id='"+(e.pf+"_"+e.id+"_pullUp")+"'>                    <span class='pullUpIcon'></span>                    <span class='pullUpLabel'>Pull up to refresh...</span>                </div>"},getFSCPullString:function(e){var t,n=$KW.Utils.getKMasterWidgetID(e)+"_pullDown",i="",r="",o="",a=$KW.stringifyScrolldirection[e.scrolldirection];return e._pullPreference="text","horizontal"==a?e._pullPreference="icon":e.pullkey||e.releasepullkey?e._pullPreference="text":e.pullicon&&(e._pullPreference="icon"),"text"==e._pullPreference?i=e.pullkey||"Pull to refresh":(t=e.pullicon?e.pullicon:"fsc_left.png",r="background-image: url(./"+$KU.getImageURL(t)+")"),o+="<div name = '"+(e.animateicons?"pullDownAnimate":"pullDown")+"' class='pullDown' id='"+n+"'>","icon"==e._pullPreference?o+="<span class='pullDownIcon' style = '"+r+"'></span>":o+="<span class='pullDownLabel "+e.pullskin+"'>"+i+"</span>",o+="</div>"},getFSCPushString:function(e){var t,n=$KW.Utils.getKMasterWidgetID(e)+"_pullUp",i="",r="",o="",a=$KW.stringifyScrolldirection[e.scrolldirection];return e._pushPreference="text","horizontal"==a?e._pushPreference="icon":e.pushkey||e.releasepushkey?e._pushPreference="text":e.pushicon&&(e._pushPreference="icon"),"text"==e._pushPreference?i=e.pushkey||"Push to refresh":(t=e.pushicon?e.pushicon:"fsc_right.png",r="background-image: url(./"+$KU.getImageURL(t)+")"),o+="<div name = '"+(e.animateicons?"pullUpAnimate":"pullUp")+"' class='pullUp' id='"+n+"'>","icon"==e._pushPreference?o+="<span class='pullUpIcon' style = '"+r+"'></span>":o+="<span class='pullUpLabel "+e.pushskin+"'>"+i+"</span>",o+="</div>"},getModelByScroller:function(e){var t=e.substring(0,e.lastIndexOf("_")),n=$KU.getElementById(t);return $KU.getModelByNode(n)},getNextSibling:function(e){for(var t=e.nextSibling;1!=t.nodeType;)t=t.nextSibling;return t},getWidgetModelByID:function(e){if(e){for(var t=e.split("_"),n=kony.model.getWidgetRef(t.shift());t.length>0;)n=(n=$KW.Utils.getActualWidgetModel(n))[t.shift()];return n}},checkHeaderFooterTemplate:function(e,t){if(e.headers)for(var n=0;n<e.headers.length;n++)if(t.id==e.headers[n].id)return!0;if(e.footers)for(n=0;n<e.footers.length;n++)if(t.id==e.footers[n].id)return!0;return!1},updatei18nProperties:function(e){for(var t in e){var n=e[t];$KI.i18n&&$KI.i18n.translateFormModel(n)}},applyFade:function(e,t,n){e.style[$KU.animationDuration]=n+"ms",e.style[$KU.animationName]=t,"fadeIn"==t?e.style.display="":(e.style.display="none",e.style[$KU.animationName]="none")},getParentByAttribute:function(e,t){for(var n=e;n;){if(n.getAttribute&&n.getAttribute(t))return n;n=n.parentNode}},getParentByAttributeValue:function(e,t,n){for(var i=e;i;){if((i.getAttribute&&i.getAttribute(t))==n)return i;i=i.parentNode}},getParentByTagName:function(e,t){for(;e&&(1!=e.nodeType||e.nodeName.toLowerCase()!=t);)e=e.parentNode;return e},getParentModel:function(e){return e.parent},getContainerForm:function(e){var t=e.getAttribute("kcontainerid");if(t)for(var n=e;n;){if((n.id&&n.id.split("_")[1])==t&&n.getAttribute("kformname"))return n.getAttribute("kformname");n=n.parentNode}else{var i=e.getAttribute("kformname");if(i){var r=kony.model.getWidgetRef(i);return"Form"==r.wType||"Popup"==r.wType?i:$KU.getNodeByModel(r).parentNode.getAttribute("kformname")}}return""},cloneObj:function(e){if("object"!=typeof e||null==e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.cloneObj(e[n]));return t},invokeAddWidgets:function(e){e.addWidgetsdone||(e.addWidgetsdone=!0,e.ownchildrenref=[],e.children=[],e.addWidgets&&("string"==typeof e.addWidgets?window[e.addWidgets](e):"function"==typeof e.addWidgets&&e.addWidgets(e)))},invokeWidgetInit:function(e){!e.initdone&&e.init&&$KU.executeWidgetEventHandler(e,e.init),e.initdone=!0},returnEventReference:function(e){return"function"==typeof e?e:"string"==typeof e?window[e]:void 0},returnObjectReference:function(e){return"object"==typeof e?e:"string"==typeof e?window[e]:void 0},getStringFromBase64:function(e){var t,n,i,r={},o=0,a=0,l="",s=String.fromCharCode,d=e.length;for(t=0;t<64;t++)r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(n=0;n<d;n++)for(o=(o<<6)+r[e.charAt(n)],a+=6;a>=8;)((i=o>>>(a-=8)&255)||n<d-2)&&(l+=s(i));return l},getDecodedPropValue:function(e){return"{"!=e.substr(0,1)&&(e=$KU.getStringFromBase64(e)),e},konyRawBytes:function(e,t){this.rawBytes=e,this.type=t},getBase64:function(e){if(e instanceof kony.utils.konyRawBytes&&"utf8"==e.type)return btoa(e.rawBytes);if(!e)return e;if("string"!=typeof e)return e;if("btoa"in window)return window.btoa(unescape(encodeURIComponent(e)));var t,n,i,r,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,s=0,d="",c=[];do{t=(o=(255&e.charCodeAt(l++))<<16|(255&e.charCodeAt(l++))<<8|255&e.charCodeAt(l++))>>18&63,n=o>>12&63,i=o>>6&63,r=63&o,c[s++]=a.charAt(t)+a.charAt(n)+a.charAt(i)+a.charAt(r)}while(l<e.length);switch(d=c.join(""),e.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"="}return d},isValidDate:function(e,t){var n={};e=e.split("/");for(var i=0,r=(t=t.split("/")).length;i<r;i++)n[t[i]]=e[i];var o=new Date(n.yyyy||1*n.yy+2e3,n.mm-1,n.dd);return"[object Date]"===Object.prototype.toString.call(o)&&o.getFullYear()==(n.yyyy||1*n.yy+2e3)&&o.getFullYear()>=1900&&o.getFullYear()<=2100&&o.getMonth()+1==n.mm&&o.getDate()==n.dd},daysArray:function(e){for(var t=(new Date).getFullYear(),n=1;n<=e;n++)this[n]=new Date(t,e,0).getDate();return this},daysInFebruary:function(e){return new Date(e,2,0).getDate()},isInteger:function(e){var t;for(t=0;t<e.length;t++){var n=e.charAt(t);if(n<"0"||n>"9")return!1}return!0},getInt:function(e){var t=parseInt(e);return null==t||isNaN(t)?0:t},getDate:function(e,t){if("string"==typeof e&&"string"==typeof t){var n=e.split("/"),i=(new Date).getFullYear().toString().substr(0,2);return-1!=t.indexOf("yyyy")&&2!=n[2].length||(n[2]=i+n[2]),"mm/dd/yyyy"==t||"mm/dd/yy"==t?new Date(n[0]+"/"+n[1]+"/"+n[2]):new Date(n[1]+"/"+n[0]+"/"+n[2])}},getDayOfYear:function(e,t,n){return Math.ceil((new Date(n,t-1,e)-new Date(n,0,1))/864e5)+1},getIntegerDirection:function(e){switch(e){case"LEFT":return 1;case"RIGHT":return 2;case"UP":return 3;case"DOWN":return 4}},getSwipeDirection:function(e,t){var n=Math.atan2(-t,-e),i=Math.round(180*n/Math.PI);return i<0&&(i=360-Math.abs(i)),i<=45&&i>=0?$KW.touch.TouchContext.LEFT:i<=360&&i>=315?$KW.touch.TouchContext.LEFT:i>=135&&i<=225?$KW.touch.TouchContext.RIGHT:i>45&&i<135?$KW.touch.TouchContext.UP:$KW.touch.TouchContext.DOWN},getDistanceMoved:function(e,t){var n=Math.abs(e),i=Math.abs(t);return Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(i,2)))},isMobile:function(){if(navigator.userAgent.match(/Mobile/i)&&(navigator.userAgent.match(/AppleWebKit/i)||navigator.userAgent.match(/Phone/i)))return!0},getPlatform:function(){if(!$KU.platform){var e={};e.name=$KU.getPlatformName(),e.version=$KU.getPlatformVersion(e.name),$KU.platform=e}return $KU.platform},getPlatformName:function(){return $KU.isAndroid&&$KU.isTablet?"androidtablet":$KU.isAndroid?"android":$KU.isiPhone?"iphone":$KU.isiPad?"ipad":$KU.isBlackBerryNTH?"blackberryNTH":$KU.isBlackBerry||$KU.isPlaybook?"blackberry":$KU.isTouchPad?"webos":$KU.isWindowsPhone?"windowsphone":$KU.isWindowsTablet?"windowstablet":navigator.userAgent.match(/Mobile/i)?"":"desktop"},getPlatformVersion:function(e){var t="",n=navigator.userAgent;switch(e){case"android":case"androidtablet":n.match(/Android ([0-9.]+)/),t=RegExp.$1;break;case"iphone":n.match(/iPhone OS ([0-9_]+)/),t=RegExp.$1.replace(/_/g,".");break;case"ipad":n.match(/CPU OS ([0-9_]+)/),t=RegExp.$1.replace(/_/g,".");break;case"blackberryNTH":case"blackberry":n.match(/Version\/([0-9.]+)/),t=RegExp.$1;break;case"windowsphone":n.match(/(Windows Phone OS|Windows Phone) ([0-9]{1,}[\.0-9]{0,})/)||n.match(/rv:(\d+)/),t=RegExp.$2;break;case"windowstablet":n.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/)||n.match(/rv:(\d+)/),t=RegExp.$1;break;default:t=0}return t},getDeviceId:function(){var e="",t=null,n=null;function i(){var e="";return window.crypto?e=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}):(e=(new Date).getTime(),window.performance&&"function"==typeof performance.now&&(e+=performance.now()),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})),e.toUpperCase()}if(window.localStorage&&"function"==typeof localStorage.getItem){if("string"==typeof(n=localStorage.getItem($KG.appid))&&n)try{t=JSON.parse(n)}catch(e){t=n}"object"==typeof t&&t&&("string"==typeof t.deviceId&&t.deviceId?e=t.deviceId:(t.deviceId=e=i(),localStorage.setItem($KG.appid,JSON.stringify(t))))}else"string"==typeof $KG.appid&&$KG.appid&&(e=i());return e},detectDevice:function(){var e=$KU.getPlatform(),t=e.name,n=e.version;"iphone"!=t&&"ipad"!=t||($KU.iOS=!0,n<"5"&&($KU.iOS4=!0));var i=$KU.orientationDelayMatrix[t];$KU.isAndroid&&($KU.isAndroid_SonyXPeria?i=$KU.orientationDelayMatrix.SonyXPeria:$KU.isAndroid_Galaxy&&$KU.isMob?i=window.devicePixelRatio&&window.devicePixelRatio>1.5?500:$KU.orientationDelayMatrix.GT:$KU.isAndroid_Nexus&&(i=$KU.orientationDelayMatrix.Nexus)),$KU.orientationDelay=i||100,"blackberryNTH"==t?($KG.nativeScroll=!0,$KG.disableTransition=!0):"windowsphone"==t&&$KU.isIE9&&($KG.nativeScroll=!0,$KG.disableTransition=!0),$KG.useNativeScroll&&($KG.nativeScroll=!0,$KG.disableTransition=!1),$KG.nativeScroll?$KG.needScroller=!1:($KG.needScroller=!0,document.body.style.overflowY="hidden"),$KU.isiPhone&&$KU.getPlatformVersion("iphone").startsWith("4")&&!$KG.nativeScroll&&($KG.disableViewPortScroll=!0)},detectOrientation:function(){var e=window.orientation;if(void 0===e&&window.matchMedia)e=window.matchMedia("(orientation: portrait)").matches?"portrait":window.matchMedia("(orientation: landscape)").matches?"landscape":"";else switch(e){case 0:case 180:e=$KU.isAndroid&&$KU.isTablet?"landscape":"portrait";break;case 90:case-90:e=$KU.isAndroid&&$KU.isTablet?"portrait":"landscape"}return e},getBrowserLanguage:function(){var e=kony.globals.httpheaders;return e&&e["Accept-Language"]?e["Accept-Language"].split(",")[0]:navigator.language||navigator.userLanguage||$KG.defaultlocale},domRefresh:function(e){if(e){var t=e.style.margin;e.style.margin="1px",setTimeout(function(){e.style.margin=t},10)}},convertjsontoluaobject:function(e){},getWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getScrollBarWidth:function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return n==i&&(i=t.clientWidth),document.body.removeChild(t),n-i},convertluatojsonobject:function(e){},getImageCenterAlign:function(e,t,n){if(e.naturalWidth){var i=n?n.spanHeight:e.parentNode.clientHeight,r=n?n.imgHeight:e.offsetHeight,o=parseInt(i,10)-parseInt(r,10);if(!t)return o/2;e.style.marginTop=o>0?o/2+"px":""}},setImgAspectRatio:function(e,t,n,i){if(t){var r,o,a=$KW.FlexUtils.isFlexWidget(e);"Image"==e.wType&&a?(r=$KU.getReferenceWidth(e,t,n.width),o=$KU.getReferenceHeight(e,t,n.height)):(r=e.referencewidth,o=e.referenceheight);var l=$KW.Image.getNaturalDimensions(t),s=l.width,d=l.height,c=s/d,u=$KU.isPositiveInteger(r),p=$KU.isPositiveInteger(o);if(!isNaN(c)&&(u||p))if(o=o,s>(r=r)||d>o){var g=u&&s>r&&r>0?r:s,f=o>0?o:d,h=(g/c<f||!p)&&g/c;0==h?g=f*c<=r||!u?f*c:g:f=h,f>0&&f<1&&(f=1),g>0&&g<1&&(g=1),void 0===i?a?(t.style.width=g+"px",t.style.height=f+"px"):"HStrip"==e.wType&&e.viewtype==constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_SLOTVIEW?(t.style.width=g+"px",t.style.height=f+"px"):(t.style.width=t.parentNode.style.width=g+"px",t.style.height=t.parentNode.style.height=f+"px"):a&&(n.width=g+"px",n.height=f+"px")}else 0==i&&a&&(n.width=s+"px",n.height=d+"px");return 0==i?n:void 0}},setImgDimensions:function(e,t,n,i){var r=$KU.getReferenceWidth(e,t,n.width),o=$KU.getReferenceHeight(e,t,n.height);if(0==i)return{width:"100%",height:NaN};r>=0&&(t.style.width="100%",o>=0&&(t.style.height="100%"))},getReferenceWidth:function(e,t,n){var i=e.referencewidth;if("Image"==e.wType&&$KW.FlexUtils.isFlexWidget(e)){var r={value:parseFloat(n),unit:$KW.FlexUtils.getUnit(n)};i=$KW.FlexUtils.getValueByParentFrame(e,r,"x");var o=t.parentNode,a=$KU.getComputedStyle(o);if(a){var l=parseInt(a["border-left-width"],10)+parseInt(a["border-right-width"],10);i=i-(parseInt(a["padding-left"],10)+parseInt(a["padding-right"],10))-l}}return i},getReferenceHeight:function(e,t,n){var i=e.referenceheight;if("Image"==e.wType&&$KW.FlexUtils.isFlexWidget(e)){var r={value:parseFloat(n),unit:$KW.FlexUtils.getUnit(n)};i=$KW.FlexUtils.getValueByParentFrame(e,r,"y");var o=t.parentNode,a=$KU.getComputedStyle(o);if(a)i=i-(parseInt(a["border-top-width"],10)+parseInt(a["border-bottom-width"],10))-(parseInt(a["padding-top"],10)+parseInt(a["padding-bottom"],10))}return i},imgLoadHandler:function(e,t){if((t=(e=e||window.event).target?e.target:e.srcElement)&&document.body.contains(t)&&t.parentNode&&(!t.parentNode||t.parentNode.parentNode)){var n,i,r=t.getAttribute("ktabpaneid"),o=t.getAttribute("kwidgettype"),a="Image"==o?$KU.getElementID(t.getAttribute("id")):t.getAttribute("id");if("Image"!=o&&(a=a.split("_")[1],(n=t.src)&&(n=n.substring(n.lastIndexOf("/")+1,n.length))),t.hasAttribute("overlay")||(i=kony.model.getWidgetModel(t.getAttribute("kformname"),a,r)),i||(i=$KU.getModelByNode(t)),"Image"==o&&(n=i.src),"load"==e.type){var l=!0;if($KU.inArray($KU.imgCache,n,!0)?l=!1:$KU.imgCache.push(n),i.imagescalemode==constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO&&$KU.setImgAspectRatio(i,t),"IGallery"==o&&(t.style.display=""),t.style.visibility="visible",t.style.opacity=1,i.loaded=!0,i.animInfo){var s=i.animInfo;s.instance.animate(i,s.animConfig,s.animCallback)}if(l||t&&t.parentNode&&-1!=t.parentNode.style.background.indexOf("url")){var d=t.parentNode;d&&(d.style.removeProperty?d.style.removeProperty("background"):d.style.background="none")}if("Image"==o){if(i.scrollBoxID){var c=i.pf+"_"+i.scrollBoxID+"_scroller";if($KU.getElementById(c)){var u=$KG[c];u&&u.refresh()}}(p=$KU.returnEventReference(t.getAttribute("ondownloadcomplete")))&&p.call(i,i,n,!0)}}else{t.onerror="",t.style.opacity=1;var p,g=t.parentNode;g&&(g.style.background="none"),"Image"==o&&(i.base64=null),i.imagewhenfailed&&(t.src=$KU.getImageURL(i.imagewhenfailed)),(p=$KU.returnEventReference(t.getAttribute("ondownloadcomplete")))&&p.call(i,i,n,!1)}if("HStrip"==o&&("stripview"==i.viewtype||"pageview"==i.viewtype)&&(i.count++,i.masterdata.length-IndexJL==i.count)){if(i.count=0,"stripview"==i.viewtype&&i.scrollInstance){var f=t.getAttribute("kformname")+"_"+a+"_scrollee";(f=document.getElementById(f))&&(f.style.width="auto"),$KW.HStrip.refreshScroller(i)}else if("pageview"==i.view){var h=document.getElementById(t.getAttribute("kformname")+"_"+a);h.style.height="auto",h.style.height=h.clientHeight+"px"}var y=document.getElementById(t.getAttribute("kformname")+"_"+a+"_scrollFades");y&&$KW.touch.setHeight(y.childNodes[0].childNodes[0]),y&&$KW.touch.setHeight(y.childNodes[1].childNodes[0])}t.parentNode&&(t.parentNode.parentNode.style["font-size"]="0px"),$KU.onImageLoadComplete(i,t)}},onImageLoadComplete:function(e,t){var n,i,r,o,a,l=t.getAttribute("kcontainerID");if(l&&(i=$KW.Utils.getContainerModelById(t,l)),n=e.parent,$KW.FlexUtils.isFlexWidget(e)&&(("number"==typeof e.height||"string"==typeof e.height&&e.height)&&("number"==typeof e.width||"string"==typeof e.width&&e.width)?($KW.FlexUtils.handleImageScaleMode(e,t,{width:e.frame.width+"px",height:e.frame.height+"px"}),e.zoomenabled&&(a=$KW.Utils.getWidgetNode(e),$KW.Scroller.initialize([a],"FlexScrollContainer"),$KW.Utils.initializeScrollEvents([a],e),$KW.Image.resizeImageScale(e,t))):i?(r=$KU.getParentByAttributeValue(t,"kwidgettype",n.wType))&&(-1!=["Segment","CollectionView"].indexOf(i.wType)&&$KW.FlexUtils.isFlexWidget(i)&&i.autoGrowHeight?(i.layoutConfig={self:!0,children:!1},$KW.FlexContainer.forceLayout(i.parent)):("Segment"==i.wType&&(o=$KW.Segment.getContextByNode(i,r),(n=$KW.Segment.getClonedModel(i,o.rowIndex,o.sectionIndex))&&((e=n[e.id]).layoutConfig={self:!0,children:!1},e.loaded=!0,n=$KW.FlexUtils.getAutoGrowFlexConfigContainer(e),r=$KW.Segment.getNodeByContext(i,o,n))),"CollectionView"==i.wType&&(o=$KW.CollectionView.Utils.getContextByNode(i,r),(n=$KW.CollectionView.Utils.getClonedModel(i,o.itemIndex,o.sectionIndex))&&((e=n[e.id]).layoutConfig={self:!0,children:!1},e.loaded=!0,n=$KW.FlexUtils.getAutoGrowFlexConfigContainer(e),r=$KW.CollectionView.Utils.getNodeByContext(i,o,n))),$KW.FlexContainer.forceLayout(n,r))):($KW.FlexUtils.updateLayoutConfig(e),n=$KW.FlexUtils.getAutoGrowFlexConfigContainer(e),$KW.FlexContainer.forceLayout(n),e.zoomenabled&&(a=$KW.Utils.getWidgetNode(e),$KW.Scroller.initialize([a],"FlexScrollContainer"),$KW.Utils.initializeScrollEvents([a],e),$KW.Image.resizeImageScale(e,t)))),i){var s=$KG.allforms[i.pf];if(s&&"Popup"==s.wType){var d=$KU.getElementById(s.id+"_container");d&&$KW.Popup.adjustPopupDimensions(s,d.childNodes[1]||d.childNodes[0])}}},getImageURL:function(e){if(e){if(e.startsWith("http"))return e;null!=e.match(/^([^.]+)$/)&&(e+=".svg");var t="",n="";return $KG.imagecat&&(t=$KG.imagecat),$KG.platformver&&(n=$KG.platformver),kony.appinit.getStaticContentPath()+n+"images/"+$KG.retina+t+e}return""},getCSSPropertyFromRule:function(e,t){for(var n=$KW.skins.getKonyStyleSheetIndex(document.styleSheets),i=document.styleSheets[n],r=i.rules||i.cssRules,o=0;o<r.length;o++){var a=r[o];if(a.selectorText=="."+e)return a.style.getPropertyValue&&a.style.getPropertyValue(t)||a.style[t]}return null},imagePreloader:function(e,t){var n=new Image;n.src=e,n.onload=t,n.onerror=t},getInnerHeight:function(e){setTimeout(function(){$KG.__innerHeight=window.innerHeight},e)},getgesturePosition:function(e,t,n,i,r,o){var a;return e<=(n-r)/3&&t<=(i-o)/3?a=1:e>(n-r)/3&&e<=2*(n-r)/3&&t<=(i-o)/3?a=2:e>2*(n-r)/3&&t<=(i-o)/3?a=3:e<=(n-r)/3&&t>(i-o)/3&&t<=2*(i-o)/3?a=4:e>(n-r)/3&&e<=2*(n-r)/3&&t>(i-o)/3&&t<=2*(i-o)/3?a=5:e>2*(n-r)/3&&t>(i-o)/3&&t<=2*(i-o)/3?a=6:e<=(n-r)/3&&t>2*(i-o)/3?a=7:e>(n-r)/3&&e<=2*(n-r)/3&&t>2*(i-o)/3?a=8:e>2*(n-r)/3&&t>2*(i-o)/3?a=9:e==(n-r)/2&&t==(i-o)/2&&(a=10),a},addThirdPartyMeta:function(e){e&&"object"==typeof e&&($KG.thirdPartyWidgetsMeta||($KG.thirdPartyWidgetsMeta={}),$KG.thirdPartyWidgetsMeta[e.id]=e)},getWidgetTypeByNameSapce:function(e){return e&&"string"==typeof e?(e=e.split("."))[e.length-1]:""},getStyle:function(e,t){try{var n="";document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]):n=e.style[t]}catch(e){}return n},getComputedStyle:function(e){var t;return document.defaultView&&document.defaultView.getComputedStyle&&(t=document.defaultView.getComputedStyle(e,"")),t},getContainerParentDivMappings:function(){return{Form:3,Popup:3,ScrollBox:3,HBox:0,VBox:0,Line:0,TabPane:0,Image:4,Slider:5,FlexContainer:1,FlexScrollContainer:2}},returnParentChildBloatAdjustedNode:function(e,t){for(var n=$KU.getContainerParentDivMappings(),i=void 0===n[e.wType]?3:n[e.wType];i>0;--i)t=t.parentNode;return t},extend:function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},fireEvent:function(e,t,n){var i;return document.createEventObject?((i=document.createEventObject()).data=n,e.fireEvent("on"+t,i)):((i=document.createEvent("HTMLEvents")).data=n,i.initEvent(t,!0,!0),!e.dispatchEvent(i))},elementIndex:function(e){for(var t=0;e&&e.previousSibling;)e=e.previousSibling,t++;return t},closestElement:function(e,t,n){for(;e&&e.tagName;){e.getAttribute(t);if("class"===t){if($KU.hasClassName(e,n))return e}else if(3===arguments.length){if(e.getAttribute(t)===n){if("kwidgettype"!=t||"ScrollBox"!=n)return e;if($KU.getModelByNode(e).scrolldirection!=constants.SCROLLBOX_SCROLL_NONE)return e}}else if(2===arguments.length&&e.hasAttribute(t))return e;e=e.parentNode}return null},filterElements:function(e,t){var n=[];if(e.length&&"visible"===t)for(var i=0;i<e.length;i++)"none"!==e[i].style.display&&n.push(e[i]);return n},mediaSupport:function(){var e=document.createElement("video");return{mpeg4:""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),h264:""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),ogg:""!==e.canPlayType('video/ogg; codecs="theora"'),webm:""!==e.canPlayType('video/webm; codecs="vp8, vorbis"')}},loadJSSynchronously:function(e){},getFunctionName:function(e){return e.name?e.name:e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]},cssPrefix:vendor?"-"+vendor+"-":"",nativeScrollMatrix:{iphone:"5",ipad:"5",android:"2.3.6",blackberry:"7",desktop:"0"},isAndroid:/android/gi.test(navigator.userAgent)&&!/trident/gi.test(navigator.userAgent)&&!/edge/gi.test(navigator.userAgent),isIDevice:/iphone|ipad/gi.test(navigator.userAgent)&&!/trident/gi.test(navigator.userAgent),isiPhone:/iphone/gi.test(navigator.userAgent)&&!/trident/gi.test(navigator.userAgent),isiPod:/ipod/gi.test(navigator.userAgent),isiPad:/ipad/gi.test(navigator.userAgent),isIOS7:/(iPad|iPhone);.*CPU.*OS 7_\d/i.test(navigator.userAgent),isIOSgt6:/(iPad|iPhone);.*CPU.*OS ([7-9]|[1-9][0-9])_\d/i.test(navigator.userAgent),isPlaybook:/playbook/gi.test(navigator.userAgent),isBlackBerry:(/blackberry/gi.test(navigator.userAgent)||/BB10/gi.test(navigator.userAgent))&&"undefined"==typeof bbnth,isBlackBerryNTH:/blackberry/gi.test(navigator.userAgent)&&"undefined"!=typeof bbnth&&bbnth,isTouchPad:/hp-tablet/gi.test(navigator.userAgent),isWindowsPhone:/Windows Phone/gi.test(navigator.userAgent),isWindowsTouch:/Windows/gi.test(navigator.userAgent)&&/Touch/gi.test(navigator.userAgent)||/trident/gi.test(navigator.userAgent),isWindowsTablet:/Windows NT/gi.test(navigator.userAgent)&&/Touch/gi.test(navigator.userAgent)||"undefined"!=typeof spaMarkup&&"spawindowstablet"==spaMarkup,isIE:/MSIE/gi.test(navigator.userAgent),isIE9:null!=navigator.userAgent.match(/MSIE (\d+)/)&&"9"==RegExp.$1,isIE10:null!=navigator.userAgent.match(/MSIE (\d+)/)&&"10"==RegExp.$1,isIE11:/rv:([1][1-9])/i.test(navigator.userAgent),isMob:/mobile/gi.test(navigator.userAgent),isTablet:/hp-tablet|ipad|playbook/gi.test(navigator.userAgent)||(/android/gi.test(navigator.userAgent)||/Windows NT/gi.test(navigator.userAgent)&&/Touch/gi.test(navigator.userAgent)||"undefined"!=typeof spaMarkup&&"spawindowstablet"==spaMarkup)&&!/mobile/gi.test(navigator.userAgent),isEdge:/edge/gi.test(navigator.userAgent),isAndroid_SonyXPeria:/android/gi.test(navigator.userAgent)&&/SonyEricsson/gi.test(navigator.userAgent),isAndroid_Galaxy:/android/gi.test(navigator.userAgent)&&/GT/gi.test(navigator.userAgent),isAndroid_HTC:/android/gi.test(navigator.userAgent)&&/HTC/gi.test(navigator.userAgent),isAndroid_Nexus:/android/gi.test(navigator.userAgent)&&/Nexus/gi.test(navigator.userAgent),orientationDelayMatrix:{iphone:100,ipad:100,blackberry:100,android:250,GT:150,SonyXPeria:100,Nexus:500,androidtablet:300},isTouchSupported:("undefined"!=typeof Touch||"ontouchstart"in window)&&"undefined"==typeof bbnth,isPointerSupported:navigator.msPointerEnabled||navigator.pointerEnabled,isOrientationSupported:"onorientationchange"in window,placeholderSupported:"placeholder"in document.createElement("input"),has3d:"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MSCSSMatrix"in window&&"m11"in new MSCSSMatrix,hasTransform:"webkitTransform"in document.documentElement.style||"msTransform"in document.documentElement.style||"transform"in document.documentElement.style,hasWebkitTransform:"webkitTransform"in document.documentElement.style,hasMsTransform:"msTransform"in document.documentElement.style,hashChange:"onhashchange"in window,translatableWidgets:["Button","Label","Link","RichText","TextArea","TextField","Phone","Switch","Form","Popup","FlexContainer","Box"],segmentKeyMap:{visible:"isvisible",enable:"disabled",multiSelect:"multiple",blur:"flexblur"},dpi:window.devicePixelRatio||1,minTouchMoveDisplacement:6*(window.devicePixelRatio||1),swipeDuration:500,imgCache:[],isAjaxUploadSupported:window.File&&window.FileList&&(new XMLHttpRequest).upload,defaultunit:"%",flexUnits:["%","px","dp"],contentDrivenWidgets:["Label","Button","RichText","Link","Phone"],widgetsWidthMap:{HBox:"200dp",VBox:"200dp",ScrollBox:"200dp",TabPane:"100%",Calendar:"200dp",DataGrid:"100%",CheckBoxGroup:"100%",RadioButtonGroup:"260dp",Slider:"260dp",Switch:"200dp",HStrip:"200dp",IGallery:"200dp",Segment:"100%",Browser:"100%",Line:"50dp",Map:"100%",FlexContainer:"100%",FlexScrollContainer:"100%",TPW:"200dp",TextField:"260dp",TextArea:"260dp",ComboBox:"260dp",ListBox:"260dp",CollectionView:"120dp"},widgetsHeightMap:{Segment:"120dp",Browser:"220dp",Map:"75%",TabPane:"220dp",FlexContainer:"220dp",FlexScrollContainer:"220dp",Line:"2dp",Slider:"100dp",ListBox:"40dp",ComboBox:"40dp",CheckBoxGroup:"120dp",RadioButtonGroup:"40dp",TextArea:"120dp",TextField:"40dp",DataGrid:"120dp",CollectionView:"120dp"},changeFlag:!1,needOptimization:!0,animationDuration:vendor?vendor+"AnimationDuration":"animationDuration",animationName:vendor?vendor+"AnimationName":"animationName",transition:vendor?vendor+"Transition":"transition",transform:vendor?vendor+"Transform":"transform",transitionDelay:vendor?vendor+"TransitionDelay":"transitionDelay",transitionDuration:vendor?vendor+"TransitionDuration":"transitionDuration",transitionProperty:vendor?vendor+"TransitionProperty":"transitionProperty",transformOrigin:vendor?vendor+"TransformOrigin":"transformOrigin",animationStart:vendor?vendor+"AnimationStart":"animationstart",animationEnd:vendor?vendor+"AnimationEnd":"animationend",animationIteration:vendor?vendor+"AnimationIteration":"animationiteration",animation:vendor?vendor+"Animation":"animation",hideKeyboard:function(e,t){var n=document.activeElement;n.setAttribute("readonly","readonly"),n.setAttribute("disabled","true"),setTimeout(function(){n.blur(),n.removeAttribute("readonly"),n.removeAttribute("disabled"),e&&e(t)},100)},setActiveInput:function(e){if(document.activeElement){var t=document.activeElement.getAttribute("kwidgettype");"TextField"!=t&&"TextArea"!=t||$KU.isWindowsPhone||($KG.activeInput=document.activeElement)}$KG.disableViewPortScroll&&e&&(e.value=e.value,setTimeout(function(){e.style.pointerEvents="none"},100))},onHideKeypad:function(e){if(!$KG.nativeScroll&&$KU.isIOS7){var t=$KG.__currentForm&&document.getElementById($KG.__currentForm.id+"_container");t&&(t.style.height="100%")}$KG.activeInput="",this.adjustScrollBoxesOnResize()},adjustScrollBoxesOnResize:function(e){$KG.__currentForm&&(window.clearTimeout($KG.resizeTimeoutId),$KG.resizeTimeoutId=setTimeout(function(){if($KW.ScrollBox.adjustBoxDimensions($KG.__currentForm.id),$KU.isAndroid&&document.activeElement&&e){var t=$KU.getModelByNode(document.activeElement);!t||"TextField"!=t.wType&&"TextArea"!=t.wType||$KW.Utils.bringToView(document.activeElement,!0)}},300))},setPointerEvents:function(e,t){!(e=e&&e.children&&1==e.children.length&&e.firstChild)||"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName||(e.style.pointerEvents=t)},setMainHeight:function(){var e=$KU.getElementById("__MainContainer");e&&(e.style.height=window.innerHeight+"px")},getI18NValue:function(e){var t=/\((\'|\")([^)]+)(\'|\")\)/.exec(e),n="";return t&&t[2]&&(n=t[2]),n&&$KI.i18n.getlocalizedstring(n)||""},createa11yDynamicElement:function(){var e=document.getElementById("ariaTag");if(!e){(e=e||document.createElement("div")).innerHTML="<span  id='ariaTag' style='opacity:0;display:inline-block;height:0;width:0'  aria-live='assertive'></span>",document.body.appendChild(e.firstChild)}},changea11yDynamicElement:function(e){var t=document.getElementById("ariaTag");window.setTimeout(function(){t&&(t.removeAttribute("aria-hidden"),t.innerHTML=e,window.setTimeout(function(){t.setAttribute("aria-hidden","true")},10))},100),t&&(t.innerHTML="title set")},isRoleRequired:function(e){return!(!$KU.isIDevice||"HBox"!==e.wType&&"Label"!==e.wType&&"VBox"!==e.wType&&"Segment"!=e.wType&&"ScrollBox"!=e.wType&&"HStrip"!=e.wType&&"Slider"!=e.wType&&"RichText"!=e.wType&&"FlexContainer"!=e.wType&&"FlexScrollContainer"!=e.wType)},isTabIndexRequired:function(e){return"FlexContainer"==e.wType},addAriatoElement:function(e,t,n,i){if(e&&i&&i.a11yARIA)for(attr in i.a11yARIA)e.removeAttribute(attr);if(e&&t){var r=t.a11yLabel||""==t.a11yLabel?t.a11yLabel:t.hint,o=t.a11yValue;null!=r&&void 0!=typeof r&&""==r.trim()&&(r="Calendar"!=n.wType?" ":n.date?n.date:n.placeholder),null!=o&&void 0!=typeof o&&""==o.trim()&&(o=" "),"Calendar"!=n.wType&&(r=r?r+" "+(o||""):o||null),r?("Image"==n.wType?e.setAttribute("alt",r):e.setAttribute("aria-label",r),$KU.isRoleRequired(n)&&e.setAttribute("role","option"),$KU.isTabIndexRequired(n)&&e.setAttribute("tabindex",0)):("Image"==n.wType?e.removeAttribute("alt"):"Calendar"!=n.wType?e.removeAttribute("aria-label"):(r=n.date?n.date:n.placeholder,e.setAttribute("aria-label",r)),$KU.isRoleRequired(n)&&e.removeAttribute("role"),r||"Switch"!=n.wType||$KW.Switch.addA11YAttribute(n,e,!0));var a=t.a11yHint||"";if(""!=a.trim()){if(!$KU.isBlackBerryNTH&&!$KU.isBlackBerry){var l=n.pf+"_"+n.id,s=$KW.Utils.getMasterIDObj(n);""!=s.id&&(l=s.id);var d=l+"-hint";e.setAttribute("aria-describedby",d),$KU.createHintWrapper(n,d,a),$KU.isRoleRequired(n)&&e.setAttribute("role","option"),$KU.isTabIndexRequired(n)&&e.setAttribute("tabindex",0)}}else e.removeAttribute("aria-describedby"),$KU.isRoleRequired(n)&&!r&&e.removeAttribute("role"),r||"Switch"!=n.wType||$KW.Switch.addA11YAttribute(n,e,!0);if(t.a11yHidden?e.setAttribute("aria-hidden",!0):e.removeAttribute("aria-hidden"),t.required?e.setAttribute("aria-required",t.required):e.removeAttribute("aria-required"),t.a11yARIA)for(attr in t.a11yARIA)e.setAttribute(attr,t.a11yARIA[attr])}else"Image"==n.wType?e.removeAttribute("alt"):"Calendar"==n.wType?e.childNodes[1].alt="Calendar":(e.removeAttribute("aria-label"),"Switch"==n.wType&&$KW.Switch.addA11YAttribute(n,e)),e.removeAttribute("aria-hidden"),e.removeAttribute("aria-describedby"),e.removeAttribute("aria-required"),$KU.isRoleRequired(n)&&e.removeAttribute("role")},createHintWrapper:function(e,t,n){var i=e.pf+"-hint",r=document.getElementById(i);if(n){var o="<div id='"+t+"'>"+n+"</div>",a=document.getElementById(t);if(!r)(r=document.createElement("div")).id=i,r.style.display="none",document.body.appendChild(r);a?a.textContent?a.textContent=n:a.innerText=n:r.innerHTML+=o}},getAccessibilityValues:function(e,t,n,i){var r=t||e.accessibilityconfig;n&&""!=n&&(n=n?"_"+n:"",r=t);var o=" ";if(r){var a=r.a11yLabel||""==r.a11yLabel?r.a11yLabel:r.hint,l=r.a11yValue,s=r.a11yHint,d=i||"",c="",u=e.pf+"_"+e.id,p=$KW.Utils.getMasterIDObj(e);""!=p.id&&(u=p.id),c=n?u+d+n+"-hint":u+d+"-hint",null!=a&&void 0!=typeof a&&""==a.trim()&&(a=" "),null!=l&&void 0!=typeof l&&""==l.trim()&&(l=" "),(a="Calendar"!=e.wType?(a=a?a+" "+(l||""):l||null)?"Image"==e.wType?"  alt='"+a+"' ":"  aria-label='"+a+"' ":"":(a=(a=a||"")+" "+(e.date?e.date:e.placeholder))?"aria-label='"+a+"' ":"")&&"FlexContainer"==e.wType&&(a+=" tabindex = 0"),a&&$KU.isRoleRequired(e)&&(a+="  role='option'");var g="";s&&(g=" aria-describedby='"+c+"' ",$KU.isRoleRequired(e)&&(a+="  role='option'"),a&&"FlexContainer"==e.wType&&(a+=" tabindex = 0"));var f=r.a11yHidden?" aria-hidden ='true'":"";if($KU.createHintWrapper(e,c,s),r.a11yARIA)for(attr in r.a11yARIA)o+=attr+"= '"+r.a11yARIA[attr]+"' ";"HBox"!=e.wType&&"VBox"!=e.wType||(o+=" tabindex=-1 "),o+=a+"  "+g+" "+f}else"Calendar"==e.wType&&(o=a="aria-label='"+(a="Calendar "+e.placeholder)+"' ");return o},setScrollBoxesHeight:function(e,t){for(var n=document.querySelectorAll("#"+e+" div[kwidgettype='"+t+"']"),i=0;i<n.length;i++){var r=$KU.getModelByNode(n[i]);$KU.setScrollHeight(r,n[i])}},setScrollHeight:function(e,t){var n=e.parent,i=$KG.allforms[e.pf];if(!(n&&("FlexContainer"==n.wType||"FlexScrollContainer"==n.wType)||i&&"Form"==i.wType&&i.layouttype!=kony.flex.VBOX_LAYOUT)){if(t=t||$KU.getNodeByModel(e),"Map"==e.wType||"Popup"==e.wType)var r=t;else r=$KU.getElementById(t.id+"_scroller");if(r){var o,a=$KU.getElementById(t.id+"_parent"),l=$KW.stringifyScrolldirection[e.scrolldirection];if("Segment"==e.wType&&"pageview"==e.viewType&&e.needpageindicator&&(o=document.getElementById($KW.Utils.getKMasterWidgetID(e)+"_footer"))&&$KU.removeClassName(o,"hide"),"horizontal"!=l&&"ScrollBox"==e.wType||e.needScroller){var s=e.containerheight>=0?e.containerheight:e.container_height;s=parseFloat(s);var d=0;if($KU.isPositiveInteger(s)&&(e.containerheightreference||e.heightreference)){if([e.containerheightreference,e.heightreference].contains(1)){var c=document.getElementById($KG.__currentForm.id+"_scroller"),u=c&&c.offsetHeight||$KU.getWindowHeight();d=Math.round(s*u/100)}else if([e.containerheightreference,e.heightreference].contains(2)){n=$KU.getParentModel(e);var p=$KU.getNodeByModel(n),g=p&&p.offsetWidth||r.parentNode.offsetWidth;d=Math.round(s*g/100)}else[e.containerheightreference,e.heightreference].contains(3)&&(d=Math.round(s*screen.height/100));var f=padding=0;a&&(f=parseInt($KU.getStyle(a,"border-top-width").replace("px",""),10)+parseInt($KU.getStyle(a,"border-bottom-width").replace("px",""),10),padding=parseInt($KU.getStyle(a,"padding-top").replace("px",""),10)+parseInt($KU.getStyle(a,"padding-bottom").replace("px",""),10),a.style.height=d+"px"),d=d-f-padding,r.style.height=d+"px",(y=$KG[r.id])&&y.refresh(),"Segment"==e.wType&&"pageview"==e.viewType&&0==e.containerheight&&o&&$KU.addClassName(o,"hide")}if("ScrollBox"==e.wType){if("arrows"==e.scrollbar&&e.bottomarrowimage&&e.toparrowimage){var h=a.childNodes[0];h.style.height=d+"px",h.style.top=$KU.getStyle(a,"padding-top"),r.childNodes[0].clientHeight>a.clientHeight&&$KU.applyFade(h.childNodes[1],"fadeIn",500)}$KW.ScrollBox.adjustArrowPosition(t.id)}}else{if("Segment"==e.wType&&1==e.screenLevelWidget)return;var y;"Segment"==e.wType||"TabPane"==e.wType||"ScrollBox"==e.wType||"Browser"==e.wType||"Popup"==e.wType?d="auto":"Map"==e.wType&&(d="500px"),r.style.height=d,(y=$KG[r.id])&&"ScrollBox"!==e.wType&&(y.scroller.style[$KU.transform]="",y.destroy(),$KG[r.id]="")}}}},isFlexWidget:function(e){var t=e.parent;if(t){var n=t.wType;if("FlexContainer"==n||"FlexScrollContainer"==n||"Form"==n&&t.layouttype&&t.layouttype!=kony.flex.VBOX_LAYOUT&&t.layouttype!=constants.CONTAINER_LAYOUT_GRID)return!0}return!1},isFlexContainer:function(e){if(e){var t=e.wType;if("FlexContainer"==t||"FlexScrollContainer"==t||"Form"==t&&e.layouttype&&e.layouttype!=kony.flex.VBOX_LAYOUT&&e.layouttype!=constants.CONTAINER_LAYOUT_GRID)return!0}return!1},isMasterContainer:function(e){if(e)return["KComponent","FlexContainer","FlexScrollContainer"].indexOf(e.wType)>-1},executeWidgetEventHandler:function(){var e=arguments[0],t=arguments[1],n=[].slice.call(arguments),i=[e];return arguments.length>2&&(i=i.concat(n.slice(2,n.length))),t.apply(e,i)},onEventHandler:function(e){var t;e&&!e.isCloned?$KW.FlexUtils.isFlexWidget(e)&&(t=$KG.allforms[e.pf]):t=$KG.__currentForm;t&&($KW.Form.initializeAllFlexContainers(t),$KW.Form.initializeFlexContainersInTemplate(t))},setMainHeight:function(){var e=$KU.getElementById("__MainContainer");e&&(e.style.height=window.innerHeight+"px")},escapeHTMLSpecialEntities:function(e){if("string"!=typeof e)return e;if($KG.appbehaviors&&1==$KG.appbehaviors.skipEscapeHtml)return e;var t="";if(!(!$KG.appbehaviors||1!=$KG.appbehaviors.escapeHtml))for(var n={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},i=0;i<e.length;i++){var r=e.charCodeAt(i);t+=n[r]?"&"+n[r]+";":e[i]}else t=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&rsquo;").replace(/"/g,"&rdquo;");return t},createStyleSheet:function(e){var t=document.createElement("style");return t.type="text/css",t.rel="stylesheet",t.id=e,document.head&&document.head.appendChild(t),t.sheet},updateScrollFlag:function(e){var t=e.parent||e,n=parseFloat(e.containerheight);e.needScroller=$KW.FlexUtils.isFlexContainer(t)||!(!$KU.isPositiveInteger(n)||!e.containerheightreference)},isValidCSSLength:function(e){return/^[-+]?([0-9]+)(\.[0-9]+)?(px|%|dp)?$/.test(e)},isPositiveInteger:function(e){return"number"==typeof e&&e>=0},layoutNewWidgets:function(e,t){t&&t.length>0&&($KW.FlexUtils.updateWidgetsConfig(e,t),$KW.FlexUtils.isFlexContainer(e)?($KW.FlexUtils.updateLayoutConfig(e),$KW.FlexUtils.updateAutoGrowFlexConfig(e),$KW.FlexContainer.adjustFlexContainer(e)):$KW.Form.initializeFlexContainersInBox(e))},checkProp:function(e,t,n){var i,r,o="Webkit Moz O ms".split(" "),a=e.charAt(0).toUpperCase()+e.slice(1),l=(e+" "+o.join(a+" ")+a).split(" "),s=this.nativeTestProps(l,t);if(void 0!==s)return s;$KU.testNode||($KU.testNode=document.createElement("test"));var d=$KU.testNode.style;for(i in l)if(r=d[e=l[i]],!this.contains(e,"-")&&void 0!==d[e]){if(n||void 0===t)return!0;try{d[e]=t}catch(e){}if(d[e]!=r)return!0}return!1},nativeTestProps:function(e,t){var n=e.length;if("CSS"in window&&"supports"in window.CSS){for(;n--;)if(window.CSS.supports(this.domToHyphenated(e[n]),t))return!0;return!1}},domToHyphenated:function(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")},jsonReplacer:function(e,t){return"parent"===e||"rowtemplate"==e||"rowTemplate"==e?t&&(t.id||t):"scrollerInstance"!=e&&"scrollingevents"!=e&&"scrollingEvents"!=e&&"ownchildrenref"!=e&&"touches"!=e?t:void 0},contains:function(e,t){return!!~(""+e).indexOf(t)},preventClickEvent:function(e,t){var n=e.type,i=t.tagName;if("INPUT"==i||"SELECT"==i)if("change"==n)$KU.changeFlag=!0;else if("click"==n&&$KU.changeFlag)return $KU.changeFlag=!1,!0;return!1},getTextTrasform:function(e,t){var n="";switch(e.autocapitalize){case constants.TEXTBOX_AUTO_CAPITALIZE_WORDS:case constants.TEXTAREA_AUTO_CAPITALIZE_WORDS:n="capitalize";break;case constants.TEXTBOX_AUTO_CAPITALIZE_ALL:case constants.TEXTAREA_AUTO_CAPITALIZE_ALL:n="uppercase";break;case constants.TEXTBOX_AUTO_CAPITALIZE_SENTENCES:case constants.TEXTBOX_AUTO_CAPITALIZE_NONE:case constants.TEXTAREA_AUTO_CAPITALIZE_SENTENCES:case constants.TEXTAREA_AUTO_CAPITALIZE_NONE:n="none"}return n},isDefined:function(e){return void 0!==e},logExecuting:function(e){kony.web.logger("trace","ENTER "+e)},logExecutingWithParams:function(e){},logExecutingFinished:function(e){kony.web.logger("trace","EXIT "+e)},logWarnMessage:function(e){kony.web.logger("warn",e)},logErrorMessage:function(e){kony.web.logger("error",e)},logDebugMessage:function(e){kony.web.logger("debug",e)},logPerfMessage:function(e){kony.web.logger("perf",e)}},$KU.widgets={invokeAddWidgetsEventForInternalWidgets:function(e){if(e&&e.length>0)for(var t;t=e.shift();)$KU.invokeAddWidgets(t)},invokeInitEventForInternalWidgets:function(e){if(e&&e.length>0)for(var t;t=e.shift();)$KU.invokeWidgetInit(t)}};var Arraycontains=function(e){var t=this.length;if(0==t)return!1;for(var n=0;n<t;n++)if(this[n]==e)return!0;return!1},ArraycontainsTimerAction=function(e){var t=this.length;if(0==t)return!1;for(var n=0;n<t;n++)if(this[n].actionName==e.actionName)return!0;return!1},Arrayremove=function(e){var t=this.length;if(0==t)return null;for(var n=0;n<t;n++)if(this[n]==e)return this.removeRange(n);return this},ArrayremoveRange=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,n)};Array.prototype.contains||Object.defineProperty(Array.prototype,"contains",{value:Arraycontains,enumerable:!1}),Array.prototype.containsTimerAction||Object.defineProperty(Array.prototype,"containsTimerAction",{value:ArraycontainsTimerAction,enumerable:!1}),Array.prototype.remove||Object.defineProperty(Array.prototype,"remove",{value:Arrayremove,enumerable:!1}),Array.prototype.removeRange||Object.defineProperty(Array.prototype,"removeRange",{value:ArrayremoveRange,enumerable:!1}),String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.ltrim=function(){return this.replace(/^\s+/,"")},String.prototype.rtrim=function(){return this.replace(/\s+$/,"")},String.prototype.startsWith=function(e){return this.slice(0,e.length)===e},kony.json={concat:function(e,t){for(var n in t)e[n]=t[n];return e}},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be fBound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:e||window,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),$KU.isBlackBerry&&$KU.getPlatformVersion("blackberry").startsWith("10")&&($KU.has3d=!1),($KU.isBlackBerry||$KU.isBlackBerryNTH)&&$KU.getPlatformVersion("blackberry").startsWith("7")&&($KU.BB7=!0),($KU.isBlackBerry||$KU.isBlackBerryNTH)&&$KU.getPlatformVersion("blackberry").startsWith("6")&&($KU.BB6=!0),$KU.isAndroid&&$KU.getPlatformVersion("android").startsWith("4.1")&&($KU.placeholderSupported=!1);var elemInput=document.createElement("input");$KU.isAutoCapitalizeSupported="autocapitalize"in elemInput;var translateOpen="translate"+($KU.has3d?"3d(":"("),translateClose=$KU.has3d?",0)":")";$KU.flexbox=!1,owl=function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}var n=[];function i(e){for(var t in e)this[t]=e[t]}function r(){this.copiedObjects=[],thisPass=this,this.recursiveDeepCopy=function(e){return thisPass.deepCopy(e)},this.depth=0}function o(e,t,n){var i=new r;return t&&(i.maxDepth=t),void 0!==n&&(i.newIdPrefix=n),i.deepCopy(e)}return i.prototype={constructor:i,canCopy:function(e){return!1},create:function(e){},populate:function(e,t,n){}},r.prototype={constructor:r,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,i=0;i<n;i++)if(t[i][0]===e)return t[i][1]},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var i=0;i<n.length;i++){var r=n[i];if(r.canCopy(e,this.newIdPrefix))return this.applyDeepCopier(r,e)}throw new Error("no DeepCopier is able to copy "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),this.depth++,this.depth>this.maxDepth)throw new Error("Exceeded max recursion depth in deep copy.");return e.populate(this.recursiveDeepCopy,t,n,this.newIdPrefix),this.depth--,n}},o.DeepCopier=i,o.deepCopiers=n,o.register=function(e){e instanceof i||(e=new i(e)),n.unshift(e)},o.register({canCopy:function(e){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var i in t){if(t.hasOwnProperty(i)&&"gestures"!=i){var r=t.__lookupGetter__(i),o=t.__lookupSetter__(i);kony.enableGettersSetters&&(r||o)?(r&&n.__defineGetter__(i,r),o&&n.__defineSetter__(i,o)):n[i]=e(t[i])}"gestures"===i&&(n[i]=t[i])}return n.wType&&(n.isCloned=!0),n}}),o.register({canCopy:function(e,t){return!1!==t&&e instanceof kony.ui.Widget},create:function(e){var t=e.constructor,n=Object.create(t.prototype);return t.apply(n,e.constructorList),n},populate:function(e,t,n,i){for(var r in i&&t.id&&(n.id=i+t.id,n.constructorList[0].id=n.id),t)if(t.hasOwnProperty(r)&&!this.excludeList[r]){var o=t[r];!o||o instanceof kony.ui.Widget||(n[r]=e(o))}if(t instanceof kony.ui.ContainerWidget&&t.ownchildrenref&&t.ownchildrenref.length>0)for(var a=0;a<t.ownchildrenref.length;a++){var l=t.ownchildrenref[a];n.add(l.clone(i))}return n},excludeList:{constructorList:!0,children:!0,ownchildrenref:!0,parent:!0,pf:!0,layoutConfig:!0,gestures:!0,id:!0,immediateMaster:!0}}),o.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var i=0;i<t.length;i++)n.push(e(t[i]));return n}}),o.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),o.register({canCopy:function(e){return function(e){return window.Node?e instanceof Node:e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}(e)},create:function(e){return e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if(t===document)return document;if(t.childNodes&&t.childNodes.length)for(var i=0;i<t.childNodes.length;i++){var r=e(t.childNodes[i]);n.appendChild(r)}}}),{DeepCopyAlgorithm:r,copy:function(e){if("object"!=typeof e)return e;var n=e.valueOf();if(e!=n)return new e.constructor(n);if(e instanceof e.constructor&&e.constructor!==Object){var i=t(e.constructor.prototype);for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])}else for(var r in i={},e)i[r]=e[r];return i},clone:t,deepCopy:o}}();
$KI.i18n=function(){var e={setcurrentlocaleasync:function(n,o,t,r){$KU.logExecuting("kony.i18n.setCurrentLocaleAsync"),n?($KU.logExecutingWithParams("kony.i18n.setCurrentLocaleAsync",n,o,t,r),$KG.oldlocale=e.getcurrentlocale(),e.initializeI18n(n,null,o,t,r),$KU.logExecutingFinished("kony.i18n.setCurrentLocaleAsync")):$KU.logWarnMessage("No locale specified")},setdefaultlocaleasync:function(n,o,t,r){if($KU.logExecuting("kony.i18n.setDefaultLocaleAsync"),n){$KU.logExecutingWithParams("kony.i18n.setDefaultLocaleAsync",n,o,t,r);try{var a=localStorage&&localStorage.getItem($KG.appid+"_i18nVersion")||"";if(!$KG.i18nVersion||a!=$KG.i18nVersion){try{localStorage.setItem($KG.appid+"_i18nVersion",$KG.i18nVersion)}catch(e){!localStorage||"QUOTA_EXCEEDED_ERR"!=e.name&&"QuotaExceededError"!=e.name?$KU.logWarnMessage("localStorage is not available"):0===localStorage.length?$KU.logWarnMessage("Private Browsing is switched ON"):$KU.logWarnMessage("Data storage limit has exceeded")}e.cleanupI18nCache()}}catch(e){$KU.logErrorMessage("unknown error"+e)}$KG.oldlocale=$KG.defaultlocale,$KG.defaultlocale=n;n=e.determineCurrentLocale();e.initializeI18n(n,null,o,t,r),$KU.logExecutingFinished("kony.i18n.setDefaultLocaleAsync")}else $KU.logWarnMessage("No locale specified")},setdefaultlocale:function(){$KU.logExecuting("kony.i18n.setDefaultLocale");var n=arguments[0]||null,o=arguments[1]||null,t=arguments[2]||null,r=arguments[3]||null;if($KU.logExecutingWithParams("kony.i18n.setDefaultLocale"),n){if(r){$KG.locales=$KG.locales.split(",");try{var a=localStorage&&localStorage.getItem($KG.appid+"_i18nVersion")||"";if(!$KG.i18nVersion||a!=$KG.i18nVersion){try{localStorage.setItem($KG.appid+"_i18nVersion",$KG.i18nVersion)}catch(e){!localStorage||"QUOTA_EXCEEDED_ERR"!=e.name&&"QuotaExceededError"!=e.name?kony.web.logger("warn","localStorage is not available"):0===localStorage.length?kony.web.logger("warn","Private Browsing is switched ON"):kony.web.logger("warn","Data storage limit has exceeded")}e.cleanupI18nCache()}}catch(e){kony.web.logger("error","unknown error"+e)}}n=e.determineCurrentLocale();e.initializeI18n(n,r,o,t),$KU.logExecutingFinished("kony.i18n.setDefaultLocale")}else kony.web.logger("warn","No locale specified")},setcurrentlocale:function(n){$KU.logExecuting("kony.i18n.setCurrentLocale"),n&&($KU.logExecutingWithParams("kony.i18n.setCurrentLocale",n),e.initializeI18n(n),$KU.logExecutingFinished("kony.i18n.setCurrentLocale"))},getcurrentlocale:function(){return $KU.logExecuting("kony.i18n.getCurrentLocale"),$KU.logExecutingWithParams("kony.i18n.getCurrentLocale"),$KU.logExecutingFinished("kony.i18n.getCurrentLocale"),$KG.currentlocale},getsupportedlocales:function(){$KU.logExecuting("kony.i18n.getSupportedLocales"),$KU.logExecutingWithParams("kony.i18n.getSupportedLocales"),$KU.logWarnMessage(" getSupportedLocales is not supported");var e=$KU.getBrowserLanguage();return $KU.logExecutingFinished("kony.i18n.getSupportedLocales"),IndexJL?[null,e]:[e]},getcurrentdevicelocale:function(){$KU.logExecuting("kony.i18n.getCurrentDeviceLocale"),$KU.logExecutingWithParams("kony.i18n.getCurrentDeviceLocale");var e=$KU.getBrowserLanguage(),n=e.split("-"),o={};return o.language=n[0],o.country=n[1],o.name=e,$KU.logExecutingFinished("kony.i18n.getCurrentDeviceLocale"),o},updateresourcebundle:function(e,n){if($KU.logExecuting("kony.i18n.updateResourceBundle"),n&&e){$KU.logExecutingWithParams("kony.i18n.updateResourceBundle",e,n);var o={},t=$KG.appid+"_"+n;try{if($KG[t])o=$KG[t];else if(localStorage){var r=localStorage.getItem(t);r&&(o=JSON.parse(r))}}catch(e){$KU.logErrorMessage("unknown error "+e)}$KU.mergeObjects(o,e);try{try{if(!$KG[t]){var a=JSON.stringify(o);localStorage.setItem(t,a)}}catch(e){$KG[t]=o,!localStorage||"QUOTA_EXCEEDED_ERR"!=e.name&&"QuotaExceededError"!=e.name?$KU.logWarnMessage("localStorage is not available"):0===localStorage.length?$KU.logWarnMessage("Private Browsing is switched ON"):$KU.logWarnMessage("Data storage limit has exceeded")}}catch(e){$KU.logErrorMessage("unknown error"+e)}$KG[t]&&($KG[t]=o),$KG.currentlocale==n&&($KG.i18nArray=$KU.convertObjectToArray(o));var i=$KG.locales;$KU.inArray(i,n,!0)||i.push(n),$KU.logExecutingFinished("kony.i18n.updateResourceBundle")}else $KU.logErrorMessage("Invaid bundle and loacale as arguments")},setresourcebundle:function(e,n){if($KU.logExecuting("kony.i18n.setResourceBundle"),n&&e){$KU.logExecutingWithParams("kony.i18n.setResourceBundle",e,n);var o=JSON.stringify(e),t=$KG.appid+"_"+n;try{try{localStorage.setItem(t,o)}catch(n){$KG[t]=e,!localStorage||"QUOTA_EXCEEDED_ERR"!=n.name&&"QuotaExceededError"!=n.name?$KU.logWarnMessage("localStorage is not available"):0===localStorage.length?$KU.logWarnMessage("Privatebrowsing is Switched on"):$KU.logWarnMessage("Data storage limit has exceeded")}}catch(e){$KU.logErrorMessage("unknown error"+e)}if($KG.currentlocale==n){var r=JSON.parse(o);$KG.i18nArray=$KU.convertObjectToArray(r)}var a=$KG.locales;$KU.inArray(a,n,!0)||a.push(n),$KU.logExecutingFinished("kony.i18n.setResourceBundle")}else $KU.logErrorMessage("Invaid bundle and loacale as arguments")},deleteresourcebundle:function(e){$KU.logExecuting("kony.i18n.deleteResourceBundle");var n=$KG.appid+"_"+e;try{localStorage&&localStorage.removeItem(n)}catch(e){$KU.logErrorMessage("unknown error"+e)}$KG[n]="",$KU.logExecutingWithParams("kony.i18n.deleteResourceBundle",e),$KG.currentlocale==e&&($KG.i18nArray=[]),$KU.removeArray($KG.locales,e),$KU.logExecutingFinished("kony.i18n.deleteResourceBundle")},isresourcebundlepresent:function(e){if($KU.logExecuting("kony.i18n.isResourceBundlePresent"),!e)return $KU.logErrorMessage("Invalid arguments"),!1;if($KU.logExecutingWithParams("kony.i18n.isResourceBundlePresent",e),$KU.inArray($KG.locales,e,!0))return $KU.logExecutingFinished("kony.i18n.isResourceBundlePresent VIA if it is a pre-defined locale bundle"),!0;var n=$KG.appid+"_"+e,o=null;try{o=localStorage&&localStorage.getItem(n)||$KG[n]}catch(e){kony.web.logger("error","unknown error"+e)}return $KU.logExecutingFinished("kony.i18n.isResourceBundlePresent VIA if locale bundle is dynamically handled"),!!o||($KU.logErrorMessage("String not recieved"),!1)},islocalesupportedbydevice:function(e){return $KU.logWarnMessage("islocalesupportedbydevice: Method Not supported"),!1},getlocalizedstring:function(e){$KU.logExecuting("kony.i18n.getLocalizedString");var n=$KG.i18nArray[e];return $KU.logExecutingWithParams("kony.i18n.getLocalizedString",e),$KU.logExecutingFinished("kony.i18n.getLocalizedString"),void 0===n?null:n},determineCurrentLocale:function(){var e=$KG.locales,n=$KG.defaultlocale,o=(r=$KU.getBrowserLanguage()).replace("-","_"),t="";if($KU.inArray(e,o,!0))t=o;else{var r=o.split("_")[0];t=$KU.inArray(e,r,!0)?r:n}return t},initializeI18n:function(n,o,t,r,a){$KG.i18nArray||($KG.i18nArray=[]);var i,l=$KG.appid+"_"+n;try{localStorage&&(i=localStorage.getItem(l))}catch(e){}if(i){var c=JSON.parse(i);$KG.i18nArray=$KU.convertObjectToArray(c),$KG.i18nInitialized=!0,$KG.currentlocale=n,o&&o(),t&&t($KG.oldlocale,n,a)}else e.getResource(n,o,t,r,a)},getResource:function(n,o,t,r,a){var i="";i=$KG.appmode==constants.APPLICATION_MODE_NATIVE?kony.appinit.getStaticContentPath()+$KG.platformver+kony.constants.RESOURCES_PATH+"/"+kony.constants.TRANSLATION_PATH+"/"+n+"."+kony.constants.TRANSLATION_EXT+"?ver="+$KG.version:kony.constants.RESOURCES_PATH+"/"+kony.constants.TRANSLATION_PATH+"/"+n+"."+kony.constants.TRANSLATION_EXT+"?ver="+$KG.version;var l=document.getElementsByTagName("head")[0],c=document.createElement("script");c.src=i;var s=setTimeout(function(){kony.web.logger("error","Timeout while loading resource bundle."),$KG.i18nInitialized=!0,o&&o()},6e4),g=function(){kony.print("i18n resource loaded successfully"),clearTimeout(s),$KG.i18nInitialized=!0,$KG.currentlocale=n,"undefined"!=typeof i18nObject&&i18nObject&&(e.insertDB(i18nObject,n),i18nObject=""),o&&o(),t&&t($KG.oldlocale,e.getcurrentlocale(),a)};c.addEventListener?(c.onload=g,c.onerror=function(){kony.web.logger("error","An error has occurred while loading i18 locales"),clearTimeout(s),$KG.i18nInitialized=!0,o&&o(),r&&r($KG.oldlocale,e.getcurrentlocale(),a)}):c.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(c.onreadystatechange=null,g())},l.appendChild(c)},insertDB:function(e,n){var o,t,r=$KG.appid+"_"+n;"string"==typeof e?(o=JSON.parse(e),t=e):(o=e,t=JSON.stringify(e));try{try{localStorage.setItem(r,t)}catch(e){$KG[r]=o,localStorage&&localStorage.removeItem($KG.appid+"_i18nVersion"),!localStorage||"QUOTA_EXCEEDED_ERR"!=e.name&&"QuotaExceededError"!=e.name?kony.web.logger("warn","localStorage is not available"):0===localStorage.length?kony.web.logger("warn","Private Browsing is switched ON"):kony.web.logger("warn","Data storage limit has exceeded")}}catch(e){}$KG.i18nArray=$KU.convertObjectToArray(o)},_addi18nPropsForWidget:function(e){if($KU.inArray($KU.translatableWidgets,e.wType,!0)){e.canUpdateUI=!1;switch(e.wType){case"Switch":i18n_properties=["leftsidetext","rightsidetext"];break;case"Form":case"Popup":i18n_properties=["title"];break;case"FlexContainer":case"Box":i18n_properties=["tabname"];default:i18n_properties=["text","placeholder"]}this._updateWidgetModelWithi18n(e,i18n_properties),e.canUpdateUI=!0}},_updateWidgetModelWithi18n:function(e,n){for(var o in n){var t=n[o],r="i18n_"+t;e[r]&&-1!=e[r].toLowerCase().indexOf("i18n.getlocalizedstring")&&(e[t]=$KU.getI18NValue(e[r]))}},_addi18nPropsForContainer:function(e,n){for(var o in n){var t=e[n[o]];t&&(t&&t.children&&0!=t.children.length&&this._addi18nPropsForContainer(t,t.children),this._addi18nPropsForWidget(t))}},translateFormModel:function(e){var n=e.children;n?this._addi18nPropsForContainer(e,n):this._addi18nPropsForWidget(e)},checkI18nStatus:function(e,n){$KG.localization&&"object"==typeof e&&!$KU.isArray(e)&&"text"==n&&e.i18n_text&&(e.i18n_text="")},cleanupI18nCache:function(){for(var e=$KG.locales,n=0;n<e.length;n++){var o=e[n],t=$KG.appid+"_"+o;try{localStorage&&localStorage.removeItem(t)}catch(e){}$KG[t]=""}},getI18nTitle:function(e){var n=e.title;return e.i18n_title&&-1!=e.i18n_title.toLowerCase().indexOf("i18n.getlocalizedstring")?$KU.getI18NValue(e.i18n_title):n},setlocalelayoutconfig:function(e){$KU.logExecuting("kony.i18n.setLocaleLayoutConfig"),$KU.logExecutingWithParams("kony.i18n.setLocaleLayoutConfig",e),e&&e instanceof Object&&($KG.localeLayoutConfig=e),$KU.logExecutingFinished("kony.i18n.setLocaleLayoutConfig")}};return e}();
$KW.formTransitionsMatrix={topCenter:"slidetopin",bottomCenter:"slidebottomin",rightCenter:"sliderightin",leftCenter:"slideleftin",fadeAnimation:"fadein",anim1:"slidetopin",anim2:"sliderightin",anim3:"slideleftin",anim4:"sliderightout",anim5:"slideleftout",anim6:"scalein",anim7:"slidetoprightin",anim8:"slidebottomleftin",anim9:"expandvertically",anim10:"slidebottomin"},$KW.formEndTransitionsMatrix={rightCenter:"sliderightout",leftCenter:"slideleftout",topCenter:"slidetopout",bottomCenter:"slidebottomout",fadeAnimation:"fadeout",anim1:"slidetopout",anim2:"sliderightout",anim3:"slideleftout",anim4:"sliderightin",anim5:"slideleftin",anim6:"scaleout",anim7:"slidetoprightout",anim8:"slidebottomleftout",anim9:"shrinkvertically",anim10:"slidebottomout"},$KW.stringifyScrolldirection={1:"horizontal",2:"vertical",3:"both",4:"none"},$KW.Widget={addgesturerecognizer:function(e,t,n,i){if(!e)return null;var r=$KW.Utils.updateModelWithGesture(e,t,n,i);return new $KW.touch.gesture(e,r).gestureIdentifier},setgesturerecognizer:function(e,t,n,i){if(!e)return null;var r=1==t?1==n.taps?10:11:t;$KW.Widget.removegesturerecognizer(e,r);var o=$KW.Utils.updateModelWithGesture(e,t,n,i);return new $KW.touch.gesture(e,o).gestureIdentifier},removegesturerecognizer:function(e,t){var n=t;if("string"==typeof t){var i=$KG.gestures&&$KG.gestures[t]?$KG.gestures[t]:null;if(!i)return;e=i.widgetModel,t=i.gestureType,delete $KG.gestures[n]}e&&(t==constants.GESTURE_TYPE_TAP?($KW.Utils.removegesture(e,10,!0,n),$KW.Utils.removegesture(e,11,!0,n)):$KW.Utils.removegesture(e,t,!0,n))},setgesturerecognizerforallforms:function(e,t,n){$KU.logExecuting("kony.application.setGestureRecognizerForAllForms"),$KU.logExecutingWithParams("kony.application.setGestureRecognizerForAllForms",e,t,n);var i=1==e?1==t.taps?10:11:e;$KW.Widget.removegesturerecognizerforallforms(i);var r=$KW.Utils.updateModelWithGesture("",e,t,n);return $KU.logExecutingFinished("kony.application.setGestureRecognizerForAllForms"),new $KW.touch.gesture("",r).gestureIdentifier},addgesturerecognizerforallforms:function(e,t,n){var i=$KW.Utils.updateModelWithGesture("",e,t,n);return new $KW.touch.gesture("",i).gestureIdentifier},removegesturerecognizerforallforms:function(e){if($KU.logExecuting("kony.application.removeGestureRecognizerForAllForms"),"string"==typeof e){var t=$KG.gestures&&$KG.gestures[e]?$KG.gestures[e]:null;if(!t)return void $KU.logErrorMessage("Invalid gestureType");var n=e;e=t.gestureType,delete $KG.gestures[n]}$KU.logExecutingWithParams("kony.application.removeGestureRecognizerForAllForms",e),$KW.Widget.removegesturerecognizer($KG,e),$KU.logExecutingFinished("kony.application.removeGestureRecognizerForAllForms")}},$KW.Utils={isWidgetInteractable:function(e,t){var n=!0;return(($KG.appbehaviors[constants.API_LEVEL]>=constants.API_LEVEL_8300||t)&&"true"===e.getAttribute("kdisabled")||"true"===e.getAttribute("notinmodal"))&&(n=!1),n},getBaseHtml:function(e,t,n,i,r){var o=n?e.id:e.pf+"_"+e.id,a=t.tabpaneID||"",l=t.container&&t.container.id||"",s=e.tooltip||"",d=this.isWidgetDisabled(e,t)||!1;a&&(e.tabpaneId=a),l&&(e.containerId=l);var c=d?" kdisabled='true' "+("Image"!=e.wType&&"HBox"!=e.wType&&"VBox"!=e.wType&&"Link"!=e.wType&&"Label"!=e.wType?"disabled="+d:""):"",u=(e.contextmenu,this.getMasterIDObj(e));e.isImageOverlayWidget?o=e.id:""!=u.id&&(o=u.id),"Segment"==e.wType&&(e.formPathId=o);var g="";"Link"!=e.wType&&"Label"!=e.wType&&"ScrollBox"!=e.wType&&"RadioButtonGroup"!=e.wType&&(g=$KU.getAccessibilityValues(e,i,null,r)),("HBox"==e.wType||"Segment"==e.wType||"VBox"==e.wType||"HStrip"==e.wType)&&g.indexOf("aria-hidden")>0&&(g="");var p="";return e.isImageOverlayWidget&&(p="overlay=true"),g+" id='"+o+"' kwidgettype='"+e.wType+"' kformname='"+e.pf+"'"+(a&&" ktabpaneid='"+a+"'")+u.kmasterid+(l&&" kcontainerID = '"+l+"'")+c+(s?" title= '"+s+"'":"")+" "+p+" "},getMasterIDObj:function(e){var t=e.kmasterid,n="";return t&&""!=t?(e.kmasterid=t,n=e.pf+"_"+t+"_"+e.id,t=" kmasterid = '"+t+"' "):t="",{id:n,kmasterid:t}},getWidgetPathByModel:function(e){var t=e.id;return e.kmasterid&&(t=e.kmasterid.split("_").join(".")+"."+t),t},getMasterWidgetModel:function(e){for(;e;){if(e.isMaster)return e;e=e.parent}},getKMasterWidgetID:function(e){var t=e.pf+"_"+e.id;return e.kmasterid&&""!=e.kmasterid&&(t=e.pf+"_"+e.kmasterid+"_"+e.id),t},getActualWidgetModel:function(e,t){if("KComponent"==e.wType){var n=e.userWidgetProxyObject;return t&&(n.kComponentModel=e,this.updatePFForUDWChilds(n,e.pf)),n}return e},updatePFForUDWChilds:function(e,t){if(e.pf=t,e.isContainerWidget)for(var n=0;n<e.children.length;n++){var i=e[e.children[n]];this.updatePFForUDWChilds(i,t)}},isWidgetDisabled:function(e,t){if(t&&t.container&&t.container.widgetsData)return this.isContainerWidgetDisabled(e,t);if(e.disabled)return!0;for(var n=e.pf,i=e.parent;i;){if(i.disabled||n==(i.parent&&i.parent.id))return i.disabled;i=i.parent}},isContainerWidgetDisabled:function(e,t){var n=t.container.widgetsData,i=n[e.id];if(i&&void 0!=i.enable&&0==i.enable)return!0;e.pf;for(var r,o,a=e.parent;a;){if((o=(r=n[a.id])&&void 0!=r.enable&&0==r.enable)||t.container.id==a.id)return o;a=a.parent}},isWidgetVisible:function(e,t){if(t&&t.container&&t.container.widgetsData){var n=t.container.widgetsData[e.id];if(n)return void 0!=n.visible?n.visible:e.isvisible}return e.isvisible},initializeNewWidgets:function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t];switch((n=$KW.Utils.getActualWidgetModel(n)).wType){case"Segment":var i=$KU.getNodeByModel(n);if(i){if(n.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&($KG[i.id]=new $KW.touch.pageviewScroller(i,{widgetModel:n}),$KW.touch.computeWidths(i,n)),n.screenLevelWidget||n.needScroller){n.needScroller&&$KU.setScrollHeight(n,i);var r=i.parentNode.parentNode;$KW.Scroller.initialize([r],"Segment")}$KW.Segment.initializeNewWidgets(i)}break;case"CollectionView":var o=$KU.getNodeByModel(n);if(o){if(n.needScroller){$KU.setScrollHeight(n,o);r=o.firstChild;$KW.Scroller.initialize([r],"CollectionView")}$KW.CollectionView.initializeNewWidgets(o)}break;case"HStrip":var a=$KU.getNodeByModel(n);a&&(n.viewtype==constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_STRIPVIEW&&$KW.HStrip.initializeStripView(a),n.viewtype==constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_PAGEVIEW&&($KG[a.id]=new $KW.touch.pageviewScroller(a,{widgetModel:n}),$KW.HStrip.initializePageView(n,!1,a),$KW.touch.computeWidths(a,n)),n.viewtype==constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_SLOTVIEW&&$KW.HStrip.initializeSlotView(n));break;case"ScrollBox":if(l=$KU.getNodeByModel(n)){r=l.parentNode.parentNode;$KW.Scroller.initialize([r],"ScrollBox"),$KU.setScrollHeight(n,l)}break;case"FlexScrollContainer":var l;if(l=$KU.getNodeByModel(n)){r=l.parentNode.parentNode;$KW.Scroller.initialize([r],"FlexScrollContainer"),n.reverselayoutdirection&&$KW.FlexScrollContainer.scrollToEnd(n)}break;case"Slider":var s=$KU.getNodeByModel(n);s&&($KW.Slider.attachSliderEvents(s.childNodes[0]),kony.events.addEventListener(s.parentNode,"click",$KW.Slider.slideClick));break;case"Switch":var d=$KU.getNodeByModel(n);d&&($KW.Switch.adjustWidth(n,d,!0),$KW.Switch.adjustHeight(n,d));break;case"Video":if($KU.isAndroid){var c=$KU.getNodeByModel(n);kony.events.addEventListener(c,"click",function(e){(e=e||window.event).srcElement.play()},!1)}break;case"TabPane":var u=$KU.getNodeByModel(n);if(u&&$KW.TabPane.setTabsHeight(u.id),n.needScroller&&u){$KU.setScrollHeight(n,u);r=u.parentNode.parentNode;$KW.Scroller.initialize([r],"TabPane")}break;case"Map":$KW.Map.loadMapScripts(),$KW.Map.setUpInteractiveCanvasMap(),$KW.Map.setMapsHeight(n.pf);break;case"Browser":var g=$KU.getNodeByModel(n);g&&n.needScroller&&$KU.setScrollHeight(n,g);break;case"Label":var p=$KU.getNodeByModel(n);p&&n.linespacing&&$KW.Label.updateLineHeight(n,p)}$KW.Utils.initializeGesturesForWidget(n),n.ownchildrenref&&this.initializeNewWidgets(n.ownchildrenref)}},reinitializeWidgets:function(e){for(var t=e.ownchildrenref,n=0;n<t.length;n++){var i=t[n];switch(i.wType){case"ScrollBox":var r=$KU.getNodeByModel(i);$KW.ScrollBox.updateView(i,"totalWt",i.totalWt),$KU.setScrollHeight(i,r);break;case"Slider":var o=$KU.getNodeByModel(i);$KW.Slider.imgLoad(o.childNodes[0]);break;case"Calendar":var a=$KU.getNodeByModel(i);$KW.Calendar.setCalElementStyle(a.childNodes[0],!0);break;case"Switch":var l=$KU.getNodeByModel(i);$KW.Switch.adjustWidth(i,l,!1),$KW.Switch.adjustHeight(i,l)}i.ownchildrenref&&this.reinitializeWidgets(i)}},resizeMap:function(e){var t=document.querySelector("#"+e.pf+" div[kwidgettype='googlemap']");t&&("non-native"==$KU.getModelByNode(t).mapSource&&google.maps.event.trigger($KW.Map.map,"resize"))},updateContent:function(e,t,n,i,r,o,a){var l=e[t];if("Segment"==e.wType&&e.hasSections&&l&&!["setdata","removeall"].contains(i))$KW.Segment.updateSectionContent(l,n,i,r,o);else if("CollectionView"==e.wType&&e.hasSections&&l&&!["setdata","removeall"].contains(i))$KW.CollectionView.Data.updateSectionContent(l,n,i,r,o,a);else switch(i){case"setdata":e.canUpdateUI=!1,e[t]=n,e.canUpdateUI=!0;break;case"setdataat":if(e[t]&&e[t].length,"CollectionView"==e.wType)for(var s=0;s<n.length;s++)e[t].splice(r++,1,n[s]);else e[t].splice(r,1,n);break;case"addall":var d,c=IndexJL?[null]:[];e.canUpdateUI=!1,e[t]=e[t]||c,IndexJL&&!n[0]&&n[1]&&!n[1].template&&(d=$KU.cloneObj(n)).shift(),e.canUpdateUI=!0,$KU.addArray(e[t],d||n);break;case"addat":case"adddataat":if(e[t]){var u=e[t].length-IndexJL;if(r=r<=IndexJL?IndexJL:r>u?u+1:r,$KU.isArray(n))for(s=IndexJL;s<n.length;s++)e[t].splice(r++,0,n[s]);else!e[t]||e[t].length<=IndexJL?(e[t]=IndexJL?[null]:[],e[t].push(n)):e[t].splice(r,0,n)}break;case"removeall":e.canUpdateUI=!1,e[t]=n,e.canUpdateUI=!0,"Segment"==e.wType&&"default"!=e.behavior&&(e.selectedindices=null);break;case"removeat":e[t]&&e[t].length>=r&&e[t][r]&&e[t].splice(r,1);break;case"removedataat":"CollectionView"==e.wType&&e[t]&&e[t].length>=r&&e[t][r]&&e[t].splice(r,a)}},updateContainerData:function(e,t,n,i){var r=$KU.getParentByAttribute(t,"index");if(r){var o=r.parentNode.parentNode;"GridNode"==r.getAttribute("kwidgettype")&&(o=o.parentNode.parentNode);var a=$KU.getModelByNode(o);$KW[a.wType].updateData(e,t,a,r,n,i)}else $KW.MenuContainer&&$KW.MenuContainer.eventHandler(e,t)},updateContainerMasterData:function(e,t,n,i,r){var o,a=e.widgetdatamap;a&&(a=$KU.isArray(a)?a[IndexJL]:a);var l=n;if("Segment"==e.wType||"CollectionView"==e.wType){var s,d=(o={}).sectionIndex=e.currentIndex[0];if("Segment"==e.wType){var c=o.rowIndex=e.currentIndex[1];s=$KW.Segment.getClonedModel(e,c,d)}else{var u=o.itemIndex=e.currentIndex[1];s=$KW.CollectionView.Utils.getClonedModel(e,u,d)}if(!s)return;l=$KU.getValueFromObjectByPath($KW.Utils.getWidgetPathByModel(n),s),o.widgetInfo=e}var g,p=a?a[$KW.Utils.getWidgetPathByModel(n)]:$KW.Utils.getWidgetPathByModel(n),f=t[p];f instanceof Object?("Calendar"==n.wType?$KW.Calendar.isMultiRangeCalendar(n)?f.selectedDates=n.selecteddates:f.dateComponents=n.datecomponents:"CheckBoxGroup"==n.wType?($KW.Utils.setSelectedKeys(f,i.checked,f.selectedkeys||f.selectedKeys||(1==IndexJL?[null]:[]),i.value),$KW.Utils.setSelectedValueProperty(f,f.masterData||f.masterdata,"selectedkeys"),f.selectedKeys=f.selectedkeys,f.selectedKeyValues=f.selectedkeyvalues):"RadioButtonGroup"==n.wType||"ComboBox"==n.wType?(f.selectedkey=n.selectedkey,f.selectedKey=n.selectedkey,$KW.Utils.setSelectedValueProperty(f,f.masterData||f.masterdata,"selectedkey")):"TextField"==n.wType||"TextArea"==n.wType?l.restrictcharactersset&&"input"==r?f.text=$KW.Utils.restrictCharactersSet(i,l):f.text=n.text:"Switch"==n.wType?f.selectedIndex=n.selectedindex:"Slider"==n.wType?f.selectedValue=n.selectedvalue:"ListBox"==n.wType&&(1==l.multiple?($KW.Utils.setSelectedKeysListBox(f,i),$KW.Utils.setSelectedValueProperty(f,f.masterData||f.masterdata,"selectedkeys"),f.selectedKeys=f.selectedkeys,f.selectedKeyValues=f.selectedkeyvalues):(f.selectedkey=n.selectedkey,f.selectedKey=n.selectedkey,$KW.Utils.setSelectedValueProperty(f,f.masterData||f.masterdata,"selectedkey")),l.viewType,constants.LISTBOX_VIEW_TYPE_EDITVIEW),this.updateChildModel(l,f)):("Link"==n.wType||"TextField"!=n.wType&&"TextArea"!=n.wType?"Switch"==n.wType?t[p]=n.selectedindex:"Slider"==n.wType?t[p]=n.selectedvalue:"Calendar"==n.wType&&($KW.Calendar.isMultiRangeCalendar(n)?t[p]={selectedDates:n.selecteddates,dateFormat:n.dateformat}:t[p]={dateComponents:n.datecomponents,dateFormat:n.dateformat}):t[p]=n.text,this.updateChildModel(l,t[p])),"ComboBox"==l.wType&&$KW.ComboBox.resetOption(l,i,l.masterdata),(g=l.onSelection||l.onselection?$KU.returnEventReference(l.onselection||l.onSelection):r&&$KU.returnEventReference(l[r]))&&(o?$KU.executeWidgetEventHandler(l,g,o):$KU.executeWidgetEventHandler(l,g))},updateContainerDataInDOM:function(e,t){var n=$KW.Utils.getContainerModelById(e,t);if(n&&("Segment"==n.wType||"CollectionView"==n.wType)){var i,r=$KU.getParentByAttribute(e,"index"),o=parseInt(r.getAttribute("index"));if(n.hasSections){var a=r.getAttribute("secindex").split(","),l=parseInt(a[0]),s=parseInt(a[1]);i="Segment"==n.wType?-1==s?n.data[l][IndexJL]:n.data[l][IndexJL+1][s]:"HeaderBox"==e.getAttribute("type")?n.data[l][IndexJL]:"FooterBox"==e.getAttribute("type")?n.data[l][IndexJL+2]:n.data[l][IndexJL+1][s]}else i=n.data[o];e.dataObj={data:i,map:n.widgetdatamap,containerModel:n}}},getContainerNodeByparent:function(e,t){var n=e;if(t)for(var i;n&&((i=n.id)&&(i=i.substring(i.lastIndexOf("_")+1)),i!=t);)n=n.parentNode;return n},getContainerModelById:function(e,t){for(var n="",i=this.getContainerNodeByparent(e,t);i&&"Segment"!=(n=$KU.getModelByNode(i)).wType&&"CollectionView"!=n.wType;)i=this.getContainerNodeByparent(i.parentNode,t);return n},getSegProperty:function(e){return $KU.segmentKeyMap[e]||e},getScrollerInstance:function(e){var t=(e.pf?e.pf+"_":"")+e.id+"_scroller";return e.kmasterid&&(t=$KW.Utils.getKMasterWidgetID(e)+"_scroller"),$KG[t]},updateChildModel:function(e,t){if(e.canUpdateUI=!1,t instanceof Object){if("ListBox"==e.wType&&(e.masterdata="",e.masterdatamap="",e.selectedkeys=null,!IndexJL&&(t.selectedkeys=t.selectedKeys)),t instanceof Array)"Calendar"==e.wType&&($KW.Calendar.isMultiRangeCalendar(e)?$KW.Calendar.isSelectedDatesValid(e,t)?e.selecteddates=$KW.Calendar.setTimeInDateComponents(t):kony.web.logger("error","Invalid date selection"):(e.datecomponents=t,e.date=t.slice(0,3)));else for(var n in t){var i=$KW.Utils.getSegProperty(n).toLowerCase();"disabled"==i?e[i]=!t[n]:"Calendar"==e.wType&&"selecteddates"==i&&$KW.Calendar.isMultiRangeCalendar(e)?$KW.Calendar.isSelectedDatesValid(e,t[n])?e.selecteddates=$KW.Calendar.setTimeInDateComponents(t[n]):kony.web.logger("error","Invalid date selection"):e[i]=t[n],"Image"==e.wType&&("base64"==n?e.srcType=2:"src"==n&&(e.srcType=1)),"HBox"!=e.wType&&"VBox"!=e.wType||void 0!=t.isVisible&&(e.isvisible=t.isVisible),"Calendar"==e.wType&&"datecomponents"==i&&(null==t[n]?e.date=t[n]:e.date=t[n].slice(0,3))}if(e.text){var r=e.text;/i18n.getlocalizedstring/gi.test(r)&&(e.text=$KU.getI18NValue(r))}}else"Slider"==e.wType?e.selectedvalue=t:"Switch"==e.wType?e.selectedindex=t:"Image"!=e.wType?e.text=t:(e.src=t,e.srcType=1);e.canUpdateUI=!0},updateLayoutData:function(e,t,n){if(n instanceof Object)for(var i in n)if("template"!=i&&"children"!=i&&"metaInfo"!=i){var r=i;e.widgetdatamap&&(r=kony.utils.getKey(e.widgetdatamap,i));var o=t.parent,a=o?o[r]:t[r];a&&this.updateChildModel(a,n[i])}},getClonedTemplateNode:function(e,t,n){var i=e&&e.getAttribute("kcontainerID");if(i){var r=$KW.Utils.getContainerModelById(e,i);if("CollectionView"==r.wType){var o=t.rowContext;e=$KW.CollectionView.Utils.getNodeByContext(r,{sectionIndex:o.secIndex,itemIndex:o.itemIndex},t),n&&$KW.Utils.updateClonedModelData(t,r,n)}if("Segment"==r.wType){o=t.rowContext;e=$KW.Segment.getNodeByContext(r,{sectionIndex:o.secIndex,rowIndex:o.rowIndex},t)}}return e},updateClonedModelData:function(e,t,n){var i;if("CollectionView"==t.wType){i=e.rowContext;var r,o=(r=$KW.CollectionView.Data.getRowDataByIndex(t,[i.secIndex,i.itemIndex]))[e.id];if("object"==typeof o)"FlexContainer"!=e.wTpe&&"FlexScrollContainer"!=e.wTpe||o||(o={}),o[n]=e[n];else{var a={};a[this.getDefaultProperyForContanierWidgets(e)]=o,a[n]=e[n],r[e.id]=a}}},getDefaultProperyForContanierWidgets:function(e){var t="text";return"Image"==e.wType?t="src":"Switch"==e.wType?t="selectedIndex":"Slider"==e.wType?t="selectedValue":"Calendar"==e.wType?t="dateComponents":this.isGroupWidget(e)&&(t="masterdata"),t},isGroupWidget:function(e){return["CheckBoxGroup","RadioButtonGroup","ComboBox","ListBox"].contains(e.wType)},setSelectedKeys:function(e,t,n,i){var r=$KU.inArray(n,i);t&&!r[0]?n.push(i):r[0]&&n.splice(r[1],1),e.selectedkeys=n.length>IndexJL?n:null},setSelectedKeysListBox:function(e,t){for(var n=[],i=0;i<t.children.length;i++)t.children[i].selected&&n.push(t.children[i].value);e.selectedkeys=n.length>IndexJL?n:null},setSelectedValueProperty:function(e,t,n,i){switch(n){case"selectedkey":for(var r=i||e.selectedkey,o=IndexJL;o<t.length;o++){if(r==(d=t[o][IndexJL])){e.selectedkeyvalue=t[o];break}}break;case"selectedkeys":var a=[],l=i||e.selectedkeys,s=!1;for(1==IndexJL&&(a=[null]),o=IndexJL;o<t.length;o++){var d=t[o][IndexJL];$KU.inArray(l,d)[0]&&(a.push(t[o]),s=!0)}e.selectedkeyvalues=s?a:null}},restrictCharactersSet:function(e,t){var n="",i=e.selectionStart,r=e.value[i-1];return(n=t.restrictcharactersset)&&-1!=n.indexOf(r)&&(e.value=e.value.slice(0,i-1)+e.value.slice(i,e.value.length),e.selectionStart=e.selectionEnd=i-1),e.value},getMasterData:function(e){var t=$KU.cloneObj(e.masterdata);(!t||t&&0==t.length)&&(e.masterdatamap&&(t=this.convertmap(e.masterdatamap)));if(t)if(e.needsectionheaders)for(var n,i=IndexJL;i<t.length;i++){n=t[i][1+IndexJL];for(var r=IndexJL;r<n.length;r++)t[i][1+IndexJL]&&-1!=t[i][1+IndexJL].toLowerCase().indexOf("i18n.getlocalizedstring")&&(t[i][1+IndexJL]=$KU.getI18NValue(t[i][1+IndexJL]))}else for(i=IndexJL;i<t.length;i++)t[i][1+IndexJL]&&"number"!=typeof t[i][1+IndexJL]&&-1!=t[i][1+IndexJL].toLowerCase().indexOf("i18n.getlocalizedstring")&&(t[i][1+IndexJL]=$KU.getI18NValue(t[i][1+IndexJL]));return t||[]},convertmap:function(e){var t=e.length,n=e[t-2],i=e[t-1],r=e[IndexJL],o=[];1==IndexJL&&(o=[null]);for(var a=IndexJL;a<r.length;a++){var l=r[a][n],s=r[a][i],d=r[a].accessibilityConfig;""!=s&&""!=l&&(1==IndexJL?o.push([null,l,s]):o.push(d?[l,s,d]:[l,s]))}return o},getScrolledHeight:function(){return-1!=navigator.appName.indexOf("Netscape")?pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop},getViewPortHeight:function(){return-1!=navigator.appName.indexOf("Netscape")?innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight},getViewPortWidth:function(){return-1!=navigator.appName.indexOf("Netscape")?innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth},setProgressIndicator:function(e,t){var n=$KU.getElementById("__progressdiv");n&&n.parentNode.removeChild(n);var i=$KU.getModelByNode(e),r=t&&t.skin||i&&i.skin,o=document.createElement("div");return o.setAttribute("id","__progressdiv"),o.setAttribute("progressindicator","true"),o.setAttribute("progressskin",r),o.setAttribute("style","width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;position:absolute;opacity:0.6;"),o},updateNormalImage:function(e){var t=$KU.getNodeByModel(e);if(t&&e.backgroundimage){var n=e.backgroundimage,i=$KW.Utils.getNormalImageStyle(e);n.index&&(t=document.querySelectorAll("#"+t.id)[n.index-1]);var r=$KU.getImageURL(n.imageurl);$KU.imagePreloader(r,function(e,t){return function(n){var i=(n=n||window.event).target||n.srcElement,r=$KU.getModelByNode(e),o=r.backgroundimage;if("error"==n.type&&o.imagewhenfailed){var a=$KU.getImageURL(o.imagewhenfailed),l=o.heightwidth;return e.style.background="url("+a+") no-repeat center center",void(l&&(e.style.height=l[1]+"px"))}if(e.setAttribute("style",t),e.style.display=r.isvisible?"":"none",o&&o.maintainaspectratio){var s=i.naturalHeight||i.height,d=(i.naturalWidth||i.width)/s;if(!isNaN(d)){e.setAttribute("aspect-ratio",d);var c=e.clientWidth,u=Math.round(1/d*c);e.style.height=u+"px"}}}}(t,i))}},getNormalImageStyle:function(e){var t="",n=e.backgroundimage;if(n){var i=n.maintainaspectratio,r=n.heightwidth;t+="background-image: url("+$KU.getImageURL(n.imageurl)+"); background-repeat: no-repeat; "}return i&&(t+="background-size:contain; "),r&&(t+=(i?"":" width:"+r[2]+"px;")+"height:"+r[1]+"px;"),t},convertPhoneAlphabetToNumber:function(e){var t=e.length;e=e.toLowerCase();for(var n="",i=0;i<t;i++){var r=e.charAt(i);if(n.length>10)break;switch(r){case"0":n+="0";break;case"1":n+="1";break;case"2":n+="2";break;case"3":n+="3";break;case"4":n+="4";break;case"5":n+="5";break;case"6":n+="6";break;case"7":n+="7";break;case"8":n+="8";break;case"9":n+="9";break;case"a":case"b":case"c":n+="2";break;case"d":case"e":case"f":n+="3";break;case"g":case"h":case"i":n+="4";break;case"j":case"k":case"l":n+="5";break;case"m":case"n":case"o":n+="6";break;case"p":case"q":case"r":case"s":n+="7";break;case"t":case"u":case"v":n+="8";break;case"w":case"x":case"y":case"z":n+="9"}}return n},scrollToElement:function(e,t,n,i,r){if(void 0!=i||!e||"INPUT"!=e.tagName&&"SELECT"!=e.tagName&&"TEXTAREA"!=e.tagName){var o=e&&e.getBoundingClientRect();if(!(o&&o.top>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight))){var a,l,s,d,c=!0;if(t||(t=1e3),n||(n=document.body.scrollTop),i||(i=e&&$KW.Utils.getOffset(e).top||0),l=n,s=i,a=i-n,Math.abs(a)<50){window.scrollTo(0,s);try{e&&(e.focus(),r&&$KW.TextField.setCaretPosition(e))}catch(e){}return}d=Math.round(100*a/t),n>=i&&(c=!1);var u=setInterval(function(t,n,i,o){return function(){if(n+=o,!t&&n<=i||t&&n>=i){window.scrollTo(0,i);try{e&&(e.focus(),r&&$KW.TextField.setCaretPosition(e))}catch(e){}clearInterval(u)}else window.scrollTo(0,n)}}(c,l,s,d),100)}}else try{e.focus(),r&&$KW.TextField.setCaretPosition(e)}catch(e){}},getOffset:function(e){for(var t=e.offsetLeft,n=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop;return{left:t,top:n}},initializeFormGestures:function(e){var t;if(e.headers&&e.headers.length>0)for(t=0;t<e.headers.length;t++)$KW.Utils.initializeGestures(e.headers[t]);if($KW.Utils.initializeGestures(e),e.footers&&e.footers.length>0)for(t=0;t<e.footers.length;t++)$KW.Utils.initializeGestures(e.footers[t])},initializeGestures:function(e){$KW.Utils.initializeGesturesForWidget(e);for(var t=e.children,n=0;n<t.length;n++){var i=e[t[n]];(i=$KW.Utils.getActualWidgetModel(i))&&i.children&&0!=i.children.length?$KW.Utils.initializeGestures(i):$KW.Utils.initializeGesturesForWidget(i)}},initializeGesturesForWidget:function(e){if("Segment"==e.wType||"CollectionView"==e.wType)$KW.Utils.initializeContainerGestures(e);else{var t=$KU.getNodeByModel(e);$KW.Utils.addGesturesToWidget(e,t)}},initializeContainerGestures:function(e){var t,n,i=e.clonedTemplates;if(e.hasSections)for(var r=0;r<i.length;r++){var o=i[r];o[0]&&(t=o[0],"Segment"===e.wType?n=$KW.Segment.getNodeByContext(e,t.rowContext,t):"CollectionView"===e.wType&&(n=$KW.CollectionView.Utils.getNodeByContext(e,t.rowContext,t)),n&&$KW.Utils.processContainerGestures(t,n));for(var a=0;a<o[1].length;a++)t=o[1][a],"Segment"===e.wType?n=$KW.Segment.getNodeByContext(e,t.rowContext,t):"CollectionView"===e.wType&&(n=$KW.CollectionView.Utils.getNodeByContext(e,t.rowContext,t)),n&&$KW.Utils.processContainerGestures(t,n);"CollectionView"===e.wType&&o[2]&&(t=o[2],(n=$KW.CollectionView.Utils.getNodeByContext(e,t.rowContext,t))&&$KW.Utils.processContainerGestures(t,n))}else for(r=0;r<i.length;r++)t=i[r],"Segment"===e.wType?n=$KW.Segment.getNodeByContext(e,t.rowContext,t):"CollectionView"===e.wType&&(n=$KW.CollectionView.Utils.getNodeByContext(e,t.rowContext,t)),n&&$KW.Utils.processContainerGestures(t,n)},processContainerGestures:function(e,t){var n=t.querySelector("#"+$KW.Utils.getKMasterWidgetID(e));n&&$KW.Utils.addGesturesToWidget(e,n);for(var i=e.children,r=0;r<i.length;r++){var o=e[i[r]];(o=$KW.Utils.getActualWidgetModel(o))&&o.children&&0!=o.children.length?$KW.Utils.processContainerGestures(o,t):(n="Calendar"==o.wType?t.querySelector("div[kwidgetid = "+$KW.Utils.getKMasterWidgetID(o)+"]"):t.querySelector("#"+$KW.Utils.getKMasterWidgetID(o)))&&$KW.Utils.addGesturesToWidget(o,n)}},addGesturesToWidget:function(e,t){$KW.Utils.applyGesturestoDOM(e,t),$KW.Utils.applyTouchestoDOM(e,t)},applyGesturestoDOM:function(e,t){var n=e.gestures;if("Image"===e.wType&&e.zoomenabled?(e.pinchRecognizer&&(e.pinchRecognizer.instance.removePinch(),delete e.pinchRecognizer),e.pinchRecognizer={instance:new kony.gestures.imagePinchZoom},e.pinchRecognizer.instance.registerPinch(e),$KW.Image.registerLongPress(e)):e.widgetswipemove&&(e.panRecognizer&&(e.panRecognizer.instance.removePan(),delete e.panRecognizer),e.swipeConfig=new $KW.Segment.registerSwipeGesture(e,t),e.panRecognizer={instance:new kony.gestures.pan},e.panRecognizer.instance.registerPan(e,t)),n)for(var i in n){var r=n[i];if(r)for(var o in r){var a=r[o];$KW.Utils.removegesture(e,a.gestureType,!1,a.gestureIdentifier,a.gestureObj),new $KW.touch.gesture(e,a)}}},applyTouchestoDOM:function(e,t){var n=e.touches;if(t&&n)for(var i in n){var r=n[i];if(r)if("DataGrid"==e.wType)for(var o=document.querySelectorAll("#"+$KW.Utils.getKMasterWidgetID(e)),a=0;a<o.length;a++)0!=a&&($KW.Utils.removetouch(e,i,!1),e.touches[i].instance=new $KW.touch.TouchEvents(e,o[a],i,r.callback));else $KW.Utils.removetouch(e,i,!1),e.touches[i].instance=new $KW.touch.TouchEvents(e,t,i,r.callback)}},updateModelWithGesture:function(e,t,n,i){e||(e=$KG),e.gestures||(e.gestures={});var r=1==t?1==n.taps?10:11:t;e.gestures[r]||(e.gestures[r]=[]);var o={gestureObj:n,callback:i,gestureType:t};return o.gestureIdentifier=Math.round((new Date).valueOf()*Math.random())+"",e.gestures[r][o.gestureIdentifier]=o,o},removegesture:function(e,t,n,i,r){var o=1==t?1==r.taps?10:11:t;if(e.gestures&&e.gestures[o]){var a=e.gestures[o];if(i&&"string"==typeof i)return a[i].instance.removeGesture(t,n),void(n&&delete a[i]);for(var l in a)try{a[l].instance.removeGesture(t,n)}catch(e){console&&console.error&&kony.web.logger("error","unable to remove Gesture "+e)}n&&(e.gestures[o]=[])}},updateModelWithTouches:function(e,t,n){e||(e=$KG),e.touches||(e.touches={}),e.touches[t]=n?{callback:n}:void 0},removetouch:function(e,t,n){e.touches&&e.touches[t]&&e.touches[t].instance&&e.touches[t].instance.removeTouch&&e.touches[t].instance.removeTouch(t,n)},initializeScrollEvents:function(e,t){for(var n=null,i=0;i<e.length;i++){var r=e[i];(n=t||$KU.getModelByNode(r)).scrollInstance=new $KW.touch.TouchEvents(n,r,"scroll")}},scrollInterface:function(){var e=this,t=!0,n={scrollLeft:NaN,scrollTop:NaN,clientHeight:NaN,clientWidth:NaN},i="scrollLeft",r="scrollTop",o="clientHeight",a="clientWidth",l={getScrollX:function(){return n[i]},getScrollY:function(){return n[r]},getClientH:function(){return n[o]},getClientW:function(){return n[a]}};return function(){return t&&("number"==typeof e.pageXOffset?(n=e,r="pageYOffset",i="pageXOffset",o="innerHeight",a="innerWidth"):"string"==typeof document.compatMode&&document.compatMode.indexOf("CSS")>=0&&document.documentElement&&"number"==typeof document.documentElement.scrollLeft?n=document.documentElement:document.body&&"number"==typeof document.body.scrollLeft&&(n=document.body),t=!1),l}}()(),handleLayout:function(e,t,n){var i=e.context,r=i.tabpaneID;i.container=e,i.template_generator=t,i.tabpaneID="",t.pf||_konyConstNS.Form2.addHeaderorFooter.call(t,t),t.isTemplate=!0;var o=owl.deepCopy(t,null,!1);$KW.Utils.updateLayoutData(e,o,n),i.setTopLevelBox(!0);var a=$KW[o.wType].render(o,i);return i.setTopLevelBox(!1),i.tabpaneID=r,i.container="",i.template_generator="",a},getContainerModel:function(e,t){if(!e&&!t)return null;var n;return t||(t=$KU.getNodeByModel(e)),n=t&&t.getAttribute("kcontainerID"),$KW.Utils.getContainerModelById(t,n)},belongsToSegment:function(e){var t=e&&e.getAttribute("kcontainerID");if(t&&"Segment"==$KW.Utils.getContainerModelById(e,t).wType)return!0;return!1},isBelongsToCollectionView:function(e,t){var n=(t=t||$KU.getNodeByModel(e))&&t.getAttribute("kcontainerID");if(n&&"CollectionView"==$KW.Utils.getContainerModelById(t,n).wType)return!0;return!1},setScrollWidth:function(e,t){var n="arrows"==e.scrollbar?t.childNodes[1]:t.childNodes[0];n.style.width=n.clientWidth-parseInt($KU.getStyle(t,"padding-right").replace("px",""),10)-parseInt($KU.getStyle(t,"padding-left").replace("px",""),10)+"px";var i=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"];i&&i.refresh()},getTemplateByContainerModelAndRowData:function(e,t,n,i){if("MenuContainer"==e.wType)return t.template||e.menutemplate;if("Segment"==e.wType)return n?e.sectionheadertemplate:t.template||e.rowtemplate;if("DataGrid"==e.wType&&e.selectedIndex>=IndexJL){var r=e.columnheadersconfig[e.selectedcellindex[0]];return"0"==i?r.columnheadertemplate.template:r.columndatatemplate}},getRowDataByContainerModelAndIndex:function(e,t){return"MenuContainer"===e.wType?$KW.MenuContainer.getDetails(e,t,"item"):"Segment"===e.wType?$KW.Segment.getRowDataByIndex(e,t):void e.wType},getIndexAttrNameByContainerModel:function(e){return"MenuContainer"===e.wType?"menuindex":"Segment"===e.wType?"index":"DataGrid"===e.wType?"index":void 0},getOffsetParent:function(e){for(var t=e.offsetParent||document.documentElement;t&&(!e.nodeName||"html"!=e.nodeName.toLowerCase())&&"static"===$KU.getStyle(e,"position");)t=t.offsetParent;return t||document.documentElement},getOffset:function(e){var t,n,i={top:0,left:0};return t=this.getOffsetParent(e),n=this.getPosition(e),(i=this.getPosition(t)).top+=$KU.getStyle(t,"borderTopWidth"),i.left+=$KU.getStyle(t,"borderLeftWidth"),{top:n.top+t.scrollTop-i.top,left:n.left+t.scrollLeft-i.left}},getPosition:function(e){var t={top:0,left:0},n=document.documentElement;return void 0!==e.getBoundingClientRect&&(t=e.getBoundingClientRect()),{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}},resetScrollTopToContainer:function(e){if(!$KG.nativeScroll){var t=e?e.target:document.activeElement,n=$KU.closestElement(t,"kwidgettype","KFlexScrollContainer");if(n||(n=$KU.closestElement(t,"kwidgettype","KFormScroller")),n&&n.scrollTop>0){var i=$KG[n.id],r=n.scrollTop;n.scrollTop=0,i.animateTo(i.x,-r)}}},focusBringToView:function(e){if(!$KG.nativeScroll&&!$KU.isIDevice){var t=e?e.target:document.activeElement;this.bringToView(t)}},bringToView:function(e,t){if(e){var n=$KW.FlexUtils.isFlexWidget($KU.getModelByNode(e))?"FlexScrollContainer":"ScrollBox",i=kony.utils.Rectangle,r=$KG.__currentForm.id,o=$KG.allforms[r].header,a=$KG.allforms[r].footer;t&&$KW.Scroller.checkDOMChanges(r+"_scroller",o,a),kony.web.logger("log",$KG[$KG.__currentForm.id+"_scroller"].wrapperH);for(var l=e;;){var s=$KU.closestElement(l,"kwidgettype",n),d=s?$KG[s.id+"_scroller"]:$KG.__currentForm?$KG[$KG.__currentForm.id+"_scroller"]:"";if(!d)return;t&&(d._checkDOMChanges(),d.refresh()),kony.web.logger("log","found");var c=d.wrapper;c.scrollTop>0&&(kony.web.logger("log","scrolltop value found"),c.scrollTop=0),c.scrollLeft>0&&(c.scrollLeft=0);var u=c.getBoundingClientRect(),g=e.getBoundingClientRect(),p=new i(u.left,u.top,u.width,u.height),f=new i(g.left,g.top,g.width,g.height);if(!p.contains(f)){var m=0,y=0;(m=g.top-u.top)>0?(m=d.y-m+0,m=Math.max(d.maxScrollY,m)):(m=d.y-m+0,m=Math.min(m,0)),(y=g.left-u.left)>0?(y=d.x-y+0,y=Math.max(d.maxScrollX,y)):(y=d.x-y+0,y=Math.min(y,0)),d.scrollTo(y,m)}if(!s)return;l=c}}},getCursorStyle:function(e){var t=e.cursortype;if(t)return null!=t.match(/([.]+)/)?"url("+$KU.getImageURL(t)+") ,auto":t},getBoxShadowStyle:function(e){var t="#000000";if(void 0==e.shadowradius&&(void 0==e.shadowoffset||e.shadowoffset&&void 0==e.shadowoffset.x&&void 0==e.shadowoffset.y))return"";var n=(e.shadowoffset&&e.shadowoffset.x||0)+"px ",i=(e.shadowoffset&&e.shadowoffset.y||0)+"px ",r=(e.shadowradius||0)+"px ";e.shadowcolor&&($KW.skins.validateHexValue(e.shadowcolor)&&(t=$KW.skins.convertHexValuetoRGBA(e.shadowcolor)));return n+i+r+t},getAnchorPoint:function(e){if(e&&e.anchorpoint){var t=e.anchorpoint;if(t)return t.x<0||t.x>1||t.y<0||t.y>1?"":$KU.cssPrefix+"transform-origin:"+100*t.x+"% "+100*t.y+"%; "}return""},getView:function(e,t){if(!e)return null;var n,i=e.tabId,r=e.id;if(n=e.kmasterid?e.pf+"_"+e.kmasterid+"_"+r:i?e.pf+"_"+i+"_"+r:(e.pf?e.pf+"_":"")+r,"Calendar"==e.wType)return t?t.querySelector("div[kwidgetid="+n+"]"):document.querySelector("div[kwidgetid="+n+"]");var o=t?t.querySelector("#"+n):document.getElementById(n);return!o&&$KU.isAndroid&&(o=t?t.querySelectorAll("#"+n)[0]:document.getElementById(n)),o},getWidgetNode:function(e,t){if(!e)return null;var n,i=e.tabId,r=e.id;if(n=e.kmasterid?e.pf+"_"+e.kmasterid+"_"+r:i?e.pf+"_"+i+"_"+r:(e.pf?e.pf+"_":"")+r,"Calendar"==e.wType)return t?t.querySelector("div[kwidgetid="+n+"]"):document.querySelector("div[kwidgetid="+n+"]");var o=t?t.querySelector("#"+n):document.getElementById(n);return!o&&$KU.isAndroid&&(o=t?t.querySelectorAll("#"+n)[0]:document.getElementById(n)),$KW.Utils.getWidgetNodeFromNodeByModel(e,o)},getWidgetNodeFromNodeByModel:function(e,t){if(t){var n={ScrollBox:3,TabPane:2,Segment:2,Image:1,Slider:2,FlexContainer:1,FlexScrollContainer:2};"Segment"==e.wType&&e.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&(n.Segment=3),"Image"==e.wType&&e.zoomenabled&&(n.Image=3);for(var i=void 0===n[e.wType]?0:n[e.wType];i>0;--i)t=t.parentNode;return t}return null},getContentNodeFromNodeByModel:function(e){var t=$KU.getNodeByModel(e);if(t){for(var n=t,i={CollectionView:2,Browser:2},r=void 0===i[e.wType]?0:i[e.wType];r>0;--r)n=n.firstChild;return n}},getWidgetIndex:function(e){var t=e.parent;if(t)for(var n=t.widgets(),i=0;i<n.length;i++)if(e.id==n[i].id)return i;return-1},getClonedModelByContainer:function(e,t,n){return"CollectionView"==$KW.Utils.getContainerModelById(t,n).wType?$KW.CollectionView.Utils.getClonedModelOfWidget(e,t,n):$KW.Segment.getClonedModelOfWidget(e,t,n)},getClonedModelByContainerUsingIndex:function(e,t,n){return"CollectionView"==e.wType?clonedModel=$KW.CollectionView.Utils.getClonedModel(e,t,n):clonedModel=$KW.Segment.getClonedModel(e,t,n),clonedModel},getMirrorAlignment:function(e){return{1:constants.CONTENT_ALIGN_TOP_RIGHT,2:constants.CONTENT_ALIGN_TOP_CENTER,3:constants.CONTENT_ALIGN_TOP_LEFT,4:constants.CONTENT_ALIGN_MIDDLE_RIGHT,5:constants.CONTENT_ALIGN_CENTER,6:constants.CONTENT_ALIGN_MIDDLE_LEFT,7:constants.CONTENT_ALIGN_BOTTOM_RIGHT,8:constants.CONTENT_ALIGN_BOTTOM_CENTER,9:constants.CONTENT_ALIGN_BOTTOM_LEFT}[e]},getMirroredMarginPadding:function(e){var t;return t=e[0],e[0]=e[2],e[2]=t,e}},$KW.WidgetGenerationContext=function(e){this.formID=e,this.topLevelBox=null},$KW.WidgetGenerationContext.prototype.setTopLevelBox=function(e){this.topLevelBox=e},$KW.unLoadWidget=function(){var e=document.querySelector('[selected="progress"]')||document.querySelector('[selected="progressindtr"]');e&&e.removeAttribute("selected"),(e=document.querySelector('[progressindicator="true"]'))&&e.parentNode.removeChild(e),$KW.skins.removeBlockUISkin();var t=$KG[kony.constants.SELECTED_ITEM];if(t){var n=$KU.getElementById(t.kWidgetID),i=t.kEventHandler;i&&i(n)}delete $KG[kony.constants.SELECTED_ITEM]},$KW.Advertisement={render:function(e,t){return""}},$KW.SeatMap={render:function(e,t){return""}},$KW.MenuItem={render:function(e,t){return""}},$KW.TPW={render:function(e,t){var n="";if("object"==typeof e){var i=e.pf+"_"+e.id;$KU.addThirdPartyMeta({id:i,tpwModel:e});var r=$KU.getWidgetTypeByNameSapce(e.widgetName),o=$KW.skins.getWidgetSkin(e,t)+" "+$KW.skins.getMarPadAdjustedContainerWeightSkin(e,100),a="";return a+=$KW.skins.getMarginSkin(e,t)+" "+$KW.skins.getPaddingSkin(e),0!=e.isvisible&&"false"!=!e.isvisible&&0!=e.isVisible&&"false"!=!e.isVisible||(a+="display:none;"),n+="<div id='"+i+"' class='"+o+"' tpwidgettype='"+r+"' style='"+a+"'></div>"}},renderWidget:function(e){if($KG.thirdPartyWidgetsMeta)for(var t in $KG.thirdPartyWidgetsMeta){var n=document.getElementById($KG.thirdPartyWidgetsMeta[t].id);if(n&&$KG.thirdPartyWidgetsMeta[t].tpwModel.pf==e){for(var i=$KG.thirdPartyWidgetsMeta[t].tpwModel,r=i.widgetName.split("."),o=window,a=0;a<r.length;a++)o=o[r[a]];o&&"function"==typeof o.initializeWidget&&o.initializeWidget(n,i)}}}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){null==t?t=0:t<0&&(t=Math.max(0,this.length+t));for(var n=t,i=this.length;n<i;n++)if(this[n]===e)return n;return-1});
$KW.skins=function(){var e={getBaseStyle:function(t,n){var i="";t.backgroundColor&&(e.validateHexValue(t.backgroundColor)&&(i+="background : "+e.convertHexValuetoRGBA(t.backgroundColor)+"; "));t.borderColor&&(e.validateHexValue(t.borderColor)&&(i+="border-color : "+e.convertHexValuetoRGBA(t.borderColor)+"; "));return t.borderWidth&&(i+="border-width : "+t.borderWidth+"px; "),t.cornerRadius&&(i+="border-radius : "+t.cornerRadius+"px; "),t.cursortype&&(i+="cursor : "+$KW.Utils.getCursorStyle(t)),"DataGrid"!=t.wType&&(i+=e.getMarginSkin(t,n)),"Browser"!=t.wType&&"Segment"!=t.wType&&"FlexContainer"!=t.wType&&"FlexScrollContainer"!=t.wType&&(i+=e.getPaddingSkin(t)),i+=this.getBlurStyle(t)},getMarginSkin:function(e,t){if($KW.FlexUtils.isFlexWidget(e))return"";t=t||{};var n=e.parent,i=e.margin;return $KG.appbehaviors&&1==$KG.appbehaviors.applyMarginPaddingInBCGMode?$KU.isArray(i)?"margin:"+$KU.joinArray(i,"% ")+"%;":"margin:0;":!n||"HBox"==n.wType&&0==t.ispercent||"HBox"!=n.wType&&("ScrollBox"!=n.wType||n.orientation!=constants.BOX_LAYOUT_HORIZONTAL)?$KU.isArray(i)?"margin:"+$KU.joinArray(i,"% ")+"%;":"margin:0;":""},getChildMarginAsPaddingSkin:function(e){var t=$KU.getParentModel(e);if(1==$KG.appbehaviors.applyMarginPaddingInBCGMode)return"";var n=e.margin,i=0;if($KU.isArray(n)&&t&&"ScrollBox"==t.wType&&t.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var r=t.totalWt;i<4;)n[i]=r&&100*n[i]/r,i++;return"padding:"+$KU.joinArray(n,"% ")+"%;"}return $KU.isArray(n)?"padding:"+$KU.joinArray(n,"% ")+"%;":""},getPaddingSkin:function(e){if("DataGrid"!=e.wType&&($KW.FlexUtils.isFlexContainer(e)||$KW.FlexUtils.isFlexWidget(e)))return"";if("ListBox"==e.wType||"ComboBox"==e.wType)return"padding:0% ";var t=e.parent,n=e.padding,i=e.margin;if(void 0!==$KG.appbehaviors.parentLevelPadding&&1!=$KG.appbehaviors.parentLevelPadding||0!=$KG.appbehaviors.applyMarginPaddingInBCGMode||null==t||"HBox"!=t.wType||1!=t.percent||e.id==e.pf)return $KU.isArray(n)?"padding:"+$KU.joinArray(n,"% ")+"%;":"padding:0%;";if(n&&$KU.isArray(n)&&i&&$KU.isArray(i)){for(var r=100/(e.containerweight-(parseInt(i[0+IndexJL])+parseInt(i[2+IndexJL]))),a=[],o=e.padding,l=0;l<o.length;l++)a[l]=o[l]*r;return"padding:"+$KU.joinArray(a,"% ")+"%;"}},setMarginPadding:function(t,n,i,r,a){if(t=$KW.Utils.getWidgetNode(i)){"number"!=typeof a&&(a=100);var o=e.getMarPadAdjustedContainerWeightSkin(i,a);t.className=t.className.replace(/\kwt/g,"_");var l=i.parent;$KG.appbehaviors&&0==$KG.appbehaviors.applyMarginPaddingInBCGMode&&l&&l.percent&&("HBox"==l.wType||"ScrollBox"==l.wType&&l.orientation==constants.BOX_LAYOUT_HORIZONTAL)?($KU.addClassName(t,"kwt100"),n="padding",(t=t.parentNode).style[n]=$KU.joinArray(r,"% ")+"%"):(("HBox"!=l.wType&&"ScrollBox"!=l.wType||l.percent)&&$KU.addClassName(t,o),t.style[n]=$KU.joinArray(r,"% ")+"%")}},getMarAdjustedContainerWeightSkin:function(t,n){var i=n||("HBox"==t.wType?"100":t.containerweight);if(i){var r=t.margin;return r&&(i-=parseInt(r[0+IndexJL])+parseInt(r[2+IndexJL])),e.addWidthRule(i),"kwt"+i}return"kwt100"},addWidthRule:function(t){if(t>100&&-1==$KG.cwtexists.indexOf(t)){$KG.cwtexists.push(t);var n=window.document.styleSheets,i=e.getKonyStyleSheetIndex(n);if(-1!=i){var r=n[i],a=r.cssRules||r.rules;r.insertRule?r.insertRule(".kwt"+t+"{width:"+t+"%;}",a.length):r.addRule(".kwt"+t,"width:"+t+"%;")}}},getMarPadAdjustedContainerWeightSkin:function(e,t){var n=t||e.containerweight;if(!n)return"kwt100";try{var i=e.margin;return i&&(n-=parseInt(i[0+IndexJL])+parseInt(i[2+IndexJL])),"kwt"+n}catch(e){kony.web.logger("error","Error occured in getting container weight "+e)}},getWidgetSkin:function(e,t){var n;if(t&&t.container&&t.container.widgetsData){var i=t.container.widgetsData[e.id];i&&i.skin&&(n=i.skin)}return n||e.skin||this.getDefaultSkin(e)||""},getDefaultSkin:function(e){var t="";return"Link"!=e.wType&&"Label"!=e.wType&&"Button"!=e.wType&&"DataGrid"!=e.wType&&"RichText"!=e.wType&&"CheckBoxGroup"!=e.wType&&"RadioButtonGroup"!=e.wType&&"ComboBox"!=e.wType&&"ListBox"!=e.wType&&"Switch"!=e.wType||(t="konycustomcss"),t},getWidgetSkinList:function(e,t,n){var i=[];return t=t||{},i.push(this.getWidgetWeight(e,t)),i.push(this.getWidgetSkin(e,t)),-1!=["Calendar","Label"].indexOf(e.wType)&&$KW.FlexUtils.isFlexWidget(e)&&i.push(this.getFlexContentAlignmentSkin(e.contentalignment)),i.push(this.getWidgetSelectionSkin(e)),$KW.FlexUtils.isFlexWidget(e)||$KW.Utils.isWidgetVisible(e,t)&&!(n&&n.length<=IndexJL)||i.push("hide"),i.join(" ")},getVisibilitySkin:function(e){return $KW.FlexUtils.isFlexWidget(e)||e.isvisible?"":" hide "},getWidgetWeight:function(t,n){var i=t.parent;return i&&("HBox"==i.wType||"ScrollBox"==i.wType)&&0==i.percent||$KW.FlexUtils.isFlexWidget(t)?"":i&&$KG.appbehaviors&&0==$KG.appbehaviors.applyMarginPaddingInBCGMode&&"HBox"==i.wType?"kwt100":e.getMarAdjustedContainerWeightSkin(t,100)},getWidgetSelectionSkin:function(e){return"Label"==e.wType||"Button"==e.wType||"Line"==e.wType||"Link"==e.wType||"Switch"==e.wType||"ListBox"==e.wType||"CheckBoxGroup"==e.wType||"ComboBox"==e.wType||"RadioButtonGroup"==e.wType||"Calendar"==e.wType?"Label"==e.wType&&e.textCopyable?"enableSelection":"disableSelection":""},getSplitSkinsBetweenWidgetAndParentDiv:function(t,n){var i=new Array,r="";r="HBox"==t.wType||"VBox"==t.wType?this.getMarPadAdjustedContainerWeightSkin(t,100):e.getMarAdjustedContainerWeightSkin(t,100);var a=this.getWidgetSkin(t,n);return i[0]="   "+a+" ",i[1]=r,i[2]="   "+a+" "+r,i},getWidgetAlignmentSkin:function(e){var t="IGallery"==e.wType?"middleleftalign":"middlecenteralign";return"HBox"==e.wType||"ScrollBox"==e.wType?this.getBoxAlignment(e):this.getAlignment(e.widgetalign||e.widgetalignment)||t},getBlurStyle:function(e){var t="",n=e.flexblur,i=!!n&&n.enabled,r=i?n.value:0;return i&&(r=r<0?0:r>100?100:r)&&(t="filter:blur("+r+"px);"),t},getAlignment:function(e){switch(parseInt(e)){case 1:return"topleftalign";case 2:return"topcenteralign";case 3:return"toprightalign";case 4:return"middleleftalign";case 5:return"middlecenteralign";case 6:return"middlerightalign";case 7:return"bottomleftalign";case 8:return"bottomcenteralign";case 9:return"bottomrightalign"}return""},getFlexContentAlignmentSkin:function(e){switch(parseInt(e)){case 1:return"cnttopleftalign";case 2:return"cnttopcenteralign";case 3:return"cnttoprightalign";case 4:return"cntmiddleleftalign";case 5:return"cntmiddlecenteralign";case 6:return"cntmiddlerightalign";case 7:return"cntbottomleftalign";case 8:return"cntbottomcenteralign";case 9:return"cntbottomrightalign"}return""},getContentAlignment:function(e,t){t=t||e.contentalignment;if("DataGrid"==e.wType)return this.getAlignment(t);switch(parseInt(t)){case 1:case 4:case 7:return"left";case 2:case 5:case 8:return"center";case 3:case 6:case 9:return"right"}return"left"},getBoxAlignment:function(e){var t="middlecenteralign";if("VBox"==e.wType)switch(parseInt(e.widgetdirection)){case 0:t="topcenteralign";break;case 1:t="middlecenteralign";break;case 2:t="bottomcenteralign"}else switch(parseInt(e.widgetdirection)){case constants.BOX_LAYOUT_ALIGN_FROM_LEFT:t="middleleftalign";break;case constants.BOX_LAYOUT_ALIGN_FROM_CENTER:t="middlecenteralign";break;case constants.BOX_LAYOUT_ALIGN_FROM_RIGHT:t="middlerightalign"}return t},validateHexValue:function(e){return/(^[0-9A-F]{8}$)|(^[0-9A-F]{6}$)/i.test(e)},convertHexValuetoRGBA:function(e){var t=e.charAt(0)+e.charAt(1),n=e.charAt(2)+e.charAt(3),i=e.charAt(4)+e.charAt(5),r=0;return 6==e.length?"#"+t+n+i:(e.length>6&&e.length<=8&&(r=e.charAt(6)+e.charAt(7)),"rgba("+(t=parseInt(t,16))+","+(n=parseInt(n,16))+","+(i=parseInt(i,16))+","+(r=((100-parseInt(r,16))/100).toFixed(2))+")")},applyBlockUISkin:function(e){var t=$KW.Utils.getScrolledHeight(),n=$KW.Utils.getViewPortHeight();n=n/2+t;var i=$KW.Utils.getViewPortWidth();i/=2;var r=void 0,a=void 0,o=void 0;if(!e){if(!$KG.blockedSkinModel)return;if(!(r=$KU.getElementById("blurDiv")))return void(console&&console.error&&kony.web.logger("error","wrong call . look into it"));e=$KG.blockedSkinModel,a=$KG.blockedSkinWidth,o=$KG.blockedSkinHeight}var l=r||document.createElement("div");$KG.blockedSkinModel=e,l.id="blurDiv",l.className=e.blockeduiskin;window.innerHeight,screen.availHeight;l.style.backgroundImage="none",!r&&document.body.appendChild(l);var s=l||$KU.getElementById("blurDiv");l.style.backgroundImage="";var d,c=$KU.getStyle(s,"font-family"),g=o||$KU.getStyle(s,"height"),u=a||$KU.getStyle(s,"width");if(o||($KG.blockedSkinHeight=g),a||($KG.blockedSkinWidth=u),g=g.replace("px",""),u=u.replace("px",""),l.style.width="100%",$KG.nativeScroll){var p=document.getElementById("__MainContainer").clientHeight;d=p<(window.innerHeight||document.body.clientHeight)?(window.innerHeight||document.body.clientHeight)+"px":p+"px"}else d="100%";if(l.style.height=d,"Sans-Serif"==c)s.style.backgroundImage="","auto"!=u&&(s.style.backgroundPosition=i-u/2+"px "+t+"px");else if("Verdana"==c)"auto"!=u&&(s.style.backgroundPosition=i-u/2+"px "+(n-g/2)+"px");else{var y=$KW.Utils.getViewPortHeight()+t;"auto"!=u&&(s.style.backgroundPosition=i-u/2+"px "+(y-g)+"px")}},removeBlockUISkin:function(){$KG.blockedSkinModel=void 0,$KG.blockedSkinWidth=$KG.blockedSkinHeight=void 0;var e=$KU.getElementById("blurDiv");e&&e.parentNode.removeChild(e)},updateDOMSkin:function(e,t,n,i){if("Phone"==e.wType){var r=i.childNodes[0];$KU.removeClassName(r,n),$KU.addClassName(r,t)}if("Switch"==e.wType)if($KW.Switch.isCustomSwitch(e)){var a=["on","off"][e.selectedIndex],o=i.childNodes[0];$KU.removeClassName(o,n+a),$KU.addClassName(o,t+a)}else{var l=i.childNodes[0];$KU.removeClassName(l,n+"on"),$KU.addClassName(l,t+"on");var s=i.childNodes[2];$KU.removeClassName(s,n+"off"),$KU.addClassName(s,t+"off")}if("ScrollBox"==e.wType)for(;i.parentNode.id!=$KW.Utils.getKMasterWidgetID(e)+"_parent";)i=i.parentNode;$KU.removeClassName(i,n),$KU.addClassName(i,t)},updateFocusSkin:function(t,n){if(1==t.isCloned&&$KW.Utils.isBelongsToCollectionView(t)){var i=$KW.Utils.getContainerModel(t);$KW.CollectionView.Skin.applyWidgetFocusSkin(null,t,i)}else{var r,a,o,l=t[n];"TabPane"===t.wType&&(l=t.activefocusskin);var s="#"+$KW.Utils.getKMasterWidgetID(t);switch(t.wType){case"TextArea":case"RichText":case"TextField":a=s;break;case"RadioButtonGroup":case"CheckBoxGroup":a=s+">div";break;case"DataGrid":a=s+" tbody tr";break;case"Segment":a=s+" [index]";break;case"Calendar":a=s;break;case"HStrip":case"IGallery":a=s+"_img";break;case"TabPane":t.viewtype&&"tabview"===t.viewtype?(l+="lia",r=t.activefocusskin+"li",a=s+"_Header li a",o=s+"_Header li"):a=s+" div[active]";break;case"MenuContainer":a=s+" .KMenu li > div";break;case"Link":a=s;break;default:a=s}var d="focusskin"==n||"rowfocusskin"==n?":active":":hover";$KU.isBlackBerryNTH||"TextArea"!=t.wType&&"TextField"!=t.wType||(d=":focus"),a+=d,e.applyStyle(l,a,t.wType),"MenuContainer"==t.wType&&e.applyStyle(l,s+" .KMenu li td > div:hover",t.wType),t.viewtype&&"tabview"==t.viewtype&&(o+=d,e.applyStyle(r,o))}},applyStyle:function(t,n,i){var r=window.document.styleSheets,a=e.getKonyStyleSheetIndex(r);if(-1!=a){var o=r[a],l=e.getClassIndex(o,t,i);if(e.removeCSSRule(o,n,i),-1!=l){var s=o.cssRules||o.rules;o.insertRule?o.insertRule(n+"{"+s.item(l).style.cssText+"}",s.length):o.addRule(n,s.item(l).style.cssText)}else kony.print("Specified skin: "+t+" is  not defined in kony.css")}else kony.print("Style class not found!")},removeCSSRule:function(t,n){var i=e.getClassIndex(t,n);-1!=i&&(t.deleteRule?t.deleteRule(i):t.removeRule(i))},getKonyStyleSheetIndex:function(e){for(var t=$KG.imagecat,n=0;n<e.length;n++){var i=e[n].href;if(i){var r=i&&i.split("/"),a=r[r.length-1];if(a&&-1!=a.indexOf("kony")&&-1==a.indexOf("konyspaiphoneretina")){if(!t)return n;if(i.match(t.substring(0,t.length-1)+".css"))return n}}}return kony.web.logger("warn","SPA Stylesheet could not be loaded"),-1},getClassIndex:function(e,t){-1==t.indexOf("#")&&(t="."+t);for(var n=e.cssRules||e.rules,i=0;i<n.length;i++)if(n[i].selectorText==t)return i;return-1}};return e}();
$KW.FlexUtils=function(){var e={getPreferredSize:function(e,t){var i={width:0,height:0},n=$KW.Utils.getWidgetNode(e);if(n&&t){i.width=this.getPreferredWidth(e,n,t.width),i.height=this.getPreferredHeight(e,n,t.height);var r=n.parentNode;r.style.maxWidth=r.style.maxHeight=""}return i},getPreferredWidth:function(t,i,n,r){var o=i.parentNode,a=o.style.width;"Label"==t.wType&&(i=i.childNodes[0]);var l=e.getDefaultWidth(t);if(o.style.width=l||"auto",n!=Number.MAX_VALUE&&(o.style.maxWidth=n+"px"),!l){var d=i.style.whiteSpace;i.style.whiteSpace="nowrap",i.style.whiteSpace=o.offsetWidth>=Math.floor(n)?"pre-wrap":"nowrap"}var g=o.offsetWidth;return 0==r&&(o.style.width=a,l||(i.style.whiteSpace=d)),g},getPreferredHeight:function(t,i,n,r){var o,a,l,d=i.parentNode,g=d.style.height,s=e.getDefaultHeight(t);if("Segment"==t.wType&&t.viewtype==constants.SEGUI_VIEW_TYPE_TABLEVIEW&&t.autogrowMode==kony.flex.AUTOGROW_HEIGHT&&(s="auto",n==Number.MAX_VALUE)){t.needScroller=!1;var h=$KG[i.id];h&&h.destroy()}if("FlexContainer"==t.wType&&t.autogrowMode==kony.flex.AUTOGROW_HEIGHT&&t.canMeasureChildrenHeight){t.autogrowHeight=!0;var f=t.parent;if(f&&f.autogrowHeight&&f.canMeasureChildrenHeight)return d.offsetHeight;l=$KW.FlexLayoutEngine.getAutoGrowFlexHeight(t,i,t.widgets()),s=e.getComputedPreferredHeight(t,i,l)+"px"}if(d.style.height=s||"auto","Image"==t.wType){var u=i.childNodes[0];0==r&&(o=u.style.width,a=u.style.height),u.style.height=u.style.width="auto"}n!=Number.MAX_VALUE&&(d.style.maxHeight=n+"px");var y=d.offsetHeight;return 0==r&&("Image"==t.wType&&(u.style.width=o,u.style.height=a),d.style.height=g),y},convertPointToWidget:function(e,t,i){var n=$KW.FlexLayoutEngine.toPointwidget(i,e,t.x,"x"),r=$KW.FlexLayoutEngine.toPointwidget(i,e,t.y,"y");return{x:n.value+n.unit,y:r.value+r.unit}},convertPointFromWidget:function(e,t,i){var n=$KW.FlexLayoutEngine.toPointwidget(e,i,t.x,"x"),r=$KW.FlexLayoutEngine.toPointwidget(e,i,t.y,"y");return{x:n.value+n.unit,y:r.value+r.unit}},setFlexContainerStyle:function(t,i){var n,r,o,a,l,d=t.width;d=$KU.isValidCSSLength(d)?d:e.getDefaultWidth(t,!1);var g=t.parent,s="FlexContainer"==t.wType?i.childNodes[0].getAttribute("kcontainerID"):"";if(g||!i.dataObj&&!s?g?o=$KW.Utils.getWidgetNode(g):(o=i.parentNode,t.isheader&&(l=$KU.getWindowHeight())):(g=s?(a=$KW.Utils.getContainerModelById(i,s)).parent:(a=i.dataObj.containerModel).parent,o=$KW.Utils.getWidgetNode(a)),o){g&&"TabPane"==g.wType&&e.isFlexWidget(g)&&(a=g,g=g.parent);var h=i;if(g&&d)if(n=(y=e.getValueAndUnit(t,d)).value,(r=y.unit)==kony.flex.PERCENTAGE&&(n=n*o.offsetWidth/100),0==g.percent||a&&"CollectionView"==a.wType)h.style.width=n+"px",e.updateWidthOnFrame(t,n);else if(0==t.hexpand){var f=h.parentNode;"LI"==f.tagName&&(f=f.parentNode.parentNode);var u=Math.abs(n-f.offsetWidth);(n<=f.offsetWidth||1==u)&&(h.style.width=n+"px",e.updateWidthOnFrame(t,n))}var y,p=t.height;if($KU.isValidCSSLength(p)||("FlexContainer"==t.wType&&t.autogrowMode==kony.flex.AUTOGROW_HEIGHT?(t.layoutModel={},t.autogrowHeight=!0,p=this.getComputedPreferredHeight(t,i,$KW.FlexLayoutEngine.getAutoGrowFlexHeight(t,i))+"dp"):p=e.getDefaultHeight(t,!1)),p)if(n=(y=e.getValueAndUnit(t,p)).value,(r=y.unit)==kony.flex.PERCENTAGE&&(n=a&&"Segment"==a.wType&&a.autoGrowHeight?100:g&&(e.isFlexContainer(g)||"CollectionView"==g.wType)?n*o.offsetHeight/100:l?n*l/100:n*o.offsetWidth/100),a&&"Segment"==a.wType&&a.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&a.needpageindicator){var c=n;if(r==kony.flex.PERCENTAGE){var w=parseInt($KU.getStyle(o,"border-top-width"),10)+parseInt($KU.getStyle(o,"border-bottom-width"),10);c=n-o.childNodes[1].offsetHeight-w}h.style.height=c+"px"}else if(!a||"TabPane"!=a.wType||a.viewconfig.tabViewConfig&&(!a.viewconfig.tabViewConfig||a.viewconfig.tabViewConfig.headerPosition!=constants.TAB_HEADER_POSITION_TOP&&a.viewconfig.tabViewConfig.headerPosition!=constants.TAB_HEADER_POSITION_BOTTOM))h.style.height=n+"px";else{var m=0,x=0;if("tabview"===a.viewtype||"pageview"===a.viewtype)m=$KU.getElementById($KW.Utils.getKMasterWidgetID(a)+"_Header").offsetHeight,"pageview"===a.viewtype&&$KG.appbehaviors[constants.API_LEVEL]>=constants.API_LEVEL_8400&&(x=$KU.getElementById($KW.Utils.getKMasterWidgetID(a)+"_footer").offsetHeight);else m=$KU.getElementById($KW.Utils.getKMasterWidgetID(t)+"_Header").offsetHeight;h.style.height=n-m-x+"px"}if("FlexScrollContainer"==t.wType&&!$KG.nativeScroll){var v=h.childNodes[0].childNodes[0];v.style.width=h.clientWidth+"px",v.style.height=h.clientHeight+"px"}"FlexContainer"==t.wType&&(h.childNodes[0].style.height="100%")}},getFlexLayoutStyle:function(t){var i=[];if(i.push("position:absolute"),t.zindex&&i.push("z-index:"+t.zindex),$KU.hasTransform&&($KU.hasWebkitTransform?i.push("-webkit-transform:"+$KW.animUtils.applyTransform(t,t.transform)):i.push("transform:"+$KW.animUtils.applyTransform(t,t.transform))),void 0!==t.opacity&&i.push("opacity:"+t.opacity),("FlexContainer"!=t.wType||t.clipbounds)&&(i.push("border: 0px !important"),i.push("background: transparent !important")),e.isFlexWidget(t)){var n=$KW.Utils.getBoxShadowStyle(t);n.length>0&&i.push("box-shadow: "+n)}return i.join(";")},getWidth:function(t,i,n,r,o){var a,l=t.parent,d=!1,g=i.width;if(g){a=(g.value<0?0:g.value)+g.unit,d=!0;var s=e.getValueByParentFrame(t,g,"x");s&&e.updateWidthOnFrame(t,s)}if(!d){var h,f=0,u=Number.MAX_VALUE,y=i.minWidth,p=i.maxWidth;if(y&&(f=(f=e.getValueByParentFrame(t,y,"x"))<0?0:f),p&&(u=(u=e.getValueByParentFrame(t,p,"x"))<0?0:u),l.layouttype==kony.flex.FREE_FORM){var c,w,m,x=l.frame.width;if(i.centerX&&(c=e.getValueByParentFrame(t,i.centerX,"x")),i.left&&(w=e.getValueByParentFrame(t,i.left,"x")),i.right&&(m=e.getValueByParentFrame(t,i.right,"x")),i.centerX&&i.left?h=2*(c-w):i.centerX&&i.right?h=2*(x-c-m):i.left&&i.right&&(h=x-w-m),void 0!=h)h=(h-=parseInt($KU.getStyle(r,"border-right-width"),10))<0?0:h}var v=void 0!=h?h:e.getPreferredWidth(t,n.childNodes[0],u,o);e.updateWidthOnFrame(t,v),a=this.enforceGivenDimension(v,f,u)+"px"}if((g||void 0!=h)&&e.setPreferredWidth(t,n),void 0!=o){var T=[];return T.push("width:"+a),T}n.style.width=a},getHeight:function(t,i,n,r,o){var a,l=t.parent,d=!1;"FlexContainer"==t.wType&&(t.autogrowHeight=!1);var g=i.height;if(g&&(a=(g.value<0?0:g.value)+g.unit,d=!0),!d){var s,h=0,f=Number.MAX_VALUE,u=i.minHeight,y=i.maxHeight;if(u&&(h=(h=e.getValueByParentFrame(t,u,"y"))<0?0:h),y&&(f=(f=e.getValueByParentFrame(t,y,"y"))<0?0:f),l.layouttype==kony.flex.FREE_FORM){var p,c,w,m=l.frame.height;if(i.centerY&&(p=e.getValueByParentFrame(t,i.centerY,"y")),i.top&&(c=e.getValueByParentFrame(t,i.top,"y")),i.bottom&&(w=e.getValueByParentFrame(t,i.bottom,"y")),i.centerY&&i.top?s=2*(p-c):i.centerY&&i.bottom?s=2*(m-p-w):i.top&&i.bottom&&(s=m-c-w),void 0!==s)a=(s-=parseInt($KU.getStyle(r,"border-bottom-width"),10))<0?0:s}var x=void 0!==s?s:e.getPreferredHeight(t,n.childNodes[0],f,o);if("Image"==t.wType&&t.imagescalemode==constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO&&void 0===s){var v=n.childNodes[0],T={width:v.offsetWidth+"px",height:v.offsetHeight+"px"};T=$KU.setImgAspectRatio(t,v.childNodes[0],T,!1),x=parseInt(T.height,10)}a=this.enforceGivenDimension(x,h,f)+"px"}if(void 0!=o){var C=[];return C.push("height:"+a),C}n.style.height=a,"Segment"==t.wType&&t.viewtype==constants.SEGUI_VIEW_TYPE_TABLEVIEW&&(t.autoGrowHeight=!d&&void 0===s,t.needScroller||!d&&void 0===s&&!y||(t.needScroller=!0,$KW.Scroller.initialize([n.childNodes[0]],"Segment")))},enforceGivenDimension:function(e,t,i){var n=e;return t<=i&&(e<t&&(n=t),e>i&&(n=i)),n},setDimensions:function(e,t,i){if(t){t=t.childNodes[0];e.parent;if(t&&"Switch"!=e.wType){if(t.style.width="100%",t.style.height="100%","FlexContainer"!=e.wType||e.isTemplate&&"CollectionView"==e.containerType||(t.childNodes[0].style.height="100%"),"FlexScrollContainer"==e.wType&&!$KG.nativeScroll){var n=$KG[t.id];r=e.scrollingevents&&e.scrollingevents.onpull?t.children[0].children[1]:t.children[0].children[0],n&&n.hScroll&&(r.style.width=t.clientWidth+"px"),r.style.height=t.clientHeight+"px"}if("Segment"==e.wType&&e.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW){var r=t.childNodes[0],o="100%";if(e.needpageindicator){var a=parseInt($KU.getStyle(t,"border-top-width"),10)+parseInt($KU.getStyle(t,"border-bottom-width"),10);o=t.offsetHeight-t.childNodes[1].offsetHeight-a+"px"}r.style.width="100%",r.style.height=o}}if("Image"==e.wType){t.style.display="block";var l=t.childNodes[0],d={width:t.offsetWidth+"px",height:t.offsetHeight+"px"};this.handleImageScaleMode(e,l,d)}else if("Switch"==e.wType)$KW.Switch.adjustWidth(e,t,!0),$KW.Switch.adjustHeight(e,t);else if("Slider"==e.wType){var g=$KU.getNodeByModel(e);$KW.Slider.imgLoad(g.childNodes[0])}else if(e.needScroller||"FlexScrollContainer"==e.wType){"CollectionView"!=e.wType&&"Browser"!=e.wType||(t=t.children[0]),(n=$KG[t.id])&&kony.isformRendered&&n.refresh()}}},getDefaultWidth:function(t,i){if("Browser"==t.wType&&!t.htmlstring)return"";var n=$KU.widgetsWidthMap[t.wType];return n?0==i?n:e.getComputedValue(t,n):""},getDefaultHeight:function(t,i){var n=$KU.widgetsHeightMap[t.wType];return n?0==i?n:e.getComputedValue(t,n):""},setPreferredWidth:function(e,t){$KU.inArray($KU.contentDrivenWidgets,e.wType)[0]&&(("Label"==e.wType?t.childNodes[0].childNodes[0]:t.childNodes[0]).style.whiteSpace="pre-wrap")},getChildHeight:function(t,i){var n,r="auto";if(t.autogrowMode!=kony.flex.AUTOGROW_HEIGHT)return e.setPaddingByParent(t,i),this.getComputedPreferredHeight(t,i);if("FlexContainer"==t.wType){t.autogrowHeight=!0;var o=i.childNodes[0].getAttribute("kcontainerID");return o&&$KW.Utils.updateContainerDataInDOM(i,o),this.getComputedPreferredHeight(t,i,$KW.FlexLayoutEngine.getAutoGrowFlexHeight(t,i))}return"Segment"==t.wType?(t.layoutModel.maxHeight&&(n=e.getValueByParentFrame(t,t.layoutModel.maxHeight,"y"),i.scrollHeight>n&&(r=n+"px")),i.parentNode.style.height=r,this.getComputedPreferredHeight(t,i,$KW.Segment.getAutoGrowSegmentHeight(t,i))):void 0},getComputedPreferredHeight:function(t,i,n){if("Image"==t.wType&&(i.childNodes[0].autoGrowHeight=!0,!i.childNodes[0].complete))return 0;var r=t.layoutModel,o=0,a=Number.MAX_VALUE,l=r.minHeight,d=r.maxHeight;if(l&&(o=(o=e.getValueByParentFrame(t,l,"y"))<0?0:o),d&&(a=(a=e.getValueByParentFrame(t,d,"y"))<0?0:a),void 0===n&&(n=e.getPreferredHeight(t,i,a),"Image"==t.wType&&t.imagescalemode==constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO)){var g={width:i.offsetWidth+"px",height:i.offsetHeight+"px"},s=i.childNodes[0];g=$KU.setImgAspectRatio(t,s,g,!1),n=parseInt(g.height,10),s&&(s.style.width=g.width,s.style.height=g.height)}return this.enforceGivenDimension(n,o,a)},getWidgetDimensions:function(t,i){var n=t.parent;if(n&&n.frame&&void 0!==n.frame.x){var r=i.style.width,o={value:parseFloat(r),unit:e.getUnit(r)};r=e.getValueByParentFrame(t,o,"x");var a=i.style.height,l={value:parseFloat(a),unit:e.getUnit(a)};a=e.getValueByParentFrame(t,l,"y")}else r=i.offsetWidth,a=i.offsetHeight;return{width:r,height:a}},getWidgetFrame:function(e,t,i){var n=void 0===i?$KW.Utils.getOffset(t):{top:0,left:0},r=this.getWidgetDimensions(e,t);return{x:parseInt(n.left,10),y:parseInt(n.top,10),width:r.width,height:r.height}},setWidgetPosition:function(e,t,i){for(var n in(i=i||$KU.getNodeByModel(e)).style.left=i.style.right=i.style.top=i.style.bottom="",t)i.style[n]=t[n];i.style.left||(i.style.left="0%"),i.style.top||(i.style.top="0%")},getPercentValue:function(e,t,i){var n=e.parent;if(n){if(void 0===t||-1==t.indexOf("px")||"left"!=i)return t;var r,o=n.frame;if("left"==i){var a=o.width;"FlexContainer"==n.wType&&(a-=n.hBorder),r=a}else"top"==i&&(r=o.height);if(r){var l=100*parseInt(t,10)/r;return isNaN(l)?"0%":l.toFixed(1)+"%"}}},saveWidgetFrame:function(e){"FlexContainer"!=e.wType&&"FlexScrollContainer"!=e.wType||(e.oldFrame=owl.deepCopy(e.frame))},updateWidthOnFrame:function(t,i){var n=t.layoutModel||{},r=0,o=Number.MAX_VALUE,a=n.minWidth,l=n.maxWidth;a&&(r=(r=e.getValueByParentFrame(t,a,"x"))<0?0:r),l&&(o=(o=e.getValueByParentFrame(t,l,"x"))<0?0:o),t.width||(i=e.enforceGivenDimension(i,r,o)),t.frame={x:t.frame.x,y:t.frame.y,width:i,height:t.frame.height}},setPaddingByParent:function(t,i){if(!e.isFlexContainer(t)&&"Slider"!=t.wType&&"Switch"!=t.wType){var n=t.parent,r=t.padding;if(n&&r&&$KU.isArray(r)){for(var o="",a=n.frame.width,l=1;l<r.length;l++)o+=parseInt(r[l]*a/100,10)+"px ";o+=parseInt(r[0]*a/100,10)+"px ",i.style.padding=o}}},isFlexWidget:function(e){var t=e.parent;if(t){var i=t.wType;if("FlexContainer"==i||"FlexScrollContainer"==i||"Form"==i&&t.layouttype&&t.layouttype!=kony.flex.VBOX_LAYOUT&&t.layouttype!=constants.CONTAINER_LAYOUT_GRID)return!0;if("Image"==i&&e.isImageOverlayWidget)return!0}return!1},isFlexContainer:function(e){if(e){var t=e.wType;if("FlexContainer"==t||"FlexScrollContainer"==t||"Form"==t&&e.layouttype&&e.layouttype!=kony.flex.VBOX_LAYOUT&&e.layouttype!=constants.CONTAINER_LAYOUT_GRID)return!0}return!1},canContainFlexModel:function(e){var t=!1;return"Form"!==e.wType&&"FlexContainer"!==e.wType&&"FlexScrollContainer"!==e.wType&&"Tab"!==e.wType&&"TabPane"!==e.wType&&"KComponent"!==e.wType||(t=!0),t},getComputedValue:function(e,t){if(!$KU.isValidCSSLength(t))return null;var i=this.getValueAndUnit(e,t);return i.value+i.unit},splitValueAndUnit:function(e){if(e&&"string"==typeof e)for(var t=$KU.flexUnits,i=0;i<t.length;i++)if(-1!=e.lastIndexOf(t[i])){e=parseFloat(e),unit=t[i];break}return{value:e,unit:unit}},getValueAndUnit:function(t,i){var n=(e.isFlexContainer(t)?t:t.parent).defaultunit||kony.flex.DEFAULT_UNIT;if(i&&"string"==typeof i)for(var r=$KU.flexUnits,o=0;o<r.length;o++)if(-1!=i.lastIndexOf(r[o])){i=parseFloat(i),n=r[o];break}return i=parseFloat(i),n==kony.flex.PX&&(i/=$KU.dpi),n==kony.flex.DP&&(n="px"),{value:i,unit:n}},getUnit:function(e){for(var t=$KU.flexUnits,i=0;i<t.length;i++)if(-1!=e.lastIndexOf(t[i]))return unit=t[i],unit},getValueByParentFrame:function(e,t,i,n){var r=n||e.parent.frame,o=t.value,a=t.unit,l=e.parent;if(a==kony.flex.PERCENTAGE&&r)if("x"==i){var d=r.width;l&&"FlexContainer"==l.wType&&(d-=l.hBorder),o=o*d/100}else if("y"==i){var g=r.height;l&&"FlexContainer"==l.wType&&(g-=l.vBorder),o=o*g/100}return o},setLayoutConfig:function(e,t,i){t!=i&&(e.layoutConfig={self:!0,children:!1},this.updateAutoGrowFlexConfig(e))},handleContainerData:function(e,t,i){var n,r,o;1==e.isCloned&&(o=e.containerId)&&((n=$KW.Utils.getWidgetNode(e))&&(r=$KW.Utils.getContainerModelById(n,o)),r&&"CollectionView"==r.wType&&(r.layoutConfig={self:!0,children:!1},$KW.Utils.updateClonedModelData(e,r,i)))},setChildrenConfig:function(e,t,i){t==i||e.layouttype!==kony.flex.FLOW_VERTICAL&&e.layouttype!==kony.flex.FLOW_HORIZONTAL||(this.setLayoutConfig(e,t,i),e.layoutConfig.children=!0)},updateAutoGrowFlexConfig:function(e){var t=e.parent;t&&t.autogrowMode&&["FlexContainer","FlexScrollContainer"].indexOf(t.wType)>=0&&(t.layoutConfig={self:!0,children:!0},this.updateAutoGrowFlexConfig(t))},getAutoGrowFlexConfigContainer:function(e){for(var t=e;t.parent&&("FlexContainer"==(t=t.parent).wType||"FlexScrollContainer"==t.wType)&&t.autogrowHeight;)t.layoutConfig={self:!0,children:!0};return t},updateLayoutConfig:function(e){e.layoutConfig={self:!0,children:!1}},updateFlexScrollLayout:function(t){var n,r,o,a,l;if(a=t.parent,(l=$KU.getNodeByModel(a)).offsetHeight!=l.scrollHeight||l.offsetWidth!=l.scrollWidth)for(o=a.widgets(),i=0;i<o.length;i++)n=o[i],n=$KW.Utils.getActualWidgetModel(n),r=$KU.getNodeByModel(n),e.updateLayoutConfig(n,r)},updateWidgetsConfig:function(t,i){if(i&&i.length>0)for(var n=0;n<i.length;n++){var r=i[n];r=$KW.Utils.getActualWidgetModel(r),(e.isFlexWidget(r)||"Segment"==r.wType)&&this.updateLayoutConfig(r),"FlexContainer"!=r.wType&&"FlexScrollContainer"!=r.wType||(r.layoutConfig.children=!0),r.ownchildrenref&&this.updateWidgetsConfig(r,r.ownchildrenref)}},onWidgetRemove:function(t,i){if(e.isFlexContainer(t)&&t.layouttype){if(t.layouttype!=kony.flex.FREE_FORM){var n=t.ownchildrenref[i];n&&(n=$KW.Utils.getActualWidgetModel(n),this.updateLayoutConfig(n))}this.updateLayoutConfig(t),this.updateAutoGrowFlexConfig(t)}},shouldApplyRTL:function(e,t){var i,n=$KI.i18n&&$KG.currentlocale,r=$KG.localeLayoutConfig;return!!($KG.appbehaviors.isI18nLayoutConfigEnabled&&r&&n&&r[n]&&(r=r[n],i={flexPosition:"retainFlexPositionProperties",contentAligment:"retainContentAlignment",layoutAlignment:"retainFlowHorizontalAlignment"}[t],r[{flexPosition:"mirrorFlexPositionProperties",contentAligment:"mirrorContentAlignment",layoutAlignment:"mirrorFlowHorizontalAlignment"}[t]]&&!e[i]))},resetRTL:function(t){var i,n=e.shouldApplyRTL(t,"flexPosition"),r=e.shouldApplyRTL(t,"contentAligment");(t.isContentAlignmentMirrored&&!r||!t.isContentAlignmentMirrored&&r)&&(t.contentalignment=$KW.Utils.getMirrorAlignment(t.contentAlignment),t.isContentAlignmentMirrored=!0),(t.isFlexPositionPropertiesMirrored&&!n||!t.isFlexPositionPropertiesMirrored&&n)&&(i=t.left,t.left=t.right,t.right=i,t.padding=$KW.Utils.getMirroredMarginPadding(t.padding),t.margin=$KW.Utils.getMirroredMarginPadding(t.margin),t.isFlexPositionPropertiesMirrored=!0)},setRTLtoTemplates:function(t){var i,n,r,o=0;if(t.widgets&&(i=t.widgets()),i)for(n=i.length,o=0;o<n;o++)r=i[o],e.setRTLtoTemplates(r),e.resetRTL(r)},handleImageScaleMode:function(e,t,i){e.imagescalemode===constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO?($KU.setImgAspectRatio(e,t,i),$KU.getImageCenterAlign(t,!0)):e.imagescalemode===constants.IMAGE_SCALE_MODE_FIT_TO_DIMENSIONS&&$KU.setImgDimensions(e,t,i)}};return e}();
$KW.APIUtils=function(){var e={setvisibility:function(e,t){if(e){if((e=$KW.Utils.getActualWidgetModel(e)).parent&&"TabPane"==e.parent.wType)return;var i,l,o;if(e.isvisible=t,"Tab"==e.wType?"tabview"===(o=e.kmasterid?$KU.getWidgetModelByID(e.id):kony.model.getWidgetModel(e.pf,e.parent&&e.parent.id)).view?(i=$KU.getElementById($KW.Utils.getKMasterWidgetID(e)+"_Li"),l=$KU.getElementById($KW.Utils.getKMasterWidgetID(e)+"_Body")):i=$KU.getNodeByModel(e):i=$KW.Utils.getWidgetNode(e),i=$KW.Utils.getClonedTemplateNode(i,e,"isvisible")){var n=$KW.FlexUtils.isFlexWidget(e);if("CheckBoxGroup"==e.wType||"ComboBox"==e.wType||"RadioButtonGroup"==e.wType||"ListBox"==e.wType||"Segment"==e.wType&&!n){var a=e.masterdata||e.data||$KW.Utils.getMasterData(e);(!a||a&&a.length<=0)&&(t=!1)}var r=n?i.parentNode:i;if("false"==t.toString()?$KU.addClassName(r,"hide"):($KU.removeClassName(r,"hide"),"Tab"==e.wType&&"tabview"===o.view&&(i.style.display="inline")),this.onVisibilityChange(e,t),e.viewtype&&"pageview"==e.viewtype&&e.isvisible&&$KW.touch.computeWidths($KU.getNodeByModel(e),e),t&&"stripview"==e.viewtype&&$KW.HStrip.refreshScroller(e,i),t&&"Switch"===e.wType&&($KW.Switch.adjustWidth(e,i,!1),$KW.Switch.adjustHeight(e,i)),t&&"Calendar"===e.wType&&($KW.Calendar.setCalElementStyle(i.childNodes[0],!0),t&&$KW.Calendar.adjustCalendars(e)),t&&"Slider"==e.wType){var d=$KU.getNodeByModel(e);$KW.Slider.imgLoad(d.childNodes[0])}if(t&&e.ownchildrenref&&$KW.Utils.reinitializeWidgets(e),"undefined"!=typeof google&&$KW.Utils.resizeMap(e),e.screenLevelWidget){var s=$KG.allforms[e.pf];$KW.Form.addChild(s,s.ownchildrenref,!0)}}else(o=e.kmasterid?$KU.getWidgetModelByID(e.id):kony.model.getWidgetModel(e.pf,e.parent&&e.parent.id))&&"tabview"===o.viewtype?(i=$KU.getElementById($KW.Utils.getKMasterWidgetID(e)+"_Li"),l=$KU.getElementById($KW.Utils.getKMasterWidgetID(e)+"_Body"),"false"==t.toString()?$KU.addClassName(i,"hide"):($KU.removeClassName(i,"hide"),"tabview"===o.viewtype&&(i.style.display="inline"))):i=$KU.getNodeByModel(e);if(l){var g=i.getAttribute("index");0==t||"false"==t?$KU.addClassName(l,"hide"):o&&o.activetab-IndexJL==parseInt(g)&&$KU.removeClassName(l,"hide")}if(t){if(e.id){var c=e.pf||"",p=$KU.getElementById(c+"_"+e.id),f=p&&p.querySelectorAll("#"+c+" div[kwidgettype='Line'][direction='V']");f&&f.length>0&&$KW.Line.initializeView(c)}"FlexContainer"!=e.wType&&"FlexScrollContainer"!=e.wType||setTimeout(function(){$KG.isUILayedOut=!1,e.forceLayout(),$KW.Image.imgOrientationHandler(e),$KG.isUILayedOut=!0},1)}setTimeout(function(){$KW.Map&&$KW.Map.map&&google.maps.event.trigger($KW.Map.map,"resize")},1)}},onVisibilityChange:function(e,t){$KW.FlexUtils.updateLayoutConfig(e),$KW.FlexUtils.updateAutoGrowFlexConfig(e),t&&e.ownchildrenref&&$KW.FlexUtils.updateWidgetsConfig(e,e.ownchildrenref)},setenabled:function(e,t){if(e&&"boolean"==typeof t){e.disabled=!t;var l=$KW.Utils.getKMasterWidgetID(e);if("Tab"==e.wType||"kony.ui.Tab"==e.name){if("tabview"==e.parent.viewtype){var o=$KU.getElementById(l+"_A");if(o)o.disabled=!t,o.setAttribute("kdisabled",!t),$KU.getElementById(l+"_Body").setAttribute("kdisabled",!t),l+="_Body"}"collapsibleview"==e.parent.viewtype&&(l+="_Tab")}var n,a,r=document.querySelectorAll("#"+l+", #"+l+" [kwidgettype]");for(i=0;i<r.length;i++){if(a=(n=r[i]).getAttribute("kwidgettype"),n.getAttribute("tpwidgettype"),$KU.isWindowsPhone&&$KU.isIE9&&"SELECT"==n.tagName)for(var d=0;d<n.childNodes.length;d++)n.children[d].disabled=!t;if("Link"!=a&&"Label"!=a&&"HBox"!=a&&"VBox"!=a&&(n.disabled=!t),"Link"==a&&n.childNodes[0].setAttribute("kdisabled",!t),"Label"==e.wType&&(t&&e.textCopyable?($KU.addClassName(n,"enableSelection"),$KU.removeClassName(n,"disableSelection")):($KU.addClassName(n,"disableSelection"),$KU.removeClassName(n,"enableSelection"))),"RichText"==a)var s=document.querySelectorAll("#"+n.id+" a");"RichText"==a&&s&&!t?(n.ishref=!0,n.innerHTML=n.innerHTML.replace(/href=["'].*?["']/g,"href='javascript:void(0)'")):n.ishref&&(n.innerHTML=e.text),"Video"==a&&(t?(n.oncontextmenu="",n.playing&&n.paused&&n.play(),e.controls&&n.setAttribute("controls","controls")):(n.playing&&n.pause(),n.removeAttribute("controls"),n.oncontextmenu=function(){return!1})),n.setAttribute("kdisabled",!t),"Map"!==e.wType||"Map"!==n.getAttribute("kwidgettype")&&"googlemap"!==n.getAttribute("kwidgettype")||(e.disabled=!t,$KW.Map.setEnabledMap(e,n))}}},setfocus:function(e,t,i,l){if(e.isvisible){var o=i||$KU.getNodeByModel(e);if(o)if("ScrollBox"==e.wType&&(o=$KU.getElementById(o.id+"_parent")),$KG.nativeScroll)$KW.Utils.scrollToElement(o,1e3,"","",l);else{var n;if(t)n=$KG[t.id+"_scroller"];else{if($KW.FlexUtils.isFlexWidget(e)){var a=null;a=e.needScroller?$KU.getNodeByModel(e):$KU.closestElement(o,"kwidgettype","FlexScrollContainer")}else a=$KU.closestElement(o.parentNode,"kwidgettype","ScrollBox");n=a?$KG[a.id+"_scroller"]:$KG.__currentForm?$KG[$KG.__currentForm.id+"_scroller"]:""}n&&n.scrollToElement(o,1e3,"","",l)}}},getContentOffsetMeasured:function(e,t){var i={x:0,y:0},l=t||$KU.getNodeByModel(e);if("Segment"==e.wType&&"pageview"==e.viewType)l&&(i.x=e.data.length*e.swipeContext.imageWidth-l.scrollWidth,i.y=0);else if($KG.nativeScroll)"Segment"!=e.wType&&"CollectionView"!=e.wType||l&&(l=document.getElementById(l.id+"_scroller")),l&&(i.x=l.scrollLeft,i.y=l.scrollTop);else{var o=$KW.Utils.getScrollerInstance(e);o&&(i.x=-o.x,i.y=-o.y)}return i},getModelForContentOffset:function(t,i){for(var l=document.querySelectorAll("#"+t+" div[kwidgettype='"+i+"']"),o=0;o<l.length;o++){var n=$KU.getModelByNode(l[o]);n.contentoffset&&e.setContentOffSet(n,n.contentoffset,!1)}},setContentOffSet:function(t,i,l){var o;_setTopLeftToNode=function(t,i,l,o){e.setfocus(t),i.scrollLeft=l,i.scrollTop=o};var n,a,r=$KU.getNodeByModel(t);if($KG.nativeScroll)o=document.getElementById(r.id+"_scroller");else if(!(o=$KW.Utils.getScrollerInstance(t)))return;if(n=$KW.FlexUtils.getValueByParentFrame(t,$KW.FlexUtils.getValueAndUnit(t,i.x),"x",t.frame),a=$KW.FlexUtils.getValueByParentFrame(t,$KW.FlexUtils.getValueAndUnit(t,i.y),"y",t.frame),"Segment"==t.wType&&t.viewType==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&t.swipeContext){var d=n&&parseInt(n/t.swipeContext.imageWidth);d<0&&(d=0),d>t.data.length&&(d=t.data.length-1);var s=r.children[0];return $KW.touch.scrollImages(s,t.swipeContext.imageWidth*d,$KU.swipeDuration,!1),t.swipeContext.currentPage=d,void $KW.touch.updatePageIndicator(r,t.swipeContext,t)}var g=$KU.getNodeByModel(t);if("Segment"==t.wType&&$KW.Segment.isLazyLoadingApplicable(t)&&g&&$KW.Segment.generateAndAdjustSegmentTillContentOffSetReached(t,g,a),$KG.nativeScroll)_setTopLeftToNode(t,o,n,a);else{var c=o,p={left:-n,top:-a};p.left=p.left>=c.minScrollX?c.minScrollX:p.left<=c.maxScrollX?c.maxScrollX:p.left,p.top=p.top>=c.minScrollY?c.minScrollY:p.top<=c.maxScrollY?c.maxScrollY:p.top,o.contentoffsetmove=!0,o.scrollTo(p.left,p.top,l?1e3:0),o.moved=!1,o.contentoffsetmove=!1}},getOnScrollWidgets:function(e,t){var i,l=null,o=0,n=[];for($KW.FlexUtils.isFlexContainer(e)&&(n=e.widgets()),i=n.length,o=0;o<i;o++)(l=n[o]).onscrollwidgetposition&&t.push(l),$KW.FlexUtils.isFlexContainer(l)&&this.getOnScrollWidgets(l,t);return t},executeOnScrollingWidgetPosition:function(e){var t,i,l,o,n,a;for(t=this.getOnScrollWidgets(e,[]),$KU.getNodeByModel(e),i=0;i<t.length;i++)l=t[i],o=$KU.getNodeByModel(l),n=$KW.Utils.getPosition(o),(a=l.onscrollwidgetposition)&&$KU.executeWidgetEventHandler(l,a,n.left,n.top,l.frame.x,l.frame.y);$KW.FlexContainer.forceLayout(e)}};return e}();
$KW.ImageUtils={};
$KW.touch=function(){var e,t={computeSnapWidths:function(e,i,s){for(var o=document.querySelectorAll("#"+e+" div[name='touchcontainer_"+i+"']"),n=0;n<o.length;n++){var r=o[n],a=$KU.getModelByNode(r);t.computeWidths(r,a)}},computeWidths:function(e,i){var s=e.children[0],o=s.children,n=o.length;s.style.width=100*n+"%";var r=0,a=0,h=100/n;if(o.length>0){for(var l=0;l<o.length;l++)o[l].style.display="inline","Segment"==i.wType?o[l].style.width=h+"%":o[l].style.width=Math.floor(o[l].offsetWidth/n)+"px";o[0].style.display="block",a=o[0].offsetWidth}90===window.orientation||-90===window.orientation?r=a/screen.height:0!==window.orientation&&180!==window.orientation||(r=a/screen.width),e.setAttribute("imageWidth",a),e.setAttribute("ratio",r),i.swipeContext||(i.swipeContext={});var c=i.swipeContext;c.imageWidth=a,c.widthRatio=r,c.wType=i.wType,i.focusedindex?"Segment"===i.wType?c.currentPage=i.focusedindex-IndexJL:c.currentPage=Math.ceil(i.focusedindex/i.recperpage)-IndexJL:c.currentPage=0,t.scrollImages(s,c.imageWidth*c.currentPage,$KU.swipeDuration,!0),t.updatePageIndicator(e,c,i),"Segment"==i.wType&&t.updateFocusedIndex(i)},updateFocusedIndex:function(e,t){if(e.focusedindex=e.swipeContext.currentPage+IndexJL,e.focuseditem=e.data&&e.data[e.focusedindex]||e.masterdata&&e.masterdata[e.focusedindex],"Segment"==e.wType&&(e.selecteditems=IndexJL?[null,e.focuseditem]:[e.focuseditem]),t&&e.ongesture){var i=$KU.returnEventReference(e.ongesture);$KU.executeWidgetEventHandler(e,i)}},updatePageIndicator:function(e,i,s){var o=i.currentPage,n=kony.utils.getElementById(e.id+"_footer");if(n&&n.childNodes[0])for(var r=n.childNodes[0].childNodes[0].childNodes,a=0;a<r.length;a++){var h=r[a].childNodes[0],l=a==o?s.pageondotimage?s.pageondotimage:"whitedot.gif":s.pageoffdotimage?s.pageoffdotimage:"blackdot.gif";h.src&&h.src.substring(h.src.lastIndexOf("/")+1)==l||(h.src=$KU.getImageURL(l))}"HStrip"==s.wType&&t.updateArrows(e,i,s)},updateArrows:function(e,t,i){var s=e.childNodes[1];if(s){var o=s.childNodes[0],n=s.childNodes[1],r=e.childNodes[0].childNodes.length;t.currentPage==IndexJL?o.style.display="none":o.style.display="",t.currentPage==(IndexJL?r:r-1)?n.style.display="none":n.style.display=""}},previousPage:function(e){var t=e.parentNode.getAttribute("wType"),i=e.id.substr(0,e.id.lastIndexOf("_")),s="HStrip"==t?e.parentNode.parentNode:document.getElementById(i),o=$KU.getModelByNode(s),n=e.parentNode.parentNode.childNodes[1],r="VImg"==e.childNodes[0].getAttribute("type"),a=o.scrollInstance||$KG[n.id];if(a){n.childNodes[0];if(r){var h=Math.abs(a.y)<n.clientHeight?0:a.y+n.clientHeight;a.animateTo(0,h)}else{var l=Math.abs(a.x)<n.clientWidth?0:a.x+n.clientWidth;a.animateTo(l,0)}}},nextPage:function(e){var t=e.parentNode.getAttribute("wType"),i=e.id.substr(0,e.id.lastIndexOf("_")),s="HStrip"==t?e.parentNode.parentNode:document.getElementById(i),o=$KU.getModelByNode(s),n=e.parentNode.parentNode.childNodes[1],r="VImg"==e.childNodes[0].getAttribute("type"),a=o.scrollInstance||$KG[n.id];if(a){var h=n.childNodes[0];if(h.style[$KU.transition]=$KU.cssPrefix+"transform 0.5s ",r){var l=(c=h.clientHeight-Math.abs(a.y)-n.clientHeight)<n.clientHeight?a.y-c:a.y-n.clientHeight;a.animateTo(0,l)}else{var c,d=(c=h.clientWidth-Math.abs(a.x)-n.clientWidth)<n.clientWidth?a.x-c:a.x-n.clientWidth;a.animateTo(d,0)}}},fadeHImages:function(e){var t=$KU.getImageURL(e.leftarrowimage),i=$KU.getImageURL(e.rightarrowimage),s=$KW.Utils.getKMasterWidgetID(e);return"<div id='"+s+"_scrollFades_H' class='scroll_view' wType='"+e.wType+"'><div id='"+s+"_leftimg' class='scroll_fades leftfade' style='display:none;'"+($KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9?" onclick='module.previousPage(this)'":"")+"><img type='HImg' src='"+t+"' onload='module.setHeight(this)' ></div><div id='"+s+"_rightimg' class='scroll_fades rightfade' style='display:none;'"+($KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9?" onclick='module.nextPage(this)'":"")+"><img type='HImg' src='"+i+"' onload='module.setHeight(this)' ></div></div>"},fadeVImages:function(e){var t=$KU.getImageURL(e.toparrowimage),i=$KU.getImageURL(e.bottomarrowimage),s=$KW.Utils.getKMasterWidgetID(e);return"<div id='"+s+"_scrollFades_V' class='scroll_view' style='height:inherit;' wType='"+e.wType+"'><div id='"+s+"_topimg' class='scroll_fades topfade' style='display:none;'"+($KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9?" onclick='module.previousPage(this)'":"")+"><img type='VImg' src='"+t+"' onload='module.setHeight(this)' ></div><div id='"+s+"_bottomimg' class='scroll_fades bottomfade' style='display:none;'"+($KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9?" onclick='module.nextPage(this)'":"")+"><img type='VImg' src='"+i+"' onload='module.setHeight(this)' ></div></div>"},setHeight:function(e){var t=e.parentNode;e.naturalHeight=e.naturalHeight||e.height,e.naturalWidth=e.naturalWidth||e.width,t.style.height=e.naturalHeight+"px",t.style.width=e.naturalWidth+"px","HImg"==e.getAttribute("type")?t.style.top=Math.floor((t.parentNode.offsetHeight-e.naturalHeight)/2)+"px":t.style.left=Math.floor((t.parentNode.offsetWidth-e.naturalWidth)/2)+"px"},orientationHandler:function(e,i,s){for(var o=document.querySelectorAll("#"+e+" div[name='touchcontainer_"+s+"']"),n=$KU.getPlatform().name,r=0;r<o.length;r++){var a=o[r],h=(a.id,$KU.getModelByNode(a).swipeContext);if(h){var l=a.children[0],c=l.children,d=c.length;if(d>0){l.style.width=100*d+"%";for(var u,p=0;p<c.length;p++)p!=h.currentPage+1&&(c[p].style.display="none");for(var v=screen.height*h.widthRatio+"px",m=screen.width*h.widthRatio+"px",g=0;g<c.length;g++)"android"==n||"blackberry"==n?"landscape"===i?c[g].style.width=m:"portrait"===i&&(c[g].style.width=m):"landscape"===i?c[g].style.width=v:"portrait"===i&&(c[g].style.width=m);u=c[0].parentNode.clientWidth/d,h.imageWidth=u,a.setAttribute("imageWidth",u),h.currentPage===d-1?(t.previousImage(a,h,!0),t.nextImage(a,h,!0)):(t.nextImage(a,h,!0),t.previousImage(a,h,!0));for(p=0;p<c.length;p++)c[p].style.display="inline"}}}},previousImage:function(e,i,s){var o=e.children[0];i.currentPage=Math.max(i.currentPage-1,0),t.scrollImages(o,i.imageWidth*i.currentPage,$KU.swipeDuration,s)},nextImage:function(e,i,s){var o=e.children[0],n=o.children.length;i.currentPage=Math.min(i.currentPage+1,n-1),t.scrollImages(o,i.imageWidth*i.currentPage,$KU.swipeDuration,s)},scrollImages:function(e,t,i,s,o){e.style[$KU.transition]=s?$KU.cssPrefix+"transform 0 0":$KU.cssPrefix+"transform "+(i/1e3).toFixed(1)+"s ";var n=(t<0?"":"-")+Math.abs(t).toString();e.style[$KU.transform]=translateOpen+n+"px,0"+translateClose},navigationDotsHandler:function(e){var i=parseInt(e.getAttribute("index"),10),s=e.parentNode.parentNode.parentNode.getAttribute("id");s=s.substr(0,s.lastIndexOf("_footer"));var o=$KU.getElementById(s),n=$KU.getModelByNode(o);if(n){var r=null;if("Segment"==n.wType){if(!$KW.Utils.isWidgetInteractable(o,!0))return;r=o.children[0],n.selectedRows=IndexJL?[null,[null,IndexJL,i]]:[[IndexJL,i]],$KW.Segment.setSelectedItemsAndIndices(n)}else"HStrip"==n.wType?(r=o.children[0],i-=1):(r=o.children[1].children[0],n.activetab=n.currentPage,n.activetabs[IndexJL]=n.activetab);var a=n.swipeContext;a.currentPage=parseInt(i)-IndexJL,t.scrollImages(r,a.imageWidth*a.currentPage,$KU.swipeDuration,!1),t.updatePageIndicator(o,a,n),"Segment"==n.wType&&n.viewType==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&n.onswipe&&n.onswipe(n,-1,n.focusedindex,n.selectedState)}},events:{},TouchContext:{UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"},preventDefault:function(e){kony.events.preventDefault(e)},pageviewScroller:function(e,t){this.element=e,"ontouchstart"in window?kony.events.addEventListener(e,"touchstart",this,!1):$KU.isPointerSupported?"onpointerdown"in window?kony.events.addEventListener(e,"pointerdown",this,!1):kony.events.addEventListener(e,"MSPointerDown",this,!1):kony.events.addEventListener(e,"mousedown",this,!1),this.widgetModel=t.widgetModel,this.scroller=this.element.children[0],this.options={bounce:!0,hBounce:!0},this.options.bounce=t.bounce,this.options.hBounce=t.bounce,this.options.bubbleEvents=t.bubbleEvents,this.refresh()},konyScroller:function(e,i){var s=this;s.wrapper=e;i.widgetModel;for(var o in s.scroller=s.wrapper.children[0],s.options={hScroll:!1,vScroll:!1,hScrollbar:!1,vScrollbar:!1,bounce:!0,hBounce:!0,vBounce:!0,fixedScrollbar:!$KU.isIDevice,hideScrollbar:!0,fadeScrollbar:$KU.isIDevice&&$KU.has3d,scrollbarClass:"",checkDOMChanges:!1,useTransform:!0,x:0,y:0,topOffset:0,bottomOffset:0,onBeforeScrollStart:function(e){},onRefresh:null,onScrollStart:null,onScrollMove:null,onScrollEnd:null},i)s.options[o]=i[o];s.x=s.options.x,s.y=s.options.y,s.pullDownOffset=s.options.topOffset||0,s.pullUpOffset=s.options.bottomOffset||0,s.options.hBounce=!!s.options.bounce&&(void 0===i.hBounce||i.hBounce),s.options.vBounce=!!s.options.bounce&&(void 0===i.vBounce||i.vBounce),s.options.vScrollbar=s.options.vScroll&&s.options.vScrollbar,s.options.hScrollbar=s.options.hScroll&&s.options.hScrollbar,s.options.useTransform=!!$KU.hasTransform&&s.options.useTransform,s.scroller.style[$KU.transitionProperty]=s.options.useTransform?$KU.cssPrefix+"transform":"top left",s.scroller.style[$KU.transitionDuration]="0",s.scroller.style[$KU.transformOrigin]="0 0",s.options.useTransform?(s.scroller.style[$KU.transform]=translateOpen+(s.x-(s.options.hScroll?s.pullDownOffset:0))+"px,"+(s.y-(s.options.vScroll?s.pullDownOffset:0))+"px"+translateClose,s.options.scrollbox||(s.scroller.style.position="absolute")):s.scroller.style.cssText+=";position:absolute;top:"+(s.y-(s.options.vScroll?s.pullDownOffset:0))+"px;left:"+(s.x-(s.options.hScroll?s.pullDownOffset:0))+"px",s.refresh(),s.options.showImages&&s.options.hScroll&&s.toggleFadeImgs(),s.wrapper.getAttribute("kformname")||s.options.scrollbox||kony.events.addEventListener(document,"touchmove",t.preventDefault),s.options.disableUserScroll||($KU.isTouchSupported?kony.events.addEventListener(s.scroller,"touchstart",s,!1):$KU.isPointerSupported?"onpointerdown"in window?kony.events.addEventListener(s.scroller,"pointerdown",s,!1):kony.events.addEventListener(s.scroller,"MSPointerDown",s,!1):(kony.events.addEventListener(s.scroller,"mousedown",s),kony.events.addEventListener(s.scroller,"mouseout",s))),$KU.isOrientationSupported&&!$KU.isAndroid?kony.events.addEventListener(window,"orientationchange",s,!1):kony.events.addEventListener(window,"resize",s),s.options.checkDOMChanges&&(s.checkDOMTime=setInterval(function(){s._checkDOMChanges()},1e3))},StickyScroller:function(){var e=this,t=document.forms,i=t[0];2==t.length&&(i=t[1]);var s=i.id,o=$KG.__currentForm.header,n=$KG.__currentForm.footer;this.wrapper=document.getElementById(s),this.header=document.getElementById(o),this.footer=document.getElementById(n),this.appmenu=document.getElementById("konyappmenudiv"),this.appmenu&&this.footer&&(this.footer.style.bottom=this.appmenu.clientHeight+"px"),setTimeout(function(){e.follow()},0),kony.events.addEventListener(window,"scroll",this,!1)},gesture:function(e,t){var i=t.gestureType,s=t.gestureObj,o=t.callback,n=e?document.querySelectorAll("#"+$KW.Utils.getKMasterWidgetID(e)):document;switch(["Form","Form2"].contains(e.wType)&&(n=$KG.nativeScroll?document.getElementById(e.id):document.querySelector('div[id="'+e.id+'_scroller"]')),e||(e=$KG),$KG.gestures||($KG.gestures={}),this.gestureIdentifier=t.gestureIdentifier,$KG.gestures[this.gestureIdentifier]={widgetModel:e,gestureType:i},this.widgetModel=e,this.gestureType=i,this.gestureType){case constants.GESTURE_TYPE_TAP:case 10:case 11:this.TAP=!0;break;case constants.GESTURE_TYPE_SWIPE:this.SWIPE=!0;break;case constants.GESTURE_TYPE_LONGPRESS:this.LONGPRESS=!0;break;case constants.GESTURE_TYPE_PAN:this.PAN=!0;break;case constants.GESTURE_TYPE_ROTATION:this.ROTATION=!0;break;case constants.GESTURE_TYPE_PINCH:this.PINCH=!0}if(this.gestureObj=s,this.callback=o,this.fingers=s.fingers||1,this.taps=s.taps||1,this.longTapDelay=1e3*parseInt(s.pressDuration,10)||1e3,this.swipedistance=(s.swipedistance||50)*$KU.dpi,this.continuousEvents=s.continuousEvents||!1,t.instance=this,!n||"number"==typeof n.length&&0==n.length)return this.gestureIdentifier;"number"!=typeof n.length||$KG.nativeScroll&&["Form","Form2"].contains(e.wType)?this.widget=[n]:this.widget=n;for(var r=0;r<this.widget.length;r++)this.gestureType===constants.GESTURE_TYPE_PAN||this.gestureType===constants.GESTURE_TYPE_ROTATION||this.gestureType===constants.GESTURE_TYPE_PINCH?kony.events.addEventListener(this.widget[r],"gesturestart",this,!1):$KU.isPointerSupported?"onpointerdown"in window?kony.events.addEventListener(this.widget[r],"pointerdown",this,!1):kony.events.addEventListener(this.widget[r],"MSPointerDown",this,!1):kony.events.addEventListener(this.widget[r],"touchstart",this,!1);return this.gestureIdentifier},TouchEvents:function(e,i,s,o){var n=t.events.touchstart;t.events.mousestart;switch(s){case"touchstart":n=t.events.touchstart,t.events.mousestart;break;case"touchmove":n=t.events.touchmove,t.events.mousemove;break;case"touchend":n=t.events.touchend,t.events.mouseend;break;case"touchcancel":n=t.events.touchcancel,t.events.mousecancel;break;case"scroll":n="scroll"}o||"scroll"==s?(o&&(this.callback=o),this.widgetModel=e,this.widgetNode=i,this.widgetTopNode=$KW.Utils.getWidgetNodeFromNodeByModel(e,i)||i,this.handleEventListener=this.handleEvent.bind(this),"scroll"==s?(kony.events.addEventListener(i,"scroll",this.handleEventListener,!1),this.isScrolling=!1):kony.events.addEventListener(i,n,this.handleEventListener,!1)):kony.events.removeEventListener(i,n,this.handleEventListener,!1)},Drag:function(e,i,s,o,n,r){this.model=e,this.widget=i,this.dragEvent=n,this.dragableElement=s,this.containerElement=o||document,this.moveElement=r||s,s&&kony.events.addEventListener(s,t.events.touchstart,this.handleEvent.bind(this))}};t.pageviewScroller.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"mousedown":case"MSPointerDown":case"pointerdown":this.onTouchStart(e);break;case"touchmove":case"mousemove":case"MSPointerMove":case"pointermove":this.onTouchMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"MSPointerUp":case"MSPointerCancel":case"pointerup":case"pointercancel":this.onTouchEnd(e);break;case"mouseout":this.onMouseOut(e)}},refresh:function(){this.refreshDisabled||(this.wrapperW=this.element.clientWidth||1,this.minScrollX=0,this.scrollerW=Math.round(this.minScrollX+this.scroller.scrollWidth),this.maxScrollX=this.wrapperW-this.scrollerW+this.minScrollX,this.scroller.style[$KU.transitionDuration]="0")},onTouchStart:function(e){var t=e.touches&&e.touches[0]||e;$KU.isTouchSupported?(kony.events.addEventListener(this.element,"touchmove",this,!1),kony.events.addEventListener(this.element,"touchend",this,!1),kony.events.addEventListener(this.element,"touchcancel",this,!1)):$KU.isPointerSupported?"onpointerdown"in window?(kony.events.addEventListener(this.element,"pointermove",this,!1),kony.events.addEventListener(this.element,"pointerup",this,!1),kony.events.addEventListener(this.element,"pointercancel",this,!1)):(kony.events.addEventListener(this.element,"MSPointerMove",this,!1),kony.events.addEventListener(this.element,"MSPointerUp",this,!1),kony.events.addEventListener(this.element,"MSPointerCancel",this,!1)):(kony.events.addEventListener(this.element,"mousemove",this,!1),kony.events.addEventListener(this.element,"mouseup",this,!1),kony.events.addEventListener(this.element,"mouseout",this,!1)),this.x=this.lastx=this.startX=t.pageX,this.y=this.lasty=this.startY=t.pageY;var i=this.widgetModel.swipeContext;i||((i=new Object).imageWidth=this.element.getAttribute("imageWidth"),i.widthRatio=this.element.getAttribute("ratio"),i.currentPage=0)},onTouchMove:function(e){var i=e.touches&&e.touches[0]||e,s=i.pageX,o=i.pageY,n=s-this.startX,r=o-this.startY;this.lastx=this.x,this.lasty=this.y,this.x=s,this.y=o;var a=$KU.getSwipeDirection(n,r),h=$KU.getDistanceMoved(n,r),l=this.element.children[0],c=this.widgetModel.swipeContext;if($KG.nativeScroll){if(!(Math.abs(n)>=Math.abs(r)))return;kony.events.preventDefault(e)}else kony.events.preventDefault(e);void 0!==this.options.bubbleEvents&&this.options.bubbleEvents&&(!this.options.hBounce||a!=t.TouchContext.LEFT&&a!=t.TouchContext.RIGHT||kony.events.stopPropagation(e));var d=c.imageWidth*c.currentPage;!this.options.hBounce&&(a==t.TouchContext.LEFT&&d-n>this.maxScrollX||a==t.TouchContext.RIGHT&&d+n>this.minScrollX)||(a==t.TouchContext.LEFT?t.scrollImages(l,c.imageWidth*c.currentPage+h,0):a==t.TouchContext.RIGHT&&t.scrollImages(l,c.imageWidth*c.currentPage-h,0),t.updateFocusedIndex(this.widgetModel))},onTouchEnd:function(e){this.detachEvents();var i,s=e.changedTouches&&e.changedTouches[0]||e,o=s.pageX,n=s.pageY,r=o-this.startX,a=n-this.startY,h=this.widgetModel.swipeContext;Math.abs(r)>Math.abs(a)&&(r<=-7?(t.nextImage(this.element,h,!1),i="next"):r>=7&&(t.previousImage(this.element,h,!1),i="previous")),t.updatePageIndicator(this.element,h,this.widgetModel),t.updateFocusedIndex(this.widgetModel,i),i&&("Segment"==this.widgetModel.wType&&this.widgetModel.viewType==constants.SEGUI_VIEW_TYPE_PAGEVIEW?this.widgetModel.onswipe&&this.widgetModel.onswipe(this.widgetModel,-1,this.widgetModel.focusedindex,this.widgetModel.selectedState):this.widgetModel.onswipe&&this.widgetModel.onswipe(this.widgetModel))},detachEvents:function(){$KU.isTouchSupported?(kony.events.removeEventListener(this.element,"touchmove",this,!1),kony.events.removeEventListener(this.element,"touchend",this,!1),kony.events.removeEventListener(this.element,"touchcancel",this,!1)):$KU.isPointerSupported?"onpointerdown"in window?(kony.events.removeEventListener(this.element,"pointermove",this,!1),kony.events.removeEventListener(this.element,"pointerup",this,!1),kony.events.removeEventListener(this.element,"pointercancel",this,!1)):(kony.events.removeEventListener(this.element,"MSPointerMove",this,!1),kony.events.removeEventListener(this.element,"MSPointerUp",this,!1),kony.events.removeEventListener(this.element,"MSPointerCancel",this,!1)):(kony.events.removeEventListener(this.element,"mousemove",this,!1),kony.events.removeEventListener(this.element,"mouseup",this,!1),kony.events.removeEventListener(this.element,"mouseout",this,!1))},onMouseOut:function(e){this.onTouchEnd(e)},destroy:function(){this.element&&($KU.isTouchSupported?(kony.events.removeEventListener(this.element,"touchstart",this,!1),kony.events.removeEventListener(this.element,"touchcancel",this,!1)):$KU.isPointerSupported?"onpointerdown"in window?(kony.events.removeEventListener(this.element,"pointerdown",this,!1),kony.events.removeEventListener(this.element,"pointercancel",this,!1)):(kony.events.removeEventListener(this.element,"MSPointerDown",this,!1),kony.events.removeEventListener(this.element,"MSPointerCancel",this,!1)):(kony.events.removeEventListener(this.element,"mousedown",this,!1),kony.events.removeEventListener(this.element,"mouseout",this,!1)))}},t.konyScroller.prototype={x:0,y:0,steps:[],aniTime:null,_checkDOMChanges:function(){var e=document.getElementById(this.scroller.id);if(null!==e){var t,i,s=this.options.widgetModel,o=s.wType,n=("Form"==o||"Popup"==o)&&$KW.FlexUtils.isFlexContainer(s);if(n){var r=document.getElementById(s.id);t=r.scrollHeight,i=r.scrollWidth}else if("FlexScrollContainer"==o)this.options.pullDownEl?(t=e.childNodes[1].scrollHeight,i=e.childNodes[1].scrollWidth):(t=e.childNodes[0].scrollHeight,i=e.childNodes[0].scrollWidth);else if("Image"==o&&s.zoomenabled)t=e.childNodes[0].scrollHeight,i=e.childNodes[0].scrollWidth;else if("CollectionView"==o){var a=$KW.CollectionView.getCollectionViewBaseNode(s,e);t=a.scrollHeight,s.layouttype==kony.collectionview.LAYOUT_HORIZONTAL&&(t+=e.children[0].offsetHeight),i=a.scrollWidth,s.layouttype==kony.collectionview.LAYOUT_VERTICAL&&(i+=e.children[0].offsetWidth)}else t=e.offsetHeight,i=e.offsetWidth;this.moved||this.animating||this.scrollerW==1*i&&this.scrollerH==1*t||(1==this.options.hScroll&&(e.style.width=n||"FlexScrollContainer"==o||"CollectionView"==o?i/e.parentNode.offsetWidth*100+"%":e.scrollWidth/e.parentNode.offsetWidth*100+"%","Image"==o&&s.zoomenabled&&(e.style.width=i+"px"),"CollectionView"==o&&(e.children[2].style.marginLeft=i-s.frame.width-e.children[0].offsetWidth+"px")),1==this.options.vScroll&&(n||"FlexScrollContainer"==o||"CollectionView"==o||"Image"==o&&s.zoomenabled)&&("CollectionView"==o&&(e.children[2].style.marginTop=t-s.frame.height-e.children[0].offsetHeight+"px"),e.style.height=t+"px"),this.refresh())}},refresh:function(){if(!this.refreshDisabled){this.wrapperW=this.wrapper.clientWidth||1,this.wrapperH=this.wrapper.clientHeight||1,this.minScrollY=this.options.vScroll?-this.pullDownOffset:0,this.maxBiasY=this.options.vScroll?-this.pullUpOffset:0,this.minScrollX=this.options.hScroll?-this.pullDownOffset:0,this.maxBiasX=this.options.hScroll?-this.pullUpOffset:0,this.scrollerW=Math.round(this.minScrollX+this.scroller.scrollWidth+this.maxBiasX),this.scrollerH=Math.round(this.minScrollY+this.scroller.scrollHeight+ +this.maxBiasY);var e=this.options.widgetModel,t=0,i=0,s=e.frame;if("FlexScrollContainer"==e.wType&&s){var o=e.widgets();if(o.length>0){var n,r=o[o.length-1];if(e.layouttype==kony.flex.FLOW_HORIZONTAL)(n=$KW.FlexLayoutEngine.getComputedValue(r,s,r.right,"x"))&&(t=$KW.FlexUtils.getValueByParentFrame(r,n,"x"));if(e.layouttype==kony.flex.FLOW_VERTICAL)(n=$KW.FlexLayoutEngine.getComputedValue(r,s,r.bottom,"y"))&&(i=$KW.FlexUtils.getValueByParentFrame(r,n,"y"))}}this.maxScrollX=this.wrapperW-this.scrollerW+this.minScrollX-t,this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY-i,this.dirX=0,this.dirY=0,this.options.onRefresh&&this.options.onRefresh.call(this),this.hScroll=this.options.hScroll&&this.maxScrollX<0,this.vScroll=this.options.vScroll&&(!this.hScroll||this.scrollerH>this.wrapperH),this.hScrollbar=this.hScroll&&this.options.hScrollbar,this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;var a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left,this.wrapperOffsetTop=-a.top,this.scroller.style[$KU.transitionDuration]="0",this._scrollbar("h"),this._scrollbar("v"),this._resetPos(200),this.options.showImages&&(this.options.vScroll&&this.toggleVFadeImgs(),this.options.hScroll&&this.toggleFadeImgs())}},handleEvent:function(e){if($KG.__idletimeout&&$KG.__idletimeout.enabled&&$KI.appevents.resettimer(),!$KG.activeInput||1!=$KG.appbehaviors.disableScrollOnInputFocus||"resize"==e.type)switch("orientationchange"!=e.type&&"resize"!=e.type?e&&e.target&&e.target.getAttribute&&("Khstrip"==e.target.getAttribute("kwidgettype")||"ScrollBox"==e.target.getAttribute("kwidgettype"))&&(this.angularDirection=!0):this.angularDirection=!1,e.type){case"touchstart":case"mousedown":case"MSPointerDown":case"pointerdown":this.onTouchStart(e);break;case"touchmove":case"mousemove":case"MSPointerMove":case"pointermove":this.onTouchMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"MSPointerUp":case"MSPointerCancel":case"pointerup":case"pointercancel":this.onTouchEnd(e);break;case"mouseout":this.onMouseOut(e);break;case"orientationchange":case"resize":this.resize(e)}},resize:function(){var e=this;if(!e.options.scrollbox&&($KW.Scroller.setHeight(e.options.formid),!$KG.nativeScroll&&$KU.isIOS7)){window.scrollTo(0,0),$KG.__currentForm&&($KU.getElementById($KG.__currentForm.id+"_container").style.height="100%");var t=$KG.allforms[e.options.formid];t&&$KW.Scroller.setSLWHeight(t,e.wrapper,!0)}setTimeout(function(){e.refresh()},$KU.isAndroid?200:0),!$KU.isAndroid||$KU.isTablet||e.options.scrollbox||(window.clearTimeout(e.resizeTimeoutId),e.resizeTimeoutId=setTimeout(function(){if(document.activeElement){var t=$KU.getModelByNode(document.activeElement);if(t&&("TextField"==t.wType||"TextArea"==t.wType)){var i=$KU.getWindowHeight(),s=$KU.getPlatformVersion("android").startsWith("2")?window.outerHeight:screen.height;if("landscape"==$KG.__orientation&&s-i<100)return;e.refresh()}}},$KU.orientationDelay))},onTouchStart:function(e){var t=e.target||e.srcElement;if((t=$KU.getParentByAttribute(t,kony.constants.KONY_WIDGET_TYPE))&&t.hasAttribute("overlay"))$KW.Image.overlayWidgetTouchHandler(e,t);else{if(t){var i=$KU.getContainerForm(t)||t.getAttribute&&t.getAttribute("kformname");if($KW.Popup&&$KW.Popup.dismissPopup(i))return kony.events.stopPropagation(e,!0),void kony.events.preventDefault(e)}var s=e.touches&&e.touches[0]||e;$KG.disableViewPortScroll&&$KU.setPointerEvents(e.srcElement,"auto"),this.options.scrollbox&&(kony.events.ontouchstartHandler(e),this.options.HStrip||void 0!==this.options.bubbleEvents&&this.options.bubbleEvents||kony.events.stopPropagation(e)),this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,e),this.extendTouchStart(s),this.dragging=!1,this.startfired=!1,this.tracking=!0}},onTouchMove:function(e){this.dragging=!0,this.tracking=!0;var t=e.touches&&e.touches[0]||e;$KG.disableViewPortScroll&&$KU.setPointerEvents(e.srcElement,"none"),this.options.scrollbox&&kony.events.ontouchmoveHandler(e),this.extendTouchMove(t,e)},onTouchEnd:function(e){this.dragging=!1,this.tracking=!1;var t=e.touches&&e.touches[0]||e;this.extendTouchEnd(t)},onMouseOut:function(e){var t=e.relatedTarget||e.srcElement;if(t){for(;t=t.parentNode;)if(t==this.wrapper)return;this.onTouchEnd(e)}else this.onTouchEnd(e)},extendTouchStart:function(e){if(this.moved=!1,this.animating=!1,this.distX=0,this.distY=0,this.absDistX=0,this.absDistY=0,this.options.useTransform){var t=getComputedStyle(this.scroller,null)[$KU.transform].replace(/[^0-9-.,]/g,"").split(",");1*t[4],1*t[5]}else 1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"");this.startX=this.x,this.startY=this.y,this.pointX=e.pageX,this.pointY=e.pageY,this.startTime=(new Date).valueOf(),$KU.isTouchSupported?(kony.events.addEventListener(this.scroller,"touchmove",this,!1),kony.events.addEventListener(this.scroller,"touchend",this,!1),kony.events.addEventListener(this.scroller,"touchcancel",this,!1)):$KU.isPointerSupported?"onpointerdown"in window?(kony.events.addEventListener(window,"pointermove",this,!1),kony.events.addEventListener(window,"pointerup",this,!1),kony.events.addEventListener(window,"pointercancel",this,!1)):(kony.events.addEventListener(window,"MSPointerMove",this,!1),kony.events.addEventListener(window,"MSPointerUp",this,!1),kony.events.addEventListener(window,"MSPointerCancel",this,!1)):(kony.events.addEventListener(this.scroller,"mousemove",this,!1),kony.events.addEventListener(this.scroller,"mouseup",this,!1)),this.startEventFired=!1,this.direction=""},extendTouchMove:function(e,i){i=i||e;var s=e.pageX-this.pointX,o=e.pageY-this.pointY,n=this.x+s,r=this.y+o,a=(new Date).valueOf(),h=$KU.getSwipeDirection(s,o);if(!this.angularDirection||!(this.vScroll&&h!=t.TouchContext.UP&&h!=t.TouchContext.DOWN||this.hScroll&&h!=t.TouchContext.LEFT&&h!=t.TouchContext.RIGHT)){if(this.options.onScrollStart&&!this.startEventFired&&(this.vScroll&&(h==t.TouchContext.UP||h==t.TouchContext.DOWN)||this.hScroll&&(h==t.TouchContext.LEFT||h==t.TouchContext.RIGHT))&&this.options.onScrollStart.call(this,i),this.startEventFired=!0,void 0!==this.options.bubbleEvents&&this.options.bubbleEvents&&(this.options.vBounce&&this.vScroll&&(h==t.TouchContext.UP||h==t.TouchContext.DOWN)||this.options.hBounce&&this.hScroll&&(h==t.TouchContext.LEFT||h==t.TouchContext.RIGHT))&&kony.events.stopPropagation(i),$KG.nativeScroll){if(!(Math.abs(s)>=Math.abs(o)))return;kony.events.preventDefault(e)}else kony.events.preventDefault(i);if(!($KG.appbehaviors[constants.API_LEVEL]>=constants.API_LEVEL_6000)||this.vScroll||this.hScroll){this.direction=h,this.pointX=e.pageX,this.pointY=e.pageY,n>this.minScrollX||n<this.maxScrollX?n=this.options.hBounce?this.x+s/2:n>=this.minScrollX||this.maxScrollX>=0?this.minScrollX:this.maxScrollX:this.options.hBounce||h!=t.TouchContext.LEFT&&h!=t.TouchContext.RIGHT||kony.events.stopPropagation(i),r>this.minScrollY||r<this.maxScrollY?r=this.options.vBounce?this.y+o/2:r>=this.minScrollY||this.maxScrollY>=0?this.minScrollY:this.maxScrollY:this.options.vBounce||h!=t.TouchContext.UP&&h!=t.TouchContext.DOWN||kony.events.stopPropagation(i);var l=0,c=0;if(!(!$KG.appbehaviors||1!=$KG.appbehaviors.minTouchDisplacementScroll)?(l=this.absDistX||Math.abs(s),c=this.absDistY||Math.abs(o)):(l=this.absDistX,c=this.absDistY),l<$KU.minTouchMoveDisplacement&&c<$KU.minTouchMoveDisplacement)return this.distX+=s,this.distY+=o,this.absDistX=Math.abs(this.distX),void(this.absDistY=Math.abs(this.distY));this.absDistX>this.absDistY+5?(r=this.y,o=0):this.absDistY>this.absDistX+5&&(n=this.x,s=0),this.moved=!0,this.animateTo(n,r),a-this.startTime>300&&(this.startTime=a,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&(this.vScroll&&(h==t.TouchContext.UP||h==t.TouchContext.DOWN)||this.hScroll&&(h==t.TouchContext.LEFT||h==t.TouchContext.RIGHT))&&this.options.onScrollMove.call(this,i)}}},extendTouchEnd:function(e){$KU.isTouchSupported?(kony.events.removeEventListener(this.scroller,"touchmove",this,!1),kony.events.removeEventListener(this.scroller,"touchend",this,!1),kony.events.removeEventListener(this.scroller,"touchcancel",this,!1)):$KU.isPointerSupported?"onpointerdown"in window?(kony.events.removeEventListener(window,"pointermove",this,!1),kony.events.removeEventListener(window,"pointerdown",this,!1),kony.events.removeEventListener(window,"pointercancel",this,!1)):(kony.events.removeEventListener(window,"MSPointerMove",this,!1),kony.events.removeEventListener(window,"MSPointerDown",this,!1),kony.events.removeEventListener(window,"MSPointerCancel",this,!1)):(kony.events.removeEventListener(this.scroller,"mousemove",this,!1),kony.events.removeEventListener(this.scroller,"mouseup",this,!1)),this.moved&&this.options.onScrollTouchReleased&&(this.vScroll&&(this.direction==t.TouchContext.UP||this.direction==t.TouchContext.DOWN)||this.hScroll&&(this.direction==t.TouchContext.LEFT||this.direction==t.TouchContext.RIGHT))&&this.options.onScrollTouchReleased.call(this);var i,s={dist:0,time:0},o={dist:0,time:0},n=(new Date).valueOf()-this.startTime,r=this.x,a=this.y,h=this.direction;if(!this.angularDirection||!(this.vScroll&&h!=t.TouchContext.UP&&h!=t.TouchContext.DOWN||this.hScroll&&h!=t.TouchContext.LEFT&&h!=t.TouchContext.RIGHT)){if(this.direction=h,n<300&&(s=r?this._momentum(r-this.startX,n,-this.x,this.maxScrollX<0?this.scrollerW-this.wrapperW+this.x-this.minScrollX:0,this.options.hBounce?this.wrapperW:0):s,o=a?this._momentum(a-this.startY,n,-this.y,this.maxScrollY<0?this.scrollerH-this.wrapperH+this.y-this.minScrollY:0,this.options.vBounce?this.wrapperH:0):o,r=this.x+s.dist,a=this.y+o.dist,(this.x>this.minScrollX&&r>this.minScrollX||this.x<this.maxScrollX&&r<this.maxScrollX)&&(s={dist:0,time:0}),(this.y>this.minScrollY&&a>this.minScrollY||this.y<this.maxScrollY&&a<this.maxScrollY)&&(o={dist:0,time:0})),s.dist||o.dist)return i=Math.max(Math.max(s.time,o.time),10),void this.scrollTo(Math.round(r),Math.round(a),i);this._resetPos(200)}},animateTo:function(e,t){var i=!this.options.hScroll&&!this.contentoffsetmove||isNaN(e)?0:e,s=!this.options.vScroll&&!this.contentoffsetmove||isNaN(t)?0:t;i=Math.round(i),s=Math.round(s),this.x===i&&this.y===s||(this.options.useTransform?this.scroller.style[$KU.transform]=translateOpen+i+"px,"+s+"px"+translateClose:(this.scroller.style.left=i+"px",this.scroller.style.top=s+"px"),this.x=i,this.y=s,this.options.showImages&&(this.options.vScroll&&this.toggleVFadeImgs(),this.options.hScroll&&this.toggleFadeImgs()),this._scrollbarPos("h"),this._scrollbarPos("v"),this.options.onScrollMove&&this.options.onScrollMove.call(this),this.options.widgetModel.enableonscrollwidgetpositionforsubwidgets&&$KW.APIUtils.executeOnScrollingWidgetPosition(this.options.widgetModel))},toggleFadeImgs:function(){var e=this.options.widgetID,i=this.options.formid+"_"+e,s=$KU.getElementById(i+"_scrollee");if(s){var o=s.scrollWidth+s.offsetLeft+(s.offsetWidth-s.clientWidth),n=Math.min(0,$KU.getElementById(i+"_scroller").clientWidth-o),r=$KU.getElementById(i+"_leftimg"),a=$KU.getElementById(i+"_rightimg");r&&t.setHeight(r.childNodes[0]),a&&t.setHeight(a.childNodes[0]);var h=-this.x;h>s.offsetLeft?r&&$KU.applyFade(r,"fadeIn",500):r&&$KU.applyFade(r,"fadeOut",1e3),h<-n?a&&$KU.applyFade(a,"fadeIn",500):a&&$KU.applyFade(a,"fadeOut",1e3)}},toggleVFadeImgs:function(){var e=this.options.widgetID,t=this.options.formid+"_"+e,i=$KU.getElementById(t+"_scrollee"),s=i.scrollHeight+i.offsetTop+(i.offsetHeight-i.clientHeight),o=Math.min(0,$KU.getElementById(t+"_scroller").clientHeight-s),n=$KU.getElementById(t+"_topimg"),r=$KU.getElementById(t+"_bottomimg"),a=-this.y;a>i.offsetTop?n&&$KU.applyFade(n,"fadeIn",500):n&&$KU.applyFade(n,"fadeOut",1e3),a<-o?r&&$KU.applyFade(r,"fadeIn",500):r&&$KU.applyFade(r,"fadeOut",1e3)},_scrollbarPos:function(e,t){var i,s="h"==e?this.x:this.y;this[e+"Scrollbar"]&&("LEFT"!=this.direction&&"RIGHT"!=this.direction||this.options.scrollbox)&&((s=this[e+"ScrollbarProp"]*s)<0?(this.options.fixedScrollbar||((i=this[e+"ScrollbarIndicatorSize"]+Math.round(3*s))<8&&(i=8),this[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=i+"px"),s=0):s>this[e+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?s=this[e+"ScrollbarMaxScroll"]:((i=this[e+"ScrollbarIndicatorSize"]-Math.round(3*(s-this[e+"ScrollbarMaxScroll"])))<8&&(i=8),this[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=i+"px",s=this[e+"ScrollbarMaxScroll"]+(this[e+"ScrollbarIndicatorSize"]-i))),this[e+"ScrollbarWrapper"].style[$KU.transitionDelay]="0",this[e+"ScrollbarWrapper"].style.opacity=t&&this.options.hideScrollbar?"0":"1",this.options.useTransform?this[e+"ScrollbarIndicator"].style[$KU.transform]=translateOpen+("h"==e?s+"px,0":"0,"+s+"px")+translateClose:"h"==e?(this[e+"ScrollbarIndicator"].style.left=s+"px",this[e+"ScrollbarIndicator"].style.top=0):(this[e+"ScrollbarIndicator"].style.left=0,this[e+"ScrollbarIndicator"].style.top=s+"px"))},_scrollbar:function(e){var t,i=document;this[e+"Scrollbar"]?(this[e+"ScrollbarWrapper"]||(t=i.createElement("div"),this.options.scrollbarClass?t.className=this.options.scrollbarClass+e.toUpperCase():t.style.cssText="position:absolute;z-index:100;"+("h"==e?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),t.style.cssText+=";pointer-events:none;"+$KU.cssPrefix+"transition-property:opacity;"+$KU.cssPrefix+"transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden; opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(t),this[e+"ScrollbarWrapper"]=t,t=i.createElement("div"),this.options.scrollbarClass||(t.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9); "+$KU.cssPrefix+"background-clip:padding-box;"+$KU.cssPrefix+"box-sizing:border-box; "+("h"==e?"height:100%":"width:100%")+"; "+$KU.cssPrefix+"border-radius:3px;border-radius:3px"),this.options.useTransform&&(t.style.cssText+=";pointer-events:none;"+$KU.cssPrefix+"transition-property:"+$KU.cssPrefix+"transform; "+$KU.cssPrefix+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+$KU.cssPrefix+"transition-duration:0;"+$KU.cssPrefix+"transform:"+translateOpen+"0,0"+translateClose),this[e+"ScrollbarWrapper"].appendChild(t),this[e+"ScrollbarIndicator"]=t),"h"==e?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=Math.max(Math.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=Math.max(Math.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(e,!0)):this[e+"ScrollbarWrapper"]&&($KU.hasTransform&&(this[e+"ScrollbarIndicator"].style[$KU.transform]=""),this[e+"ScrollbarWrapper"].parentNode.removeChild(this[e+"ScrollbarWrapper"]),this[e+"ScrollbarWrapper"]=null,this[e+"ScrollbarIndicator"]=null)},_resetPos:function(e){var i=this.x>=this.minScrollX?this.minScrollX:this.x<this.maxScrollX?this.maxScrollX:this.x,s=this.y>=this.minScrollY||this.maxScrollY>0?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(i==this.x&&s==this.y)return this.moved&&(this.moved=!1,this.options.onScrollEnd&&!this.contentoffsetmove&&(this.vScroll&&(this.direction==t.TouchContext.UP||this.direction==t.TouchContext.DOWN)||this.hScroll&&(this.direction==t.TouchContext.LEFT||this.direction==t.TouchContext.RIGHT))&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&(this.hScrollbarWrapper.style[$KU.transitionDelay]="100ms",this.hScrollbarWrapper.style.opacity="0"),void(this.vScrollbar&&this.options.hideScrollbar&&(this.vScrollbarWrapper.style[$KU.transitionDelay]="100ms",this.vScrollbarWrapper.style.opacity="0"));this.scrollTo(i,s,e||0)},scrollTo:function(e,t,i,s){var o,n,r=e;for(this.stop(),r.length||(r=[{x:e,y:t,time:i,relative:s}]),o=0,n=r.length;o<n;o++)r[o].relative&&(r[o].x=this.x-r[o].x,r[o].y=this.y-r[o].y),this.steps.push({x:r[o].x,y:r[o].y,time:r[o].time||0});this._startAni()},scrollToElement:function(e,t,i,s,o){if(e){t||(t=1e3);if(pos=this._offset(e),pos.left+=this.wrapperOffsetLeft,pos.top+=this.wrapperOffsetTop,pos.left=pos.left>=this.minScrollX?this.minScrollX:pos.left<=this.maxScrollX?this.maxScrollX:pos.left,pos.top=pos.top>=this.minScrollY?this.minScrollY:pos.top<=this.maxScrollY?this.maxScrollY:pos.top,t=void 0===t?Math.max(2*Math.abs(pos.left),2*Math.abs(pos.top)):t,this.scrollerH>this.wrapperH||this.scrollerW>this.wrapperW){var n=0,r=0,a=!1;if(Math.abs(this.y)+this.wrapperH<e.offsetTop+e.offsetHeight||e.offsetTop<Math.abs(this.y)||($KU.isWindowsPhone||$KU.isEdge)&&!i&&!s){if(i)return pos.top;n=pos.top,a=!0}(Math.abs(this.x)+this.wrapperW<e.offsetLeft+e.offsetWidth||e.offsetLeft<Math.abs(this.x)||($KU.isWindowsPhone||$KU.isEdge)&&!s)&&(r=pos.left,a=!0),a&&this.scrollTo(r,n,t);var h=e.getAttribute("kWidgetType");!kony.appinit.isiPhone||"TextField"!=h&&"TextArea"!=h?setTimeout(function(){try{e.focus(),o&&$KW.TextField.setCaretPosition(e)}catch(e){}},t):(e.focus(),o&&$KW.TextField.setCaretPosition(e))}else if($KU.isWindowsTablet)setTimeout(function(){try{e.focus(),o&&$KW.TextField.setCaretPosition(e)}catch(e){}},0);else try{e.focus(),o&&$KW.TextField.setCaretPosition(e)}catch(e){}return i?null:pos}},stop:function(){cancelFrame(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},_startAni:function(){var e,t,i=this,s=i.x,o=i.y,n=(new Date).valueOf();i.animating||(i.steps.length?((e=i.steps.shift()).x==s&&e.y==o&&(e.time=0),i.animating=!0,i.moved=!0,function r(){var a,h,l=(new Date).valueOf();if(l>=n+e.time)return i.animateTo(e.x,e.y),i.animating=!1,void i._startAni();l===n&&l++,l=(l-n)/e.time-1,t=Math.sqrt(1-l*l),a=(e.x-s)*t+s,h=(e.y-o)*t+o,i.animateTo(a,h),i.animating&&(i.aniTime=nextFrame(r))}()):i._resetPos(400))},_momentum:function(e,t,i,s,o){var n,r=$KU.isWindowsTouch?4:1,a=Math.abs(e)/t*r,h=a*a/.0012;return e>0&&h>i?(a=a*(i+=o/(6/(h/a*6e-4)))/h,h=i):e<0&&h>s&&(a=a*(s+=o/(6/(h/a*6e-4)))/h,h=s),n=a/6e-4,{dist:h*=e<0?-1:1,time:Math.round(n)}},_offset:function(e){var t=-e.offsetLeft,i=-e.offsetTop;try{for(;e=e.offsetParent;)0==this.options.useTransform&&e.id&&-1!=e.id.lastIndexOf("_scrollee")||(t-=e.offsetLeft,i-=e.offsetTop)}catch(e){}return{left:t,top:i}},destroy:function(){this.hScrollbar=!1,this.vScrollbar=!1,this._scrollbar("h"),this._scrollbar("v"),this.scroller&&($KU.isTouchSupported?(kony.events.removeEventListener(this.scroller,"touchstart",this,!1),kony.events.removeEventListener(this.scroller,"touchcancel",this,!1)):$KU.isPointerSupported?"onpointerdown"in window?(kony.events.removeEventListener(this.scroller,"pointerdown",this,!1),kony.events.removeEventListener(this.scroller,"pointercancel",this,!1)):(kony.events.removeEventListener(this.scroller,"MSPointerDown",this,!1),kony.events.removeEventListener(this.scroller,"MSPointerCancel",this,!1)):(kony.events.removeEventListener(this.scroller,"mousedown",this),kony.events.removeEventListener(this.scroller,"mouseout",this))),$KU.isOrientationSupported?kony.events.removeEventListener(window,"orientationchange",this,!1):kony.events.removeEventListener(window,"resize",this),this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);var e=this.options.widgetModel;if(e&&"Segment"==e.wType){var i=e.listAnimation;i&&i.destroy()}this.wrapper.getAttribute("kformname")||this.options.scrollbox||kony.events.removeEventListener(document,"touchmove",t.preventDefault)}},t.StickyScroller.prototype={handleEvent:function(e){switch(e.type){case"scroll":this.follow(e)}},follow:function(){var e=window.scrollX||document.documentElement.scrollLeft,t=window.scrollY||document.documentElement.scrollTop;if(this.headerH=this.header?this.header.clientHeight:0,this.footerH=this.footer?this.footer.clientHeight:0,this.appmenuH=this.appmenu?this.appmenu.clientHeight:0,this.wrapper.style.top=-(this.footerH+this.appmenuH)+"px",this.header){var i=t;this.header.style[$KU.transform]=translateOpen+e+"px,"+i+"px"+translateClose}if(this.footer){var s=(window.innerHeight||document.body.clientHeight)+t-this.footerH-this.headerH;this.footer.style.bottom=this.y1+this.appmenuH+"px",this.footer.style[$KU.transform]=translateOpen+e+"px,"+s+"px"+translateClose}if(this.appmenu){var o=(window.innerHeight||document.body.clientHeight)+t-this.footerH-this.headerH-this.appmenuH;this.appmenu.style[$KU.transform]=translateOpen+e+"px,"+o+"px"+translateClose}},destroy:function(){kony.events.removeEventListener(window,"scroll",this,!1)}},t.gesture.prototype={removeGesture:function(e,t){clearTimeout(this.touchTimer),clearTimeout(this.longPressTimer),0!=t&&(this.widgetModel.gestures[e]="");for(var i=this.widget,s=0;i&&s<i.length;s++)$KU.isPointerSupported?"onpointerdown"in window?(kony.events.removeEventListener(i[s],"pointerdown",this,!1),kony.events.removeEventListener(i[s],"pointermove",this,!1),kony.events.removeEventListener(i[s],"pointerup",this,!1),kony.events.removeEventListener(i[s],"pointercancel",this,!1)):(kony.events.removeEventListener(i[s],"MSPointerDown",this,!1),kony.events.removeEventListener(i[s],"MSPointerMove",this,!1),kony.events.removeEventListener(i[s],"MSPointerUp",this,!1),kony.events.removeEventListener(i[s],"MSPointerCancel",this,!1)):(kony.events.removeEventListener(i[s],"touchstart",this,!1),kony.events.removeEventListener(i[s],"touchmove",this,!1),kony.events.removeEventListener(i[s],"touchend",this,!1),kony.events.removeEventListener(i[s],"gesturestart",this,!1),kony.events.removeEventListener(i[s],"gesturechange",this,!1),kony.events.removeEventListener(i[s],"gestureend",this,!1),kony.events.removeEventListener(i[s],"touchcancel",this,!1))},handleEvent:function(e){switch(e.type){case"touchstart":case"MSPointerDown":case"pointerdown":this.onTouchStart(e);break;case"touchmove":case"MSPointerMove":case"pointermove":this.onTouchMove(e);break;case"touchend":case"MSPointerUp":case"pointerup":case"touchcancel":case"MSPointerCancel":case"pointercancel":this.onTouchEnd(e);break;case"gesturestart":this.onGestureStart(e);break;case"gesturechange":this.onGestureChange(e);break;case"gestureend":this.onGestureEnd(e)}},onTouchStart:function(e){var t=e.touches&&e.touches[0]||e;this.currentTouch=e,$KU.isPointerSupported?"onpointerdown"in window?(kony.events.addEventListener(e.currentTarget,"pointermove",this,!1),kony.events.addEventListener(e.currentTarget,"pointerup",this,!1),kony.events.addEventListener(e.currentTarget,"pointercancel",this,!1)):(kony.events.addEventListener(e.currentTarget,"MSPointerMove",this,!1),kony.events.addEventListener(e.currentTarget,"MSPointerUp",this,!1),kony.events.addEventListener(e.currentTarget,"MSPointerCancel",this,!1)):(kony.events.addEventListener(e.currentTarget,"touchmove",this,!1),kony.events.addEventListener(e.currentTarget,"touchend",this,!1),kony.events.addEventListener(e.currentTarget,"touchcancel",this,!1)),this.x1=t.pageX,this.y1=t.pageY;var i=(new Date).valueOf(),s=i-(this.doubleTimer||i);this.last=this.doubleTimer=i,this.isDoubleTap=s>0&&s<=250,this.touchTimer&&clearTimeout(this.touchTimer),this.curTarget=e.currentTarget;var o=this;this.LONGPRESS&&(this.longPressTimer=setTimeout(function(){o.onLongTap(o.curTarget)},this.longTapDelay))},onTouchMove:function(e){var t=e.touches&&e.touches[0]||e;this.x2=t.pageX,this.y2=t.pageY},onTouchEnd:function(e){e.touches&&e.touches[0];var t=this;this.currentTouch=e,$KU.isPointerSupported?"onpointerdown"in window?(kony.events.removeEventListener(e.currentTarget,"pointermove",this,!1),kony.events.removeEventListener(e.currentTarget,"pointerup",this,!1),kony.events.removeEventListener(e.currentTarget,"pointercancel",this,!1)):(kony.events.removeEventListener(e.currentTarget,"MSPointerMove",this,!1),kony.events.removeEventListener(e.currentTarget,"MSPointerUp",this,!1),kony.events.removeEventListener(e.currentTarget,"MSPointerCancel",this,!1)):(kony.events.removeEventListener(e.currentTarget,"touchmove",this,!1),kony.events.removeEventListener(e.currentTarget,"touchend",this,!1),kony.events.removeEventListener(e.currentTarget,"touchcancel",this,!1)),this.isDoubleTap&&this.TAP&&2==this.taps&&(kony.print("DOUBLE TAP"),spaAPM&&spaAPM.sendMsg(e.currentTarget,"Gesture Tap"),this.executeCallback(e.currentTarget),delete this.doubleTimer);var i=(this.x2?this.x2:this.x1)-this.x1,s=(this.y2?this.y2:this.y1)-this.y1;if(this.x2>0&&0!=i||this.y2>0&&0!=s){if(this.SWIPE){var o=Math.abs(i),n=Math.abs(s);if(o>this.swipedistance||n>this.swipedistance){var r=$KU.getSwipeDirection(i,s);kony.print("SWIPE: "+r),spaAPM&&spaAPM.sendMsg(e.currentTarget,"Gesture Swipe",{swipeDirection:r}),this.executeCallback(e.currentTarget,r)}}this.x1=this.x2=this.y1=this.y2=0}else this.last&&this.TAP&&1==this.taps&&(this.widgetModel.gestures&&this.widgetModel.gestures[10]&&this.widgetModel.gestures[11]?this.touchTimer=setTimeout(function(){if($KG.gestures[t.gestureIdentifier]){var i=!1,s=t.widgetModel.gestures[11];for(var o in s)i=s[o].instance.isDoubleTap;i||spaAPM&&spaAPM.sendMsg(e.currentTarget,"Gesture Tap"),t.executeCallback(e.currentTarget)}},250):$KG.gestures[t.gestureIdentifier]&&(kony.print("TAP"),spaAPM&&spaAPM.sendMsg(e.currentTarget,"Gesture Tap"),t.executeCallback(e.currentTarget)));this.last=0},onTouchCancel:function(){},onGestureStart:function(e){var t=e.touches&&e.touches[0]||e;this.currentTouch=e,kony.events.addEventListener(e.currentTarget,"gesturechange",this,!1),kony.events.addEventListener(e.currentTarget,"gestureend",this,!1),this.x1=t.pageX,this.y1=t.pageY,this.gestureStartTime=(new Date).valueOf(),this.excecuteGestureEvent(e,1)},onGestureChange:function(e){if(e&&this.continuousEvents){var t=e.touches&&e.touches[0]||e;this.x2=t.pageX,this.y2=t.pageY,this.excecuteGestureEvent(e,2)}},onGestureEnd:function(e){kony.events.removeEventListener(e.currentTarget,"gesturechange",this,!1),kony.events.removeEventListener(e.currentTarget,"gestureend",this,!1);var t=e.touches&&e.touches[0]||e;this.x2=t.pageX,this.y2=t.pageY,this.excecuteGestureEvent(e,3)},excecuteGestureEvent:function(e,t){if(this.ROTATION&&(this.rotation=e.rotation,spaAPM&&spaAPM.sendMsg(e.currentTarget,"Gesture Rotation"),this.executeCallback(e.currentTarget,null,t)),this.scale=e.scale,this.PINCH&&1!==e.scale){if(t&&t>1){var i=((new Date).valueOf()-this.gestureStartTime)/1e3;this.velocity=(1-e.scale)/i,this.velocityX=(this.x2-this.x1)/i,this.velocityY=(this.y2-this.y1)/i}try{spaAPM&&spaAPM.sendMsg(e.currentTarget,"Gesture Pinch"),this.executeCallback(e.currentTarget,null,t)}catch(e){}}this.PAN&&(spaAPM&&spaAPM.sendMsg(e.currentTarget,"Gesture Pan"),this.executeCallback(e.currentTarget,null,t))},onLongTap:function(e){this.last&&this.LONGPRESS&&((new Date).valueOf()-this.last>=this.longTapDelay&&$KG.gestures[this.gestureIdentifier]&&(kony.print("LONGPRESS: "+this.longTapDelay+"ms"),spaAPM&&spaAPM.sendMsg(e,"Gesture LongPress"),this.executeCallback(e)))},executeCallback:function(e,t,i){if(this.callback){var s={},o=$KU.cloneObj(this.gestureObj);s.gestureType=this.gestureType,s.gesturesetUpParams=o,s.gestureState=i,s.rotation=this.rotation?-this.rotation:0,s.velocity=this.velocity||0,s.velocityX=this.velocityX||0,s.velocityY=this.velocityY||0,s.scale=this.scale||1;var n=e&&e!==document?e:this.widget.length?this.widget[0]:this.widget,r=$KW.Utils.getOffset(n),a=this.currentTouch.touches&&this.currentTouch.touches[0]||this.currentTouch;s.gesturePosition=$KU.getgesturePosition(a.pageX,a.pageY,n.clientWidth,n.clientHeight,r.left,r.top),s.gestureType==constants.GESTURE_TYPE_SWIPE&&(s.swipeDirection=$KU.getIntegerDirection(t)),s.gestureX=this.x2||this.x1,s.gestureY=this.y2||this.y1,s.widgetWidth=n.clientWidth,s.widgetHeight=n.clientHeight,s.gestureType==constants.GESTURE_TYPE_PAN&&(s.translationX=Math.abs(s.gestureX-this.x1),s.translationY=Math.abs(s.gestureY-this.y1));var h=this.widgetModel;if(e&&e!==document){var l=e.getAttribute("kcontainerid");if(l){var c=$KW.Utils.getContainerModelById(e,l),d={};if("Segment"===c.wType){if("pageview"==c.viewtype)var u=$KU.getParentByAttribute(e,"index");else u=$KU.getParentByTagName(e,"li");if(d.widgetInfo=c,c.hasSections){var p=u.getAttribute("secindex").split(",");d.rowIndex=+p[1],d.sectionIndex=+p[0],rowdata=c.data[d.sectionIndex][IndexJL+1][d.rowIndex]}else d.rowIndex=+u.getAttribute("index"),d.sectionIndex=0,rowdata=c.data[d.rowIndex];var v=rowdata&&rowdata[c.widgetdatamap[this.widgetModel.id]];h=$KU.extend({},this.widgetModel),v&&(h=$KU.extend(h,v))}}}var m=this.widgetModel.__currentForm;m?$KU.executeWidgetEventHandler(m,this.callback,s):e?$KU.executeWidgetEventHandler(h,this.callback,s,d):$KU.executeWidgetEventHandler(this.widgetModel,this.callback,s)}}},(e=t).events.touchstart="touchstart",e.events.touchmove="touchmove",e.events.touchend="touchend",e.events.touchcancel="touchcancel",e.events.mousestart="mousedown",e.events.mousemove="mousemove",e.events.mouseend="mouseup",e.events.mousecancel="mouseout",document.addEventListener?e.events.eventListener="addEventListener":(e.events.eventListener="attachEvent",e.events.touchstart="mousedown",e.events.touchmove="mousemove",e.events.touchend="mouseup",e.events.touchcancel="mouseout"),navigator.msPointerEnabled&&("onpointerdown"in window?(e.events.touchstart="pointerdown",e.events.touchmove="pointermove",e.events.touchend="pointerup"):(e.events.touchstart="MSPointerDown",e.events.touchmove="MSPointerMove",e.events.touchend="MSPointerUp")),document.removeEventListener?e.events.removeEventListener="removeEventListener":e.events.removeEventListener="detachEvent",t.TouchEvents.prototype={removeTouch:function(e,i){0!=i&&(this.widgetModel.touches[e]="");var s=this.widgetNode,o=t.events.touchstart,n=t.events.mousestart;switch(e){case"touchstart":o=t.events.touchstart,n=t.events.mousestart;break;case"touchmove":o=t.events.touchmove,n=t.events.mousemove;break;case"touchend":o=t.events.touchend,n=t.events.mouseend;break;case"touchcancel":o=t.events.touchcancel,n=t.events.mousecancel}kony.events.removeEventListener(s,o,this.handleEventListener,!1),kony.events.removeEventListener(s,n,this.handleEventListener,!1)},handleEvent:function(e){var t;if("scroll"==e.type||"mousewheel"==e.type||"DOMMouseScroll"==e.type)this.handleScrollEvent(e);else{var i=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e,s=i.pageX||i.clientX,o=i.pageY||i.clientY;if("touchstart"!=e.type&&"pointerdown"!=e.type||(this.touchStartFired=!0),"touchend"!=e.type&&"pointerup"!=e.type||(this.touchEndFired=!0),this.touchStartFired&&"mousedown"==e.type)return void(this.touchStartFired=!1);if(this.touchEndFired&&"mouseup"==e.type)return void(this.touchEndFired=!1);var n=$KW.Utils.getPosition(this.widgetTopNode);s-=n.left,o-=n.top,t=this.widgetModel,spaAPM&&spaAPM.sendMsg(t,"TouchEvent",{eventtype:e.type}),$KAR&&$KAR.sendRecording(t,e.type,{target:this.widgetNode,eventObject:e,eventType:"touch",x:s,y:o}),this.callback&&$KU.executeWidgetEventHandler(t,this.callback,s,o)}},handleScrollEvent:function(e){var t=this.widgetModel;if(t.enableScrolling){var i=t.frame,s=this.widgetNode,o=i.width,n=i.height,r="Form"==t.wType?"vertical":$KW.stringifyScrolldirection[t.scrolldirection],a=!0,h=o+s.scrollLeft,l=n+s.scrollTop,c=!1;(e.wheelDelta&&e.wheelDelta>0||e.detail&&e.detail<0)&&(c=!0);var d=0==s.scrollTop&&c,u=0==s.scrollLeft&&c;if("horizontal"==r?(h>=s.scrollWidth||u)&&(a=!1):"vertical"==r?(l>=s.scrollHeight||d)&&(a=!1):"both"==r?(h>=s.scrollWidth&&l>=s.scrollHeight||d&&u)&&(a=!1):"none"==r&&(a=!1),a){if(this.widgetModel.enableonscrollwidgetpositionforsubwidgets&&$KW.APIUtils.executeOnScrollingWidgetPosition(this.widgetModel),!this.isScrolling){var p=t.onScrollStart;p&&p&&$KU.executeWidgetEventHandler(t,p),this.isScrolling=!0}var v=t.onScrolling;v&&$KU.executeWidgetEventHandler(t,v),"CollectionView"==t.wType&&$KW.CollectionView.Animation.handleOnItemDisplay(t),t&&"Segment"==t.wType&&$KW.Segment.updateScrollTopOnScroll(t),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.scrollEndCaller.bind(this),100)}}},scrollEndCaller:function(){var e=this.widgetModel;this.isScrolling=!1;var t,i=e.onScrollEnd;(i&&$KU.executeWidgetEventHandler(e,i),e&&"Segment"==e.wType)&&($KW.Segment.updateScrollTopOnScroll(e),0==this.widgetNode.scrollTop&&(t=$KU.returnEventReference(e.scrollingevents.onreachingbeginning))&&$KU.executeWidgetEventHandler(e,t),Math.round(this.widgetNode.scrollTop+this.widgetNode.offsetHeight)>=this.widgetNode.scrollHeight&&(t=$KU.returnEventReference(e.scrollingevents.onreachingend))&&$KU.executeWidgetEventHandler(e,t))}},t.Drag.prototype={addDrag:function(){this.dragableElement&&kony.events.addEventListener(this.dragableElement,t.events.touchstart,this.handleEvent.bind(this))},removeDrag:function(){this.dragableElement[kony.widgets.touch.events.removeEventListener](t.events.touchstart,this,!1)},handleEvent:function(e){switch(e.type){case t.events.touchstart:return this.onTouchStart(e);case t.events.touchmove:return this.onTouchMove(e);case t.events.touchend:return this.onTouchEnd(e);case t.events.touchcancel:return this.onTouchCancel(e)}},onTouchStart:function(e){var i=e.touches&&e.touches[0]||e;return this.x1=i.pageX||i.clientX,this.y1=i.pageY||i.clientY,this.model&&"Popup"==this.model.wType?("resizearea"==this.dragableElement.className?(this.offsetX=this.moveElement.offsetWidth,this.offsetY=this.moveElement.childNodes[0].children[1].clientHeight):(this.dragableElement.style.cursor="move",this.offsetX=$KU.getInt(this.moveElement.offsetLeft),this.offsetY=$KU.getInt(this.moveElement.offsetTop)),this.dragEvent(this,t.events.touchstart)):(kony.events.stopPropagation(e),this.dragEvent(this.moveElement,this.x1,this.y1,"1")),this.handleEventListener=this.handleEvent.bind(this),kony.events.addEventListener(this.containerElement,t.events.touchmove,this.handleEventListener),kony.events.addEventListener(this.containerElement,t.events.touchend,this.handleEventListener),kony.events.addEventListener(document,kony.widgets.touch.events.touchcancel,this.handleEventListener),document.onselectstart=function(){return!1},this.dragableElement.ondragstart=function(){return!1},!1},onTouchMove:function(e){var i=e.touches&&e.touches[0]||e;if(this.x2=i.pageX||i.clientX,this.y2=i.pageY||i.clientY,this.model&&"Popup"==this.model.wType){var s=this.offsetX+this.x2-this.x1,o=this.offsetY+this.y2-this.y1,n=(document.documentElement.clientHeight||window.innerHeight||document.body.clientHeight)-this.widget.clientHeight,r=(document.documentElement.clientWidth||window.innerWidth||document.body.clientWidth)-this.widget.clientWidth;"resizearea"==this.dragableElement.className?(this.moveElement.style.width=Math.max(s,150)+"px",this.moveElement.childNodes[0].children[1].style.height=Math.max(o,100)+"px"):(this.moveElement.style.left=s<0?"0px":s>r?r+"px":this.offsetX+this.x2-this.x1+"px",this.moveElement.style.top=o<0?"0px":o>n?n+"px":this.offsetY+this.y2-this.y1+"px"),this.dragEvent(this,t.events.touchmove)}else this.dragEvent(this.moveElement,this.x2,this.y2,"2")},onTouchEnd:function(e){var i=e.touches&&e.touches[0]||e;this.x3=i.pageX||i.clientX,this.y3=i.pageY||i.clientY,this.model&&"Popup"==this.model.wType?this.dragEvent(this,t.events.touchend):this.dragEvent(this.moveElement,this.x3,this.y3,"3"),document.onselectstart=null,this.dragableElement.ondragstart=null,this.removeEvents()},onTouchCancel:function(e){this.dragEvent(this,t.events.touchend);var i=e.relatedTarget||e.toElement;i&&"HTML"!=i.nodeName||this.removeEvents()},removeEvents:function(){kony.events.removeEventListener(this.containerElement,kony.widgets.touch.events.touchmove,this.handleEventListener),kony.events.removeEventListener(this.containerElement,kony.widgets.touch.events.touchend,this.handleEventListener),kony.events.removeEventListener(document,kony.widgets.touch.events.touchcancel,this.handleEventListener)}};var i=/Windows Phone/gi.test(navigator.userAgent);if("undefined"!=typeof $KU&&$KU.iOS||!i&&/ip(od|ad|hone)/gi.test(navigator.userAgent)){var s=function(){function e(){this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.tapDelay=200,this.tapTimeout=700,this.deviceIsWindowPhone=navigator.userAgent.indexOf("Windows Phone")>=0,this.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!this.deviceIsWindowPhone,this.deviceIsIOS=/ip(od|ad|hone)/gi.test(navigator.userAgent)&&!this.deviceIsWindowPhone,this.deviceIsIOS4=this.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),this.deviceIsIOSWithBadTarget=this.deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent),this.deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0,this.cancelNextClick=!1,this.lastClickTime=0}return e.prototype.needsClick=function(e){switch(e.nodeName.toLocaleLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"iframe":case"video":return!0}return!1},e.prototype.needsFocus=function(e){var t=e;switch(e.nodeName.toLocaleLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!t.readOnly}return!1},e.prototype.sendClick=function(e,t){var i,s;document.activeElement&&document.activeElement!=e&&document.activeElement.blur(),s=t.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},e.prototype.focus=function(e){var t=e,i=e.type&&0===e.type.indexOf("date"),s=e.type&&0===e.type.indexOf("time"),o=e.type&&0===e.type.indexOf("month");if(this.deviceIsIOS&&t.setSelectionRange&&!i&&!s&&!o){var n=t.value.length;t.setSelectionRange(n,n)}else t.focus()},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){if(e.targetTouches.length>1)return!0;var t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0];if(this.deviceIsIOS){var s=window.getSelection();if(s.rangeCount&&!s.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier&&i.identifier==this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],i=Math.abs(t.pageX-this.touchStartX)>this.touchBoundary,s=Math.abs(t.pageY-this.touchStartY)>this.touchBoundary;return!(!i&&!s)},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!=this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,i,s,o,n,r=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(n=e.changedTouches[0],r=document.elementFromPoint(n.pageX-window.pageXOffset,n.pageY-window.pageYOffset)||r),"label"===(s=r.tagName.toLocaleLowerCase()))(t=this.findControl(r))&&(this.focus(r),r=t);else if(this.needsFocus(r)){var a=e.timeStamp-i>100,h=this.deviceIsIOS&&window.top!==window&&"input"===s;return a||h?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,e),this.deviceIsIOS&&"select"===s||(this.targetElement=null,e.preventDefault()),!1)}return!(!this.deviceIsIOS||this.deviceIsIOS4||!(o=r.fastClickScrollParent)||o.fastClickLastScrollTop===o.scrollTop)||(this.needsClick(r)||(e.preventDefault(),this.sendClick(r,e)),!1)},e.prototype.onTouchCancel=function(e){this.trackingClick=!1,this.targetElement=null},e.prototype.preventDefault=function(e){"touchstart"!==e.type&&"touchend"!==e.type||(this.trackingClick=!1,this.targetElement=null)},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},e.prototype.handleEvent=function(t){if(!e.isAppBehaviourVerified&&(e.isAppBehaviourVerified=!0,!$KG||!$KG.appbehaviors.handleClickWithTap))return e.prototype.handleEvent=function(){},void(console&&console.log&&kony.web.logger("log","unregistering fast click"));switch(t.type){case"click":this.onClick(t);break;case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchcancel":this.onTouchCancel(t);break;case"touchend":this.onTouchEnd(t)}},e}();kony.touchClickNotifier=new s}return t}();
constants={ALERT_TYPE_CONFIRMATION:"confirmation",ALERT_TYPE_ERROR:"error",ALERT_TYPE_INFO:"info",APPLICATION_MODE_NATIVE:1,APPLICATION_MODE_HYBRID:2,APPLICATION_MODE_WRAPPER:3,API_LEVEL:"APILevel",API_LEVEL_6000:6e3,API_LEVEL_7000:7e3,API_LEVEL_8200:8200,API_LEVEL_8300:8300,API_LEVEL_8400:8400,BOX_LAYOUT_HORIZONTAL:1,BOX_LAYOUT_VERTICAL:2,BOX_LAYOUT_ALIGN_FROM_LEFT:3,BOX_LAYOUT_ALIGN_FROM_CENTER:4,BOX_LAYOUT_ALIGN_FROM_RIGHT:5,BOX_POSITION_AS_HEADER:1,BOX_POSTION_AS_FOOTER:2,BOX_POSITION_AS_NORMAL:3,BOX_POSITION_AS_SCREENLEVEL_SEG_HEADER:4,BOX_POSITION_AS_SCREENLEVEL_SEG_FOOTER:5,CHECKBOX_ITEM_ORIENTATION_VERTICAL:"vertical",CHECKBOX_ITEM_ORIENTATION_HORIZONTAL:2,CHECKBOX_VIEW_TYPE_DEFAULTTVIEW:"defaultview",CHECKBOX_VIEW_TYPE_CUSTOMVIEW:"customview",CHECKBOX_VIEW_TYPE_LISTVIEW:0,CHECKBOX_VIEW_TYPE_TABLEVIEW:"tableview",CHECKBOX_VIEW_TYPE_TOGGLEVIEW:"toggleview",CHECKBOX_VIEW_TYPE_ONSCREENWHEEL:3,COMBOBOX_VIEW_TYPE_LISTVIEW:0,COMBOBOX_VIEW_TYPE_TABLEVIEW:"tableview",COMBOBOX_VIEW_TYPE_TOGGLEVIEW:"toggleview",COMBOBOX_VIEW_TYPE_ONSCREENWHEEL:3,CONTAINER_HEIGHT_BY_FORM_REFERENCE:1,CONTAINER_HEIGHT_BY_PARENT_WIDTH:2,CONTAINER_HEIGHT_BY_DEVICE_REFERENCE:3,CALENDAR_VIEW_TYPE_DEFAULT:"default",CALENDAR_VIEW_TYPE_GRID_POPUP:"popup",CALENDAR_VIEW_TYPE_GRID_ONSCREEN:"onscreen",CALENDAR_DATE_FORMAT_DEFAULT:"dd/MM/yyyy",CALENDAR_SELECTION_TYPE_SINGLE_SELECT:1,CALENDAR_SELECTION_TYPE_MULTI_SELECT:2,CALENDAR_SELECTION_TYPE_RANGE_SELECT:3,CAMERA_SOURCE_DEFAULT:"Front",CAMERA_SOURCE_FRONT:"Front",CAMERA_SOURCE_REAR:"Rear",CAMERA_SOURCE_REAR_UNAVAILABLE:102,CAMERA_SOURCE_FRONT_UNAVAILABLE:103,CAMERA_CAPTURE_FAILED:104,CAMERA_VIDEO_RECORDING_FAILED:105,CAMERA_PERMISSION_DENIED:106,CAMERA_NOT_SUPPORTED:107,DEVICE_ORIENTATION_PORTRAIT:1,DEVICE_ORIENTATION_LANDSCAPE:2,FORM_TYPE_STATIC:1,FORM_TYPE_DYNAMIC:2,FORM_TYPE_NATIVE:3,FORM_DISPLAY_ORIENTATION_PORTRAIT:1,FORM_DISPLAY_ORIENTATION_LANDSCAPE:2,FORM_DISPLAY_ORIENTATION_BOTH:3,FORM_DEVICE_ORIENTATION_PORTRAIT:1,FORM_DEVICE_ORIENTATION_LANDSCAPE:2,FORM_ADJUST_RESIZE:1,FORM_ADJUST_PAN:2,FORM_FORWARD_NAVIGATION:1,HTTP_METHOD_GET:"get",HTTP_METHOD_POST:"post",HTTP_RESPONSE_TYPE_TEXT:"text",HTTP_RESPONSE_TYPE_JSON:"json",HTTP_RESPONSE_TYPE_DOCUMENT:"document",HTTP_RESPONSE_TYPE_RAWDATA:"image/png",HTTP_RESPONSE_TYPE_ARRAYBUFFER:"arraybuffer",HTTP_RESPONSE_TYPE_BLOB:"blob",HTTP_READY_STATE_UNSENT:0,HTTP_READY_STATE_OPENED:1,HTTP_READY_STATE_HEADERS_RECEIVED:2,HTTP_READY_STATE_LOADING:3,HTTP_READY_STATE_DONE:4,HTTP_INTEGRITY_CHECK_NOT_DONE:0,HTTP_INTEGRITY_CHECK_SUCCESSFUL:1,HTTP_INTEGRITY_CHECK_FAILED:2,OPEN_URL_SUCCESS:1,OPEN_URL_FAILURE:0,OPEN_URL_UNKNOWN:-1,IMAGE_SCALE_MODE_FIT_TO_DIMENSIONS:0,IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO:"maintainaspectratio",IMAGE_SCALE_MODE_CROP:2,IMAGE_GLOSSY_EFFECT_DEFAULT:0,IMAGE_GLOSSY_EFFECT_RADIAL:1,IMAGE_GLOSSY_EFFECT_LINEAR:2,LOADING_SCREEN_POSITION_FULL_SCREEN:"fullscreen",LOADING_SCREEN_POSITION_ONLY_CENTER:"center",LISTBOX_VIEW_TYPE_LISTVIEW:0,LISTBOX_VIEW_TYPE_TABLEVIEW:1,LISTBOX_VIEW_TYPE_TOGGLEVIEW:2,LISTBOX_VIEW_TYPE_ONSCREENWHEEL:3,LISTBOX_VIEW_TYPE_SPINNER:4,MAP_PROVIDER_GOOGLE:"google",MAP_SOURCE_NON_NATIVE:"non-native",MAP_SOURCE_NATIVE:"native",MAP_SOURCE_STATIC:"static",MAP_VIEW_MODE_NORMAL:1,MAP_VIEW_MODE_SATELLITE:2,MAP_VIEW_MODE_HYBRID:3,MAP_VIEW_MODE_TERRAIN:7,MAP_VIEW_MODE_POLYGON:5,MAP_HEIGHT_BY_FORM_REFERENCE:1,MAP_HEIGHT_BY_PARENT_WIDTH:2,NETWORK_TYPE_ANY:"ANY",NETWORK_TYPE_ETHERNET:"ETHERNET",NETWORK_TYPE_WIFI:"WIFI",NETWORK_TYPE_3G:"3G",POPUP_TYPE_NATIVE:1,POPUP_TYPE_SPA:2,POPUP_TYPE_TC:3,RADIOGROUP_ITEM_ORIENTATION_VERTICAL:"vertical",RADIOGROUP_ITEM_ORIENTATION_HORIZONTAL:2,RADIOBUTTON_VIEW_TYPE_DEFAULTTVIEW:"defaultview",RADIOBUTTON_VIEW_TYPE_CUSTOMVIEW:"customview",SCROLLBOX_HEIGHT_BY_FORM_REFERENCE:1,SCROLLBOX_HEIGHT_BY_PARENT_WIDTH:2,SCROLLBOX_SCROLL_HORIZONTAL:1,SCROLLBOX_SCROLL_VERTICAL:2,SCROLLBOX_SCROLL_BOTH:3,SCROLLBOX_SCROLL_NONE:4,SEGUI_VIEW_TYPE_TABLEVIEW:"tableview",SEGUI_VIEW_TYPE_PAGEVIEW:"pageview",SEGUI_DEFAULT_BEHAVIOR:0,SEGUI_SINGLE_SELECT_BEHAVIOR:1,SEGUI_MULTI_SELECT_BEHAVIOR:2,SEGUI_SCROLL_POSITION_DEFAULT:0,SEGUI_SCROLL_POSITION_RETAIN:1,SEGUI_SCROLL_POSITION_TOP:2,TEXTBOX_INPUT_MODE_ANY:"A",TEXTBOX_INPUT_MODE_NUMERIC:"N",TEXTBOX_INPUT_MODE_PASSWORD:"P",TEXTBOX_KEY_BOARD_STYLE_DEFAULT:"A",TEXTBOX_KEY_BOARD_STYLE_EMAIL:"emailpad",TEXTBOX_KEY_BOARD_STYLE_URL:"urlpad",TEXTBOX_KEY_BOARD_STYLE_CHAT:"chatpad",TEXTBOX_KEY_BOARD_STYLE_DECIMAL:"number",TEXTBOX_KEY_BOARD_STYLE_NUMBER_PAD:"digitpad",TEXTBOX_KEY_BOARD_STYLE_PHONE_PAD:"telpad",TEXTBOX_VIEW_TYPE_DEFAULT:"default",TEXTBOX_VIEW_TYPE_SEARCH_VIEW:"search",TEXTBOX_AUTO_CAPITALIZE_NONE:"none",TEXTBOX_AUTO_CAPITALIZE_WORDS:"words",TEXTBOX_AUTO_CAPITALIZE_SENTENCES:"sentences",TEXTBOX_AUTO_CAPITALIZE_ALL:"characters",TEXTBOX_DEFAULT_PLATFORM_HEIGHT:1,TEXTBOX_FONT_METRICS_DRIVEN_HEIGHT:2,TEXTBOX_CUSTOM_HEIGHT:3,CONTAINER_HEIGHT_BY_FORM_REFERENCE:1,CONTAINER_HEIGHT_BY_PARENT_WIDTH:2,TEXTAREA_INPUT_MODE_ANY:"A",TEXTAREA_INPUT_MODE_NUMERIC:"N",TEXTAREA_KEY_BOARD_STYLE_DEFAULT:"A",TEXTAREA_KEY_BOARD_STYLE_EMAIL:"emailpad",TEXTAREA_KEY_BOARD_STYLE_URL:"urlpad",TEXTAREA_KEY_BOARD_STYLE_CHAT:"chatpad",TEXTAREA_KEY_BOARD_STYLE_DECIMAL:"number",TEXTAREA_KEY_BOARD_STYLE_NUMBER_PAD:"number",TEXTAREA_KEY_BOARD_STYLE_PHONE_PAD:"telpad",TEXTAREA_AUTO_CAPITALIZE_NONE:"none",TEXTAREA_AUTO_CAPITALIZE_WORDS:"words",TEXTAREA_AUTO_CAPITALIZE_SENTENCES:"sentences",TEXTAREA_AUTO_CAPITALIZE_ALL:"characters",HORIZONTAL_IMAGESTRIP_VIEW_TYPE_STRIPVIEW:"stripview",HORIZONTAL_IMAGESTRIP_VIEW_TYPE_SLOTVIEW:"slotview",HORIZONTAL_IMAGESTRIP_VIEW_TYPE_PAGEVIEW:"pageview",WIDGET_ALIGN_TOP_LEFT:1,WIDGET_ALIGN_TOP_CENTER:2,WIDGET_ALIGN_TOP_RIGHT:3,WIDGET_ALIGN_MIDDLE_LEFT:4,WIDGET_ALIGN_CENTER:5,WIDGET_ALIGN_MIDDLE_RIGHT:6,WIDGET_ALIGN_BOTTOM_LEFT:7,WIDGET_ALIGN_BOTTOM_CENTER:8,WIDGET_ALIGN_BOTTOM_RIGHT:9,CONTENT_ALIGN_TOP_LEFT:1,CONTENT_ALIGN_TOP_CENTER:2,CONTENT_ALIGN_TOP_RIGHT:3,CONTENT_ALIGN_MIDDLE_LEFT:4,CONTENT_ALIGN_CENTER:5,CONTENT_ALIGN_MIDDLE_RIGHT:6,CONTENT_ALIGN_BOTTOM_LEFT:7,CONTENT_ALIGN_BOTTOM_CENTER:8,CONTENT_ALIGN_BOTTOM_RIGHT:9,GESTURE_TYPE_TAP:1,GESTURE_TYPE_SWIPE:2,GESTURE_TYPE_LONGPRESS:3,GESTURE_TYPE_PAN:4,GESTURE_TYPE_ROTATION:5,GESTURE_TYPE_PINCH:6,BROWSER_REQUEST_METHOD_GET:"get",BROWSER_REQUEST_METHOD_POST:"post",TABPANE_VIEW_TYPE_TABVIEW:"tabview",TABPANE_VIEW_TYPE_COLLAPSIBLEVIEW:"collapsibleview",MASTER_TYPE_DEFAULT:0,MASTER_TYPE_USERWIDGET:1,TABPANE_COLLAPSIBLE_IMAGE_POSITION_RIGHT:"right",TABPANE_COLLAPSIBLE_IMAGE_POSITION_LEFT:"left",TABPANE_COLLAPSIBLE_TABNAME_ALIGNMENT_RIGHT:"right",TABPANE_COLLAPSIBLE_TABNAME_ALIGNMENT_LEFT:"left",TABPANE_COLLAPSIBLE_TABNAME_ALIGNMENT_CENTER:"center",DATAGRID_COLUMN_TYPE_TEXT:"text",DATAGRID_COLUMN_TYPE_IMAGE:"image",DATAGRID_COLUMN_TYPE_TEMPLATE:"template",CONTAINER_LAYOUT_GRID:5,SEGUI_SEARCH_CRITERIA_CONTAINS:"CONTAINS",SEGUI_SEARCH_CRITERIA_ENDSWITH:"ENDSWITH",SEGUI_SEARCH_CRITERIA_STARTSWITH:"STARTSWITH",SEGUI_SEARCH_CRITERIA_NOT_CONTAINS:"NOT_CONTAINS",SEGUI_SEARCH_CRITERIA_NOT_ENDSWITH:"NOT_ENDSWITH",SEGUI_SEARCH_CRITERIA_NOT_STARTSWITH:"NOT_STARTSWITH",SEGUI_SEARCH_CRITERIA_GREATER:"GREATER",SEGUI_SEARCH_CRITERIA_GREATER_EQUAL:"GREATER_EQUAL",SEGUI_SEARCH_CRITERIA_LESSER:"LESSER",SEGUI_SEARCH_CRITERIA_LESSER_EQUAL:"LESSER_EQUAL",SEGUI_SEARCH_CRITERIA_STRICT_EQUAL:"STRICT_EQUAL",SEGUI_SEARCH_CRITERIA_NOT_EQUAL:"NOT_EQUAL",SEGUI_SEARCH_CRITERIA_OPERATOR_AND:"AND",SEGUI_SEARCH_CRITERIA_OPERATOR_OR:"OR"},kony.flex={DEFAULT_UNIT:"%",DP:"dp",PX:"px",PERCENTAGE:"%",FREE_FORM:1,FLOW_HORIZONTAL:2,FLOW_VERTICAL:3,VBOX_LAYOUT:4,USE_PREFERRED_SIZE:"preferred",USE_AVAILABLE_SPACE:"available",SCROLL_HORIZONTAL:1,SCROLL_VERTICAL:2,SCROLL_BOTH:3,SCROLL_NONE:4,AUTOGROW_HEIGHT:1,AUTOGROW_NONE:0},kony.anim={FILL_MODE_FORWARDS:"forwards",FILL_MODE_BACKWARDS:"backwards",FILL_MODE_BOTH:"both",FILL_MODE_NONE:"none",DIRECTION_NONE:"normal",DIRECTION_REVERSE:"reverse",DIRECTION_ALTERNATE:"alternate",DIRECTION_ALTERNATE_REVERSE:"alternate-reverse",EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",LINEAR:"linear"},kony.segment={ADD:0,REMOVE:1,UPDATE:2,VISIBLE:3,INVISIBLE:4,PORTIONS_PER_SEGMENT:2},kony.map={MAP_PROVIDER_GOOGLE:"google",MAP_VIEW_MODE_NORMAL:1,MAP_VIEW_MODE_SATELLITE:2,PIN_IMG_ANCHOR_TOP_LEFT:3,PIN_IMG_ANCHOR_TOP_RIGHT:4,PIN_IMG_ANCHOR_TOP_CENTER:5,PIN_IMG_ANCHOR_CENTER:6,PIN_IMG_ANCHOR_BOTTOM_LEFT:7,PIN_IMG_ANCHOR_BOTTOM_RIGHT:8,PIN_IMG_ANCHOR_BOTTOM_CENTER:9,PIN_IMG_ANCHOR_MIDDLE_LEFT:10,PIN_IMG_ANCHOR_MIDDLE_RIGHT:11},kony.collectionview={SINGLE_SELECT:1,MULTI_SELECT:2,LAYOUT_HORIZONTAL:0,LAYOUT_VERTICAL:1,LAYOUT_CUSTOM:2,SCROLL_DIRECTION_BOTH:"both",SCROLL_DIRECTION_VERTICAL:"vertical",SCROLL_DIRECTION_HORIZONTAL:"horizontal"},kony.calendar={LEGACY:"legacy",MODERN:"modern"};
var kony=kony||{},constants=constants||{};kony.defaults={},kony.defaults.widget={},kony.defaults.merge=function(n,e,t){var o={};for(x in n)o[x]=n[x];for(x in e)o[x]=e[x];for(x in t)o[x]=t[x];return o},kony.defaults.getAllDefaults=function(n){var e=kony.defaults.widget[n];return e.id=null,e.data&&(e.data=null),e.masterData&&(e.masterData=null),e},kony.defaults.Form2=function(n,e,t){kony.formDefaults=kony.defaults.merge(n,e,t),kony.defaults.widget.Form2=kony.formDefaults},kony.defaults.Form09ed48c1d517041=new kony.defaults.Form2({id:"Form2",type:constants.FORM_TYPE_NATIVE,title:null,skin:"slForm",needAppMenu:!0,enabledForIdleTimeout:!1,addWidgets:null,init:null,preShow:null,postShow:null,onHide:null,onOrientationChange:null,onDestroy:null},{displayOrientation:constants.FORM_DISPLAY_ORIENTATION_PORTRAIT,padding:[0,0,0,0],paddingInPixel:!1},{titleBar:!0,titleBarSkin:"slTitleBar",titleBarConfig:{renderTitleText:!0,titleBarLeftSideView:"button",labelLeftSideView:"Back",titleBarRightSideView:"button",labelRightSideView:"Edit"},menuPosition:constants.FORM_MENU_POSITION_AFTER_APPMENU,windowSoftInputMode:constants.FORM_ADJUST_RESIZE,onDeviceBack:null,onDeviceMenu:null,footerOverlap:!1,headerOverlap:!1,retainScrollPosition:!1,inTransitionConfig:{formTransition:"None"},outTransitionConfig:{formTransition:"None"},configureExtendTop:!1,configureExtendBottom:!1,configureStatusBarStyle:!1,bounces:!0}),kony.defaults.TextArea2=function(n,e,t){kony.textAreaDefaults=kony.defaults.merge(n,e,t),kony.defaults.widget.TextArea2=kony.textAreaDefaults},kony.defaults.TextArea0a4bbfc9a405e43=new kony.defaults.TextArea2({id:"TextArea2",skin:"slTextArea",onDone:null,isVisible:!0,text:"Textarea text ",textInputMode:constants.TEXTAREA_INPUT_MODE_ANY,keyBoardStyle:constants.TEXTAREA_KEY_BOARD_STYLE_DEFAULT,secureTextEntry:!1,onTextChange:null,autoCapitalize:constants.TEXTAREA_AUTO_CAPITALIZE_NONE,placeholder:null,numberOfVisibleLines:3},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_TOP_LEFT,containerWeight:100,padding:[2,2,2,2],paddingInPixel:!1,margin:[2,2,2,2],marginInPixel:!1,hExpand:!0},{onBeginEditing:null,onEndEditing:null}),kony.defaults.TextBox2=function(n,e,t){kony.textBoxDefaults=kony.defaults.merge(n,e,t),kony.defaults.widget.TextBox2=kony.textBoxDefaults},kony.defaults.TextField04aca556080344f=new kony.defaults.TextBox2({id:"TextBox2",skin:"slTextBox",onDone:null,isVisible:!0,text:"to verify the text field",textInputMode:constants.TEXTBOX_INPUT_MODE_ANY,keyBoardStyle:constants.TEXTBOX_KEY_BOARD_STYLE_DEFAULT,secureTextEntry:!1,onTextChange:null,autoCapitalize:constants.TEXTBOX_AUTO_CAPITALIZE_NONE,placeholder:null},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_MIDDLE_LEFT,containerWeight:100,padding:[3,6,1,6],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0,containerHeightMode:constants.TEXTBOX_FONT_METRICS_DRIVEN_HEIGHT,containerHeight:null},{autoFilter:!1}),kony.defaults.Box=function(n,e,t){kony.boxDefaults=kony.defaults.merge(n,e,t),kony.defaults.widget.HBox=kony.boxDefaults},kony.defaults.HBox0bd2902f6e28b48=new kony.defaults.Box({id:"HBox",skin:"slHbox",onClick:null,isVisible:!0,orientation:constants.BOX_LAYOUT_HORIZONTAL,position:constants.BOX_POSITION_AS_NORMAL},{padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,percent:!0,layoutAlignment:constants.BOX_LAYOUT_ALIGN_FROM_LEFT,widgetAlignment:constants.WIDGET_ALIGN_TOP_LEFT,containerWeight:100,vExpand:!1},{}),kony.defaults.Button=function(n,e,t){kony.buttonDefaults=kony.defaults.merge(n,e,t),kony.defaults.widget.Button=kony.buttonDefaults},kony.defaults.Button06920f593d51b4c=new kony.defaults.Button({id:"Button",skin:"btnNormal",focusSkin:"btnFocus",onClick:null,isVisible:!0,text:"Testthis"},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_CENTER,containerWeight:100,padding:[4,4,4,4],paddingInPixel:!1,margin:[6,6,6,6],marginInPixel:!1,hExpand:!0,vExpand:!1,displayText:!0},{}),kony.defaults.CheckBoxGroup=function(n,e,t){kony.checkBoxGroupDefaults=kony.defaults.merge(n,e,t),kony.defaults.widget.CheckBoxGroup=kony.checkBoxGroupDefaults},kony.defaults.CheckBoxGroup0e0355477e5b741=new kony.defaults.CheckBoxGroup({id:"CheckBoxGroup",skin:"slCheckBoxGroup",onSelection:null,isVisible:!0,masterData:[["cbg1","Checkbox One"],["cbg2","Checkbox Two"],["cbg3","Checkbox Three"]],selectedKeys:null,selectedKeyValues:null},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,containerWeight:100,padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,itemOrientation:constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL},{}),kony.defaults.ListBox=function(n,e,t){kony.listBoxDefaults=kony.defaults.merge(n,e,t),kony.defaults.widget.ListBox=kony.listBoxDefaults},kony.defaults.ListBox02f4edc04ce8c44=new kony.defaults.ListBox({id:"ListBox",skin:"slListBox",onSelection:null,isVisible:!0,masterData:[["lb1","Listbox One"],["lb2","Listbox Two"],["lb3","Listbox Three"]],selectedKey:"lb1",selectedKeyValue:["lb1","Listbox One"],onDone:null},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_MIDDLE_LEFT,containerWeight:100,padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0,vExpand:!1},{applySkinsToPopup:!0,viewType:constants.LISTBOX_VIEW_TYPE_LISTVIEW,placeholder:null}),kony.defaults.Label=function(n,e,t){kony.labelDefaults=kony.defaults.merge(n,e,t),kony.defaults.widget.Label=kony.labelDefaults},kony.defaults.Label011bd5c1421a849=new kony.defaults.Label({id:"Label",skin:"lblNormal",text:"Label",isVisible:!0},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_MIDDLE_LEFT,containerWeight:100,padding:[0,0,0,0],paddingInPixel:!1,margin:[1,1,1,1],marginInPixel:!1,hExpand:!0,vExpand:!1},{textCopyable:!1}),kony.defaults.RadioButtonGroup=function(n,e,t){kony.radioButtonGroupDefaults=kony.defaults.merge(n,e,t),kony.defaults.widget.RadioButtonGroup=kony.radioButtonGroupDefaults},kony.defaults.RadioButtonGroup07b5a00f7a5464a=new kony.defaults.RadioButtonGroup({id:"RadioButtonGroup",skin:"slRadioButtonGroup",onSelection:null,isVisible:!0,masterData:[["rbg1","Table view of iTems on Radio button"],["rbg2","Radiobutton Two"],["rbg3","Radiobutton Three"]],selectedKey:null,selectedKeyValue:null},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,containerWeight:100,padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0,vExpand:!1,itemOrientation:constants.RADIOGROUP_ITEM_ORIENTATION_VERTICAL},{}),kony.defaults.SegmentedUI2=function(n,e,t){kony.segmentedUI2Defaults=kony.defaults.merge(n,e,t),kony.defaults.widget.SegmentedUI2=kony.segmentedUI2Defaults},kony.defaults.Segment0d6ae5ed6c4e14d=new kony.defaults.SegmentedUI2({id:"SegmentedUI2",rowSkin:"seg2Normal",rowFocusSkin:"seg2Focus",sectionHeaderSkin:"sliPhoneSegmentHeader",widgetDataMap:null,rowTemplate:null,isVisible:!0,sectionHeaderTemplate:null,data:null,separatorRequired:!0,separatorThickness:1,separatorColor:"E9E9E900",viewType:constants.SEGUI_VIEW_TYPE_TABLEVIEW,onRowClick:null,screenLevelWidget:!1,groupCells:!1,retainSelection:!1,needPageIndicator:!0,pageOnDotImage:"pageOnDot.png",pageOffDotImage:"pageOffDot.png",onSwipe:null,showScrollbars:!1,scrollingEvents:{onPull:null,onPush:null,onReachingBegining:null,onReachingEnd:null},selectionBehavior:constants.SEGUI_DEFAULT_BEHAVIOR,selectedIndex:null,selectedItems:null,selectedIndices:null},{margin:[0,0,0,0],marginInPixel:!1,padding:[0,0,0,0],paddingInPixel:!1,widgetAlignment:constants.WIDGET_ALIGN_CENTER,containerWeight:100},{indicator:constants.SEGUI_ROW_SELECT,enableDictionary:!1,showProgressIndicator:!1,progressIndicatorColor:constants.PROGRESS_INDICATOR_COLOR_WHITE,bounces:!0,searchCriteria:constants.SEGUI_SEARCH_CRITERIA_STARTSWITH,editStyle:constants.SEGUI_EDITING_STYLE_NONE,onEditing:null}),kony.defaults.Browser=function(n,e,t){kony.Browser=kony.defaults.merge(n,e,t),kony.defaults.widget.Browser=kony.Browser},kony.defaults.Browser0d2862f0e24a549=new kony.defaults.Browser({id:"Browser",onSuccess:null,onFailure:null,htmlString:null,screenLevelWidget:!1,enableZoom:!1,detectTelNumber:!0,isVisible:!0},{containerWeight:100,margin:[0,0,0,0],marginInPixel:!1},{}),kony.defaults.Camera=function(n,e,t){kony.Camera=kony.defaults.merge(n,e,t),kony.defaults.widget.Camera=kony.Camera},kony.defaults.Camera01313e592e53c4e=new kony.defaults.Camera({id:"Camera",skin:"slCamera",text:"Camera",isVisible:!0,onCapture:null},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_CENTER,containerWeight:100,padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0,vExpand:!1},{enableOverlay:!1,accessMode:constants.CAMERA_IMAGE_ACCESS_MODE_PUBLIC,enablePhotoCropFeature:!1,nativeUserInterface:!0}),kony.defaults.HorizontalImageStrip2=function(n,e,t){kony.HorizontalImageStrip2=kony.defaults.merge(n,e,t),kony.defaults.widget.HorizontalImageStrip2=kony.HorizontalImageStrip2},kony.defaults.HStrip0cbc4590b15084f=new kony.defaults.HorizontalImageStrip2({id:"HorizontalImageStrip2",skin:"Borderskin",isVisible:!0,selectedIndex:null,data:[[{iurl:"imagedrag.png"},{iurl:"imagedrag.png"},{iurl:"imagedrag.png"},{iurl:"imagedrag.png"}],"iurl"],selectedItem:null,imageWhileDownloading:null,imageWhenFailed:null,spaceBetweenImages:0,onSelection:null,viewType:constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_STRIPVIEW,viewConfig:{stripviewConfig:{enableScrollBounce:!0}},showArrows:!1,showScrollbars:!1},{margin:[0,0,0,0],marginInPixel:!1,padding:[0,0,0,0],paddingInPixel:!1,referenceWidth:50,referenceHeight:50,imageScaleMode:constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO,containerWeight:100,widgetAlignment:constants.WIDGET_ALIGN_CENTER},{}),kony.defaults.ImageGallery2=function(n,e,t){kony.ImageGallery2=kony.defaults.merge(n,e,t),kony.defaults.widget.ImageGallery2=kony.ImageGallery2},kony.defaults.IGallery0995b1ec215b54c=new kony.defaults.ImageGallery2({id:"ImageGallery2",skin:"slImageGallery",isVisible:!0,selectedIndex:null,data:[[{iurl:"imagedrag.png"},{iurl:"imagedrag.png"},{iurl:"imagedrag.png"},{iurl:"imagedrag.png"},{iurl:"imagedrag.png"},{iurl:"imagedrag.png"},{iurl:"imagedrag.png"},{iurl:"imagedrag.png"},{iurl:"imagedrag.png"}],"iurl"],selectedItem:null,imageWhileDownloading:null,imageWhenFailed:null,spaceBetweenImages:0,onSelection:null},{margin:[0,0,0,0],marginInPixel:!1,referenceWidth:50,referenceHeight:50,imageScaleMode:constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO,containerWeight:100},{}),kony.defaults.Phone=function(n,e,t){kony.Phone=kony.defaults.merge(n,e,t),kony.defaults.widget.Phone=kony.Phone},kony.defaults.Phone0e0761018182e43=new kony.defaults.Phone({id:"Phone",skin:"slPhone",onClick:null,isVisible:!0,text:"+91-999-999-8888"},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_CENTER,containerWeight:100,padding:[2,2,2,2],paddingInPixel:!1,margin:[3,3,3,3],marginInPixel:!1,hExpand:!0,vExpand:!1,displayText:!0},{glowEffect:!1,showProgressIndicator:!1}),kony.defaults.PickerView=function(n,e,t){kony.PickerView=kony.defaults.merge(n,e,t),kony.defaults.widget.PickerView=kony.PickerView},kony.defaults.PickerView0356232459d694c=new kony.defaults.PickerView({id:"PickerView",skin:"slPickerView",masterData:[[["y1","2009"],["y2","2010"],["y3","2011"],40],[["m1","Jan"],["m2","Feb"],["m3","Mar"],["m4","Apr"],["m5","May"],["m6","Jun"],["m7","Jul"],60]],isVisible:!0,onSelection:null,selectedKeyValues:["2009","Jan"],selectedKeys:null},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,containerWeight:100,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0},{}),kony.defaults.Switch=function(n,e,t){kony.Switch=kony.defaults.merge(n,e,t),kony.defaults.widget.Switch=kony.Switch},kony.defaults.Switch09683e5aca10244=new kony.defaults.Switch({id:"Switch",skin:"slSwitch",leftSideText:"ON",rightSideText:"OFF",onSlide:null,selectedIndex:0,isVisible:!0},{containerWeight:100,widgetAlignment:constants.WIDGET_ALIGN_CENTER,margin:[0,0,0,0],marginInPixel:!1,padding:[0,0,0,0],paddingInPixel:!1},{}),kony.defaults.ScrollBox=function(n,e,t){kony.ScrollBox=kony.defaults.merge(n,e,t),kony.defaults.widget.ScrollBox=kony.ScrollBox},kony.defaults.ScrollBox0445c0945b29641=new kony.defaults.ScrollBox({id:"ScrollBox",skin:"slScrollBox",isVisible:!0,orientation:constants.BOX_LAYOUT_HORIZONTAL,position:constants.BOX_POSITION_AS_NORMAL,showScrollbars:!0,scrollingEvents:{onPull:null,onPush:null,onReachingBegining:null,onReachingEnd:null},enableScrollByPage:!1,scrollDirection:constants.SCROLLBOX_SCROLL_HORIZONTAL},{padding:[5,0,5,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,containerWeight:100,layoutAlignment:constants.BOX_LAYOUT_ALIGN_FROM_LEFT,containerHeight:30,containerHeightReference:constants.CONTAINER_HEIGHT_BY_FORM_REFERENCE,percent:!0},{}),kony.defaults.Image2=function(n,e,t){kony.Image2=kony.defaults.merge(n,e,t),kony.defaults.widget.Image2=kony.Image2},kony.defaults.Image01ec4259a156040=new kony.defaults.Image2({id:"Image2",isVisible:!0,onDownloadComplete:null,src:"imagedrag.png"},{padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,imageScaleMode:constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO,containerWeight:100,widgetAlignment:constants.WIDGET_ALIGN_CENTER},{}),kony.defaults.Line=function(n,e,t){kony.Line=kony.defaults.merge(n,e,t),kony.defaults.widget.Line=kony.Line},kony.defaults.Line014280b6840c84d=new kony.defaults.Line({id:"Line",skin:"slLine",isVisible:!0},{margin:[0,0,0,0],marginInPixel:!1,thickness:1},{}),kony.defaults.Link=function(n,e,t){kony.Link=kony.defaults.merge(n,e,t),kony.defaults.widget.Link=kony.Link},kony.defaults.Link0b0d8f8c40dc445=new kony.defaults.Link({id:"Link",skin:"slLink",isVisible:!0,text:"Link",onClick:null},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_CENTER,containerWeight:100,padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0},{}),kony.defaults.RichText=function(n,e,t){kony.RichText=kony.defaults.merge(n,e,t),kony.defaults.widget.RichText=kony.RichText},kony.defaults.RichText0af113743c6c049=new kony.defaults.RichText({id:"RichText",skin:"slRichText",onClick:null,text:"RichText",isVisible:!0},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_MIDDLE_LEFT,containerWeight:100,padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0,vExpand:!1},{}),kony.defaults.Slider=function(n,e,t){kony.Slider=kony.defaults.merge(n,e,t),kony.defaults.widget.Slider=kony.Slider},kony.defaults.Slider054a9c1893eae41=new kony.defaults.Slider({id:"Slider",min:0,max:100,step:1,selectedValue:40,onSlide:null,onSelection:null,leftSkin:"konysliderleft",rightSkin:"konysliderright",thumbImage:"slider.png",isVisible:!0},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,containerWeight:100,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0,vExpand:!1},{thickness:15}),kony.defaults.Calendar=function(n,e,t){kony.Calendar=kony.defaults.merge(n,e,t),kony.defaults.widget.Calendar=kony.Calendar},kony.defaults.Calendar08566e3be5ea045=new kony.defaults.Calendar({id:"Calendar",skin:"calNormal",isVisible:!0,date:[1,8,2014],day:1,month:8,year:2014,hour:12,minutes:59,seconds:59,dateComponents:[1,8,2014,12,59,59],dateFormat:"dd/MM/yyyy",formattedDate:"",calendarIcon:"calbtn.png",viewType:constants.CALENDAR_VIEW_TYPE_DEFAULT,onSelection:null},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_CENTER,containerWeight:100,padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0,vExpand:!1},{}),kony.defaults.DataGrid=function(n,e,t){kony.DataGrid=kony.defaults.merge(n,e,t),kony.defaults.widget.DataGrid=kony.DataGrid},kony.defaults.DataGrid05af006b031d349=new kony.defaults.DataGrid({id:"DataGrid",isVisible:!0,headerSkin:"slDataGridHead",rowNormalSkin:"slDataGridRow",rowFocusSkin:"slDataGridFocusedRow",rowAlternateSkin:"slDataGridAltRow",showColumnHeaders:!0,columnHeadersConfig:[{columnContentAlignment:constants.CONTENT_ALIGN_CENTER,columnHeaderText:"Col 1",columnID:"col1",columnOnClick:null,columnType:constants.DATAGRID_COLUMN_TYPE_TEXT,columnWidthInPercentage:33,isColumnSortable:!1},{columnContentAlignment:constants.CONTENT_ALIGN_CENTER,columnHeaderText:"Col 2",columnID:"col2",columnOnClick:null,columnType:constants.DATAGRID_COLUMN_TYPE_TEXT,columnWidthInPercentage:34,isColumnSortable:!1},{columnContentAlignment:constants.CONTENT_ALIGN_CENTER,columnHeaderText:"Col 3",columnID:"col3",columnOnClick:null,columnType:constants.DATAGRID_COLUMN_TYPE_TEXT,columnWidthInPercentage:33,isColumnSortable:!1}],onRowSelected:null,isMultiSelect:!1,selectedItem:{col1:"RC 41",col2:"RC 42",col3:"RC 43"},selectedItems:[{col1:"RC 41",col2:"RC 42",col3:"RC 43"}],selectedIndices:[3],selectedIndex:3,rowCount:4,data:[{col1:"RC 11",col2:"RC 12",col3:"RC 13"},{col1:"RC 21",col2:"RC 22",col3:"RC 23"},{col1:"RC 31",col2:"RC 32",col3:"RC 33"},{col1:"RC 41",col2:"RC 42",col3:"RC 43"}]},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_CENTER,containerWeight:100,margin:[0,0,0,0],padding:[4,4,4,4],marginInPixel:!1,paddingInPixel:!1},{gridlineColor:"F4F4F4"}),kony.defaults.Map=function(n,e,t){kony.Map=kony.defaults.merge(n,e,t),kony.defaults.widget.Map=kony.Map},kony.defaults.Map05662dfdfdfa642=new kony.defaults.Map({id:"Map",provider:constants.MAP_PROVIDER_GOOGLE,defaultPinImage:"pinb.png",isVisible:!0,onSelection:null,onPinClick:null,onClick:null,locationData:[{desc:"Phoenix infocity, Gachibowli",lat:"17.447326",lon:"78.371358",name:"KonyLabs(New)"},{desc:"Mindspace, Hitech City",lat:"17.441839",lon:"78.380928",name:"KonyLabs(Old)"},{desc:"Jaihind Enclave, Madhapur",lat:"17.450378",lon:"78.388398",name:"My Residence"}],screenLevelWidget:!1,calloutWidth:80},{margin:[0,0,0,0],marginInPixel:!1,containerWeight:100},{showZoomControl:!0,zoomLevel:15,mode:constants.MAP_VIEW_MODE_NORMAL}),kony.defaults.TabPane=function(n,e,t){kony.TabPane=kony.defaults.merge(n,e,t),kony.defaults.widget.TabPane=kony.TabPane},kony.defaults.TabPane0d9081410504040=new kony.defaults.TabPane({id:"TabPane",activeSkin:"tabCanvas",inactiveSkin:"tabCanvasInactive",isVisible:!0,viewType:constants.TABPANE_VIEW_TYPE_TABVIEW,viewConfig:{collapsibleViewConfig:{collapsedImage:"",collapsedimage:"",expandedImage:"",expandedimage:"",imagePosition:constants.TABPANE_COLLAPSIBLE_IMAGE_POSITION_RIGHT,imageposition:"right",tabNameAlignment:constants.TABPANE_COLLAPSIBLE_TABNAME_ALIGNMENT_LEFT,tabnamealignment:"left",toggleTabs:!1,toggletabs:!1},collapsibleviewconfig:{collapsedImage:"",collapsedimage:"",expandedImage:"",expandedimage:"",imagePosition:constants.TABPANE_COLLAPSIBLE_IMAGE_POSITION_RIGHT,imageposition:"right",tabNameAlignment:constants.TABPANE_COLLAPSIBLE_TABNAME_ALIGNMENT_LEFT,tabnamealignment:"left",toggleTabs:!1,toggletabs:!1},pageViewConfig:{needPageIndicator:!0,pageOffDotImage:"",pageOnDotImage:""},panoramaViewConfig:{panoramaImage:"",panoramaTitle:"",panoramaTitleImage:""},tabViewConfig:{headerPosition:constants.TAB_HEADER_POSITION_TOP,image1:"arrow-left.png",image2:"arrow-right.png"}},screenLevelWidget:!1,activeTabs:[0]},{margin:[0,0,0,0],marginInPixel:!1,padding:[0,0,0,0],paddingInPixel:!1,widgetAlignment:constants.WIDGET_ALIGN_CENTER,layoutType:constants.CONTAINER_LAYOUT_BOX,containerWeight:100},{tabHeaderHeight:64}),kony.defaults.Video=function(n,e,t){kony.Video=kony.defaults.merge(n,e,t),kony.defaults.widget.Video=kony.Video},kony.defaults.Video0ec83655440d845=new kony.defaults.Video({id:"Video",isVisible:!0,skin:"slVideo",text:"Video"},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,containerWeight:100,margin:[0,0,0,0],padding:[0,0,0,0],marginInPixel:!1,paddingInPixel:!1},{controls:!0,poster:"defvideoposter.png"}),kony.defaults.ComboBox=function(n,e,t){kony.ComboBox=kony.defaults.merge(n,e,t),kony.defaults.widget.ComboBox=kony.ComboBox},kony.defaults.ComboBox08a335260d2e546=new kony.defaults.ComboBox({id:"ComboBox",skin:"slComboBox",onSelection:null,isVisible:!0,masterData:[["cb1","Combobox One"],["cb2","Combobox Two"],["cb3","Combobox Three"]],selectedKey:null,selectedKeyValue:null},{widgetAlignment:constants.WIDGET_ALIGN_CENTER,contentAlignment:constants.CONTENT_ALIGN_MIDDLE_LEFT,containerWeight:100,padding:[0,0,0,0],paddingInPixel:!1,margin:[0,0,0,0],marginInPixel:!1,hExpand:!0,vExpand:!1},{viewType:constants.COMBOBOX_VIEW_TYPE_LISTVIEW,viewConfig:{toggleViewConfig:{viewStyle:constants.COMBOBOX_TOGGLE_VIEW_STYLE_PLAIN}},groupCells:!1}),kony.defaults.Popup=function(n,e,t){kony.Popup=kony.defaults.merge(n,e,t),kony.defaults.widget.Popup=kony.Popup},kony.defaults.MyPopup08a335360d4e546=new kony.defaults.Popup({id:"MyPopup",skin:"slPopup",title:null,addWidgets:null,init:null,isVisible:!0,isModal:!1,transparencyBehindThePopup:100,onHide:null},{containerWeight:80,padding:[0,0,0,0],paddingInPixel:!1},{inTransitionConfig:{popupTransition:"None"},outTransitionConfig:{popupTransition:"None"}}),kony.defaults.FlexContainer=function(n,e,t){kony.FlexContainer=kony.defaults.merge(n,e,t),kony.defaults.widget.FlexContainer=kony.FlexContainer},kony.defaults.FlexContainer08a3676260d2e546=new kony.defaults.FlexContainer({id:"FlexContainer",isVisible:!0,skin:"slFbox",layoutType:kony.flex.FREE_FORM,clipBounds:!0,onSwipe:null},{widgetAlignment:constants.WIDGET_ALIGN_TOP_LEFT,containerWeight:100,padding:[0,0,0,0],hExpand:!0,vExpand:!1,layoutType:kony.flex.FREE_FORM},{}),kony.defaults.FlexScrollContainer=function(n,e,t){kony.FlexScrollContainer=kony.defaults.merge(n,e,t),kony.defaults.widget.FlexScrollContainer=kony.FlexScrollContainer},kony.defaults.FlexScroll08a3353460d2e546=new kony.defaults.FlexScrollContainer({id:"FlexScrollContainer",isVisible:!0,skin:"slFSbox",enableScrolling:!0,scrollDirection:kony.flex.SCROLL_HORIZONTAL,horizontalScrollIndicator:!0,verticalScrollIndicator:!0,left:"159dp",top:"215dp",width:"150dp",height:"200dp",zIndex:1,layoutType:kony.flex.FREE_FORM,clipBounds:!0,bounces:!0,allowHorizontalBounce:!0,allowVerticalBounce:!0,onSwipe:null},{widgetAlignment:constants.WIDGET_ALIGN_TOP_LEFT,containerWeight:100,padding:[0,0,0,0],hExpand:!0,vExpand:!1,layoutType:kony.flex.FREE_FORM},{});
$KI.net={integrityCheckRequired:!1,integrityProperties:[],postdataparams:function(e){var t,n="";for(var r in e)e.hasOwnProperty(r)&&"httpheaders"!=r&&(t=e[r],kony.print("postdataparams:key  = "+r+"  value  =  "+t),n+=r+"="+encodeURIComponent(t),n+="&");return n},FormData:function(e){function t(e,t){var n=Object.keys(e),r=0,o=0;return"entries"==t?{next:function(){return r<n.length&&o>=e[n[r]].length&&(o=0,r++),r<n.length?{done:!1,value:[n[r],e[n[r]][o++]]}:{done:!0,value:void 0}}}:"keys"==t?{next:function(){return r<n.length?{done:!1,value:n[r++]}:{done:!0,value:void 0}}}:"values"==t?{next:function(){return r<n.length&&o>=e[n[r]].length&&(o=0,r++),r<n.length?{done:!1,value:e[n[r]][o++]}:{done:!0,value:void 0}}}:void 0}if($KU.logExecuting("kony.net.FormData"),e&&e.isMultiPart&&void 0!=window.FormData)return $KU.logExecutingWithParams("kony.net.FormData",e),$KU.logExecutingFinished("kony.net.FormData VIA if (formdataparam && formdataparam.isMultiPart && (window.FormData != undefined)) is true"),new FormData;$KU.logExecutingWithParams("kony.net.FormData",e);var n={};this.append=function(e,t){if("undefined"==e||""==e)throw $KU.logErrorMessage("FormData append Error: key cannot be empty"),new Error("FormData append Error: key cannot be empty");$KG.appbehaviors.doNotEncodeFormValue||(t=encodeURIComponent(t)),n[e]?n[e].push(t):n[e]=[t]},this.toString=function(){var e="";for(var t in n)""==e?e=t+"="+n[t].join("&"+t+"="):e+="&"+t+"="+n[t].join("&"+t+"=");return e},this.delete=function(e){delete n[e]},this.entries=function(){return t(n,"entries")},this.get=function(e){return n[e][0]},this.getAll=function(e){return n[e]},this.has=function(e){return n.hasOwnProperty(e)},this.keys=function(){return t(n,"keys")},this.set=function(e,t){n.hasOwnProperty(e)&&delete n[e],n[e]=[t]},this.values=function(){return t(n,"values")},$KU.logExecutingFinished("kony.net.FormData VIA VIA if (formdataparam && formdataparam.isMultiPart && (window.FormData != undefined)) is false")},HttpRequest:function(){var e=!1,t=null,n=0,r=this,o=null,i=null;$KU.logExecuting("kony.net.HttpRequest"),$KU.logExecutingWithParams("kony.net.HttpRequest"),o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r.onReadyStateChange=null,r.readyState=void 0,r.response="",r.responseType="",r.status=null,r.statusText=null,r.timeout=0,r.enableWithCredentials=!1,r.randomString="",r.integrityStatus=constants.HTTP_INTEGRITY_CHECK_NOT_DONE,o.onreadystatechange=function(){switch(r.status=o.status,o.readyState){case 0:case 1:case 2:case 3:r.readyState=o.readyState,r.response="",r.onReadyStateChange&&r.onReadyStateChange(r);break;case 4:r.statusText="Request Completed",r.readyState=o.readyState,""==o.responseType||"text"==o.responseType?r.response=o.responseText:r.response=o.response,$KI.net.integrityCheckRequired&&$KI.net.generateResponseCheckSumAndCheckIntegrity($KI.net.integrityProperties,r,r.response),200===o.status&&(r.statusText+=": OK",i&&clearTimeout(i)),400===o.status&&(r.statusText+=": Error",i&&clearTimeout(i)),r.onReadyStateChange&&r.onReadyStateChange(r);break;default:throw $KU.logErrorMessage("Unknown Error : XMLHttpRequest error"),new Error("Unknown Error : XMLHttpRequest Error")}},r.timeoutFunction=function(){r.abort(),r.readyState=o.readyState,r.status=0,r.statusText="Request timed out",r.response="",r.onReadyStateChange&&r.onReadyStateChange()},r.open=function(n,r,i,a,s){if(!n&&"GET"!==n&&"POST"!==n)throw $KU.logErrorMessage("Syntax Error : Request Method is not defined"),new Error("Syntax Error : Request Method is not defined");if(!r)throw $KU.logErrorMessage("Syntax Error : URL is not defined"),new Error("Syntax Error : URL is not defined");i=(!0===i||!1===i)&&i||!0,t=n,e=!0,o.open(t,r,i,a,s)},r.send=function(t){if(!1===e)throw $KU.logErrorMessage("InvalidStateError : 'send' called before 'open'"),new Error("InvalidStateError : 'send' called before 'open' ");if(n>1)throw $KU.logErrorMessage("InvalidStateError : 'send' called more than once "),new Error("InvalidStateError : 'send' called more than once ");t instanceof kony.net.FormData?t=t.toString():t||(t=""),r.enableWithCredentials&&(o.withCredentials=!0),n++,o.timeout=!!r.timeout&&r.timeout,o.timeout&&(i=setTimeout(r.timeoutFunction,r.timeout)),o.responseType=r.responseType,$KI.net.integrityCheckRequired&&$KI.net.integrityProperties&&$KI.net.generateRequestCheckSumAndSetRequestHeader($KI.net.integrityProperties,r,t),o.send(t)},r.abort=function(){o.abort()},r.setRequestHeader=function(t,r){if(!1===e)throw $KU.logErrorMessage("InvalidStateError : 'setRequestHeader' called before 'open' "),new Error("InvalidStateError : 'setRequestHeader' called before 'open' ");if(n>1)throw $KU.logErrorMessage("InvalidStateError : 'setRequestHeader' called after 'send' "),new Error("InvalidStateError : 'setRequestHeader' called after 'send' ");o.setRequestHeader(t,r)},r.getResponseHeader=function(e){return!!o.getResponseHeader(e)&&o.getResponseHeader(e)||null},r.getAllResponseHeaders=function(){var e,t,n,r,i,a=0,s={};if(e=!!o.getAllResponseHeaders()&&o.getAllResponseHeaders()||null,$KG.appbehaviors.isResponseHeaderString)return e;if(e)for(t=e.trim().split(/[\r\n]+/),a=0;a<t.length;a++)r=(n=t[a].split(": ")).shift(),i=n.join(": "),s[r]=i;return s},$KU.logExecutingFinished("kony.net.HttpRequest")},generateRequestCheckSumAndSetRequestHeader:function(e,t,n){var r,o,i=e.algo,a=e.salt,s=e.headerName;r=$KI.net.generateRequestCheckSum(i,a,n,t),o=t.randomString+";"+r,t.setRequestHeader(s,o)},generateResponseCheckSumAndCheckIntegrity:function(e,t,n){var r,o={},i="";r=$KI.net.generateResponseCheckSum(e.algo,e.salt,n,t.randomString),((o=t.getAllResponseHeaders()).hasOwnProperty(e.headerName)||o.hasOwnProperty(e.headerName.toLowerCase()))&&(i=t.getResponseHeader(e.headerName),$KI.net.setIntegrityStatus(r,i,t))},setIntegrityStatus:function(e,t,n){e==t?(kony.print("Integrity Successful"),n.integrityStatus=constants.HTTP_INTEGRITY_CHECK_SUCCESSFUL):n.integrityStatus=constants.HTTP_INTEGRITY_CHECK_FAILED},checkIntegrityPropertyType:function(e,t,n){if(typeof t!=n)throw new KonyError("100","Error","Invalid argument"+e);return!0},validateIntegrityParams:function(e){if(!(Object.keys(e).length>0))throw new KonyError("101","Error","Invalid number of arguments");if($KI.net.checkIntegrityPropertyType("validateResp",e.validateResp,"boolean")&&$KI.net.checkIntegrityPropertyType("algo",e.algo,"string")&&$KI.net.checkIntegrityPropertyType("salt",e.salt,"string")&&$KI.net.checkIntegrityPropertyType("headerName",e.headerName,"string")){if(-1==["md5","sha1","sha256","sha512"].indexOf(e.algo.toLowerCase()))throw new KonyError("100","Error","Invalid argumment"+e.algo);e.salt.length>1024&&(e.salt=e.salt.substring(0,1024)),e.headerName.length>64&&(e.headerName=e.headerName.substring(0,64))}return!0},generateRequestCheckSum:function(e,t,n,r){var o,i="EMPTY_BODY";return r.randomString=$KI.crypto.generateRandomString(),n&&(i=$KI.crypto.createHashToUpperCase(e,n)),o="Request:"+t+":"+r.randomString+":"+i,$KI.crypto.createHashToUpperCase(e,o)},generateResponseCheckSum:function(e,t,n,r){var o,i="EMPTY_BODY";return n&&(i=$KI.crypto.createHashToUpperCase(e,n)),o="Response:"+t+":"+r+":"+i,$KI.crypto.createHashToUpperCase(e,o)},setIntegrityCheck:function(e){var t=$KI.net.validateIntegrityParams(e);$KU.logExecuting("kony.net.setIntegrityCheck"),t&&($KU.logExecutingWithParams("kony.net.setIntegrityCheck",e),$KI.net.integrityCheckRequired=e.validateResp,$KI.net.integrityCheckRequired&&($KI.net.integrityProperties=e)),$KU.logExecutingFinished("kony.net.setIntegrityCheck")},removeIntegrityCheck:function(){$KU.logExecuting("kony.net.removeIntegrityCheck"),$KU.logExecutingWithParams("kony.net.removeIntegrityCheck"),$KI.net.integrityCheckRequired=!1,$KI.net.integrityProperties=null,$KU.logExecutingFinished("kony.net.removeIntegrityCheck")},sethttpheaders:function(e,t){var n,r=[];for(var o in t)t.hasOwnProperty(o)&&t[o]&&(n=t[o]?t[o]:"",r.push(o),kony.print("sethttpheaders: key: "+o+"value: "+n),e.setRequestHeader(o,n));return r},loadJSFile:function(e,t,n){var r={type:"GET",url:e,timeout:3e4,paramstr:null,callback:n,info:""};return kony.print("loadJSFile: options: "+r),function(){var e=!1,n=new XMLHttpRequest;return n.open(r.type,r.url,t),n.onLoaded=function(){this.userCancelled&&(kony.print(" onLoaded: on Abort Mission"),this.onAbort())},n.onInteractive=function(){this.userCancelled?(kony.print(" onInteractive: on Abort Mission"),this.onAbort()):this.firstByte||(this.firstByte=!0)},n.onAbort=function(e){kony.print(" onInteractive: <- Abort Mission"),this.userCancelled&&(this.userCancelled=!1,this.ignoreCallback=!0,rettable={opstatus:1,errcode:1022,errmsg:"Request cancelled by user"},kony.print(" onInteractive: Abort Mission Success")),kony.print(" onInteractive: -> Abort Mission")},n.onTimeout=function(){e=!0,rettable={opstatus:1,errcode:1014,errmsg:"Request timed out"},kony.print("Request timed out.")},n.onreadystatechange=function(){switch(!this.ignoreCallback&&n.readyState){case 1:kony.print("onreadystatechange: ReadyState 1"),n.onLoaded(n);break;case 2:kony.print("onreadystatechange: ReadyState 2"),n.onInteractive(n);break;case 3:kony.print("onreadystatechange: ReadyState 3"),n.onAbort(n);break;case 4:kony.print("onreadystatechange: ReadyState 4"),e||(n.onComplete(n),n=null);break;default:kony.print("onreadystatechange: ReadyState Invalid: "+n.readyState)}},n.addResponseText=function(e){if(rettable=e.responseText,"undefined"!=typeof document){var t=document.createElement("script");t.type="text/javascript",t.text=e.responseText,document.getElementsByTagName("head")[0].appendChild(t),r.callback&&r.callback(),document.getElementsByTagName("head")[0].removeChild(t)}},n.onComplete=function(e){if(window.clearTimeout(e.timeoutid),kony.print("status: "+e.status+"readystate: "+e.readyState),this.firstByte=!1,this.userCancelled)return kony.print(" onComplete: on Abort Mission"),void this.onAbort();if(200==e.status)e.responseText&&e.responseText.length>0?r.callback&&r.callback(e.responseText):(kony.print("errcode: 1013, No JS Code"),rettable={opstatus:"1",errcode:"1013",errmsg:"Request returned no JS code"});else if(0==e.status||1==/5+/.test(e.status.toString())){if(e.responseText&&e.responseText.length>0)return void(r.callback&&r.callback(e.responseText));kony.print("errcode: 1012, Request Failed"),rettable={opstatus:1,errcode:"1012",errmsg:"Request Failed"}}else 1==/4+/.test(e.status.toString())?(kony.print("errcode: 1012, Request Failed"),rettable={opstatus:1,errcode:"1015",errmsg:"Request Failed"}):""!=e.responseText?(kony.print("Status != 200 but response exists"),rettable=e.responseText):kony.print("Empty response received.")},n.timeoutid=setTimeout(n.onTimeout,r.timeout),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),"object"==typeof headerobj&&(r.httpheaders=$KI.net.sethttpheaders(n,headerobj)),n.send(r.paramstr),n}()},invokeserviceasync:function(e,t,n,r,o,i){var a=null,s=i||6e4,d=window.location.protocol+"//"+window.location.host,l="",c="",u=$KG.appmode,p=$KI.props.getProperty(null,"appmiddlewarecontext")||"undefined"!=typeof appConfig&&appConfig&&appConfig.middlewareContext||"undefined"!=typeof config&&config&&config.middlewarecontext||"middleware";if(kony.print("invokeServiceAsync<- "+e),kony.print("middlewarecontext<- "+p),u==constants.APPLICATION_MODE_NATIVE){var g=e.indexOf(p);-1!=g&&(c=e.slice(0,g)),$KG.skipproxy||$KI.net.checkOriginandPostOrigin(d,c)&&e?l=d+"/"+p+"/MWServlet":(l=d+"/"+$KG.appid+"/spa",kony.print("using proxy: URL "+l),t?t._desturl=e:((t={})._desturl=e,kony.print("Without postdata "+e))),t.rcid=$KG.rcid||""}var y=t&&t.httpheaders,h=t&&$KI.net.postdataparams(t)||"";if(kony.print("invokeServiceAsync: URL: "+e),kony.print("invokeServiceAsync: Args are: "+h),kony.print("middleware origin: "+c),kony.print("location origin: "+d),e&&-1!=e.indexOf("/IST")||-1!=e.indexOf("/CMS"))l=e;else if(e&&"undefined"!=typeof document){var f=document.createElement("a");f.href=e;var k=f.protocol+"//"+f.host;$KI.net.checkOriginandPostOrigin(k,d)&&(l=e)}u!=constants.APPLICATION_MODE_HYBRID&&u!=constants.APPLICATION_MODE_WRAPPER||(l=e,kony.print("!!!!!!!!!!appmode hybrid/wrapper: "+l));var m=t&&t.httpconfig;m&&m.timeout&&!isNaN(m.timeout)&&(s=1e3*parseInt(m.timeout));var v={type:"POST",url:l,timeout:s,paramstr:h,callback:n,info:r||null};return o&&void 0!==o&&"GET".toLowerCase()===o.toLowerCase()&&(v.type="GET",v.url=v.url+"?"+h),kony.print("invokeServiceAsync: options: "+v),kony.system.activity.increment(),function(){if(null!==spaAPM){var e=(new Date).getTime(),n=null;n=t.serviceID?t.serviceID:v.url,spaAPM.sendMsg(n,"servicerequest")}function r(t,r,o,i){if(kony.system.activity.decrement(),kony.system.activity.hasActivity()||"undefined"!=typeof $KW&&($KW.skins.removeBlockUISkin(),$KW.unLoadWidget()),t&&(t(r,o,i),$KU.onEventHandler()),null!==spaAPM){if(e)var a=(new Date).getTime()-e;else a=null;spaAPM.sendMsg(n,"serviceresponse",{opstatus:o&&o.opstatus?o.opstatus:null,httpcode:r||null,resptime:a})}}var o=!1,i=new XMLHttpRequest;if(i.open(v.type,v.url,!0),i.onLoaded=function(){this.userCancelled?(kony.print(" onLoaded: on Abort Mission"),this.onAbort()):r(v.callback,100,null)},i.onInteractive=function(){this.userCancelled?(kony.print(" onInteractive: on Abort Mission"),this.onAbort()):this.firstByte||(this.firstByte=!0,r(v.callback,200,null))},i.onAbort=function(e){kony.print(" onInteractive: <- Abort Mission"),this.userCancelled&&(this.userCancelled=!1,this.ignoreCallback=!0,a={opstatus:1,errcode:1022,errmsg:"Request cancelled by user"},r(v.callback,300,a),kony.print(" onInteractive: Abort Mission Success")),kony.print(" onInteractive: -> Abort Mission")},i.onTimeout=function(){i.userCancelled?i.onAbort():(o=!0,a={opstatus:1,errcode:1014,errmsg:"Request timed out"},r(v.callback,400,a))},i.onreadystatechange=function(){switch(!this.ignoreCallback&&i.readyState){case 1:kony.print("onreadystatechange: ReadyState 1"),i.onLoaded(i);break;case 2:kony.print("onreadystatechange: ReadyState 2"),i.onInteractive(i);break;case 3:kony.print("onreadystatechange: ReadyState 3"),i.onAbort(i);break;case 4:kony.print("onreadystatechange: ReadyState 4"),o||(i.onComplete(i),i=null);break;default:kony.print("onreadystatechange: ReadyState Invalid: "+i.readyState)}},i.onComplete=function(e){if(window.clearTimeout(e.timeoutid),kony.print("status: "+e.status+"readystate: "+e.readyState+"res: "+e.response),this.firstByte=!1,this.userCancelled)return kony.print(" onComplete: on Abort Mission"),void this.onAbort();if(200==e.status)if(e.responseText&&e.responseText.length>0){a=e.responseText;try{a=1==IndexJL?$KU.convertjsontoluaobject(a):JSON.parse(a)}catch(e){kony.print("errcode: 1013, Invalid JSON string - Unable to parse the returned JSON from server"),a={opstatus:"1",errcode:"1013",errmsg:"Middleware returned invalid JSON string",response:a}}}else kony.print("errcode: 1013, Invalid JSON string"),a={opstatus:"1",errcode:"1013",errmsg:"Middleware returned invalid JSON string"};else 0==e.status||12200==e.status||1==/5+/.test(e.status.toString())?void 0===navigator.onLine||navigator.onLine?(kony.print("errcode: 1012, Request Failed"),a={opstatus:1,errcode:"1012",errmsg:"Request Failed"}):(kony.print("errcode: 1011, Device has no WIFI or mobile connectivity. Please try the operation after establishing connectivity."),a={opstatus:1,errcode:"1011",errmsg:"Device has no WIFI or mobile connectivity. Please try the operation after establishing connectivity."}):1==/4+/.test(e.status.toString())?(kony.print("errcode: 1015, Cannot find host"),a={opstatus:1,errcode:"1015",errmsg:"Cannot find host"}):""!=e.responseText?(kony.print("Status != 200 but response exists"),a=e.responseText):kony.print("Empty response received.");r(v.callback,400,a,v.info)},i.timeoutid=setTimeout(i.onTimeout,v.timeout),"object"==typeof y){if(v.url.indexOf("/spa")>0){i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var s=y["Content-Type"];void 0!==s&&delete y["Content-Type"]}else void 0===y["Content-Type"]&&(y["Content-Type"]="application/x-www-form-urlencoded");v.httpheaders=$KI.net.sethttpheaders(i,y),v.httpheaders.length>0&&v.url.indexOf("/spa")>0&&(void 0!==s&&(v.httpheaders["Content-Type"]=s),v.paramstr=v.paramstr+"kCustomHeaders="+v.httpheaders)}return"POST".toLowerCase()===v.type.toLowerCase()?i.send(v.paramstr):i.send(),i}()},invokeService:function(e,t,n,r,o){var i=null,a=o||6e4,s=window.location.protocol+"//"+window.location.host,d="",l="",c=$KG.appmode,u=$KI.props.getProperty(null,"appmiddlewarecontext")||"undefined"!=typeof appConfig&&appConfig&&appConfig.middlewareContext||"undefined"!=typeof config&&config&&config.middlewarecontext||"middleware";if(kony.print("invokeServiceAsync<- "),c==constants.APPLICATION_MODE_NATIVE){var p=e.indexOf(u);-1!=p&&(l=e.slice(0,p)),$KG.skipproxy||$KI.net.checkOriginandPostOrigin(s,l)&&e?d=s+"/"+u+"/MWServlet":(d=s+"/"+$KG.appid+"/spa",kony.print("using proxy: URL "+d),t?t._desturl=e:((t={})._desturl=e,kony.print("Without postdata "+e))),t.rcid=$KG.rcid||""}var g=t&&t.httpheaders,y=t&&$KI.net.postdataparams(t)||"";-1==e.indexOf("/IST")&&-1==e.indexOf("/CMS")||(d=e),kony.print("invokeServiceAsync: URL: "+e),kony.print("invokeServiceAsync: Args are: "+y),kony.print("middleware origin: "+l),kony.print("location origin: "+s),c!=constants.APPLICATION_MODE_HYBRID&&c!=constants.APPLICATION_MODE_WRAPPER||(d=e,kony.print("!!!!!!!!!!appmode hybrid/wrapper: "+d));var h={type:"POST",url:d,timeout:a,paramstr:y,callback:n,info:r||null};kony.system.activity.increment();var f=new XMLHttpRequest;if(f.open(h.type,h.url,!1),"object"==typeof g){if(h.url.indexOf("/spa")>0){f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var k=g["Content-Type"];void 0!==k&&delete g["Content-Type"]}else void 0===g["Content-Type"]&&(g["Content-Type"]="application/x-www-form-urlencoded");h.httpheaders=$KI.net.sethttpheaders(f,g),h.httpheaders.length>0&&h.url.indexOf("/spa")>0&&(void 0!==k&&(h.httpheaders["Content-Type"]=k),h.paramstr=h.paramstr+"kCustomHeaders="+h.httpheaders)}if(null!==spaAPM){var m=(new Date).getTime(),v=null;v=t.serviceID?t.serviceID:h.url,spaAPM.sendMsg(v,"servicerequest")}if(f.send(h.paramstr),kony.print("status: "+f.status+"readystate: "+f.readyState+"res: "+f.response),200==f.status)if(f.responseText&&f.responseText.length>0){kony.print(" onComplete: JSON obj: "+f.responseText),i=f.responseText;try{i=1==IndexJL?$KU.convertjsontoluaobject(i):JSON.parse(i),kony.print(" onComplete: Lua obj: "+JSON.stringify(i))}catch(e){kony.print("errcode: 1013, Invalid JSON string - Unable to parse the returned JSON from server"),i={opstatus:"1",errcode:"1013",errmsg:"Middleware returned invalid JSON string",response:i}}}else kony.print("errcode: 1013, Invalid JSON string"),i={opstatus:"1",errcode:"1013",errmsg:"Middleware returned invalid JSON string"};else 0==f.status||1==/5+/.test(f.status.toString())?void 0===navigator.onLine||navigator.onLine?(kony.print("errcode: 1012, Request Failed"),i={opstatus:1,errcode:"1012",errmsg:"Request Failed"}):(kony.print("errcode: 1011, Device has no WIFI or mobile connectivity. Please try the operation after establishing connectivity."),i={opstatus:1,errcode:"1011",errmsg:"Device has no WIFI or mobile connectivity. Please try the operation after establishing connectivity."}):1==/4+/.test(f.status.toString())?(kony.print("errcode: 1015, Cannot find host"),i={opstatus:1,errcode:"1015",errmsg:"Cannot find host"}):""!=f.responseText?(kony.print("Status != 200 but response exists"),i=f.responseText):kony.print("Empty response received.");if("undefined"!=typeof $KW&&($KW.skins.removeBlockUISkin(),$KW.unLoadWidget()),null!==spaAPM){if(m)var I=(new Date).getTime()-m;else I=null;spaAPM.sendMsg(v,"serviceresponse",{opstatus:i&&i.opstatus?i.opstatus:null,httpcode:null,resptime:I})}return i},cancel:function(e){$KU.logExecuting("kony.net.cancel"),kony.print("networkcancel<- "),e&&($KU.logExecutingWithParams("kony.net.cancel",e),e.userCancelled=!0,e.abort(),$KU.logWarnMessage("Request aborted on user request"),kony.print("Request aborted on user request")),kony.print("networkcancel-> "),$KU.logExecutingFinished("kony.net.cancel")},checkOriginandPostOrigin:function(e,t){return e.replace(/([^=]*):(80|443){1}(.*)/,"$1$3")==t.replace(/([^=]*):(80|443){1}(.*)/,"$1$3")},isNetworkAvailable:function(e){if($KU.logExecuting("kony.net.isNetworkAvailable"),e){if($KU.logExecutingWithParams("kony.net.isNetworkAvailable",e),e===constants.NETWORK_TYPE_ANY)return void 0!==navigator.onLine?($KU.logExecutingFinished("kony.net.isNetworkAvailable"),navigator.onLine):($KU.logWarnMessage("navigator.online is undefined"),!1);if(e===constants.NETWORK_TYPE_3G||e===constants.NETWORK_TYPE_WIFI||e===constants.NETWORK_TYPE_ETHERNET)return $KU.logWarnMessage("Invalid connectionType"),!1;throw $KU.logErrorMessage("Invalid Network Type or connectionType"),new Error("Invalid Network Type")}throw $KU.logErrorMessage("Invalid arguments"),new Error("Invalid Network Type")},setNetworkCallbacks:function(e){if($KU.logExecuting("kony.net.setNetworkCallbacks"),!e||!e.statusChange)throw $KU.logErrorMessage("Invalid argument or argument is not of valid type"),new Error("Invalid Input : config is not of valid type");$KU.logExecutingWithParams("kony.net.setNetworkCallbacks",e),"object"==typeof window.ononline&&window.addEventListener("online",function(){e.statusChange(navigator.onLine)},!1),"object"==typeof window.onoffline&&window.addEventListener("offline",function(){e.statusChange(navigator.onLine)},!1),$KU.logExecutingFinished("kony.net.setNetworkCallbacks")},getActiveNetworkType:function(){return $KU.logExecuting("kony.net.getActiveNetworkType"),$KU.logExecutingWithParams("kony.net.getActiveNetworkType"),$KU.logExecutingFinished("kony.net.getActiveNetworkType"),void 0===navigator.onLine?constants.NETWORK_TYPE_ANY:navigator.onLine?constants.NETWORK_TYPE_ANY:($KU.logWarnMessage("problem with network status"),null)},getCookies:function(e){if($KU.logExecuting("kony.net.getCookies"),e&&($KU.logExecutingWithParams("kony.net.getCookies",e),window&&-1!=e.indexOf(window.location.origin))){var t=document&&document.cookie;if(t&&t.length>0)return $KU.logExecutingFinished("kony.net.getCookies"),t.split(";")}return $KU.logWarnMessage("Invalid argument"),null},clearCookies:function(e,t){$KU.logExecuting("kony.net.clearCookies");var n=document&&document.cookie.split(";");if(e=e||document.URL,!window||-1==e.indexOf(window.location.origin))throw $KU.logErrorMessage("Invalid input url"),new KonyError(1005,"invalid input url","invalid input url");if(t=t||n){$KU.logExecutingWithParams("kony.net.clearCookies",e,t);for(var r=window.location.pathname.split("/"),o=0;o<t.length;o++){var i="/",a=t[o].trim();if(-1!=document.cookie.indexOf(a))for(var s=0;s<r.length&&(i+=("/"!=i.substr(-1)?"/":"")+r[s],-1!=a.indexOf("=")?document.cookie=a+"; expires=Thu, 01-Jan-1970 00:00:01 GMT;path="+i+";":document.cookie=a+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT;path="+i+";",-1!=document.cookie.indexOf(a));s++);}}$KU.logExecutingFinished("kony.net.clearCookies")},loadClientCertificate:function(){$KU.logWarnMessage("The loadClientCertificate API is not supported.")},removeClientCertificate:function(){$KU.logWarnMessage("The removeClientCertificate API is not supported.")},removeAllCachedResponses:function(){$KU.logWarnMessage("The removeAllCachedResponses API is not supported.")},urlDecode:function(){$KU.logWarnMessage("The urlDecode API is not supported.")},urlEncode:function(){$KU.logWarnMessage("The urlEncode API is not supported.")}},$KI.props={getProperty:function(e,t){if($KU.logExecuting("kony.props.getProperty"),$KU.logExecutingWithParams("kony.props.getProperty",e,t),"undefined"!=typeof _konyAppProperties&&null!=_konyAppProperties&&t)return $KU.logExecutingFinished("kony.props.getProperty"),_konyAppProperties[t]||null}};
kony.modules=function(){var o={loadModule:function(e){if($KU.logExecuting("kony.modules.loadFunctionalModule"),void 0===$KG.functionalModules[e])return $KU.logErrorMessage("Invalid type functionalModules "),!1;$KU.logExecutingWithParams("kony.modules.loadFunctionalModule",e);try{var n=$KG.functionalModules[e];if(1==n.loaded)return!0;if(n.loaded=1,o.preInitCheck(e))return $KU.logExecutingFinished("kony.modules.loadFunctionalModule VIA if module.preInitCheck(moduleid) exists "),!0;if("function"==typeof importScripts)importScripts(e+"_kfm.js"),o.moduleCallback(e);else{var l=kony.appinit.getStaticContentPath()+$KG.platformver+"appjs/"+e+"_kfm.js";$KI.net.loadJSFile(l,!1,function(n){try{o.addScript(n),o.moduleCallback(e)}catch(o){$KU.logErrorMessage("Unable to load module "+e+". Error "+o.message),kony.print("Unable to load module "+e+". Error "+o.message)}})}return 1===$KG.functionalModules[e].loaded?($KU.logExecutingFinished("kony.modules.loadFunctionalModule VIA if $KG.functionalModules[moduleid].loaded === 1"),!0):($KU.logErrorMessage("functionalModules not loaded"),!1)}catch(o){return $KU.logErrorMessage(o.message),kony.print(o.message),!1}},preInitCheck:function(e){for(var n=$KG.functionalModules[e],l=0;l<n.depends.length;l++){var d=n.depends[l];if(void 0===$KG.functionalModules[d])throw new Error("Invalid module : "+d);if(void 0===$KG.functionalModules[d].loaded&&!o.loadModule(d))throw new Error("Unable to load module : "+d)}return!1},moduleCallback:function(o){var e=$KG.functionalModules[o];if(void 0!==e){var n=null;if("string"==typeof e.init&&"function"!=typeof(n=window[e.init]))throw e.inProgress=!1,e.loaded=void 0,new Error("Invalid module init function : "+o);void 0===e.errorcode&&null!==n&&n(),e.inProgress=!1,e.loaded=1}},loadModuleAsync:function(e,n,l){$KU.logExecuting("kony.modules.loadFunctionalModuleAsync"),$KU.logExecutingWithParams("kony.modules.loadFunctionalModuleAsync",e,n,l);try{var d=$KG.functionalModules[e];if(void 0===d)return $KU.logErrorMessage("Invalid type functionalModules"),l(e,1250);var t=function(t){if(void 0===d.loaded)try{o.moduleCallback(e)}catch(o){$KU.logErrorMessage("unknown error"+o),t=1251}t?l(e,t):n(e)};if(1==d.loaded)return $KU.logExecutingFinished("kony.modules.loadFunctionalModuleAsync"),n(e),!0;if(d.inProgress)return void $KU.logWarnMessage("unable to load functionalModules or still in progress ");if(d.inProgress=!0,o.loadDependentModules(e,n,l),"function"==typeof importScripts)importScripts(e+"_kfm.js"),t();else{var r=kony.appinit.getStaticContentPath()+$KG.platformver+"appjs/"+e+"_kfm.js";$KI.net.loadJSFile(r,!0,function(n){o.checkForDependents(e,n,t)})}}catch(o){kony.web.logger("error","unknown error"+o),l(e,1251)}},checkForDependents:function(e,n,l,d){var t=!0,r=null,i=$KG.functionalModules[e];if(void 0!==i.errorcode&&(r=i.errorcode),void 0===d)d=0;else{if(d>30)return void l(1251);d++}for(var a=0;a<i.depends.length;a++){var u=i.depends[a];void 0!==$KG.functionalModules[u]&&(void 0===$KG.functionalModules[u].loaded&&(t=!1),void 0!==$KG.functionalModules[u].errorcode&&(r=$KG.functionalModules[u].errorcode))}t&&null===r?null===n?l():o.addScript(n,l):null!==r?l(r):setTimeout(function(){o.checkForDependents(e,n,l,d)},100)},loadDependentModules:function(e,n,l){for(var d=$KG.functionalModules[e],t=0;t<d.depends.length;t++){var r=d.depends[t];void 0===$KG.functionalModules[r]?l(e,1250):void 0===$KG.functionalModules[r].loaded&&!0!==$KG.functionalModules[r].inProgress&&o.loadModuleAsync(r,o.onLoadComplete,o.onLoadComplete)}return!1},onLoadComplete:function(o,e){$KG.functionalModules[o].errorcode=e},addScript:function(o,e){var n=document.createElement("script");n.type="text/javascript",n.text=o;try{document.getElementsByTagName("head")[0].appendChild(n),e&&e()}catch(o){e&&e(o)}finally{document.getElementsByTagName("head")[0].removeChild(n)}}};return o.loadFunctionalModule=o.loadModule,o.loadFunctionalModuleAsync=o.loadModuleAsync,o}();
function kony_dummyForDBCallback(){}$KI.db={changeversion:function(e,n,a,o,t,s){$KU.logExecuting("kony.db.changeVersion"),$KU.logExecutingWithParams("kony.db.changeVersion",e,n,a,o,t,s),window.openDatabase?e&&e.changeVersion(n,a,o,t,s):($KU.logWarnMessage("Web Databases not supported"),kony.print("Web Databases not supported")),$KU.logExecutingFinished("kony.db.changeVersion")},executesql:function(e,n,a,o,t){$KU.logExecuting("kony.db.executeSql"),$KU.logExecutingWithParams("kony.db.executeSql",e,n,a,o,t),window.openDatabase?e&&(a&&null===a[0]&&(a=a.slice(1)),e.executeSql(n,a,o,t)):($KU.logWarnMessage("Web Databases not supported"),kony.print("Web Databases not supported")),$KU.logExecutingFinished("kony.db.executeSql")},opendatabase:function(e,n,a,o,t){var s=this.db||null;t=t||kony_dummyForDBCallback,$KU.logExecuting("kony.db.openDatabase"),$KU.logExecutingWithParams("kony.db.openDatabase",e,n,a,o,t);try{window.openDatabase?s||(s=openDatabase(e,n,a,o,t),this.db=s):($KU.logWarnMessage("Web Databases not supported"),kony.print("Web Databases not supported"))}catch(e){return 2==e?($KU.logErrorMessage("opendatabase:Invalid database version."),kony.print("opendatabase:Invalid database version.")):($KU.logErrorMessage("opendatabase:Unknown error "+e+"."),kony.print("opendatabase:Unknown error "+e+".")),$KU.logErrorMessage("Invalid database version or Unknown error"),null}return $KU.logExecutingFinished("kony.db.openDatabase"),s},readtransaction:function(e,n,a,o){$KU.logExecuting("kony.db.readTransaction"),$KU.logExecutingWithParams("kony.db.readTransaction",e,n,a,o),window.openDatabase?e&&e.readTransaction(n,a,o):($KU.logWarnMessage("Web Databases not supported"),kony.print("Web Databases not supported")),$KU.logExecutingFinished("kony.db.readTransaction")},sqlresultsetrowitem:function(e,n,a){if($KU.logExecuting("kony.db.sqlResultsetRowItem"),$KU.logExecutingWithParams("kony.db.sqlResultsetRowItem",e,n,a),window.openDatabase)return a<n.rows.length?($KU.logExecutingFinished("kony.db.sqlResultsetRowItem VIA if index < sqlresultset.rows.length"),n.rows.item(a)):($KU.logErrorMessage("Index position exceeds row length"),null);$KU.logWarnMessage("Web Databases not supported"),kony.print("Web Databases not supported"),$KU.logExecutingFinished("kony.db.sqlResultsetRowItem VIA end of the function")},transaction:function(e,n,a,o){$KU.logExecuting("kony.db.transaction"),window.openDatabase?e&&($KU.logExecutingWithParams("kony.db.transaction",e,n,a,o),e.transaction(n,a,o)):($KU.logWarnMessage("Web Databases not supported"),kony.print("Web Databases not supported")),$KU.logExecutingFinished("kony.db.transaction")}};
$KI.ds=function(){var e=null,t=function(e){var t=$KU.getLocalStorage().data,o=0,a=null,n=t.length;for(o=0;o<n;o++)if(t[o].key===e){a=t[o].value;break}return a},o=function(e){var t=$KU.getLocalStorage(),o=t.data,a=0,n=-1,r=o.length;for(a=0;a<r;a++)if(o[a].key===e){n=a;break}n>=0&&(t.data.splice(n,1),localStorage.setItem(kony.globals.appid,JSON.stringify(t)))},a=function(e,t){var o=$KU.getLocalStorage(),a=o.data,n=0,r=-1,i=a.length;for(n=0;n<i;n++)if(a[n].key===e){r=n;break}-1===r?o.data.push({key:e,value:t}):o.data[r].value=t,localStorage.setItem(kony.globals.appid,JSON.stringify(o))};try{"object"==typeof localStorage?(e={save:function(e,t,o){if($KU.logExecuting("kony.ds.save"),localStorage)try{$KU.logExecutingWithParams("kony.ds.save",e,t,o),a(t,e)}catch(e){if("QUOTA_EXCEEDED_ERR"==e.name){var n=0,r="";return 0===localStorage.length?($KU.logErrorMessage("Private Browsing is switched ON"),n=707,r="Private Browsing is switched ON"):($KU.logErrorMessage("Data storage limit has exceeded"),n=708,r="Data storage limit has exceeded"),{errcode:n,errmsg:r}}}else $KU.logWarnMessage("localstorage is not supported"),kony.print("localStorage not supported");$KU.logExecutingFinished("kony.ds.save")},read:function(e){return $KU.logExecuting("kony.ds.read"),$KU.logExecutingWithParams("kony.ds.read",e),localStorage?($KU.logExecutingFinished("kony.ds.read"),t(e)):($KU.logWarnMessage("localStorage readitem failed"),kony.print("localStorage readitem failed"),null)},Delete:function(e){return localStorage?(o(e),!0):(kony.print("localStorage delete failed"),!1)}},$KI.localstorage={key:function(e){return $KU.logExecuting("kony.store.key"),$KU.logExecutingWithParams("kony.store.key",e),$KU.logExecutingFinished("kony.store.key"),function(e){var t=$KU.getLocalStorage().data[e];return t?t.key:null}(e)},getitem:function(e){return $KU.logExecuting("kony.store.getItem"),$KU.logExecutingWithParams("kony.store.getItem",e),$KU.logExecutingFinished("kony.store.getItem"),t(e)},setitem:function(e,t){$KU.logExecuting("kony.store.setitem"),$KU.logExecutingWithParams("kony.store.setitem",e,t);try{a(e,t)}catch(e){"QUOTA_EXCEEDED_ERR"==e.name&&(0===localStorage.length?kony.web.logger("warn","Private Browsing is switched ON"):kony.web.logger("warn","Data storage limit has exceeded"))}$KU.logExecutingFinished("kony.store.setitem")},removeitem:function(e){$KU.logExecuting("kony.store.removeitem"),$KU.logExecutingWithParams("kony.store.removeitem",e),$KU.logExecutingFinished("kony.store.removeitem"),o(e)},clear:function(){localStorage.clear(),localStorage.setItem(kony.globals.appid,JSON.stringify($KU.createBlankLocalStorage()))},length:function(){return $KU.logExecuting("kony.store.length"),$KU.logExecutingWithParams("kony.store.length"),$KU.logExecutingFinished("kony.store.length"),$KU.getLocalStorage().data.length}}):kony.print("localStorage not supported")}catch(t){e={save:function(){},read:function(e){},Delete:function(e){}}}return e}();
$KW.Scroller=function(){var e={initializeFormScroller:function(e){var t=document.querySelectorAll("#"+e+"[kwidgettype='KFormScroller'] ,#"+e+" div[kwidgettype='KFormScroller']");t&&this.initialize(t,"Form")},initializeScrollBoxes:function(e){var t=document.querySelectorAll("#"+e+" div[kwidgettype='KScrollBox']");t&&this.initialize(t,"ScrollBox")},initializeFlexScrollContainers:function(e){var t=document.querySelectorAll("#"+e+" div[kwidgettype='KFlexScrollContainer']");t&&this.initialize(t,"FlexScrollContainer")},initializeCollectionViewContainers:function(e){var t=document.querySelectorAll("#"+e+" div[kwidgettype='KCollectionView']");t&&this.initialize(t,"CollectionView")},initialize:function(t,o){var l=function(e,t){t.onScrollStart=function(){var e=this.options;e.widgetModel.contentoffset={x:-this.x,y:-this.y},e.widgetModel.onscrollstart&&$KU.executeWidgetEventHandler(e.widgetModel,e.widgetModel.onscrollstart)}},i=function(e,t){t.onScrollMove=function(){var e=this.options;e.widgetModel.contentoffset={x:-this.x,y:-this.y},e.widgetModel.onscrolling&&$KU.executeWidgetEventHandler(e.widgetModel,e.widgetModel.onscrolling)}},n=function(e,t){t.onScrollTouchReleased=function(){var e=this.options;e.widgetModel.contentoffset={x:-this.x,y:-this.y},e.widgetModel.onscrolltouchreleased&&$KU.executeWidgetEventHandler(e.widgetModel,e.widgetModel.onscrolltouchreleased)}},r=function(e,t){t.onScrollEnd=function(){var e=this.options;e.widgetModel.contentoffset={x:-this.x,y:-this.y},e.widgetModel.onscrollend&&$KU.executeWidgetEventHandler(e.widgetModel,e.widgetModel.onscrollend)}};if($KG.stickyScroll){var s=new $KW.touch.StickyScroller;$KG[$KG.__currentForm+"_scroller"]=s}else{if($KG.nativeScroll&&"Form"==o){var c=document.forms,h=c[0];return 2==c.length&&(h=c[1]),void((d=$KG.allforms[h.id])&&$KW.FlexUtils.isFlexContainer(d)&&this.initializeNativeScroller(d,h))}for(var a=0;a<t.length;a++){var d,p=t[a].id,g=p.substring(0,p.lastIndexOf("_")),u=t[a],f=document.getElementById(g),S=u.getAttribute("widgetType"),m=u.getAttribute("swipeDirection");(w="Form"==o?$KG.allforms[g]:$KU.getModelByNode(f)).pf&&(d=$KG.allforms[w.pf]);var v={checkDOMChanges:!0};if(v.widgetModel=w,"Form"==o&&$KW.FlexUtils.isFlexContainer(w)&&(m="vertical"),"vertical"==m?(v.vScroll=!0,v.scrollbox=!0):"horizontal"==m?(v.hScroll=!0,v.scrollbox=!0):"both"==m?(v.vScroll=!0,v.hScroll=!0,v.scrollbox=!0):"FlexScrollContainer"!==o&&(v.vScroll=!0,v.hScroll=!0,v.scrollbox=!0),"Segment"==w.wType){var y=w.listAnimation;y&&!y.initialized&&y.init()}if("Form"==o&&(v.scrollbox=!1),"FlexScrollContainer"==o||"Form"==o&&$KW.FlexUtils.isFlexContainer(w)){if($KG.nativeScroll){this.initializeNativeScroller(w,u.childNodes[0].childNodes[0]);continue}"Form"==o&&e.setHeight(g),v.formid=w.pf,v.vBounce=w.allowverticalbounce,v.hBounce=w.allowhorizontalbounce,v.bounce=w.bounces,v.disableUserScroll=!w.enablescrolling,v.hideScrollbar=!0,"horizontal"==m?v.hScrollbar=w.horizontalscrollindicator:"vertical"==m?v.vScrollbar=w.verticalscrollindicator:"both"==m?(v.hScrollbar=w.horizontalscrollindicator,v.vScrollbar=w.verticalscrollindicator):(v.hScrollbar=!1,v.vScrollbar=!1),w.scrollingevents?(l(0,v),n(0,v),e.initializeFlexScrollEvents(w,v)):(l(0,v),i(0,v),n(0,v),r(0,v))}else if("form"==S){if(e.setHeight(g),v.vScrollbar=!0,v.formid=g,v.scrollbox=!1,v.bounce=void 0==w.scrollbounce||w.scrollbounce,$KG.nativeScroll&&"Popup"===w.wType){u.style.overflowY="auto";continue}}else{var w;if(0==(w=$KU.getModelByNode(f)).needScroller&&1!=w.screenLevelWidget)continue;if(0==w.needScroller&&1==w.screenLevelWidget&&d.id!=w.parent.id)continue;if($KG.nativeScroll&&w){var x,K;switch(w.scrollDirection){case 1:x="auto",K="hidden";break;case 2:x="hidden",K="auto";break;case 3:x="auto",K="auto";break;case 4:x="hidden",K="hidden";default:x="",K=""}var $=u.style;$.overflowX=x,$.overflowY=K,this.initializeNativeScroller(w,u);continue}if(v.scrollbox=!0,v.formid=w.pf,w.screenLevelWidget){var b="Popup"!=d.wType||d.enableScroll,U=document.getElementById(v.formid+"_scroller");b&&U&&(u.style.height=U.offsetHeight+"px",e.setSLWHeight(d,u))}v.bounce=void 0==w.scrollbounce||w.scrollbounce,v.disableUserScroll=w.scrolldirection==constants.SCROLLBOX_SCROLL_NONE,"arrows"==w.scrollbar?(v.showImages=!0,v.widgetID=w.id):"scrollbar"==w.scrollbar&&(!1===w.autohidescrollbar&&(v.hideScrollbar=!1),"horizontal"==m?v.hScrollbar=!0:"vertical"==m?v.vScrollbar=!0:"both"==m&&(v.hScrollbar=!0,v.vScrollbar=!0)),"CollectionView"==o&&w.showScrollbars&&("horizontal"==m?v.hScrollbar=!0:"vertical"==m?v.vScrollbar=!0:"both"==m&&(v.hScrollbar=!0,v.vScrollbar=!0));var H=w.scrollingevents;if(H){var F,W,T,C,E,M,I,O,N=0,L=0,_="#"+$KW.Utils.getKMasterWidgetID(w)+"_pullDown",B="#"+$KW.Utils.getKMasterWidgetID(w)+"_pullUp";F=document.querySelector(_),W=document.querySelector(B),"CollectionView"==w.wType&&w.layouttype==kony.collectionview.LAYOUT_VERTICAL?(F&&(N=F.offsetWidth),W&&(L=W.offsetWidth)):(F&&(N=F.offsetHeight),W&&(L=W.offsetHeight)),!H.onpull&&(T=!0),!H.onpush&&(C=!0),E=function(){var e=this.options.pullDownEl,t=this.options.pullUpEl,o=this.options.widgetModel;e&&e.className.match("loading")?(e.className="","CollectionView"==o.wType?(e.children[0]&&$KU.removeClassName(e.children[0],"hide"),e.children[1]&&$KU.addClassName(e.children[1],"hide")):e.querySelector(".pullDownLabel").innerHTML="Pull down to refresh.."):t&&t.className.match("loading")&&(t.className="","CollectionView"==o.wType?(t.children[0]&&$KU.removeClassName(t.children[0],"hide"),t.children[1]&&$KU.addClassName(t.children[1],"hide")):t.querySelector(".pullUpLabel").innerHTML="Pull up to refresh..")},M=function(){"Segment"==this.options.widgetModel.wType&&$KW.Segment.handleLazyLoadingOnScrollStart(this.options.widgetModel)},I=function(){var e=this.options.pullDownEl,t=this.options.pullUpEl,o=this.options.widgetModel;if("Segment"==o.wType&&($KW.Segment.updateScrollTopOnScroll(o),$KW.Segment.handleLazyLoadingOnScrollMove(o)),e&&((this.options.vScroll&&this.y>5||this.options.hScroll&&this.x>5)&&!e.className.match("flip")?(e.className="flip",T=!1,"CollectionView"==o.wType?(e.children[1]&&$KU.removeClassName(e.children[1],"hide"),e.children[0]&&$KU.addClassName(e.children[0],"hide")):e.querySelector(".pullDownLabel").innerHTML="Release to refresh..",this.options.vScroll?this.minScrollY=0:this.minScrollX=0):(this.options.vScroll&&this.y<5||this.options.hScroll&&this.x<5)&&e.className.match("flip")&&(this.options.vScroll?this.minScrollY=-this.pullDownOffset:this.minScrollX=-this.pullDownOffset)),t&&((this.options.vScroll&&this.y<this.maxScrollY-5-this.pullUpOffset||this.options.hScroll&&this.x<this.maxScrollX-5-this.pullUpOffset)&&!t.className.match("flip")?(t.className="flip",C=!1,"CollectionView"==o.wType?(t.children[1]&&$KU.removeClassName(t.children[1],"hide"),t.children[0]&&$KU.addClassName(t.children[0],"hide")):t.querySelector(".pullUpLabel").innerHTML="Release to refresh..",this.options.vScroll?this.maxScrollY-=this.pullUpOffset:this.maxScrollX-=this.pullUpOffset):(this.options.vScroll&&this.y>this.maxScrollY+5||this.options.hScroll&&this.x>this.maxScrollX+5)&&t.className.match("flip")&&(this.maxScrollY=this.maxScrollY)),"CollectionView"==this.options.widgetModel.wType){var l=$KU.getModelByScroller(this.wrapper.id),i=l&&$KU.returnEventReference(l.onscrolling);i&&$KU.executeWidgetEventHandler(l,i),$KW.CollectionView.Animation.handleOnItemDisplay(l)}},O=function(){var t=this.options.pullDownEl,o=this.options.pullUpEl,l=0,i=0,n=this.options.widgetModel;if("Segment"==n.wType&&($KW.Segment.updateScrollTopOnScroll(n),$KW.Segment.handleLazyLoadingOnScrollEnd(n)),"CollectionView"==this.options.widgetModel.wType){var r=this.options.widgetModel;r.layouttype!=kony.collectionview.LAYOUT_CUSTOM?(l=r.reachingbeginningoffsetinPX,i=r.reachingendoffsetinPX):this.direction==$KW.touch.TouchContext.UP||this.direction==$KW.touch.TouchContext.DOWN?(l=r.reachingbeginningoffsetV,i=r.reachingendoffsetV):(l=r.reachingbeginningoffsetH,i=r.reachingendoffsetH)}if((this.options.vScroll&&this.y>=this.minScrollY-l||this.options.hScroll&&this.x>=this.minScrollX-l)&&this.options.pullInitFlag){if(void 0===(h=$KU.getModelByScroller(this.wrapper.id)))return;if(this.scrollerH>0){kony.web.logger("log","On Reach beginning");var s=$KU.returnEventReference(h.scrollingevents.onreachingbeginning);if("CollectionView"==h.wType){if(!this.options.onreachingbeginningVFired||!this.options.onreachingbeginningHFired){var c=kony.collectionview.SCROLL_DIRECTION_HORIZONTAL;this.direction==$KW.touch.TouchContext.UP||this.direction==$KW.touch.TouchContext.DOWN?(c=kony.collectionview.SCROLL_DIRECTION_VERTICAL,this.options.onreachingbeginningVFired||this.options.vScroll&&this.y>=this.minScrollY-l&&(s&&$KU.executeWidgetEventHandler(h,s,c,h.contentOffsetMeasured),this.options.onreachingbeginningVFired=!0)):this.options.onreachingbeginningHFired||this.options.hScroll&&this.x>=this.minScrollX-l&&(s&&$KU.executeWidgetEventHandler(h,s,c,h.contentOffsetMeasured),this.options.onreachingbeginningHFired=!0)}}else s&&$KU.executeWidgetEventHandler(h,s)}}if((this.options.vScroll&&this.y<this.minScrollY-l||this.options.hScroll&&this.x<this.minScrollX-l)&&(this.direction==$KW.touch.TouchContext.UP||this.direction==$KW.touch.TouchContext.DOWN?this.options.onreachingbeginningVFired=!1:this.options.onreachingbeginningHFired=!1),t&&t.className.match("flip")&&(t.className="loading","CollectionView"==n.wType||(t.querySelector(".pullDownLabel").innerHTML="Loading.."),e.pullAction.call(this,"DOWN")),(this.options.vScroll&&this.y<=this.maxScrollY+i||this.options.hScroll&&this.x<=this.maxScrollX+i)&&this.options.pushInitFlag){var h;if(void 0===(h=$KU.getModelByScroller(this.wrapper.id)))return;if(this.options.vScroll&&Math.abs(this.y)>=20||this.options.hScroll&&Math.abs(this.x)>=20){kony.web.logger("log","On Reach end");var s=$KU.returnEventReference(h.scrollingevents.onreachingend);if("CollectionView"==h.wType){if(!this.options.onreachingendVFired||!this.options.onreachingendHFired){c=kony.collectionview.SCROLL_DIRECTION_HORIZONTAL;this.direction==$KW.touch.TouchContext.UP||this.direction==$KW.touch.TouchContext.DOWN?(c=kony.collectionview.SCROLL_DIRECTION_VERTICAL,this.options.onreachingendVFired||this.options.vScroll&&this.y<=this.maxScrollY+i&&(s&&$KU.executeWidgetEventHandler(h,s,c,h.contentOffsetMeasured),this.options.onreachingendVFired=!0)):this.options.onreachingendHFired||this.options.hScroll&&this.x<=this.maxScrollX+i&&(s&&$KU.executeWidgetEventHandler(h,s,c,h.contentOffsetMeasured),this.options.onreachingendHFired=!0)}}else s&&$KU.executeWidgetEventHandler(h,s)}}((this.options.vScroll&&this.y>this.maxScrollY+i||this.options.hScroll&&this.x>this.maxScrollX+i)&&(this.direction==$KW.touch.TouchContext.UP||this.direction==$KW.touch.TouchContext.DOWN?this.options.onreachingendVFired=!1:this.options.onreachingendHFired=!1),o&&o.className.match("flip")&&(o.className="loading","CollectionView"==n.wType||(o.querySelector(".pullUpLabel").innerHTML="Loading.."),e.pullAction.call(this,"UP")),this.options.pullInitFlag||(this.options.pullInitFlag=!0),this.options.pushInitFlag||(this.options.pushInitFlag=!0),"CollectionView"==this.options.widgetModel.wType)&&((s=(h=$KU.getModelByScroller(this.wrapper.id))&&$KU.returnEventReference(h.onscrollend))&&$KU.executeWidgetEventHandler(h,s))},"CollectionView"==w.wType?(n(0,v),l(0,v)):"Segment"==w.wType&&(v.onScrollStart=M),$KU.extend(v,{topOffset:N,bottomOffset:L,onRefresh:E,onScrollMove:I,onScrollEnd:O,pullDownEl:F,pullUpEl:W,pullInitFlag:T,pushInitFlag:C})}}"vbox"==S&&(v.onBeforeScrollStart=e.onBeforeScrollStartHandler()),d&&"boolean"==typeof d.useTransform&&(v.useTransform=d.useTransform),document.querySelectorAll("#"+$KG.__currentForm.id+" select").length>0&&"form"==S&&(v.useTransform=!1),("ScrollBox"==o&&$KW.FlexUtils.isFlexContainer(d)||$KW.FlexUtils.isFlexContainer(d)||"FlexScrollContainer"==o&&("FlexScrollContainer"===w.parent.wType||"FlexContainer"==w.parent.wType))&&(v.bubbleEvents=!0);s=new $KW.touch.konyScroller(u,v);if("form"==S){var D=$KG.allforms[g].header,k=$KG.allforms[g].footer;$KG.allforms[g].scrollerTimer=setInterval(function(t){return function(){e.checkDOMChanges(t+"_scroller",D,k)}}(g),1e3)}if("horizontal"!=m&&"both"!=m||0!=u.children[0].scrollWidth&&(u.children[0].style.width=u.children[0].scrollWidth+"px",s.refresh()),"CollectionView"!=o||"vertical"!=m&&"both"!=m||0==G||0!=u.children[0].scrollHeight&&(u.children[0].style.height=u.children[0].scrollHeight+"px",s.refresh()),"FlexScrollContainer"==o||"Form"==o&&$KW.FlexUtils.isFlexContainer(w)){var G;if("Form"==o){$KW.Form.setFormDimensions(w),G=document.getElementById(w.id).scrollHeight}else{var V,R,A=w.scrollingevents,P=$KW.stringifyScrolldirection[w.scrolldirection];V=u.children[0].children[0],A&&(A.onpull&&(V=u.children[0].children[1]),A.onpull&&A.onpush?R=u.children[0].children[2]:A.onpush&&(R=u.children[0].children[1])),G=V.scrollHeight,1==v.hScroll&&(V.style.width=u.clientWidth+"px"),V.style.height=u.clientHeight+"px",V.style.flexShrink=0,R&&("vertical"==P?R.style.marginTop=V.scrollHeight-V.offsetHeight+"px":R.style.marginLeft=V.scrollWidth-V.offsetWidth+"px")}if(("vertical"==m||"both"==m)&&0!=G){var z=w.parent;(!z||z&&"FlexScrollContainer"!==z.wType&&"FlexContainer"!==z.wType)&&(u.children[0].style.height=G+"px"),s.refresh()}$KW.FlexScrollContainer.setContentOffSet(w,w.contentoffset,0,s),w.scrollerInstance=s}$KG[g+"_scroller"]=s}}},initializeFlexScrollEvents:function(t,o){var l,i,n,r,s,c,h,a=t.scrollingevents,d=0,p=0,g=($KU.getNodeByModel(t),"#"+$KW.Utils.getKMasterWidgetID(t)+"_pullDown"),u="#"+$KW.Utils.getKMasterWidgetID(t)+"_pullUp",f=$KW.stringifyScrolldirection[t.scrolldirection];l=document.querySelector(g),i=document.querySelector(u),"horizontal"==f?(l&&(d=l.offsetWidth),i&&(p=i.offsetWidth)):(l&&(d=l.offsetHeight),i&&(p=i.offsetHeight)),!a.onpull&&(n=!0),!a.onpush&&(r=!0),s=function(){var e=this.options.pullDownEl,t=this.options.pullUpEl,o=this.options.widgetModel,l=$KU.getNodeByModel(o);if(e&&e.className.match("loading")){if(e.className="","text"==o._pullPreference){var i=o.pullkey||"Pull to refresh";e.querySelector(".pullDownLabel").innerHTML=i}}else if(t&&t.className.match("loading")&&(t.className="","text"==o._pushPreference)){var n=o.pushkey||"Push to refresh";t.querySelector(".pullUpLabel").innerHTML=n}t&&(t.style.marginTop=l.scrollHeight-l.offsetHeight+"px")},c=function(){var e=this.options;e.widgetModel.contentoffset={x:-this.x,y:-this.y},e.widgetModel.onscrolling&&$KU.executeWidgetEventHandler(e.widgetModel,e.widgetModel.onscrolling);var t=this.options.pullDownEl,o=this.options.pullUpEl,l=this.options.widgetModel;if(t)if((this.options.vScroll&&this.y>5||this.options.hScroll&&this.x>5)&&!t.className.match("flip")){if(t.className="flip",n=!1,"text"==l._pullPreference){var i=l.releasepullkey||"Release to refresh";t.querySelector(".pullDownLabel").innerHTML=i}this.options.vScroll?this.minScrollY=0:this.minScrollX=0}else(this.options.vScroll&&this.y<5||this.options.hScroll&&this.x<5)&&t.className.match("flip")&&(this.options.vScroll?this.minScrollY=-this.pullDownOffset:this.minScrollX=-this.pullDownOffset);if(o)if((this.options.vScroll&&this.y<this.maxScrollY-5-this.pullUpOffset||this.options.hScroll&&this.x<this.maxScrollX-5-this.pullUpOffset)&&!o.className.match("flip")){if(o.className="flip",r=!1,"text"==l._pushPreference){i=l.releasepushkey||"Release to refresh";o.querySelector(".pullUpLabel").innerHTML=i}this.options.vScroll?this.maxScrollY-=this.pullUpOffset:this.maxScrollX-=this.pullUpOffset}else(this.options.vScroll&&this.y>this.maxScrollY+5||this.options.hScroll&&this.x>this.maxScrollX+5)&&o.className.match("flip")&&(this.maxScrollY=this.maxScrollY)},h=function(){var t=this.options;t.widgetModel.contentoffset={x:-this.x,y:-this.y},t.widgetModel.onscrollend&&$KU.executeWidgetEventHandler(t.widgetModel,t.widgetModel.onscrollend);var o,l=this.options.pullDownEl,i=this.options.pullUpEl,n=this.options.widgetModel;(this.options.vScroll&&this.y>=this.minScrollY-0||this.options.hScroll&&this.x>=this.minScrollX-0)&&this.options.pullInitFlag&&(this.scrollerH>0&&(kony.web.logger("log","On Reach beginning"),(o=$KU.returnEventReference(n.scrollingevents.onreachingbeginning))&&$KU.executeWidgetEventHandler(n,o)));((this.options.vScroll&&this.y<this.minScrollY-0||this.options.hScroll&&this.x<this.minScrollX-0)&&(this.direction==$KW.touch.TouchContext.UP||this.direction==$KW.touch.TouchContext.DOWN?this.options.onreachingbeginningVFired=!1:this.options.onreachingbeginningHFired=!1),l&&l.className.match("flip")&&(l.className="loading",e.pullAction.call(this,"DOWN")),(this.options.vScroll&&this.y<=this.maxScrollY+0||this.options.hScroll&&this.x<=this.maxScrollX+0)&&this.options.pushInitFlag)&&((this.options.vScroll&&Math.abs(this.y)>=20||this.options.hScroll&&Math.abs(this.x)>=20)&&(kony.web.logger("log","On Reach end"),(o=$KU.returnEventReference(n.scrollingevents.onreachingend))&&$KU.executeWidgetEventHandler(n,o)));(this.options.vScroll&&this.y>this.maxScrollY+0||this.options.hScroll&&this.x>this.maxScrollX+0)&&(this.direction==$KW.touch.TouchContext.UP||this.direction==$KW.touch.TouchContext.DOWN?this.options.onreachingendVFired=!1:this.options.onreachingendHFired=!1),i&&i.className.match("flip")&&(i.className="loading",e.pullAction.call(this,"UP")),this.options.pullInitFlag||(this.options.pullInitFlag=!0),this.options.pushInitFlag||(this.options.pushInitFlag=!0)},$KU.extend(o,{topOffset:d,bottomOffset:p,onRefresh:s,onScrollMove:c,onScrollEnd:h,pullDownEl:l,pullUpEl:i,pullInitFlag:n,pushInitFlag:r})},initializeNativeScroller:function(e,t){var o,l,i=t.style;if(!$KW.FlexUtils.isFlexContainer(e)||e.enableScrolling){switch(e.needScroller?2:e.scrollDirection){case 1:o="auto",l="hidden";break;case 2:o="hidden",l="auto";break;case 3:o="auto",l="auto";break;case 4:o="hidden",l="hidden";default:o="",l=""}i.overflowX=o,i.overflowY=l,i["-webkit-overflow-scrolling"]="touch"}else i.overflow="hidden"},destroyFormScroller:function(t){if($KG.stickyScroll){var o=$KG[t+"_scroller"];o&&o.destroy(),$KG[t+"_scroller"]=""}for(var l=document.querySelectorAll("#"+t+"[kwidgettype='KFormScroller'] ,#"+t+" div[kwidgettype='KFormScroller']"),i=0;i<l.length;i++)e.destroyInstance(l[i])},destroyScrollBoxes:function(t){for(var o=document.querySelectorAll("#"+t+" div[kwidgettype='KScrollBox']"),l=0;l<o.length;l++)e.destroyInstance(o[l])},destroyCollectionViewScroller:function(t){for(var o=document.querySelectorAll("#"+t+" div[kwidgettype='KCollectionView']"),l=0;l<o.length;l++)e.destroyInstance(o[l])},destroyInstance:function(e){if(e){var t=e.id,o=$KG[t];o&&o.destroy(),$KG[t]=""}else kony.web.logger("warn","it should not happen")},destroyImageStripStripViews:function(e){for(var t=document.querySelectorAll("#"+e+" div[name='ImageStrip_StripView']"),o=0;o<t.length;o++){var l=$KU.getModelByNode(t[o]);if(l){var i=l.scrollInstance;i&&(i.destroy(),l.scrollInstance=null)}}},initializePageViews:function(e){if(!$KG.disableTransition)for(var t=document.querySelectorAll("#"+e+" div[name='touchcontainer_HStrip'], #"+e+" div[name='touchcontainer_Segment']"),o=0;o<t.length;o++){var l=t[o],i=$KU.getModelByNode(l),n={};n.widgetModel=i,n.bounce=i.enableScrollBounce,n.hBounce=i.enableScrollBounce;var r=$KG.allforms[e],s=i.wType;("ScrollBox"==s&&$KW.FlexUtils.isFlexContainer(r)||$KW.FlexUtils.isFlexContainer(r)||"FlexScrollContainer"==s&&("FlexScrollContainer"===i.parent.wType||"FlexContainer"==i.parent.wType))&&(n.bubbleEvents=!0);var c=new $KW.touch.pageviewScroller(l,n);$KG[l.id]=c}},destroyPageViews:function(t){for(var o=document.querySelectorAll("#"+t+" div[name='touchcontainer_HStrip'], #"+t+" div[name='touchcontainer_Segment']"),l=0;l<o.length;l++)e.destroyInstance(o[l])},checkDOMChanges:function(t,o,l){var i=document.getElementById(o),n=document.getElementById(l),r=document.getElementById("konyappmenudiv"),s=$KG.allforms[t.split("_")[0]],c=!1;if(i&&this.headerH!=i.offsetHeight&&s.dockableheader){var h=document.getElementById(t),a=$KG[t];h&&a&&(this.headerH=i.offsetHeight,h.style.top=i.offsetHeight+"px",a.refresh(),e.setSLWHeight(s,h),c=!0)}if(n&&this.footerH!=n.offsetHeight&&s.dockablefooter){h=document.getElementById(t),a=$KG[t];h&&a&&(this.footerH=n.offsetHeight,h.style.bottom=n.offsetHeight+"px",a.refresh(),e.setSLWHeight(s,h),c=!0)}if("Popup"!=s.wType&&r&&this.appmenuH!=r.offsetHeight&&s.dockableappmenu){h=document.getElementById(t),a=$KG[t];h&&a&&(this.appmenuH=r.offsetHeight,h.style.bottom=r.offsetHeight+"px",a.refresh(),e.setSLWHeight(s,h),c=!0)}if("Form"==s.wType&&$KW.FlexUtils.isFlexContainer(s)){h=document.getElementById(t);var d=document.getElementById(s.id);d&&d.clientHeight!=h.clientHeight&&(d.style.height=h.clientHeight+"px",$KU.needOptimization=!1,s.forceLayout(),$KU.needOptimization=!0)}if(c&&$KW.ScrollBox.adjustBoxDimensions(s.id),!$KG.nativeScroll&&$KU.isIOS7&&(!$KG.activeInput&&window.pageYOffset>0&&window.scrollTo(0,0),$KG.__currentForm&&"landscape"==$KG.__orientation&&!$KG.activeInput)){var p=$KU.getElementById($KG.__currentForm.id+"_container");if(p&&p.offsetHeight>window.innerHeight){p.style.height=window.innerHeight+"px",(a=$KG[t]).refresh(),$KW.ScrollBox.adjustBoxDimensions(t);var g=document.querySelector("div[class~='popupmain']");if(g){var u=g.id;g=g.children[1];var f=window[u.substr(0,u.indexOf("_"))];if(f&&"Popup"==f.wType){var S=window[a.options.formid];S&&(a="Form"==S.wType?$KG[f.id+"_scroller"]:$KG[$KG.__currentForm.id+"_scroller"])&&a.refresh(),$KW.Popup.adjustPopupDimensions(f,g)}}(h=document.getElementById(t))&&e.setSLWHeight(s,h,!0)}}$KG._domchanges&&($KU.onEventHandler(),$KG._domchanges=!1)},setSLWHeight:function(e,t,o){var l=$KU.getScreenLevelWidgetModel(e);if(l){var i=$KU.getNodeByModel(l);if(i){var n=0;"Segment"==l.wType&&(i=i.parentNode.parentNode,n=l.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&l.needpageindicator?i.nextSibling.offsetHeight:0);var r=document.getElementById(e.id+"_scroller");if(i.style.height=r.offsetHeight-n+"px",!$KG.nativeScroll&&$KU.isIOS7&&o){var s=$KG[i.id];s&&s.refresh()}}}},setHeight:function(t,o){var l;if(l=o?document.getElementById(t):document.getElementById(t+"_scroller")){this.headerH=0,this.footerH=0,this.appmenuH=0;var i=$KG.allforms[t];i.header,i.footer;header=$KG.needScroller?$KU.getElementById(t+"_header"):$KU.getElementById("header_container"),footer=$KG.needScroller?$KU.getElementById(t+"_footer"):$KU.getElementById("footer_container");var n=document.getElementById("konyappmenudiv");header&&i.dockableheader&&(this.headerH=header.offsetHeight),"Popup"!=i.wType&&n&&i.dockableappmenu&&(this.appmenuH=n.offsetHeight),footer&&i.dockablefooter&&(this.footerH=footer.offsetHeight,footer.style.bottom=this.appmenuH+"px"),l.style.top=this.headerH+"px",l.style.bottom=this.footerH+this.appmenuH+"px",$KW.Form.setFormDimensions(i),e.setSLWHeight(i,l),o&&(l.style.paddingBottom=this.footerH+this.appmenuH+"px"),$KW.ScrollBox.adjustBoxDimensions(i.id)}},onBeforeScrollStartHandler:function(){return function(e){kony.events.stopPropagation(e)}},pullAction:function(e){var t=this;t.refreshDisabled=!0,setTimeout(function(){var o=$KU.getModelByScroller(t.wrapper.id);if(void 0!==o){var l;if(o.scrollingevents)"UP"==e?(kony.web.logger("log","On Push"),l=$KU.returnEventReference(o.scrollingevents.onpush),"Segment"===o.wType&&$KAR&&$KAR.sendRecording(o,"push",{eventType:"uiAction"})):(kony.web.logger("log","On Pull"),l=$KU.returnEventReference(o.scrollingevents.onpull),"Segment"===o.wType&&$KAR&&$KAR.sendRecording(o,"pull",{eventType:"uiAction"})),l&&$KU.executeWidgetEventHandler(o,l),t.refreshDisabled=!1;t.refresh()}},500)}};return e}();
$KI.themes=function(){var e={relativePath:!0,setcurrenttheme:function(t,n,r){if($KU.logExecuting("kony.theme.setCurrentTheme"),$KU.logExecutingWithParams("kony.theme.setCurrentTheme",t,n,r),!$KU.inArray($KG.themes,t,!0))return r(),void $KU.logExecutingFinished('kony.theme.setCurrentTheme VIA if !($KU.inArray($KG["themes"], themeid, true)) is true');if(t==e.getcurrenttheme())return n(),void $KU.logExecutingFinished("kony.theme.setCurrentTheme VIA if themeid == module.getcurrenttheme() is true");try{var h=window.document.styleSheets,i=$KW.skins.getKonyStyleSheetIndex(h),s="",m="";if(-1==i&&$KG[$KG.theme+"remoteurl"]&&$KG.lastStyleSheet){if(s=$KG.lastStyleSheet.lastIndexOf("/"),$KG.theme&&"default"!=$KG.theme){var l=$KG.lastStyleSheet.substring(0,s);l.indexOf($KG.theme)&&(s=l.lastIndexOf("/"))}m=$KG.lastStyleSheet}else s=h[i].href.lastIndexOf("/"),m=h[i].href;var o="";if(this.relativePath||void 0===this.relativePath){this.relativePath=!1;var a=m.substring(0,s+1);$KG.relativepath=a,o=m.substring(m.lastIndexOf("/"),m.length),$KG.themerelcssfile=o}o=$KG.themerelcssfile;var u=document.createElement("link");u.type="text/css",u.rel="stylesheet";var c=document.getElementsByTagName("head"),g=new XMLHttpRequest;$KG.relativepath&&(a=$KG.relativepath);$KG.imagecat;var d=a+("default"==t?"":t)+o,K=$KG.theme;$KG[K+"remoteurl"]&&(o=$KG[K+"remoteurl"]),$KG[t+"remoteurl"]&&(d=$KG[t+"remoteurl"]),g.open("GET",d,!0),g.timeout=6e4,g.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){for(var e=0;e<c[0].childNodes.length;e++)if("LINK"==c[0].childNodes[e].nodeName&&-1!=c[0].childNodes[e].getAttribute("href").indexOf(o)){$KG.lastStyleSheet=c[0].childNodes[e].href;var h=c[0].childNodes[e].getAttribute("media")||"screen",i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=d,i.media=h,c[0].replaceChild(i,c[0].childNodes[e]);var s=document.createElement("img");s.onerror=function(){var e=window.document.styleSheets;$KG.currentStyleSheet=e[$KW.skins.getKonyStyleSheetIndex(e)],$KG.theme=t,n(),g=null},s.src=d;break}}else r()},g.ontimeout=function(){r()},g.send(null),$KU.logExecutingFinished("kony.theme.setCurrentTheme return 3")}catch(e){r()}},deletetheme:function(t,n,r){$KU.logExecuting("kony.theme.deleteTheme"),$KU.logExecutingWithParams("kony.theme.deleteTheme",t,n,r);var h=$KG.themes,i=h.length,s=h.length;try{for(var m=0;m<h.length;m++)h[m]==t&&h.splice(m,1);if($KG.themes=h,$KG.theme==t)return e.setcurrenttheme("default",n,r),void $KU.logExecutingFinished('kony.theme.deleteTheme VIA if ($KG["theme"] == theme) is true');s=h.length,$KU.logExecutingFinished("kony.theme.deleteTheme VIA end of the function"),i-1==s?n():r()}catch(e){$KU.logErrorMessage("Error"+e),r()}},isthemepresent:function(e){return $KU.logExecuting("kony.theme.isThemePresent"),$KU.logExecutingWithParams("kony.theme.isThemePresent",e),$KU.logExecutingFinished("kony.theme.isThemePresent"),$KU.inArray($KG.themes,e,!0)},createtheme:function(e,t,n,r){if($KU.logExecuting("kony.theme.createTheme"),$KU.logExecutingWithParams("kony.theme.createTheme",e,t,n,r),$KU.inArray($KG.themes,t,!0))return n(),void $KU.logExecutingFinished('kony.theme.createTheme VIA if ($KU.inArray($KG["themes"], themeIdentifer, true)) is true');try{var h=new XMLHttpRequest,i=e;h.open("GET",i,!0),h.timeout=6e4;document.getElementsByTagName("head");$KG[t+"remoteurl"]=e,h.onreadystatechange=function(){4==this.readyState&&(200==this.status?($KG.themes.push(t),n(),h=null):r())},h.ontimeout=function(){r()},h.send(null),$KU.logExecutingFinished("kony.theme.createTheme VIA try block")}catch(e){$KU.logErrorMessage("Error "+e),r()}},allthemes:function(){return $KG.themes},getcurrentthemedata:function(){return $KU.logExecuting("kony.theme.getCurrentThemeData"),$KU.logExecutingWithParams("kony.theme.getCurrentThemeData"),$KU.logExecutingFinished("kony.theme.getCurrentThemeData"),!0},getcurrenttheme:function(){return $KU.logExecuting("kony.theme.getCurrentTheme"),$KU.logExecutingWithParams("kony.theme.getCurrentTheme"),$KU.logExecutingFinished("kony.theme.getCurrentTheme"),$KG.theme},packagedthemes:function(e){var t=[];1==IndexJL&&t.push(null);for(var n=IndexJL;n<e.length;n++)t.push(e[n]);$KG.themes=t,$KG.theme="default"}};return e}();
$KW.FlexLayoutEngine=function(){var e={performFlexLayout:function(e,t,i,a){switch(e){case kony.flex.FLOW_HORIZONTAL:this.performHorizontalLayout(t,i,a);break;case kony.flex.FLOW_VERTICAL:this.performVerticalLayout(t,i,a);break;default:this.performFreeFlowLayout(t,i,a)}},performAutogrowFlexLayout:function(t,i,a){var l=this.getAutoGrowFlexHeight(t,i,a);if(t.canMeasureChildrenHeight){var o=$KW.FlexUtils.isFlexWidget(t)?i.parentNode:i,r=o.style.height;o.style.height=$KW.FlexUtils.getComputedPreferredHeight(t,i,l)+"px",t.frame=$KW.FlexUtils.getWidgetFrame(t,o),t.layoutConfig.children=!0,o.style.height!=r&&t.parent&&(t.parent.layoutConfig={self:!0,children:!0}),e.performFlexLayout(t.layouttype,t,i,a)}},getAutoGrowFlexHeight:function(t,i,a){var l,o,r=t.layouttype,n=t.frame,h=0;t.canMeasureChildrenHeight=!0,a=a||t.widgets();for(var d=0;d<a.length;d++)if(l=a[d],l=$KW.Utils.getActualWidgetModel(l),this.isVisible(l,i)&&(o=$KW.Utils.getWidgetNode(l,i))){if(this.computeLayoutValues(l,i,n),!t.canMeasureChildrenHeight)return(u=$KW.FlexUtils.isFlexWidget(t)?i.parentNode:i).style.height=$KW.FlexUtils.getComputedPreferredHeight(t,i)+"px",t.frame=$KW.FlexUtils.getWidgetFrame(t,u),t.layoutConfig.children=!0,e.performFlexLayout(r,t,i,a),t.frame.height;var s=l.layoutModel,u=o.parentNode;$KW.FlexUtils.getWidth(l,s,u,i);var g,f,m=s.centerY,y=s.top,F=s.bottom,p=s.height,x=0;m?p?x=m.value+p.value/2:y&&r==kony.flex.FREE_FORM?x=(f=2*(m.value-y.value))+y.value:(g=$KW.FlexUtils.getChildHeight(l,o),x=m.value+g/2):y?p?x=y.value+p.value:(g=$KW.FlexUtils.getChildHeight(l,o),x=y.value+g):x=p?p.value:g=$KW.FlexUtils.getChildHeight(l,o),F&&(x+=F.value),u.style.height=(p?p.value:void 0!=f?f:g)+"px",u.style.maxWidth=u.style.maxHeight="";var W=$KW.FlexUtils.getWidgetDimensions(l,u);if(l.finalFrame={},r!=kony.flex.FREE_FORM){var c,v,w,U=this.getPreviousNode(l,u,i);U&&(c=U[0],v=U[1]),w=v&&c.frame}r==kony.flex.FREE_FORM||r==kony.flex.FLOW_VERTICAL?this.determineX(l,W,i,n):this.determineHorizontalFlowX(l,W,c,w),r==kony.flex.FREE_FORM||r==kony.flex.FLOW_HORIZONTAL?this.determineY(l,W,i,n):this.determineVerticalFlowY(l,W,c,w),$KW.FlexUtils.setWidgetPosition(l,l.finalFrame,u),l.frame=this.getWidgetFrame(l,W,l.finalFrame),l.dolayout&&$KU.executeWidgetEventHandler(l,l.dolayout),r==kony.flex.FLOW_VERTICAL?h+=x:h<x&&(h=x)}return t.vBorder&&(h+=t.vBorder),h},performFreeFlowLayout:function(e,t,i){for(var a,l,o,r=e.frame,n=0;n<i.length;n++)a=i[n],a=$KW.Utils.getActualWidgetModel(a),this.canLayoutUI(e,a,t)&&(l=$KW.Utils.getWidgetNode(a,t))&&(l=l.parentNode,a.finalFrame={},this.computeLayoutValues(a,t,r),this.determineSize(t,a,l),o=$KW.FlexUtils.getWidgetDimensions(a,l),this.determineX(a,o,t,r),this.determineY(a,o,t,r),$KW.FlexUtils.setWidgetPosition(a,a.finalFrame,l),"FlexScrollContainer"==a.parent.wType&&$KW.FlexUtils.updateFlexScrollLayout(a),$KW.FlexUtils.saveWidgetFrame(a),a.frame=this.getWidgetFrame(a,o,a.finalFrame),this.onWidgetLayout(a,l));this.onFlexContainerLayout(e)},performHorizontalLayout:function(e,t,i){for(var a,l,o,r,n=e.frame,h=0;h<i.length;h++)if(a=i[h],a=$KW.Utils.getActualWidgetModel(a),this.canLayoutUI(e,a,t)&&(l=$KW.Utils.getWidgetNode(a,t))){var d,s;l=l.parentNode,a.finalFrame={},this.computeLayoutValues(a,t,n);var u=this.getPreviousNode(a,l,t);u&&(d=u[0],s=u[1]),r=s&&d.frame,this.determineSize(t,a,l),o=$KW.FlexUtils.getWidgetDimensions(a,l),this.determineHorizontalFlowX(a,o,d,r),this.determineY(a,o,t,n),$KW.FlexUtils.setWidgetPosition(a,a.finalFrame,l),"FlexScrollContainer"==a.parent.wType&&$KW.FlexUtils.updateFlexScrollLayout(a),$KW.FlexUtils.saveWidgetFrame(a),a.frame=this.getWidgetFrame(a,o,a.finalFrame),this.onWidgetLayout(a,l)}e.reverselayoutdirection&&this.applyReverStacking(e,t),this.onFlexContainerLayout(e)},performVerticalLayout:function(e,t,i){for(var a,l,o,r,n=e.frame,h=0;h<i.length;h++)if(a=i[h],a=$KW.Utils.getActualWidgetModel(a),this.canLayoutUI(e,a,t)&&(l=$KW.Utils.getWidgetNode(a,t))){var d,s;l=l.parentNode,a.finalFrame={},this.computeLayoutValues(a,t,n);var u=this.getPreviousNode(a,l,t);u&&(d=u[0],s=u[1]),r=s&&d.frame,this.determineSize(t,a,l),o=$KW.FlexUtils.getWidgetDimensions(a,l),this.determineX(a,o,t,n),this.determineVerticalFlowY(a,o,d,r),$KW.FlexUtils.setWidgetPosition(a,a.finalFrame,l),"FlexScrollContainer"==a.parent.wType&&$KW.FlexUtils.updateFlexScrollLayout(a),$KW.FlexUtils.saveWidgetFrame(a),a.frame=this.getWidgetFrame(a,o,a.finalFrame),this.onWidgetLayout(a,l)}e.reverselayoutdirection&&this.applyReverStacking(e,t),this.onFlexContainerLayout(e)},applyReverStacking:function(e,t){e.frame;var i,a,l,o,r,n,h,d=e.widgets();for(i=0;i<d.length;i++)l=d[i],l=$KW.Utils.getActualWidgetModel(l),this.canLayoutUI(e,l,t)&&(o=(o=$KW.Utils.getWidgetNode(l,t)).parentNode,a=(h=this.getPreviousNode(l,o,t))?h[0]:null,r=h?h[0].frame:null,n=this.alignWidgets(l,l.frame,a,r,e,t),l.finalFrame[n[0]]=n[1],$KW.FlexUtils.setWidgetPosition(l,l.finalFrame,o),$KW.FlexUtils.saveWidgetFrame(l),l.frame=this.getWidgetFrame(l,{width:l.frame.width,height:l.frame.height},l.finalFrame))},alignWidgets:function(e,t,i,a,l,o){var r,n,h;return l.layouttype==kony.flex.FLOW_HORIZONTAL?(h=l.hBorder?l.hBorder:0,"FlexContainer"===l.wType?a=a||{x:l.frame.width-h,y:0,width:0,height:0}:"FlexScrollContainer"===l.wType&&(a=a||{x:o.childNodes[0].scrollWidth-h,y:0,width:0,height:0}),r=a.x,"string"==typeof t.width&&-1!=t.width.indexOf("%")?r-=$KW.FlexUtils.getValueByParentFrame(e,{value:parseInt(t.width,10),unit:"%"},"x"):r-=parseInt(t.width,10),e.layoutModel&&e.layoutModel.right&&(r-=$KW.FlexUtils.getValueByParentFrame(e,e.layoutModel.right,"x")),i&&i.layoutModel&&i.layoutModel.centerX?r-=$KW.FlexUtils.getValueByParentFrame(e,i.layoutModel.centerX,"x")-i.frame.width/2:i&&i.layoutModel&&i.layoutModel.left&&(r-=$KW.FlexUtils.getValueByParentFrame(e,i.layoutModel.left,"x")),["left",r=parseInt(r,10)+kony.flex.PX]):l.layouttype==kony.flex.FLOW_VERTICAL?(h=l.vBorder?l.vBorder:0,"FlexContainer"===l.wType?a=a||{x:0,y:l.frame.height-h,width:0,height:0}:"FlexScrollContainer"===l.wType&&(a=a||{x:0,y:o.childNodes[0].scrollHeight-h,width:0,height:0}),n=a.y,"string"==typeof t.height&&-1!=t.height.indexOf("%")?n-=$KW.FlexUtils.getValueByParentFrame(e,{value:parseInt(t.height,10),unit:"%"},"y"):n-=parseInt(t.height,10),e.layoutModel&&e.layoutModel.bottom&&(n-=$KW.FlexUtils.getValueByParentFrame(e,e.layoutModel.bottom,"y")),i&&i.layoutModel&&i.layoutModel.centerY?n-=$KW.FlexUtils.getValueByParentFrame(e,i.layoutModel.centerY,"y")-i.frame.height/2:i&&i.layoutModel&&i.layoutModel.top&&(n-=$KW.FlexUtils.getValueByParentFrame(e,i.layoutModel.top,"y")),["top",n=parseInt(n,10)+kony.flex.PX]):void 0},applyAnimationFrameReverseStacking:function(e,t,i,a){var l,o,r,n,h,d,s,u=0,g=i.widgets();for(l=t;l<g.length;l++){for(s in d={},g[l-1]&&(n=g[l-1].finalFrame.height?parseInt(g[l-1].finalFrame.height,10):g[l-1].frame.height,h=g[l-1].finalFrame.width?parseInt(g[l-1].finalFrame.width,10):g[l-1].frame.width,r=this.getWidgetFrame(g[l-1],{width:h,height:n},g[l-1].finalFrame)),e[u])d[s]=e[u][s];d.width||(d.width=g[l].frame.width+kony.flex.PX),d.height||(d.height=g[l].frame.height+kony.flex.PX),o=this.alignWidgets(g[l],d,g[l-1],r,i,a),e[u++][o[0]]=o[1],g[l].finalFrame[o[0]]=o[1]}return e},onFlexContainerLayout:function(e){e.layoutConfig.children=!1},onWidgetLayout:function(e,t){"Image"===e.wType&&e.zoomenabled&&$KW.Image.adjustImageOverlayWidgets(e),e.kComponentModel&&(e.kComponentModel.frame=e.frame),e.dolayout&&$KU.executeWidgetEventHandler(e,e.dolayout),"CollectionView"==e.wType&&($KW.CollectionView.Utils.setCollectionViewHeightAndWidth(e),$KW.CollectionView.Utils.updateReachingOffsetValuesInPx(e)),this.compareFrames(e),this.layoutNestedConatiners(e,t),e.layoutConfig.self=!1},compareFrames:function(e){if("FlexContainer"==e.wType||"FlexScrollContainer"==e.wType){var t=e.oldFrame,i=e.frame;t.width==i.width&&t.height==i.height||(e.layoutConfig.children=!0)}},layoutNestedConatiners:function(e,t){if("FlexContainer"!=e.wType&&"FlexScrollContainer"!=e.wType||$KW.FlexContainer.forceLayout(e,t?t.childNodes[0]:null),"Segment"==e.wType||"CollectionView"==e.wType){var i=$KU.getNodeByModel(e);if("CollectionView"==e.wType&&(i=$KW.Utils.getContentNodeFromNodeByModel(e)),i&&(!e.layoutConfig.self&&$KG.isUILayedOut||($KU.needOptimization=!1,$KW.FlexContainer.adjustFlexContainers(e,i),e.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&$KW.touch.computeWidths(i,e),$KU.needOptimization=!0),e.layoutModel&&!0===e.autoGrowHeight)){t=$KW.Utils.getWidgetNode(e);var a=$KW.FlexUtils.getComputedPreferredHeight(e,t);t.parentNode.style.height=a+"px",e.frame.height=a}}if("DataGrid"==e.wType){t=$KU.getNodeByModel(e);e.layoutConfig.self&&($KU.needOptimization=!1,$KW.FlexContainer.adjustFlexContainers(e,t),$KU.needOptimization=!0)}if("TabPane"==e.wType){t=$KU.getNodeByModel(e);e.layoutConfig.self&&($KU.needOptimization=!1),$KW.FlexContainer.adjustFlexContainers(e,t),$KU.needOptimization=!0,$KW.Form.initializeFlexContainersInBox(e)}},determineSize:function(e,t,i,a){t.parent;void 0===a&&$KW.FlexUtils.setPaddingByParent(t,i.childNodes[0]);var l=t.layoutModel,o=$KW.FlexUtils.getWidth(t,l,i,e,a),r=$KW.FlexUtils.getHeight(t,l,i,e,a);if(i.style.maxWidth=i.style.maxHeight="",void 0===a)$KW.FlexUtils.setDimensions(t,i,e);else for(var n=o.concat(r),h=0;h<n.length;h++){var d=n[h].split(":");t.finalFrame[d[0]]=d[1]}},determineX:function(e,t,i,a){var l=e.layoutModel,o=e.finalFrame,r=e.parent;if(l.centerX){var n=l.centerX.value,h=a.width,d=t.width;l.centerX.unit==kony.flex.PERCENTAGE&&r.layouttype==kony.flex.FREE_FORM&&(e.parent&&e.parent.hBorder&&(h-=e.parent.hBorder),d=Math.floor(d/h*100)),o.left=parseInt(n-d/2,10)+l.centerX.unit}else if(l.left)o.left=l.left.value+l.left.unit;else if(l.right){h=i.clientWidth;var s=$KW.FlexUtils.getValueByParentFrame(e,l.right,"x");s=h-parseInt(t.width+s,10),o.left=s+kony.flex.PX}},determineHorizontalFlowX:function(e,t,i,a){var l=e.layoutModel,o=e.finalFrame,r=(a=a||{x:0,y:0,width:0,height:0}).x+a.width;l.centerX?r+=l.centerX.value-t.width/2:l.left&&(r+=l.left.value),i&&i.layoutModel&&i.layoutModel.right&&(r+=i.layoutModel.right.value),o.left=parseInt(r,10)+kony.flex.PX},determineY:function(e,t,i,a){var l=e.layoutModel,o=e.finalFrame,r=e.parent;if(l.centerY){var n=l.centerY.value,h=a.height,d=t.height;l.centerY.unit==kony.flex.PERCENTAGE&&r.layouttype==kony.flex.FREE_FORM&&(e.parent&&e.parent.vBorder&&(h-=e.parent.vBorder),d=Math.floor(d/h*100)),o.top=parseInt(n-d/2)+l.centerY.unit}else if(l.top)o.top=l.top.value+l.top.unit;else if(l.bottom){h=i.clientHeight;var s=$KW.FlexUtils.getValueByParentFrame(e,l.bottom,"y");s=h-parseInt(t.height+s,10),o.top=s+kony.flex.PX}},determineVerticalFlowY:function(e,t,i,a){var l=e.layoutModel,o=e.finalFrame,r=(a=a||{x:0,y:0,width:0,height:0}).y+a.height;l.centerY?r+=l.centerY.value-t.height/2:l.top&&(r+=l.top.value),i&&i.layoutModel&&i.layoutModel.bottom&&(r+=i.layoutModel.bottom.value),o.top=r+kony.flex.PX},getComputedValue:function(e,t,i,a,l){if(!$KU.isValidCSSLength(i))return null;var o=$KW.FlexUtils.getValueAndUnit(e,i),r=(i=o.value,o.unit),n=e.parent;if("FlexContainer"==n.wType&&n.autogrowHeight&&r==kony.flex.PERCENTAGE&&"y"==a&&(n.autogrowHeight=!1,n.canMeasureChildrenHeight=!1),n.layouttype!=kony.flex.FREE_FORM&&r==kony.flex.PERCENTAGE&&!l){if("x"==a){var h=t.width;"FlexContainer"==n.wType&&(h-=n.hBorder),i=i*h/100}else if("y"==a){t.height;"FlexContainer"==n.wType&&n.vBorder,i=i*t.height/100}r=kony.flex.PX}return{value:i,unit:r}},computeLayoutValues:function(e,t,i,a){var l=e.layoutModel={},o=a||e;l.centerX=this.getComputedValue(e,i,o.centerX,"x"),l.centerY=this.getComputedValue(e,i,o.centerY,"y"),l.left=this.getComputedValue(e,i,o.left,"x"),l.right=this.getComputedValue(e,i,o.right,"x"),l.top=this.getComputedValue(e,i,o.top,"y"),l.bottom=this.getComputedValue(e,i,o.bottom,"y"),l.width=this.getComputedValue(e,i,o.width,"x","width"),l.minWidth=this.getComputedValue(e,i,o.minWidth,"x"),l.maxWidth=this.getComputedValue(e,i,o.maxWidth,"x"),l.height=this.getComputedValue(e,i,o.height,"y","height"),l.minHeight=this.getComputedValue(e,i,o.minHeight,"y"),l.maxHeight=this.getComputedValue(e,i,o.maxHeight,"y")},computeKeyFrameValues:function(e,t,i,a){var l=[],o={};if(a){e.finalFrame={},e.isTemplate&&"CollectionView"==e.containerType||(t=t.parentNode);var r=e.parent;i=i||$KW.Utils.getWidgetNode(r);var n=r.frame;this.computeLayoutValues(e,i,n,a),this.determineSize(i,e,t,!1);var h=$KW.FlexUtils.getWidgetFrame(e,t,!1),d=e.layoutModel;if(e.finalFrame.width&&(d.centerX||d.right)){var s=e.finalFrame.width,u={value:parseFloat(s),unit:$KW.FlexUtils.getUnit(s)};h.width=$KW.FlexUtils.getValueByParentFrame(e,u,"x")}if(e.finalFrame.height&&(d.centerY||d.bottom)){var g=e.finalFrame.height;u={value:parseFloat(g),unit:$KW.FlexUtils.getUnit(g)};h.height=$KW.FlexUtils.getValueByParentFrame(e,u,"y")}if(e.isTemplate&&"CollectionView"==e.containerType)this.determineX(e,h,i,n),this.determineY(e,h,i,n);else{var f,m,y=$KW.Utils.getWidgetIndex(e),F=r.widgets(),p=this.getPreviousNode(e,t,i);p&&(f=p[0],m=p[1]);var x=m&&$KW.FlexUtils.getWidgetFrame(f,m);r.layouttype==kony.flex.FLOW_HORIZONTAL?this.determineHorizontalFlowX(e,h,f,x):this.determineX(e,h,i,n),r.layouttype==kony.flex.FLOW_VERTICAL?this.determineVerticalFlowY(e,h,f,x):this.determineY(e,h,i,n)}for(var W in e.finalFrame.left||(e.finalFrame.left="0px"),e.finalFrame.top||(e.finalFrame.top="0px"),e.finalFrame)o[W]=e.finalFrame[W];if(l.push(o),e.isTemplate&&"CollectionView"==e.containerType)return l;if(r.layouttype==kony.flex.FLOW_HORIZONTAL){if(o.left||o.width||o["min-width"]||o["max-width"])for(var c=y+1;c<F.length;c++){var v=F[c],w=F[c-1],U=v.frame;if(v.isvisible&&U)(x={}).x=o.left?parseInt(o.left,10):w.frame.x,o.width?s=-1!=o.width.indexOf("%")?$KW.FlexUtils.getValueByParentFrame(e,{value:parseInt(o.width,10),unit:"%"},"x"):parseInt(o.width,10):o["min-width"]?(s=parseInt(o["min-width"],10))<w.frame.width&&(s=w.frame.width,o["min-width"]=w.frame.width+"px"):o["max-width"]?(s=parseInt(o["max-width"],10))>w.frame.width&&(s=w.frame.width,o["max-width"]=w.frame.width+"px"):s=w.frame.width,x.width=s,this.computeLayoutValues(v,i,n),v.finalFrame&&this.determineHorizontalFlowX(v,U,w,x),v.finalFrame&&(o={left:v.finalFrame.left}),l.push(o)}r.reverselayoutdirection&&(l=this.applyAnimationFrameReverseStacking(l,y,r,i))}if(r.layouttype==kony.flex.FLOW_VERTICAL){if(o.top||o.height||o["min-height"]||o["max-height"])for(c=y+1;c<F.length;c++){v=F[c],w=F[c-1],U=v.frame;if(v.isvisible&&U)(x={}).y=o.top?parseInt(o.top,10):w.frame.y,o.height?g=-1!=o.height.indexOf("%")?$KW.FlexUtils.getValueByParentFrame(e,{value:parseInt(o.height,10),unit:"%"},"y"):parseInt(o.height,10):o["min-height"]?(g=parseInt(o["min-height"],10))<w.frame.height&&(g=w.frame.height,o["min-height"]=w.frame.height+"px"):o["max-height"]?(g=parseInt(o["max-height"],10))>w.frame.height&&(g=w.frame.height,o["max-height"]=w.frame.height+"px"):g=w.frame.height,x.height=g,this.computeLayoutValues(v,i,n),v.finalFrame&&this.determineVerticalFlowY(v,U,w,x),v.finalFrame&&(o={top:v.finalFrame.top}),l.push(o)}r.reverselayoutdirection&&(l=this.applyAnimationFrameReverseStacking(l,y,r,i))}}return l},isAvailable:function(e){return void 0!=e},toPointwidget:function(e,t,i,a){if(!$KU.isValidCSSLength(i))return null;var l=$KW.FlexUtils.getValueAndUnit(e,i),o=(i=l.value,l.unit),r=$KW.Utils.getWidgetNode(e),n=$KW.Utils.getPosition(r),h=$KW.Utils.getWidgetNode(t),d=$KW.Utils.getPosition(h);return"x"==a?i=d.left-n.left+i:"y"==a&&(i=d.top-n.top+i),{value:i,unit:o}},getPreviousNode:function(e,t,i){var a=$KW.Utils.getWidgetIndex(e);if(0==a)return null;var l=e.parent,o=l.widgets(),r=a-1,n=t.previousSibling;if(!n)return null;for(var h=r;h>=0;h--){var d=$KW.Utils.getActualWidgetModel(o[h]);if(this.isVisible(d,i))return[d,n];i.dataObj||(i=$KU.getNodeByModel(l)).getAttribute("kcontainerID")||(n=n.previousSibling)}},canLayoutUI:function(e,t,i){if(!$KU.needOptimization)return!!this.isVisible(t,i);if($KG.isUILayedOut){var a=t.layoutConfig,l=e.layoutConfig,o=e.layouttype;return o!=kony.flex.FLOW_HORIZONTAL&&o!=kony.flex.FLOW_VERTICAL||a.self&&(l.children=!0),a.self||l.children?!!this.isVisible(t,i)||(a.self=!1,!1):["FlexContainer","FlexScrollContainer","Segment","CollectionView","TabPane"].indexOf(t.wType)>=0&&(this.layoutNestedConatiners(t),!1)}return!!this.isVisible(t,i)},getWidgetFrame:function(e,t,i){var a=i.left||"0px",l={value:parseFloat(a),unit:$KW.FlexUtils.getUnit(a)};a=$KW.FlexUtils.getValueByParentFrame(e,l,"x");var o=i.top||"0px",r={value:parseFloat(o),unit:$KW.FlexUtils.getUnit(o)};return{x:a,y:o=$KW.FlexUtils.getValueByParentFrame(e,r,"y"),width:t.width,height:t.height}},isVisible:function(e,t){if(t&&t.dataObj){var i=t.dataObj,a=i.data[i.map[$KW.Utils.getWidgetPathByModel(e)]];if(a&&a instanceof Object&&void 0!==a.isVisible)return a.isVisible;if("FlexContainer"!=e.wType&&(void 0===a||""===a))return!1;if("FlexContainer"==e.wType&&0==e.widgets().length)return!1}return e.isvisible}};return e}();
$KW.Animator=function(e){this.validateKeyFrame(e),this.animationDef=e},$KW.Animator.prototype={getNextAnimationValue:function(){return $KW.Animator.indexCounter>=0?++$KW.Animator.indexCounter:$KW.Animator.indexCounter=0},getAnimationTime:function(){return(new Date).getTime()},validateKeyFrame:function(e){for(var t in e)if(t>100)throw new KonyError(1e3,"AnimationError","Invalid Animation Definition Exception: Animation Definition can not be greater than 100");if(void 0==e[100])throw new KonyError(1e3,"AnimationError","Invalid Animation Definition Exception: Animation Definition does not have 100 value")},getComputedAnimationFrames:function(e,t,n){var i={},a=this.animationDef,o={},r={};e.originalFrames={},this.flexDepFrames={};for(var s={},m=["width","height","centerX","centerY","left","top","bottom","left","right","minWidth","maxWidth","minHeight","maxHeight","transform","opacity","zIndex","anchorPoint","shadowColor","shadowRadius","shadowOffset"],l={},d=null,f=0;f<m.length;f++){l[g=m[f]]=e[g]}if(!a[0]){if(this.flexDepFrames[0]=$KW.FlexLayoutEngine.computeKeyFrameValues(e,t,n,l),d=this.flexDepFrames[0][0],"Image"==e.wType){var h=t.childNodes[0],c={width:d.width,height:d.height};if(e.imagescalemode==constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO)c=$KU.setImgAspectRatio(e,h,c,!1),(v=$KU.getImageCenterAlign(h,!1,{spanHeight:d.height,imgHeight:c.height}))>0&&(i.margintop=v);else c=$KU.setImgDimensions(e,h,c,!1);i.width=c.width,i.height=c.height}o[0]=d,r[0]=i,"Slider"==e.wType&&(s[0]={},s[0].left=$KW.Slider.animSlider(o[0].width,e,"left"),r[0].width=$KW.Slider.animSlider(o[0].width,e,"width"))}var p=[];for(var f in a)p.push(f);p.sort(function(e,t){return e-t});for(f=0;f<p.length;f++){var u=p[f];for(var g in i=$KU.cloneObj(a[u]))m.contains(g)&&(l[g]=i[g],delete i[g]);if(this.flexDepFrames[u]=$KW.FlexLayoutEngine.computeKeyFrameValues(e,t,n,l),d=this.flexDepFrames[u][0],"Image"==e.wType){var v;h=t.childNodes[0],c={width:d.width,height:d.height};if(e.imagescalemode==constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO)c=$KU.setImgAspectRatio(e,h,c,!1),(v=$KU.getImageCenterAlign(h,!1,{spanHeight:d.height,imgHeight:c.height}))>0&&(i.margintop=v);else c=$KU.setImgDimensions(e,h,c,!1);i.width=c.width,i.height=c.height}if(l.transform&&(d.transform=l.transform),void 0!==l.opacity&&(d.opacity=l.opacity),l.zIndex&&(d.zIndex=l.zIndex),l.anchorPoint&&(d.anchorPoint=l.anchorPoint),(l.shadowColor||l.shadowRadius||l.shadowOffset)&&(d.shadow=$KW.animUtils.getComputedShadowString(l)),i.stepConfig)for(var y in i.timingFunction=d.timingFunction=i.stepConfig.timingFunction,this.flexDepFrames[u])this.flexDepFrames[u][y].timingFunction=i.stepConfig.timingFunction;void 0!=d["min-height"]&&(i["min-height"]=d["min-height"]),o[u]=d,r[u]=i;var w=owl.deepCopy(l);w.backgroundColor=i.backgroundColor,e.originalFrames[u]=w,"Slider"==e.wType&&(s[u]={},s[u].left=$KW.Slider.animSlider(o[u].width,e,"left"),r[u].width=$KW.Slider.animSlider(o[u].width,e,"width"))}this.cellFrame=o,this.skinFrame=r,"Slider"==e.wType&&(this.imageFrame=s)},createKeyFrames:function(e,t,n,i){var a=$KG.animStyleSheet;if(a&&t){var o="";for(var r in t){var s="",m="",l=t[r],d={transform:!1,anchorPoint:!1};for(var f in l)if("timingFunction"==f)"string"==typeof l[f]?m+=$KU.cssPrefix+"animation-timing-function :"+l[f]+";":m+=$KU.cssPrefix+"animation-timing-function : cubic-bezier("+l[f]+");";else if("zIndex"==f)s+="z-index:"+l[f]+";";else if("transform"==f){var h=$KW.animUtils.applyTransform(e,l[f]);s+=$KU.cssPrefix+"transform:"+h+";",d.transform=!0}else if("anchorPoint"==f)l[f]&&((l[f].x>=0&&l[f].x<=1&&l[f].y>=0||l[f].y<=1)&&(s+=$KU.cssPrefix+"transform-origin:"+100*l[f].x+"% "+100*l[f].y+"%; "),d.anchorPoint=!0);else if("backgroundColor"==f||"borderColor"==f)if("backgroundColor"==f&&"object"==typeof l[f])s+=$KW.animUtils.parseGradientParams(l[f]);else{if($KW.skins.validateHexValue(l[f]))var c=$KW.skins.convertHexValuetoRGBA(l[f]);"backgroundColor"==f?"ComboBox"==e.wType||"ListBox"==e.wType?s+="background-color:"+c+";":s+="background:"+c+";":"borderColor"==f&&(s+="border-color:"+c+";")}else s+="margintop"==f?"margin-top:"+l[f]+"px;":"shadow"==f?"box-shadow:"+l[f]:"borderWidth"==f?"border-width : "+l[f]+";":"cornerRadius"==f?"border-radius : "+l[f]+";":f+":"+l[f]+";";d.transform&&!d.anchorPoint&&(s+=$KU.cssPrefix+"transform-origin: 50% 50%;"),o+=" "+r+"%{"+s+" "+m+"}"}$KG.appbehaviors.captureAniamtionData&&($KG.animataionData[this.animatorID].data[i]=o),a.insertRule("@"+$KU.cssPrefix+"keyframes "+n+" { "+o+"}",a.cssRules.length)}else kony.web.logger("warn","kony css style sheet is not found")},animate:function(e,t,n,i){if(e){var a,o;if(i?(a=i.node,o=i.flexNode):$KW.Utils.isBelongsToCollectionView(e)?(a=(i=$KW.CollectionView.Animation.getAnimationContext(e)).node,o=i.flexNode):a=$KW.Utils.getWidgetNode(e),!a)return;if(this.animatorID="anim_"+e.id+"_"+this.getNextAnimationValue(),this.animator1ID=this.animatorID+"_skin",$KG.appbehaviors.captureAniamtionData){$KG.animataionData||($KG.animataionData={}),$KG.animataionData[this.animatorID]={};var r=$KG.animataionData[this.animatorID];r.animationID=this.animatorID,r.data={startFrame:e.frame},r.animationRequestTime=r.animationRequestHandleBeginTime=this.getAnimationTime()}if("Image"==e.wType&&!e.loaded)return void(e.animInfo={instance:this,animConfig:t,animCallback:n});if(e.isTemplate&&"CollectionView"==e.containerType||"FlexContainer"==e.parent.wType||"FlexScrollContainer"==e.parent.wType||("Form"==e.parent.wType||"Popup"==e.parent.wType)&&e.parent.layouttype!=kony.flex.VBOX_LAYOUT){this.getComputedAnimationFrames(e,a,o);var s,m=this.flexDepFrames;this.createKeyFrames(e,this.cellFrame,this.animatorID,"widgetFrame"),this.createKeyFrames(e,this.skinFrame,this.animator1ID,"skinFrame"),e.isTemplate&&"CollectionView"==e.containerType?(s=a,a=a.firstChild):(s=a.parentNode,"FlexContainer"!=e.wType&&"FlexScrollContainer"!=e.wType||(a=a.firstChild)),s.wModel=e,s.context=i;var l=this.getAnimConfig(t,s),d=$KU.animation,f=this.animator1ID+" "+l,h=this.animatorID+" "+l;if("Slider"==e.wType){this.animator2ID=this.animatorID+"_image",this.createKeyFrames(e,this.imageFrame,this.animator2ID);var c=this.animator2ID+" "+l;a.childNodes[0].childNodes[0].childNodes[0].style[d]=c}if("Image"==e.wType?a.childNodes[0].style[d]=f:"Slider"==e.wType?a.childNodes[0].childNodes[0].style[d]=f:a.style[d]=f,$KW.animUtils.isTransform3D(this.cellFrame)&&s.style.transform&&(s.initialTransform=s.style.transform,s.style.transform=""),s.style[d]=h,$KG.appbehaviors.captureAniamtionData&&(r.animationRequestHandleEndTime=r.animationInvokeTime=this.getAnimationTime()),this.saveWidgetState(e,s,t),this.registerAnimCallbacks(s,n),e.isTemplate&&"CollectionView"==e.containerType)return;var p=e.parent;if((p.layoutType==kony.flex.FLOW_HORIZONTAL||p.layoutType==kony.flex.FLOW_VERTICAL)&&(widgetIndex=$KW.Utils.getWidgetIndex(e),-1!=widgetIndex))for(var u=p.widgets(),g=u.length,v=1,y=widgetIndex+1;y<g;y++){var w=u[y];if(w.isvisible){var K,x={};for(var D in m)x[D]=m[D][v];if(K=i?$KW.Segment.getNodeByContext(i.containerModel,i,w):$KW.Utils.getWidgetNode(w)){var E,C="dep_"+e.id+"_"+this.getNextAnimationValue(),I=C+" "+l;this.createKeyFrames(e,x,C,"depFrame"+y),v++,K.parentNode.style[d]=I,E=kony.appinit.isFirefox||kony.appinit.isIE11?"animationend":$KU.animationEnd,kony.events.addEventListener(K.parentNode,E,function(e){var t=e.currentTarget;setTimeout(function(){t.style[$KU.animation]=""},500)},!1)}}}}}},saveWidgetState:function(e,t,n,i){var a=n.fillMode||"none";if(a==kony.anim.FILL_MODE_BACKWARDS||a==kony.anim.FILL_MODE_BOTH){var o=[],r=[],s=n.direction||"normal";for(var m in s!=kony.anim.DIRECTION_NONE&&s!=kony.anim.DIRECTION_ALTERNATE||(o=this.animationDef[0]),o)r[m]=e[m],"segmentRow"!=i&&(e[m]=o[m]);t.initialPosition=r}},getAnimConfig:function(e,t){if(!e)return"";var n=e.duration||0,i=e.iterationCount||1;0==e.iterationCount&&(i="infinite");var a=e.direction||"normal",o=e.delay||0,r=e.fillMode||"none";return t&&(t.direction=a,t.fillMode=r,t.iterations=i),n+"s "+o+"s "+i+" "+a+" "+r+" "},registerAnimCallbacks:function(e,t){var n,i,a;e.callBackConfig=t||{},kony.appinit.isFirefox||kony.appinit.isIE11?(n="animationstart",i="animationiteration",a="animationend"):(n=$KU.animationStart,i=$KU.animationIteration,a=$KU.animationEnd),kony.events.addEventListener(e,n,this,!1),kony.events.addEventListener(e,i,this,!1),kony.events.addEventListener(e,a,this,!1)},handleEvent:function(e){var t=e.target;if(t.childNodes[0]&&t.wModel)switch(e.type){case $KU.animationStart:case"animationstart":this.start(t);break;case $KU.animationIteration:this.move(t);break;case $KU.animationEnd:case"animationend":this.end(t)}},start:function(e){var t=e.wModel;$KG.appbehaviors.captureAniamtionData&&($KG.animataionData[this.animatorID].animationBeginTime=this.getAnimationTime());var n=e.context;if(n){var i=n.instance;if(i&&void 0!==i.startEventCounter&&(i.startEventCounter++,i.animatableNodesCounter!=i.startEventCounter))return}var a=e.callBackConfig&&$KU.returnEventReference(e.callBackConfig.animationStart);this.execute(a,t)},move:function(e){},end:function(e,t){var n=e.wModel,i=e.fillMode,a=e.direction,o=e.iterations,r=e.context;if(n){var s,m=!0,l=["width","height","centerX","centerY","left","top","bottom","right","minWidth","maxWidth","minHeight","maxHeight","transform","opacity","zIndex","anchorPoint","backgroundColor","shadowColor","shadowRadius","shadowOffset"];$KG.appbehaviors.captureAniamtionData&&($KG.animataionData[this.animatorID].animationEndTime=this.getAnimationTime());var d=[];for(var f in i!=kony.anim.FILL_MODE_FORWARDS&&i!=kony.anim.FILL_MODE_BOTH||(a==kony.anim.DIRECTION_NONE?d=n.originalFrames[100]:a==kony.anim.DIRECTION_ALTERNATE&&(d=o%2==0?n.originalFrames[0]:n.originalFrames[100])),i==kony.anim.FILL_MODE_BACKWARDS&&(d=e.initialPosition),d)l.contains(f)&&(n[f]=d[f]);if(r){var h;if(s=r.animType,h=r.instance){var c=h.action;"removeall"!=c&&"removeat"!=c&&"removesectionat"!=c||(m=!1)}m&&$KW.Segment.updateDataByContext(r,d)}if(this.removeListeners(e),i!=kony.anim.FILL_MODE_NONE&&r&&m&&this.updateLayoutProps(n,e,d,s),i!=kony.anim.FILL_MODE_NONE&&"segmentRow"!=s&&(r&&$KW.FlexUtils.updateLayoutConfig(n),n.parent.forceLayout&&(r?$KW.FlexContainer.forceLayout(n.parent,r.flexNode):n.parent.forceLayout())),e.style[$KU.animation]="",$KG.appbehaviors.captureAniamtionData&&($KG.animataionData[this.animatorID].data.endFrame=n.frame),"Image"==n.wType&&delete n.animInfo,r)if(h=r.instance){if(void 0!==h.endEventCounter&&(h.endEventCounter++,h.animatableNodesCounter!=h.endEventCounter))return;h.onAnimationEnd&&h.onAnimationEnd(e)}t=e.callBackConfig&&$KU.returnEventReference(e.callBackConfig.animationEnd);this.execute(t,n)}},execute:function(e,t){var n={};e&&setTimeout(function(){$KU.executeWidgetEventHandler(t,e,n),$KU.onEventHandler(t)},0)},updateLayoutProps:function(e,t,n,i){var a=["zIndex","opacity","transform","anchorPoint","backgroundColor"];if(t.context&&"CollectionView"==t.context.containerModel.wType){for(var o in n){var r=n[o],s=t.firstChild;r&&(e[o]=r,-1!=a.indexOf(o)?kony.model.updateLayoutProps(e,o.toLowerCase(),r,s,i):$KW.Utils.updateClonedModelData(e,t.context.containerModel,o))}$KW.FlexUtils.isFlexContainer(e)&&$KW.FlexContainer.forceLayout(e,t);var m=t.context.containerModel;$KW.CollectionView.applyLineSpaceAndItemSpace(m,$KW.Utils.getContentNodeFromNodeByModel(m))}else{for(var l=0;l<a.length;l++){var d=a[l];if(d in n){s=t;void 0!==(r=n[d])&&kony.model.updateLayoutProps(e,d.toLowerCase(),r,s,i)}}$KW.FlexUtils.isFlexContainer(e)&&$KW.FlexContainer.forceLayout(e,t)}},removeListeners:function(e){kony.appinit.isFirefox||kony.appinit.isIE11?(kony.events.removeEventListener(e,"animationstart",this,!1),kony.events.removeEventListener(e,"animationiteration",this,!1),kony.events.removeEventListener(e,"animationend",this,!1)):(kony.events.removeEventListener(e,$KU.animationStart,this,!1),kony.events.removeEventListener(e,$KU.animationIteration,this,!1),kony.events.removeEventListener(e,$KU.animationEnd,this,!1))},cancel:function(e){},applyRowAnimation:function(e,t,n){var i=e.wModel,a="anim_"+this.getNextAnimationValue(),o=this.processRowAnimationKeyFrames(i,this.animationDef);this.createKeyFrames("",o,a,"rowFrame");var r=this.getAnimConfig(t,e),s=$KU.animation,m=a+" "+r;e.style[s]=m,i.originalFrames=this.animationDef,this.saveWidgetState(i,e,t),this.registerAnimCallbacks(e,n)},processRowAnimationKeyFrames:function(e,t){var n={};for(var i in t){var a=t[i];for(j in stepFrame={},a)if(stepFrame[j]=a[j],"height"==j){var o=$KW.FlexUtils.getValueAndUnit(e,a[j]);stepFrame[j]=o.value+o.unit}n[i]=stepFrame}return n},getAnimationName:function(e,t){var n=t+"_"+this.getNextAnimationValue();this.createKeyFrames("",this.animationDef,n,t+"Frame");var i=this.getAnimConfig(e);$KU.animation;return n+" "+i}},$KW.Transform=function(){this.transform={},this.is3D=!1},$KW.Transform.prototype={rotate:function(e){return"undefined"==e&&(e=0),this.transform.rotate=e<=0?"rotate("+Math.abs(e)+"deg) ":"rotate( -"+e+"deg) ",this},translate:function(e,t){"undefined"==e&&(e=0),"undefined"==t&&(t=0);var n={};return n.x=e,n.y=t,this.transform.translate="translate("+n.x+"px, "+n.y+"px) ",this},scale:function(e,t){return"undefined"==e&&(e=1),"undefined"==t&&(t=1),this.transform.scale="scale("+e+", "+t+") ",this},setPerspective:function(e){if(arguments.length<1)throw new KonyError(101,"Transform3D Error","Set perspective Exception: Incomplete input");if("number"!=typeof e||e<=0)throw new KonyError(100,"Transform3D Error","Set perspective Exception: Invalid input.");return this.transform.perspective="perspective("+e+"px) ",this},rotate3D:function(e,t,n,i){if(arguments.length<4)throw new KonyError(101,"Transform3D Error","Set rotate3D Exception: Incomplete input");if("number"!=typeof e||"number"!=typeof t||"number"!=typeof n||"number"!=typeof i)throw new KonyError(100,"Transform3D Error","Set rotate3D Exception: Invalid input.");if(t<0||t>1||n<0||n>1||i<0||i>1)throw new KonyError(100,"Transform3D Error","Set rotate3D Exception: Invalid input.");return e=e<=0?Math.abs(e)+"deg":"-"+e+"deg",this.transform.rotate="rotate3d("+t+", "+n+", "+i+", "+e+") ",this.is3D=!0,this},translate3D:function(e,t,n){if(arguments.length<3)throw new KonyError(101,"Transform3D Error","Set translate3D Exception: Incomplete input");if("number"!=typeof e||"number"!=typeof t||"number"!=typeof n)throw new KonyError(100,"Transform3D Error","Set translate3D Exception: Invalid input.");return this.transform.translate="translate3d("+e+"px, "+t+"px, "+n+"px) ",this.is3D=!0,this},scale3D:function(e,t,n){if(arguments.length<3)throw new KonyError(101,"Transform3D Error","Set scale3D Exception: Incomplete input");if("number"!=typeof e||"number"!=typeof t||"number"!=typeof n)throw new KonyError(100,"Transform3D Error","Set scale3D Exception: Invalid input.");return this.transform.scale="scale3d("+e+", "+t+", "+n+") ",this.is3D=!0,this}},$KW.animUtils={isTransform3D:function(e){var t=!1;if(!e)return t;for(var n in e)if(e[n].transform&&e[n].transform.is3D){t=!0;break}return t},applyTransform:function(e,t){if(!t)return"";var n="";return t.transform.perspective&&(n+=t.transform.perspective),t.transform.scale&&(n+=t.transform.scale),t.transform.translate&&(n+=t.transform.translate),t.transform.rotate&&(n+=t.transform.rotate),n},AnimationDataComapre:function(e){if("record"==e){var t=JSON.stringify($KG.animataionData);localStorage.setItem("animataionData",t)}else if("play"==e){var n=localStorage.getItem("animataionData"),i=(t=JSON.parse(n),$KG.animataionData);for(var a in t){kony.web.logger("log","Animation Testing for: "+t[a].animationID);var o=t[a].data,r=i[a].data;for(var s in o)"startFrame"!=s&&"endFrame"!=s&&(o[s]==r[s]?kony.web.logger("log","PASSED Frame is \n"+o[s]+" \n"+r[s]):kony.web.logger("log","FAILED Frame is \n"+o[s]+" \n"+r[s]))}}},getComputedShadowString:function(e){var t=e.shadowColor||"#000000",n=(e.shadowRadius||0)+"px ",i=(e.shadowOffset.x||0)+"px ",a=(e.shadowOffset.y||0)+"px ";e.shadowColor&&($KW.skins.validateHexValue(e.shadowColor)&&(t=$KW.skins.convertHexValuetoRGBA(e.shadowColor)));return i+a+n+t},parseGradientParams:function(e){var t="",n=e.colors&&e.colorStops&&e.colors.length==e.colorStops.length,i=e.angle?e.angle:"0",a=$KU.cssPrefix;if("-Moz-"==a&&(a=""),t+="background:"+a+"linear-gradient("+(i+="deg"),n)for(var o in e.colors)t+=", #"+e.colors[o]+" "+e.colorStops[o]+"%";else kony.web.logger("warn","colors or colorStops are either undefined or unequal in length");return t+");"}};
$KI.crypto=function(){var e=function(e,r){return e=Math.ceil(e),r=Math.floor(r),Math.floor(Math.random()*(r-e+1))+e},r={stringify:function(e){var r={ct:e.ciphertext.toString(CryptoJS.enc.Base64)};return e.iv&&(r.iv=e.iv.toString()),e.salt&&(r.s=e.salt.toString()),JSON.stringify(r)},parse:function(e){var r=JSON.parse(e),o=CryptoJS.lib.CipherParams.create({ciphertext:CryptoJS.enc.Base64.parse(r.ct)});return r.iv&&(o.iv=CryptoJS.enc.Hex.parse(r.iv)),r.s&&(o.salt=CryptoJS.enc.Hex.parse(r.s)),o},createhash:function(e,r){var o;if($KU.logExecuting("kony.crypto.createhash"),"string"!=typeof r)return $KU.logErrorMessage("invalid input "+r),{errcode:100,errmessage:"invalid input parameters"};$KU.logExecutingWithParams("kony.crypto.createhash",e,r);try{switch(e.toLowerCase()){case"md5":o=CryptoJS.MD5(r);break;case"sha256":o=CryptoJS.SHA256(r);break;case"sha1":o=CryptoJS.SHA1(r);break;case"sha512":o=CryptoJS.SHA512(r);break;default:$KU.logErrorMessage("unsupported algorithm"),o={errcode:101,errmessage:"unsupported algorithm"}}return"string"!=typeof o&&(o=o.toString(CryptoJS.enc.UTF8)),$KU.logExecutingFinished("kony.crypto.createhash"),o}catch(e){return $KU.logErrorMessage("unknown error"+e),{errcode:102,errmessage:"unknown  error"}}},encrypt:function(e,o,t,n){if($KU.logExecuting("kony.crypto.encrypt"),"string"!=typeof e&&t&&o)return $KU.logErrorMessage("invalid input parameters"),{errcode:100,errmessage:"invalid input parameters"};$KU.logExecutingWithParams("kony.crypto.encrypt",e,o,t,n);var a=CryptoJS.mode.CBC,s=CryptoJS.pad.Pkcs7;try{if(n){if(n.mode)switch(n.mode.toLowerCase()){case"cfb":a=CryptoJS.mode.CFB;break;case"ctr":a=CryptoJS.mode.CTR;break;case"ofb":a=CryptoJS.mode.OFB;break;case"ecb":a=CryptoJS.mode.ECB}if(n.padding)switch(n.padding.toLowerCase()){case"iso97971":s=CryptoJS.pad.Iso97971;break;case"iso10126":s=CryptoJS.pad.Iso10126;break;case"zeropadding":s=CryptoJS.pad.ZeroPadding;break;case"nopadding":s=CryptoJS.pad.NoPadding}}if("aes"==e.toLowerCase()){var i=CryptoJS.AES.encrypt(t,o,{mode:a,padding:s});return $KU.logExecutingFinished("kony.crypto.encrypt VIA encrypting using AES algorithm"),r.stringify(i)}if("tripledes"==e.toLowerCase()){i=CryptoJS.TripleDES.encrypt(t,o,{mode:a,padding:s,format:r.JsonFormatter});return $KU.logExecutingFinished("kony.crypto.encrypt VIA encrypting using TripleDES algorithm"),r.stringify(i)}return $KU.logErrorMessage("unsupported algorithm"),{errcode:101,errmessage:"unsupported algorithm"}}catch(e){return $KU.logErrorMessage("unknown error"),{errcode:102,errmessage:"unknown  error"}}},decrypt:function(e,o,t,n){if($KU.logExecuting("kony.crypto.decrypt"),"string"!=typeof e&&t&&o)return $KU.logErrorMessage("invalid input parameters"),{errcode:100,errmessage:"invalid input parameters"};$KU.logExecutingWithParams("kony.crypto.decrypt",e,o,t,n);var a=CryptoJS.mode.CBC,s=CryptoJS.pad.Pkcs7;try{if(n){if(n.mode)switch(n.mode.toLowerCase()){case"cfb":a=CryptoJS.mode.CFB;break;case"ctr":a=CryptoJS.mode.CTR;break;case"ofb":a=CryptoJS.mode.OFB;break;case"ecb":a=CryptoJS.mode.ECB}if(n.padding)switch(n.padding.toLowerCase()){case"iso97971":s=CryptoJS.pad.Iso97971;break;case"iso10126":s=CryptoJS.pad.Iso10126;break;case"zeropadding":s=CryptoJS.pad.ZeroPadding;break;case"nopadding":s=CryptoJS.pad.NoPadding}}if(t=r.parse(t),"aes"==e.toLowerCase()){var i=CryptoJS.AES.decrypt(t,o,{mode:a,padding:s});return $KU.logExecutingFinished("kony.crypto.decrypt VIA decryting using AES algorithm"),i.toString(CryptoJS.enc.Utf8)}if("tripledes"==e.toLowerCase()){i=CryptoJS.TripleDES.decrypt(t,o,{mode:a,padding:s});return $KU.logExecutingFinished("kony.crypto.decrypt VIA decryting using TripleDES algorithm"),i.toString(CryptoJS.enc.Utf8)}return $KU.logErrorMessage("unsupported algorithm"),{errcode:101,errmessage:"unsupported algorithm"}}catch(e){return $KU.logErrorMessage("unknown  error"+e),{errcode:102,errmessage:"unknown  error"}}},retrievepublickey:function(){$KU.logWarnMessage("retrievepublickey is not supported in SPA")},newkey:function(e,r,o){$KU.logExecuting("kony.crypto.newKey");try{return"passphrase"!=e?($KU.logErrorMessage("invalid input parameters"),{errcode:100,errmessage:"invalid input parameters"}):o.subalgo?($KU.logExecutingWithParams("kony.crypto.newKey",e,r,o),"aes"==o.subalgo.toLowerCase()||"tripledes"==o.subalgo.toLowerCase()?($KU.logExecutingFinished("kony.crypto.newKey"),o.passphrasetext[IndexJL]):($KU.logErrorMessage("unsupported algorithm"),{errcode:101,errmessage:"unsupported algorithm"})):($KU.logErrorMessage("subalgo parameter is missing"),{errcode:105,errmessage:"subalgo parameter is missing"})}catch(e){return $KU.logErrorMessage("unknown error"+e),{errcode:102,errmessage:"unknown error"}}},savekey:function(e,r,o){if($KU.logExecuting("kony.crypto.saveKey"),void 0==e||void 0==r)return $KU.logErrorMessage("Invalid input parameters"),{errcode:100,errmsg:"Invalid input parameters"};$KU.logExecutingWithParams("kony.crypto.saveKey",e,r,o);try{if(!localStorage)return $KU.logErrorMessage("unknown error, storage not supported"),{errcode:102,errmsg:"unknown error, storage not supported"};try{return localStorage.setItem(e,JSON.stringify(r)),$KU.logExecutingFinished("kony.crypto.saveKey"),e}catch(e){if("QUOTA_EXCEEDED_ERR"==e.name){var t=0,n="";return 0===localStorage.length?($KU.logErrorMessage("Private Browsing is switched ON"),t=102,n="Private Browsing is switched ON"):($KU.logErrorMessage("unable to save the key with the specified name"),t=101,n="unable to save the key with the specified name"),{errcode:t,errmsg:n}}}}catch(e){$KU.logErrorMessage("unknown error "+e)}},readkey:function(e){if($KU.logExecuting("kony.crypto.readKey"),void 0==e)return $KU.logErrorMessage("Invalid input parameters"),{errcode:100,errmsg:"Invalid input parameters"};$KU.logExecutingWithParams("kony.crypto.readKey",e);try{if(localStorage){var r=JSON.parse(localStorage.getItem(e)||"null");return null==r?($KU.logErrorMessage("unable to find the key with the specified unique ID"),{errcode:101,errmsg:"unable to find the key with the specified unique ID"}):($KU.logExecutingFinished("kony.crypto.readKey"),r)}return kony.print("crypto readkey failed"),$KU.logErrorMessage("unknown error, storage not supported"),{errcode:102,errmsg:"unknown error, storage not supported"}}catch(e){$KU.logErrorMessage("unknown error "+e)}},deletekey:function(e){$KU.logExecuting("kony.crypto.deleteKey"),$KU.logExecutingWithParams("kony.crypto.deleteKey",e);try{localStorage?localStorage.removeItem(e):kony.print("crypto delete failed"),$KU.logExecutingFinished("kony.crypto.deleteKey")}catch(e){$KU.logErrorMessage("unknown error"+e)}},createHMacHash:function(){kony.web.logger("warn","The createHMacHash API is not supported.")},createPBKDF2Key:function(){kony.web.logger("warn","The createPBKDF2Key API is not supported.")},getRandomNumber:function(r,o){return e(r,o)},generateRandomString:function(){return function(){var r,o="",t=0,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(r=e(8,16),t=0;t<r;t++)o+=n.charAt(Math.floor(Math.random()*n.length));return o}()},createHashToUpperCase:function(e,r){return function(e,r){var o=$KI.crypto.createhash(e,r);return"string"==typeof o&&(o=o.toUpperCase()),o}(e,r)}};return r}();
var CryptoJS=CryptoJS||function(t,e){var r={},i=r.lib={},o=i.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var r=new t;return e&&r.mixIn(e),r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.$super.extend(this)}}}(),n=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,i=this.sigBytes;t=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<t;o++)e[i+o>>>2]|=(r[o>>>2]>>>24-o%4*8&255)<<24-(i+o)%4*8;else if(65535<r.length)for(o=0;o<t;o+=4)e[i+o>>>2]=r[o>>>2];else e.push.apply(e,r);return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r=[],i=0;i<e;i+=4)r.push(4294967296*t.random()|0);return n.create(r,e)}}),s=r.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,r=(t=t.sigBytes,[]),i=0;i<t;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i+=2)r[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return n.create(r,e/2)}},a=s.Latin1={stringify:function(t){for(var e=t.words,r=(t=t.sigBytes,[]),i=0;i<t;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return n.create(r,e)}},h=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(a.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return a.parse(unescape(encodeURIComponent(t)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=n.create(),this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,c=o/(4*s);e=(c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0))*s,o=t.min(4*e,o);if(e){for(var a=0;a<e;a+=s)this._doProcessBlock(i,a);a=i.splice(0,e),r.sigBytes-=o}return n.create(a,o)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=l.extend({init:function(){this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize(),this._hash},clone:function(){var t=l.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:16,_createHelper:function(t){return function(e,r){return t.create(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return f.HMAC.create(t,r).finalize(e)}}});var f=r.algo={};return r}(Math);!function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,i=this._map;t.clamp();t=[];for(var o=0;o<r;o+=3)for(var n=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;4>s&&o+.75*s<r;s++)t.push(i.charAt(n>>>6*(3-s)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=(t=t.replace(/\s/g,"")).length,i=this._map;(o=i.charAt(64))&&(-1!=(o=t.indexOf(o))&&(r=o));for(var o=[],n=0,s=0;s<r;s++)if(s%4){var c=i.indexOf(t.charAt(s-1))<<s%4*2,a=i.indexOf(t.charAt(s))>>>6-s%4*2;o[n>>>2]|=(c|a)<<24-n%4*8,n++}return e.create(o,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,r,i,o,n,s){return((t=t+(e&r|~e&i)+o+s)<<n|t>>>32-n)+e}function r(t,e,r,i,o,n,s){return((t=t+(e&i|r&~i)+o+s)<<n|t>>>32-n)+e}function i(t,e,r,i,o,n,s){return((t=t+(e^r^i)+o+s)<<n|t>>>32-n)+e}function o(t,e,r,i,o,n,s){return((t=t+(r^(e|~i))+o+s)<<n|t>>>32-n)+e}var n=CryptoJS,s=(c=n.lib).WordArray,c=c.Hasher,a=n.algo,h=[];!function(){for(var e=0;64>e;e++)h[e]=4294967296*t.abs(t.sin(e+1))|0}(),a=a.MD5=c.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,n){for(var s=0;16>s;s++){var c=t[a=n+s];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}c=(a=this._hash.words)[0];var a,l=a[1],f=a[2],p=a[3];for(s=0;64>s;s+=4)16>s?l=e(l,f=e(f,p=e(p,c=e(c,l,f,p,t[n+s],7,h[s]),l,f,t[n+s+1],12,h[s+1]),c,l,t[n+s+2],17,h[s+2]),p,c,t[n+s+3],22,h[s+3]):32>s?l=r(l,f=r(f,p=r(p,c=r(c,l,f,p,t[n+(s+1)%16],5,h[s]),l,f,t[n+(s+6)%16],9,h[s+1]),c,l,t[n+(s+11)%16],14,h[s+2]),p,c,t[n+s%16],20,h[s+3]):48>s?l=i(l,f=i(f,p=i(p,c=i(c,l,f,p,t[n+(3*s+5)%16],4,h[s]),l,f,t[n+(3*s+8)%16],11,h[s+1]),c,l,t[n+(3*s+11)%16],16,h[s+2]),p,c,t[n+(3*s+14)%16],23,h[s+3]):l=o(l,f=o(f,p=o(p,c=o(c,l,f,p,t[n+3*s%16],6,h[s]),l,f,t[n+(3*s+7)%16],10,h[s+1]),c,l,t[n+(3*s+14)%16],15,h[s+2]),p,c,t[n+(3*s+5)%16],21,h[s+3]);a[0]=a[0]+c|0,a[1]=a[1]+l|0,a[2]=a[2]+f|0,a[3]=a[3]+p|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;for(e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process(),t=this._hash.words,e=0;4>e;e++)r=t[e],t[e]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}}),n.MD5=c._createHelper(a),n.HmacMD5=c._createHmacHelper(a)}(Math),function(){var t,e=CryptoJS,r=(t=e.lib).Base,i=t.WordArray,o=(t=e.algo).EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=(c=this.cfg).hasher.create(),o=i.create(),n=o.words,s=c.keySize,c=c.iterations;n.length<s;){a&&r.update(a);var a=r.update(t).finalize(e);r.reset();for(var h=1;h<c;h++)a=r.finalize(a),r.reset();o.concat(a)}return o.sigBytes=4*s,o}});e.EvpKDF=function(t,e,r){return o.create(r).compute(t,e)}}(),CryptoJS.lib.Cipher||function(t){var e=(d=CryptoJS).lib,r=e.Base,i=e.WordArray,o=e.BufferedBlockAlgorithm,n=d.enc.Base64,s=d.algo.EvpKDF,c=e.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,r,i){return("string"==typeof r?u:p).encrypt(t,e,r,i)},decrypt:function(e,r,i){return("string"==typeof r?u:p).decrypt(t,e,r,i)}}}});e.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var a=d.mode={},h=e.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),l=(a=a.CBC=function(){function e(e,r,i){var o=this._iv;o?this._iv=t:o=this._prevBlock;for(var n=0;n<i;n++)e[r+n]^=o[n]}var r=h.extend();return r.Encryptor=r.extend({processBlock:function(t,r){var i=this._cipher,o=i.blockSize;e.call(this,t,r,o),i.encryptBlock(t,r),this._prevBlock=t.slice(r,r+o)}}),r.Decryptor=r.extend({processBlock:function(t,r){var i=this._cipher,o=i.blockSize,n=t.slice(r,r+o);i.decryptBlock(t,r),e.call(this,t,r,o),this._prevBlock=n}}),r}(),(d.pad={}).Pkcs7={pad:function(t,e){for(var r,o=(r=(r=4*e)-t.sigBytes%r)<<24|r<<16|r<<8|r,n=[],s=0;s<r;s+=4)n.push(o);r=i.create(n,r),t.concat(r)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}});e.BlockCipher=c.extend({cfg:c.cfg.extend({mode:a,padding:l}),reset:function(){c.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=e.createEncryptor;else r=e.createDecryptor,this._minBufferSize=1;this._mode=r.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var f=e.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),p=(a=(d.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return(e=((t=t.salt)?i.create([1398893684,1701076831]).concat(t).concat(e):e).toString(n)).replace(/(.{64})/g,"$1\n")},parse:function(t){var e=(t=n.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var r=i.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return f.create({ciphertext:t,salt:r})}},e.SerializableCipher=r.extend({cfg:r.extend({format:a}),encrypt:function(t,e,r,i){i=this.cfg.extend(i),e=(o=t.createEncryptor(r,i)).finalize(e);var o=o.cfg;return f.create({ciphertext:e,key:r,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(r,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t):t}})),d=(d.kdf={}).OpenSSL={compute:function(t,e,r,o){return o||(o=i.random(8)),t=s.create({keySize:e+r}).compute(t,o),r=i.create(t.words.slice(e),4*r),t.sigBytes=4*e,f.create({key:t,iv:r,salt:o})}},u=e.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(t,e,r,i){return r=(i=this.cfg.extend(i)).kdf.compute(r,t.keySize,t.ivSize),i.iv=r.iv,(t=p.encrypt.call(this,t,e,r.key,i)).mixIn(r),t},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),r=i.kdf.compute(r,t.keySize,t.ivSize,e.salt),i.iv=r.iv,p.decrypt.call(this,t,e,r.key,i)}})}(),function(){var t=CryptoJS,e=t.lib.BlockCipher,r=t.algo,i=[],o=[],n=[],s=[],c=[],a=[],h=[],l=[],f=[],p=[];!function(){for(var t=[],e=0;256>e;e++)t[e]=128>e?e<<1:e<<1^283;var r=0,d=0;for(e=0;256>e;e++){var u=(u=d^d<<1^d<<2^d<<3^d<<4)>>>8^255&u^99;i[r]=u,o[u]=r;var _=t[r],y=t[_],v=t[y],g=257*t[u]^16843008*u;n[r]=g<<24|g>>>8,s[r]=g<<16|g>>>16,c[r]=g<<8|g>>>24,a[r]=g,g=16843009*v^65537*y^257*_^16843008*r,h[u]=g<<24|g>>>8,l[u]=g<<16|g>>>16,f[u]=g<<8|g>>>24,p[u]=g,r?(r=_^t[t[t[v^_]]],d^=t[t[d]]):r=d=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54];r=r.AES=e.extend({_doReset:function(){for(var t=(r=this._key).words,e=r.sigBytes/4,r=4*((this._nRounds=e+6)+1),o=this._keySchedule=[],n=0;n<r;n++)if(n<e)o[n]=t[n];else{var s=o[n-1];n%e?6<e&&4==n%e&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=d[n/e|0]<<24),o[n]=o[n-e]^s}for(t=this._invKeySchedule=[],e=0;e<r;e++)n=r-e,s=e%4?o[n]:o[n-4],t[e]=4>e||4>=n?s:h[i[s>>>24]]^l[i[s>>>16&255]]^f[i[s>>>8&255]]^p[i[255&s]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,n,s,c,a,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,h,l,f,p,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,i,o,n,s,c){for(var a=this._nRounds,h=t[e]^r[0],l=t[e+1]^r[1],f=t[e+2]^r[2],p=t[e+3]^r[3],d=4,u=1;u<a;u++){var _=i[h>>>24]^o[l>>>16&255]^n[f>>>8&255]^s[255&p]^r[d++],y=i[l>>>24]^o[f>>>16&255]^n[p>>>8&255]^s[255&h]^r[d++],v=i[f>>>24]^o[p>>>16&255]^n[h>>>8&255]^s[255&l]^r[d++];p=i[p>>>24]^o[h>>>16&255]^n[l>>>8&255]^s[255&f]^r[d++],h=_,l=y,f=v}_=(c[h>>>24]<<24|c[l>>>16&255]<<16|c[f>>>8&255]<<8|c[255&p])^r[d++],y=(c[l>>>24]<<24|c[f>>>16&255]<<16|c[p>>>8&255]<<8|c[255&h])^r[d++],v=(c[f>>>24]<<24|c[p>>>16&255]<<16|c[h>>>8&255]<<8|c[255&l])^r[d++],p=(c[p>>>24]<<24|c[h>>>16&255]<<16|c[l>>>8&255]<<8|c[255&f])^r[d++],t[e]=_,t[e+1]=y,t[e+2]=v,t[e+3]=p},keySize:8});t.AES=e._createHelper(r)}(),function(){var t=CryptoJS,e=t.lib,r=e.WordArray,i=e.BlockCipher,o=t.algo,n=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],a=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var i=n[r]-1;e[r]=t[i>>>5]>>>31-i%32&1}for(var o=this._subKeys=[],a=0;a<16;a++){var h=o[a]=[],l=c[a];for(r=0;r<24;r++)h[r/6|0]|=e[(s[r]-1+l)%28]<<31-r%6,h[4+(r/6|0)]|=e[28+(s[r+24]-1+l)%28]<<31-r%6;h[0]=h[0]<<1|h[0]>>>31;for(r=1;r<7;r++)h[r]=h[r]>>>4*(r-1)+3;h[7]=h[7]<<5|h[7]>>>27}var f=this._invSubKeys=[];for(r=0;r<16;r++)f[r]=o[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var i=0;i<16;i++){for(var o=r[i],n=this._lBlock,s=this._rBlock,c=0,l=0;l<8;l++)c|=a[l][((s^o[l])&h[l])>>>0];this._lBlock=s,this._rBlock=n^c}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function p(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=i._createHelper(l);var d=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=l.createEncryptor(r.create(t.slice(0,2))),this._des2=l.createEncryptor(r.create(t.slice(2,4))),this._des3=l.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(d)}(),function(t){var e=CryptoJS,r=e.lib,i=r.WordArray,o=r.Hasher,n=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=n.MD5=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var i=e+r,o=t[i];t[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var n=this._hash.words,c=n[0],p=n[1],d=n[2],u=n[3];for(r=0;r<64;r+=4)p=r<16?a(p,d=a(d,u=a(u,c=a(c,p,d,u,t[e+r],7,s[r]),p,d,t[e+r+1],12,s[r+1]),c,p,t[e+r+2],17,s[r+2]),u,c,t[e+r+3],22,s[r+3]):r<32?h(p,d=h(d,u=h(u,c=h(c,p,d,u,t[e+(r+1)%16],5,s[r]),p,d,t[e+(r+6)%16],9,s[r+1]),c,p,t[e+(r+11)%16],14,s[r+2]),u,c,t[e+r%16],20,s[r+3]):r<48?l(p,d=l(d,u=l(u,c=l(c,p,d,u,t[e+(3*r+5)%16],4,s[r]),p,d,t[e+(3*r+8)%16],11,s[r+1]),c,p,t[e+(3*r+11)%16],16,s[r+2]),u,c,t[e+(3*r+14)%16],23,s[r+3]):f(p,d=f(d,u=f(u,c=f(c,p,d,u,t[e+3*r%16],6,s[r]),p,d,t[e+(3*r+7)%16],10,s[r+1]),c,p,t[e+(3*r+14)%16],15,s[r+2]),u,c,t[e+(3*r+5)%16],21,s[r+3]);n[0]=n[0]+c|0,n[1]=n[1]+p|0,n[2]=n[2]+d|0,n[3]=n[3]+u|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var o=this._hash.words,n=0;n<4;n++){var s=o[n];o[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}}});function a(t,e,r,i,o,n,s){var c=t+(e&r|~e&i)+o+s;return(c<<n|c>>>32-n)+e}function h(t,e,r,i,o,n,s){var c=t+(e&i|r&~i)+o+s;return(c<<n|c>>>32-n)+e}function l(t,e,r,i,o,n,s){var c=t+(e^r^i)+o+s;return(c<<n|c>>>32-n)+e}function f(t,e,r,i,o,n,s){var c=t+(r^(e|~i))+o+s;return(c<<n|c>>>32-n)+e}e.MD5=o._createHelper(c),e.HmacMD5=o._createHmacHelper(c)}(Math),function(t){var e=CryptoJS,r=e.lib,i=r.Base,o=r.WordArray,n=e.x64={};n.Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),n.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],i=0;i<e;i++){var n=t[i];r.push(n.high),r.push(n.low)}return o.create(r,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),r=e.length,o=0;o<r;o++)e[o]=e[o].clone();return t}})}(),function(){var t=CryptoJS,e=t.lib,r=e.WordArray,i=e.Hasher,o=[],n=t.algo.SHA1=i.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],n=r[1],s=r[2],c=r[3],a=r[4],h=0;h<80;h++){if(h<16)o[h]=0|t[e+h];else{var l=o[h-3]^o[h-8]^o[h-14]^o[h-16];o[h]=l<<1|l>>>31}var f=(i<<5|i>>>27)+a+o[h];f+=h<20?1518500249+(n&s|~n&c):h<40?1859775393+(n^s^c):h<60?(n&s|n&c|s&c)-1894007588:(n^s^c)-899497514,a=c,c=s,s=n<<30|n>>>2,n=i,i=f}r[0]=r[0]+i|0,r[1]=r[1]+n|0,r[2]=r[2]+s|0,r[3]=r[3]+c|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[15+(i+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process()}});t.SHA1=i._createHelper(n),t.HmacSHA1=i._createHmacHelper(n)}(),function(t){var e=CryptoJS,r=e.lib,i=r.WordArray,o=r.Hasher,n=e.algo,s=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),i=2;i<=r;i++)if(!(e%i))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var i=2,o=0;o<64;)e(i)&&(o<8&&(s[o]=r(t.pow(i,.5))),c[o]=r(t.pow(i,1/3)),o++),i++}();var a=[],h=n.SHA256=o.extend({_doReset:function(){this._hash=i.create(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],o=r[1],n=r[2],s=r[3],h=r[4],l=r[5],f=r[6],p=r[7],d=0;d<64;d++){if(d<16)a[d]=0|t[e+d];else{var u=a[d-15],_=(u<<25|u>>>7)^(u<<14|u>>>18)^u>>>3,y=a[d-2],v=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;a[d]=_+a[d-7]+v+a[d-16]}var g=i&o^i&n^o&n,B=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),k=p+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&l^~h&f)+c[d]+a[d];p=f,f=l,l=h,h=s+k|0,s=n,n=o,o=i,i=k+(B+g)|0}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+n|0,r[3]=r[3]+s|0,r[4]=r[4]+h|0,r[5]=r[5]+l|0,r[6]=r[6]+f|0,r[7]=r[7]+p|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[15+(i+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process()}});e.SHA256=o._createHelper(h),e.HmacSHA256=o._createHmacHelper(h)}(Math),function(){var t=CryptoJS,e=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,n=t.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],a=[];!function(){for(var t=0;t<80;t++)a[t]=s()}();var h=n.SHA512=e.extend({_doReset:function(){this._hash=o.create([s(1779033703,4089235720),s(3144134277,2227873595),s(1013904242,4271175723),s(2773480762,1595750129),s(1359893119,2917565137),s(2600822924,725511199),s(528734635,4215389547),s(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],o=r[1],n=r[2],s=r[3],h=r[4],l=r[5],f=r[6],p=r[7],d=i.high,u=i.low,_=o.high,y=o.low,v=n.high,g=n.low,B=s.high,k=s.low,S=h.high,m=h.low,w=l.high,C=l.low,x=f.high,z=f.low,b=p.high,H=p.low,D=d,E=u,A=_,M=y,J=v,F=g,R=B,O=k,W=S,P=m,I=w,K=C,X=x,N=z,T=b,U=H,j=0;j<80;j++){var L=a[j];if(j<16)var Z=L.high=0|t[e+2*j],$=L.low=0|t[e+2*j+1];else{var q=a[j-15],G=q.high,Q=q.low,V=(Q<<31|G>>>1)^(Q<<24|G>>>8)^G>>>7,Y=(G<<31|Q>>>1)^(G<<24|Q>>>8)^(G<<25|Q>>>7),tt=a[j-2],et=tt.high,rt=tt.low,it=(rt<<13|et>>>19)^(et<<3|rt>>>29)^et>>>6,ot=(et<<13|rt>>>19)^(rt<<3|et>>>29)^(et<<26|rt>>>6),nt=a[j-7],st=nt.high,ct=nt.low,at=a[j-16],ht=at.high,lt=at.low;Z=(Z=(Z=V+st+(($=Y+ct)>>>0<Y>>>0?1:0))+it+(($=$+ot)>>>0<ot>>>0?1:0))+ht+(($=$+lt)>>>0<lt>>>0?1:0);L.high=Z,L.low=$}var ft,pt=W&I^~W&X,dt=P&K^~P&N,ut=D&A^D&J^A&J,_t=E&M^E&F^M&F,yt=(E<<4|D>>>28)^(D<<30|E>>>2)^(D<<25|E>>>7),vt=(D<<4|E>>>28)^(E<<30|D>>>2)^(E<<25|D>>>7),gt=(P<<18|W>>>14)^(P<<14|W>>>18)^(W<<23|P>>>9),Bt=(W<<18|P>>>14)^(W<<14|P>>>18)^(P<<23|W>>>9),kt=c[j],St=kt.high,mt=kt.low,wt=T+gt+((ft=U+Bt)>>>0<U>>>0?1:0),Ct=vt+_t;T=X,U=N,X=I,N=K,I=W,K=P,W=R+(wt=(wt=(wt=wt+pt+((ft=ft+dt)>>>0<dt>>>0?1:0))+St+((ft=ft+mt)>>>0<mt>>>0?1:0))+Z+((ft=ft+$)>>>0<$>>>0?1:0))+((P=O+ft|0)>>>0<O>>>0?1:0)|0,R=J,O=F,J=A,F=M,A=D,M=E,D=wt+(yt+ut+(Ct>>>0<vt>>>0?1:0))+((E=ft+Ct|0)>>>0<ft>>>0?1:0)|0}u=i.low=u+E|0,i.high=d+D+(u>>>0<E>>>0?1:0)|0,y=o.low=y+M|0,o.high=_+A+(y>>>0<M>>>0?1:0)|0,g=n.low=g+F|0,n.high=v+J+(g>>>0<F>>>0?1:0)|0,k=s.low=k+O|0,s.high=B+R+(k>>>0<O>>>0?1:0)|0,m=h.low=m+P|0,h.high=S+W+(m>>>0<P>>>0?1:0)|0,C=l.low=C+K|0,l.high=w+I+(C>>>0<K>>>0?1:0)|0,z=f.low=z+N|0,f.high=x+X+(z>>>0<N>>>0?1:0)|0,H=p.low=H+U|0,p.high=b+T+(H>>>0<U>>>0?1:0)|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[31+(i+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash=this._hash.toX32()},blockSize:32});t.SHA512=e._createHelper(h),t.HmacSHA512=e._createHmacHelper(h)}(),CryptoJS.mode.CFB=function(){var t=CryptoJS.lib.BlockCipherMode.extend();function e(t,e,r,i){var o=this._iv;if(o){var n=o.slice(0);this._iv=void 0}else n=this._prevBlock;i.encryptBlock(n,0);for(var s=0;s<r;s++)t[e+s]^=n[s]}return t.Encryptor=t.extend({processBlock:function(t,r){var i=this._cipher,o=i.blockSize;e.call(this,t,r,o,i),this._prevBlock=t.slice(r,r+o)}}),t.Decryptor=t.extend({processBlock:function(t,r){var i=this._cipher,o=i.blockSize,n=t.slice(r,r+o);e.call(this,t,r,o,i),this._prevBlock=n}}),t}(),CryptoJS.mode.ECB=function(){var t=CryptoJS.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),t.Decryptor=t.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),t}(),CryptoJS.mode.OFB=function(){var t=CryptoJS.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=this._iv,n=this._keystream;o&&(n=this._keystream=o.slice(0),this._iv=void 0),r.encryptBlock(n,0);for(var s=0;s<i;s++)t[e+s]^=n[s]}});return t.Decryptor=e,t}(),CryptoJS.mode.CTR=function(){var t=CryptoJS.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=this._iv,n=this._counter;o&&(n=this._counter=o.slice(0),this._iv=void 0);var s=n.slice(0);r.encryptBlock(s,0),n[i-1]=n[i-1]+1|0;for(var c=0;c<i;c++)t[e+c]^=s[c]}});return t.Decryptor=e,t}(),CryptoJS.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1;!(e[r>>>2]>>>24-r%4*8&255);)r--;t.sigBytes=r+1}},CryptoJS.pad.NoPadding={pad:function(){},unpad:function(){}},CryptoJS.pad.Iso97971={pad:function(t,e){t.concat(CryptoJS.lib.WordArray.create([2147483648],1)),CryptoJS.pad.ZeroPadding.pad(t,e)},unpad:function(t){CryptoJS.pad.ZeroPadding.unpad(t),t.sigBytes--}},CryptoJS.pad.Iso10126={pad:function(t,e){var r=4*e,i=r-t.sigBytes%r;t.concat(CryptoJS.lib.WordArray.random(i-1)).concat(CryptoJS.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}};
kony.worker=function(){var r={WorkerThread:function(r,e,o){if($KU.logExecuting("kony.worker.WorkerThread"),void 0===r||null===r||""===r)throw $KU.logErrorMessage("Invalid parameters"),new KonyError(3001,"WorkerThreadError","WorkerThread: MissingMandatoryParameter. Failed to construct WorkerThread");if("string"!=typeof r)throw $KU.logErrorMessage("Invalid parameters"),new KonyError(3002,"WorkerThreadError","WorkerThread: InvalidParameter. Invalid script name");$KU.logExecutingWithParams("kony.worker.WorkerThread",r,e,o);var t=kony.appinit.getStaticContentPath()+$KG.platformver+"appjs/";"undefined"==typeof nestedWorker?this.oWorker=new Worker(t+"konyworkerinit.js"):this.oWorker=new Worker("konyworkerinit.js");var n=$KG.appmode||"",a=$KG.appid||"",s=$KG.skipproxy||"",i=$KG.rcid||"",d=!1,g=kony.os.userAgent();void 0!==$KG.functionalModules&&(d=!0),this.oWorker.postMessage({moduleName:r,contextPath:t,kgAppMode:n,kgAppID:a,kgSkipProxy:s,kgRcid:i,isFMSupported:d,kgUserAgent:g}),this.defaultListener=e||function(r){kony.print("Data: "+r.data)},this.defaultErrorListener=o||function(r){kony.print(r.message+" : in file - "+r.filename+" at location :"+r.lineno+","+r.colno)},this.oWorker.addEventListener("error",this.defaultErrorListener),$KU.logExecutingFinished("kony.worker.WorkerThread")},hasWorkerThreadSupport:function(){return $KU.logExecuting("kony.worker.hasWorkerThreadSupport"),$KU.logExecutingWithParams("kony.worker.hasWorkerThreadSupport"),"undefined"==typeof Worker?($KU.logErrorMessage("Worker not defined"),!1):($KU.logExecutingFinished("kony.worker.hasWorkerThreadSupport"),!0)}};return r.WorkerThread.prototype.postMessage=function(r){if($KU.logExecuting("worker.postMessage"),void 0===r||null===r||""===r)throw $KU.logErrorMessage("postMessage: MissingMandatoryParameter. Message undefined"),new KonyError(3001,"WorkerThreadError","postMessage: MissingMandatoryParameter. Message undefined");if("number"==typeof r||"boolean"==typeof r||"function"==typeof r)throw $KU.logErrorMessage("postMessage: InvalidParameter. Invalid Message"),new KonyError(3002,"WorkerThreadError","postMessage: InvalidParameter. Invalid Message");$KU.logExecutingWithParams("worker.postMessage",r);try{Worker.prototype.postMessage.call(this.oWorker,r),$KU.logExecutingFinished("worker.postMessage")}catch(r){throw $KU.logErrorMessage("postMessage: InvalidParameter. Invalid Message"),kony.print("Error occured in WorkerThread postMessage: "+r.message),new KonyError(3002,"WorkerThreadError","postMessage: InvalidParameter. Invalid Message")}},r.WorkerThread.prototype.terminate=function(){$KU.logExecuting("worker.terminate"),$KU.logExecutingWithParams("worker.terminate"),Worker.prototype.terminate.call(this.oWorker),$KU.logExecutingFinished("worker.terminate")},r.WorkerThread.prototype.addEventListener=function(r,e){if($KU.logExecuting("worker.addEventListener"),arguments.length<2)throw $KU.logErrorMessage("addEventListener: MissingMandatoryParameter. Mandatory arguments missing"),new KonyError(3001,"WorkerThreadError","addEventListener: MissingMandatoryParameter. Mandatory arguments missing");if("string"!=typeof arguments[0]||"function"!=typeof arguments[1])throw $KU.logErrorMessage("addEventListener: InvalidParameter. Invalid arguments"),new KonyError(3002,"WorkerThreadError","addEventListener: InvalidParameter. Invalid arguments");if("message"!=r&&"error"!=r)throw $KU.logErrorMessage("addEventListener: InvalidParameter. Invalid arguments"),new KonyError(3002,"WorkerThreadError","addEventListener: InvalidParameter. Invalid arguments");$KU.logExecutingWithParams("worker.addEventListener",r,e),e=e||this.defaultListener,Worker.prototype.addEventListener.call(this.oWorker,r,e,!1),"error"===r&&Worker.prototype.removeEventListener.call(this.oWorker,"error",this.defaultErrorListener,!1),$KU.logExecutingFinished("worker.addEventListener")},r.WorkerThread.prototype.removeEventListener=function(r,e){if($KU.logExecuting("worker.removeEventListener"),arguments.length<2)throw $KU.logErrorMessage("removeEventListener: MissingMandatoryParameter. Mandatory arguments missing"),new KonyError(3001,"WorkerThreadError","removeEventListener: MissingMandatoryParameter. Mandatory arguments missing");if("string"!=typeof arguments[0]||"function"!=typeof arguments[1])throw $KU.logErrorMessage("removeEventListener: InvalidParameter. Invalid arguments"),new KonyError(3002,"WorkerThreadError","removeEventListener: InvalidParameter. Invalid arguments");if("message"!=r&&"error"!=r)throw $KU.logErrorMessage("removeEventListener: InvalidParameter. Invalid arguments"),new KonyError(3002,"WorkerThreadError","removeEventListener: InvalidParameter. Invalid arguments");$KU.logExecutingWithParams("worker.removeEventListener",r,e),Worker.prototype.removeEventListener.call(this.oWorker,r,e,!1),"error"===r&&Worker.prototype.addEventListener.call(this.oWorker,"error",this.defaultErrorListener,!1),$KU.logExecutingFinished("worker.removeEventListener")},r}();
var requirejs,require,define;!function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.2.0",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t,i,r){return r||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var i;if(e)for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}function eachReverse(e,t){var i;if(e)for(i=e.length-1;i>-1&&(!e[i]||!t(e[i],i,e));i-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(e,t,i,r){return t&&eachProp(t,function(t,n){!i&&hasProp(e,n)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[n]=t:(e[n]||(e[n]={}),mixin(e[n],t,i,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,r){var n=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return n.requireType=e,n.requireModules=r,i&&(n.originalError=i),n}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,r){var n,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=i,i=r):e=[]),o&&o.context&&(a=o.context),(n=getOwn(contexts,a))||(n=contexts[a]=req.s.newContext(a)),o&&n.configure(o),n.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,i){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,i){var r,n=e&&e.config||{};if(isBrowser)return(r=req.createNode(n,t,i)).setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=i,n.onNodeCreated&&n.onNodeCreated(r,n,t,i),currentlyAddingScript=r,head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(i),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+i,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,i){var r,n;"string"!=typeof e&&(i=t,t=e,e=null),isArray(t)||(i=t,t=null),!t&&isFunction(i)&&(t=[],i.length&&(i.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),n=contexts[r.getAttribute("data-requirecontext")]),n?(n.defQueue.push([e,t,i]),n.defQueueMap[e]=!0):globalDefQueue.push([e,t,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(e){var t,i,r,n,o,a={waitSeconds:120,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},s={},u={},c={},d=[],p={},f={},l={},h=1,m=1;function g(e,t,i){var r,n,o,s,u,c,d,p,f,l,h=t&&t.split("/"),m=a.map,g=m&&m["*"];if(e&&(c=(e=e.split("/")).length-1,a.nodeIdCompat&&jsSuffixRegExp.test(e[c])&&(e[c]=e[c].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),function(e){var t,i;for(t=0;t<e.length;t++)if("."===(i=e[t]))e.splice(t,1),t-=1;else if(".."===i){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),i&&m&&(h||g)){n=e.split("/");e:for(o=n.length;o>0;o-=1){if(u=n.slice(0,o).join("/"),h)for(s=h.length;s>0;s-=1)if((r=getOwn(m,h.slice(0,s).join("/")))&&(r=getOwn(r,u))){d=r,p=o;break e}!f&&g&&getOwn(g,u)&&(f=getOwn(g,u),l=o)}!d&&f&&(d=f,p=l),d&&(n.splice(0,p,d),e=n.join("/"))}return getOwn(a.pkgs,e)||e}function v(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function b(e){var t=getOwn(a.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.makeRequire(null,{skipMap:!0})([e]),!0}function x(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function q(e,t,i,n){var o,a,s,u,c=null,d=t?t.name:null,f=e,l=!0,v="";return e||(l=!1,e="_@r"+(h+=1)),c=(u=x(e))[0],e=u[1],c&&(c=g(c,d,n),a=getOwn(p,c)),e&&(c?v=a&&a.normalize?a.normalize(e,function(e){return g(e,d,n)}):-1===e.indexOf("!")?g(e,d,n):e:(c=(u=x(v=g(e,d,n)))[0],v=u[1],i=!0,o=r.nameToUrl(v))),{prefix:c,name:v,parentMap:t,unnormalized:!!(s=!c||a||i?"":"_unnormalized"+(m+=1)),url:o,originalName:f,isDefine:l,id:(c?c+"!"+v:v)+s}}function E(e){var t=e.id,i=getOwn(s,t);return i||(i=s[t]=new r.Module(e)),i}function w(e,t,i){var r=e.id,n=getOwn(s,r);!hasProp(p,r)||n&&!n.defineEmitComplete?(n=E(e)).error&&"error"===t?i(n.error):n.on(t,i):"defined"===t&&i(p[r])}function y(e,t){var i=e.requireModules,r=!1;t?t(e):(each(i,function(t){var i=getOwn(s,t);i&&(i.error=e,i.events.error&&(r=!0,i.emit("error",e)))}),r||req.onError(e))}function S(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(r.defQueueMap[t]=!0),d.push(e)}),globalDefQueue=[])}function k(e){delete s[e],delete u[e]}function M(){var e,i,n=1e3*a.waitSeconds,c=n&&r.startTime+n<(new Date).getTime(),d=[],f=[],l=!1,h=!0;if(!t){if(t=!0,eachProp(u,function(e){var t=e.map,r=t.id;if(e.enabled&&(t.isDefine||f.push(e),!e.error))if(!e.inited&&c)b(r)?(i=!0,l=!0):(d.push(r),v(r));else if(!e.inited&&e.fetched&&t.isDefine&&(l=!0,!t.prefix))return h=!1}),c&&d.length)return(e=makeError("timeout","Load timeout for modules: "+d,null,d)).contextName=r.contextName,y(e);h&&each(f,function(e){!function e(t,i,r){var n=t.map.id;t.error?t.emit("error",t.error):(i[n]=!0,each(t.depMaps,function(n,o){var a=n.id,u=getOwn(s,a);!u||t.depMatched[o]||r[a]||(getOwn(i,a)?(t.defineDep(o,p[a]),t.check()):e(u,i,r))}),r[n]=!0)}(e,{},{})}),c&&!i||!l||!isBrowser&&!isWebWorker||o||(o=setTimeout(function(){o=0,M()},50)),t=!1}}function O(e){hasProp(p,e[0])||E(q(e[0],null,!0)).init(e[1],e[2],null,{enabled:!0})}function j(e,t,i,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(i,t,!1)}function P(e){var t=e.currentTarget||e.srcElement;return j(t,r.onScriptLoad,"load","onreadystatechange"),j(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function R(){var e;for(S();d.length;){if(null===(e=d.shift())[0])return y(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));O(e)}r.defQueueMap={}}return n={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?p[e.map.id]=e.exports:e.exports=p[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(a.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(i=function(e){this.events=getOwn(c,e.id)||{},this.map=e,this.shim=getOwn(a.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,i,r){r=r||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;f[e]||(f[e]=!0,r.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,i=this.map.id,n=this.depExports,o=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=r.execCb(i,a,n,o)}catch(t){e=t}else o=r.execCb(i,a,n,o);if(this.map.isDefine&&void 0===o&&((t=this.module)?o=t.exports:this.usingExports&&(o=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",y(this.error=e)}else o=a;if(this.exports=o,this.map.isDefine&&!this.ignore&&(p[i]=o,req.onResourceLoad)){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)}),req.onResourceLoad(r,this.map,s)}k(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(r.defQueueMap,i)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=q(e.prefix);this.depMaps.push(i),w(i,"defined",bind(this,function(i){var n,o,u,c=getOwn(l,this.map.id),d=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,f=r.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(d=i.normalize(d,function(e){return g(e,p,!0)})||""),w(o=q(e.prefix+"!"+d,this.map.parentMap),"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((u=getOwn(s,o.id))&&(this.depMaps.push(o),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):c?(this.map.url=r.nameToUrl(c),void this.load()):((n=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(s,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&k(e.map.id)}),y(e)}),n.fromText=bind(this,function(i,o){var s=e.name,u=q(s),c=useInteractive;o&&(i=o),c&&(useInteractive=!1),E(u),hasProp(a.config,t)&&(a.config[s]=a.config[t]);try{req.exec(i)}catch(e){return y(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}c&&(useInteractive=!0),this.depMaps.push(u),r.completeLoad(s),f([s],n)}),void i.load(e.name,f,n,a))})),r.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){u[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,o,a;if("string"==typeof e){if(e=q(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,a=getOwn(n,e.id))return void(this.depExports[t]=a(this));this.depCount+=1,w(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?w(e,"error",bind(this,this.errback)):this.events.error&&w(e,"error",bind(this,function(e){this.emit("error",e)}))}i=e.id,o=s[i],hasProp(n,i)||!o||o.enabled||r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(s,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(r={config:a,contextName:e,registry:s,defined:p,urlFetched:f,defQueue:d,defQueueMap:{},Module:i,makeModuleMap:q,nextTick:req.nextTick,onError:y,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,i){return(-1===i.indexOf("?")?"?":"&")+t}}var i=a.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(a[t]||(a[t]={}),mixin(a[t],e,!0,!0)):a[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(l[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=r.makeShimExports(e)),i[t]=e}),a.shim=i),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(a.paths[t]=e.location),a.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(s,function(e,t){e.inited||e.map.unnormalized||(e.map=q(t,null,!0))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}},makeRequire:function(t,i){function o(a,u,c){var d,f;if(i.enableBuildCallback&&u&&isFunction(u)&&(u.__requireJsBuild=!0),"string"==typeof a){if(isFunction(u))return y(makeError("requireargs","Invalid require call"),c);if(t&&hasProp(n,a))return n[a](s[t.id]);if(req.get)return req.get(r,a,t,o);if(d=q(a,t,!1,!0).id,!hasProp(p,d))if(isWebWorker)(f=E(q(null,t))).init([d],function(){},function(){},{enabled:!0});else if(r.completeLoad(d),!p[d])return y(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")));return p[d]}return R(),r.nextTick(function(){R(),(f=E(q(null,t))).skipMap=i.skipMap,f.init(a,u,c,{enabled:!0}),M()}),o}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var i,n=e.lastIndexOf("."),o=e.split("/")[0];return-1!==n&&(!("."===o||".."===o)||n>1)&&(i=e.substring(n,e.length),e=e.substring(0,n)),r.nameToUrl(g(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(p,q(e,t,!1,!0).id)},specified:function(e){return e=q(e,t,!1,!0).id,hasProp(p,e)||hasProp(s,e)}}),t||(o.undef=function(e){S();var i=q(e,t,!0),n=getOwn(s,e);n.undefed=!0,v(e),delete p[e],delete f[i.url],delete c[e],eachReverse(d,function(t,i){t[0]===e&&d.splice(i,1)}),delete r.defQueueMap[e],n&&(n.events.defined&&(c[e]=n.events),k(e))}),o},enable:function(e){getOwn(s,e.id)&&E(e).enable()},completeLoad:function(e){var t,i,n,o=getOwn(a.shim,e)||{},u=o.exports;for(S();d.length;){if(null===(i=d.shift())[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);O(i)}if(r.defQueueMap={},n=getOwn(s,e),!t&&!hasProp(p,e)&&n&&!n.inited){if(!(!a.enforceDefine||u&&getGlobal(u)))return b(e)?void 0:y(makeError("nodefine","No define call for "+e,null,[e]));O([e,o.deps||[],o.exportsFn])}M()},nameToUrl:function(e,t,i){var n,o,s,u,c,d,p=getOwn(a.pkgs,e);if(p&&(e=p),d=getOwn(l,e))return r.nameToUrl(d,t,i);if(req.jsExtRegExp.test(e))u=e+(t||"");else{for(n=a.paths,s=(o=e.split("/")).length;s>0;s-=1)if(c=getOwn(n,o.slice(0,s).join("/"))){isArray(c)&&(c=c[0]),o.splice(0,s,c);break}u=o.join("/"),u=("/"===(u+=t||(/^data\:|^blob\:|\?/.test(u)||i?"":".js")).charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":a.baseUrl)+u}return a.urlArgs&&!/^blob\:/.test(u)?u+a.urlArgs(e,u):u},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,i,r){return t.apply(r,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=P(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=P(e);if(!b(t.id)){var i=[];return eachProp(s,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return i.push(r),!0})}),y(makeError("scripterror",'Script error for "'+t.id+(i.length?'", needed by: '+i.join(", "):'"'),e,[t.id]))}}}).require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}}(this);
$KW.Form=function(){var e={initialize:function(){kony.events.addEvent("onorientationchange","Form",this.orientationHandler)},initializeView:function(n,i){for(var t=[$KW.Label,$KW.Calendar,$KW.HStrip,$KW.Segment,$KW.ScrollBox,$KW.TabPane,$KW.Line,$KW.Switch,$KW.TextField,$KW.DataGrid,$KW.Media,$KW.MenuContainer,$KW.ComboBox,$KW.Slider,$KW.Map,$KW.FlexContainer,$KW.FlexScrollContainer,$KW.Browser,$KW.CollectionView,$KW.ListBox],o=0;o<t.length;o++)t[o]&&t[o].initializeView&&t[o].initializeView(n);i&&e.resizeForm(n)},updateView:function(e,n,i,t){switch(n){case"title":document.title=i||$KG.apptitle||$KG.appid,e.i18n_title="";break;case"padding":var o=document.getElementById(e.id);$KG.needScroller||o&&(o.style[n]=$KU.joinArray(i,"% ")+"%")}},orientationHandler:function(n,i){var t=$KG.allforms[n],o=$KU.returnEventReference(t.preorientationchange);if(o&&$KU.executeWidgetEventHandler(t,o,i),t){spaAPM&&spaAPM.sendMsg(t,"onorientationchange",{orientation:i});var r=$KU.returnEventReference(t.onorientationchange);r&&$KU.executeWidgetEventHandler(t,r,i),e.setFormDimensions(t),e.initializeFlexContainers(t)}},setFormDimensions:function(e){if($KW.FlexUtils.isFlexContainer(e)){var n=document.getElementById(e.id),i=document.getElementById(e.id+"_scroller");n&&i&&(n.style.height=i.offsetHeight+"px")}},generateAppmenu:function(e){var n=document.getElementById("appmenumore_container");return n&&n.parentNode.removeChild(n),$KG.__appmenu&&e.needappmenu?$KW.Appmenu&&$KW.Appmenu.render($KG.__appmenu):""},initializeTemplates:function(e){$KW.touch.computeSnapWidths(e,"Segment"),this.initializeTouchWidgets(e)},initializeTouchWidgets:function(e,n){$KW.Scroller.initializeScrollBoxes(e),$KW.Scroller.initializePageViews(e),this.initializeView(e,n)},initializeFlexContainers:function(e){if($KG.isUILayedOut=!1,e){var n=$KG.needScroller?e.id+"_container":e.id;$KW.touch.computeSnapWidths(n,"Segment"),this.initializeFlexContainersInTemplate(e),$KG[e.id+"_scroller"]&&$KW.Scroller.setHeight(e.id),this.initializeAllFlexContainers(e),$KG.isUILayedOut=!0}},initializeFlexContainersInTemplate:function(e){e.headers&&e.headers.length>0&&this.initializeBox(e.headers[0],$KG.needScroller?e.id+"_header":"header_container"),e.footers&&e.footers.length>0&&this.initializeBox(e.footers[0],$KG.needScroller?e.id+"_footer":"footer_container")},initializeBox:function(e,n){var i;"FlexContainer"==e.wType?((i=document.querySelector("#"+n+' div[kwidgettype="FlexContainer"]'))&&(i=i.parentNode),$KW.FlexContainer.forceLayout(e,i)):this.initializeFlexContainersInBox(e)},initializeAllFlexContainers:function(n){if($KW.FlexUtils.isFlexContainer(n))return n.forceLayout(),void e.initializeAllFlexScrollContainers(n);this.initializeFlexContainersInBox(n)},initializeAllFlexScrollContainers:function(e){var n,i,t,o,r;if(i=e.id,t=document.querySelectorAll("#"+i+' div[kwidgettype="FlexScrollContainer"]'))for(o=0;o<t.length;o++)r=t[o],n=$KU.getModelByNode(r),$KW.FlexContainer.forceLayout(n)},initializeFlexContainersInBox:function(e){for(var n=e.ownchildrenref,i=e.wType,t=0;t<n.length;t++){var o=n[t],r=o.wType;if("TabPane"!=i||$KW.TabPane.isActiveTab(e,o)||e.viewtype==constants.TABPANE_VIEW_TYPE_PAGEVIEW){switch(r){case"FlexContainer":case"FlexScrollContainer":o.forceLayout();break;case"Segment":var a=$KU.getNodeByModel(o);a&&(o.layoutConfig.self&&($KU.needOptimization=!1),o.isvisible&&$KW.FlexContainer.adjustFlexContainers(o,a),o.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&$KW.touch.computeWidths(a,o),$KU.needOptimization=!0)}"HBox"!=o.wType&&"VBox"!=o.wType&&"TabPane"!=o.wType&&"ScrollBox"!=o.wType||!o.ownchildrenref||this.initializeFlexContainersInBox(o)}}},updateContaineri18nProperties:function(e){if(e.headers&&e.headers.length>0)for(var n in e.headers)$KI.i18n.translateFormModel(e.headers[n]);if(e.footers&&e.footers.length>0)for(var i in e.footers)$KI.i18n.translateFormModel(e.footers[i])},destroyTouchWidgets:function(e,n){n||$KW.Scroller.destroyFormScroller(e),$KW.Scroller.destroyScrollBoxes(e),$KW.Scroller.destroyCollectionViewScroller(e),$KW.Scroller.destroyImageStripStripViews(e),$KW.Scroller.destroyPageViews(e)},formRendered:function(n){kony.events.browserback.updateURLWithLocation(n),e.enlistSystemTimerActions(),$KU.isWindowsPhone&&$KU.isIE9?window.scrollTo(0,0):$KG.nativeScroll&&window.scrollTo(0,1)},resizeForm:function(e,n){var i=$KG.allforms[e];if($KG.nativeScroll){var t=$KU.isWindowsPhone&&"7.5"==$KU.getPlatform().version?$KW.Utils.getViewPortHeight()+10:$KW.Utils.getViewPortHeight();document.body.style.minHeight=t+"px"}if(kony.appinit.isTablet&&kony.appinit.isAndroid&&(kony.constants.APPLICATION_MODE_HYBRID||kony.constants.APPLICATION_MODE_WRAPPER)&&(document.body.style.minHeight=screen.height/window.devicePixelRatio-window.screenTop+"px"),i.resizeForm&&$KG.nativeScroll){var o=window.innerHeight||document.body.clientHeight,r=document.getElementById(e),a=__MainContainer.clientHeight,l=r.clientHeight;if(n?(a=__MainContainer.__clientHeight,l=r.__clientHeight):(a=__MainContainer.__clientHeight=__MainContainer.clientHeight,l=r.__clientHeight=r.clientHeight),a<o)l+=o-a,r.style.minHeight=l+"px",$KU.isWindowsPhone&&$KU.isIE9?setTimeout(function(){window.scrollTo(0,0)},10):setTimeout(function(){window.scrollTo(0,1)},10)}},enlistSystemTimerActions:function(){if($KU.hashChange)kony.events.addEventListener(window,"hashchange",kony.events.browserback.handleBrowserBackEvent);else{var e=new kony.system.timers.TimerAction(kony.events.browserback.handleBrowserBackEvent,300);kony.system.timers.registerTimerAction(e)}},delistSystemTimerActions:function(){kony.system.timers.clearTimerAction()},addChild:function(e,n,i){if($KG.__currentForm&&e.id==$KG.__currentForm.id||"Popup"==e.wType){var t=$KU.getElementById(e.id);if(!t)return;$KU.updatei18nProperties(n);var o="";n.length>0&&(o=this.renderChildren(e,n));var r=$KU.getScreenLevelWidgetModel(e);if(!r||null!=r.containerheight&&r.containerheight>=0){var a=document.createElement("div");if(a.innerHTML=o,i)t.innerHTML=o;else for(;a.children.length>0;)t.appendChild(a.children[0])}else t.innerHTML=o;$KU.layoutNewWidgets(e,n),$KW.Utils.initializeNewWidgets(n)}},addChildAt:function(n,i,t){if($KG.__currentForm&&n.id==$KG.__currentForm.id||"Popup"==n.wType){var o=$KU.getElementById(n.id);if(!o)return;$KU.updatei18nProperties(d);var r=$KU.getScreenLevelWidgetModel(n);if($KU.getNodeByModel(r))return;var a="";a=$KW.FlexUtils.isFlexContainer(n)?$KW.FlexContainer.renderChildren(n,[n[i.id]],{}):e.generateWidget(n,n[i.id]);var l=document.createElement("div");l.innerHTML=a;var d=[i];if(r)return o.innerHTML=a,$KW.Scroller.destroyFormScroller(o.id),void $KW.Utils.initializeNewWidgets(d);o.insertBefore(l.childNodes[0],o.children[t]||null),$KU.layoutNewWidgets(n,d),$KW.Utils.initializeNewWidgets(d)}},DOMremove:function(e,n){var i;$KG.__currentForm&&(e.id==$KG.__currentForm.id||"Popup"==e.wType)&&n&&($KW.FlexUtils.isFlexContainer(e)?(i=$KW.Utils.getWidgetNode(n))&&(i=i.parentNode).parentNode.removeChild(i):(i=document.getElementById(e.id+"_"+n.id))&&(i=$KU.returnParentChildBloatAdjustedNode(n,i)).parentNode.removeChild(i))},DOMremoveAt:function(n,i){e.DOMremove(n,n.ownchildrenref[i])},DOMremoveAll:function(e){var n=document.getElementById(e.id);n&&(n.innerHTML="")},add:function(){var e=arguments[0];if("add"in e){var n=[].slice.call(arguments,1);e.add(n)}},addAt:function(e,n,i){null!=n&&e.addAt&&e.addAt(n,i)},remove:function(e,n){e.remove&&e.remove(n)},removeAt:function(e,n){if(e.removeAt)return e.removeAt(n)},widgets:function(e){return e.widgets&&e.widgets()},scrollToBeginning:function(e){var n=$KG[$KG.__currentForm.id+"_scroller"],i=$KU.isWindowsPhone&&$KU.isIE9?0:1;n?n.scrollTo(0,n.minScrollY,500):$KW.Utils.scrollToElement(null,500,null,i)},scrollToEnd:function(e){var n=$KG[$KG.__currentForm.id+"_scroller"];n?n.scrollTo(0,n.maxScrollY,500):$KW.Utils.scrollToElement(null,500,null,document.body.scrollHeight-($KU.isWindowsPhone&&$KU.isIE9?0:window.innerHeight||document.body.clientHeight))},scrollToWidget:function(e,n){$KW.APIUtils.setfocus(n)},destroy:function(e){e&&"destroy"in e&&e.destroy()},getCurrentForm:function(){return $KU.logExecuting("kony.application.getCurrentForm"),$KU.logExecutingWithParams("kony.application.getCurrentForm"),$KU.logExecutingFinished("kony.application.getCurrentForm"),$KG.__currentForm},getPreviousForm:function(){return $KU.logExecuting("kony.application.getPreviousForm"),$KU.logExecutingWithParams("kony.application.getPreviousForm"),$KU.logExecutingFinished("kony.application.getPreviousForm"),$KG.__previousForm},handleshow:function(e){"show"in e&&e.show()},generateWidget:function(e,n){var i=new $KW.WidgetGenerationContext(e.id),t=n.wType,o="";"Line"==t||"HBox"==t||"ScrollBox"==t||"TabPane"==t||"FlexContainer"==t||"FlexScrollContainer"==t?(i.setTopLevelBox(!0),o+=$KW[t]&&$KW[t].render(n,i)):(o+="<div class = 'ktable kwt100' style='table-layout:fixed;'>",o+="<div class = 'krow kwt100' >","Image"==t&&(n.containerweight=100),o+="<div class = 'kcell kwt100 "+$KW.skins.getWidgetAlignmentSkin(n)+"' "+("Popup"==e.wType?style="'"+$KW.skins.getChildMarginAsPaddingSkin(n)+"'":"")+">",o+=$KW[t]&&$KW[t].render(n,i),o+="</div></div></div>");return o},render:function(e){var n=e.id.trim();this.createFormSkeleton(e);var i,t,o,r,a="Form"==e.wType;$KG.needScroller?(i=$KU.getElementById(n+"_header"),o=$KU.getElementById(n+"_footer")):(i=a?document.querySelector("#__MainContainer>#header_container"):document.querySelectorAll("#"+e.id+"_group #header_container")[0],o=a?document.querySelector("#__MainContainer>#footer_container"):document.querySelectorAll("#"+e.id+"_group #footer_container")[0]),t=$KU.getElementById(n),a&&(r=$KU.getElementById("appmenu_container"));var l=this.generateHeader(e,"header");if($KG.__previousForm){var d=$KG.__previousForm.id+"-hint",s=document.getElementById(d);s&&document.body.removeChild(s)}var c=this.generateForm(e);t.innerHTML=c;var m=this.generateHeader(e,"footer");if(o.innerHTML=m,a){var u=this.generateAppmenu(e);r.innerHTML=u;var p=$KU.getElementById("konyappmenudiv");p&&!$KG.nativeScroll&&$KU.isIOS7&&(p.style.position="fixed")}$KW.Map&&0==$KW.Map.isMainContaineraVailable&&$KW.Map.loadMapScripts(),i.innerHTML=l,l&&e.header&&this.initializeTemplates(e.header),m&&e.footer&&this.initializeTemplates(e.footer),a&&(document.title=$KI.i18n&&$KI.i18n.getI18nTitle(e)||$KG.apptitle||$KG.appid,!$KU.isWindowsPhone&&!$KU.isWindowsTablet||$KG.nativeScroll?document.documentElement.style.msTouchAction="auto":$KU.isEdge?document.documentElement.style.touchAction="none":document.documentElement.style.msTouchAction="none"),$KU.deduceTopLevelFlexModal(e)},setMainContainerStyle:function(e){if($KG.nativeScroll){var n=$KU.getElementById("__MainContainer");if(!n)return;$KW.FlexUtils.isFlexContainer(e)?(n.style.position="absolute",n.style.width="100%",n.style.height="100%"):(n.style.position="static",n.style.height="auto")}},createFormSkeleton:function(e){e.id;var n=document.getElementById("__MainContainer"),i="Form"==e.wType,t="",o="",r="";(o=$KG.needScroller?"absoluteContainer":!i&&$KG.nativeScroll?"":e.skin||"",o+=" hidden "+(i?"":"absoluteContainer popupcontainer popupmain"),i)||(t+="width:"+$KW.skins.getMarPadAdjustedContainerWeightSkin(e).substr(3)+"% !important;");if($KG.needScroller||!i){if(r+="<div id='"+e.id+"_container' class='"+o+"'"+(i||e.ismodal?"":"style='"+t+"'")+">",!i)r+="<div id='__popuplayer' style='opacity:"+(1-e.transparencybehindthepopup/100)+";"+(1==e.ismodal&&e.popupbgcolor?"background-color:"+e.popupbgcolor:"")+"'"+(0!=e.ismodal||e.ptran||e.ptranOut||!e.context?" class='absoluteContainer popuplayer'":"")+"></div>",e.ismodal||(t="z-index:8;width:100%;",e.containerheight&&(t+="height:100%")),o=$KG.nativeScroll&&e.skin||"",r+="<div id='"+e.id+"_group' class='"+o+"' style='"+t+";position: absolute;' kformname='"+e.id+"' kwidgettype='Popup'></div>";r+="</div>";var a=document.createElement("div");a.innerHTML=r,n.appendChild(a.childNodes[0])}!e.dockableheader&&$KG.needScroller&&this.generateScroller(e),this.generateHeaderWrapper(e,"header"),1==e.dockableheader&&$KG.needScroller&&this.generateScroller(e),this.generateFormWrapper(e),this.generateHeaderWrapper(e,"footer"),i&&this.generateAppmenuWrapper(e)},generateHeaderWrapper:function(e,n){var i="Form"==e.wType;if(i&&($KG.nativeScroll||$KG.useMixedScroll)){var t=i?document.querySelector("#__MainContainer>#"+n+"_container"):document.querySelector(".popupcontainer #"+n+"_container");t&&t.parentNode.removeChild(t)}var o=e.id,r=!0;("header"==n&&!e.dockableheader||"footer"==n&&!e.dockablefooter)&&(r=!1);var a=n+"_scroller";$KG.nativeScroll||!r?a+=" relativePos":a+=" absolutePos";var l,d=document.createElement("div");d.setAttribute("id",$KG.needScroller?o+"_"+n:n+"_container"),d.setAttribute("kformname",o),d.className=a,l=i?$KG.needScroller?document.getElementById(r?o+"_container":o+"_scrollee"):document.getElementById(o+"_scrollee"):document.getElementById(o+"_group"),$KG.nativeScroll&&i&&(l=document.getElementById("__MainContainer")),l.appendChild(d)},generateScroller:function(e){var n="",i="",t=e.id,o=e.skin||"",r="Form"==e.wType;n+="<div  id='"+t+"_wrapper'>",!$KU.isAndroid||$KG.appmode!=constants.APPLICATION_MODE_HYBRID&&$KG.appmode!=constants.APPLICATION_MODE_WRAPPER||(i="style='overflow:visible;'"),n+="<div  id='"+t+"_scroller' class='form_scroller "+o+"' kwidgettype='KFormScroller' name='touchcontainer_KScroller' widgetType='form' swipeDirection ='"+(e.layouttype==kony.flex.VBOX_LAYOUT?"vertical":$KW.stringifyScrolldirection[e.scrolldirection])+"'"+i+(r?"":" kformname='"+t+"'")+">",n+="<div id='"+t+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee' style='"+(e.layouttype!=kony.flex.VBOX_LAYOUT?"height:100%":"")+"'>",n+="</div></div>",n+="</div>";var a=document.createElement("div");a.innerHTML=n,(r?document.getElementById(t+"_container"):document.getElementById(t+"_group")).appendChild(a.childNodes[0])},generateFormWrapper:function(e){var n="",i=e.id,t="Form"==e.wType,o=e.layouttype!=kony.flex.VBOX_LAYOUT?";position:relative;height:100%;":"",r="style='border:none;table-layout:fixed;"+$KW.skins.getPaddingSkin(e)+o+";'",a="";$KG.nativeScroll&&(a="form_nativeScroller ",$KU.isWindowsPhone&&$KU.isIE9&&(a+=" hidden ")),n+=t?"<form id='"+i+"' action='javascript:;' "+("class='kwt100 "+a+"'")+" "+r+"></form>":"<form kwidgettype='Popup' id='"+i+"' action='javascript:;' class='kwt100' style='z-index:9;"+$KW.skins.getPaddingSkin(e)+(e.context&&e.context.dockable?"overflow-x:hidden;overflow-y:auto;xposition:relative;":"xmax-height:80%;xoverflow:auto;xposition: absolute;")+(e.skin?"":"background-color:white")+o+"'>";var l=document.createElement("div");l.innerHTML=n,$KG.nativeScroll?formContainer=t?document.getElementById("__MainContainer"):document.getElementById(i+"_group"):formContainer=document.getElementById(i+"_scrollee"),formContainer.appendChild(l.childNodes[0])},generateAppmenuWrapper:function(e){var n=document.getElementById("appmenu_container");n&&n.parentNode.removeChild(n);var i=document.getElementById("appmenumore_container");i&&i.parentNode.removeChild(i);var t=document.createElement("div");t.id="appmenu_container",(!e.dockableappmenu&&$KG.needScroller?document.getElementById(e.id+"_scrollee"):document.getElementById("__MainContainer")).appendChild(t)},generateForm:function(e){var n=e.widgets();return n.length>0?this.renderChildren(e,n):""},renderChildren:function(n,i){var t="",o=$KU.getScreenLevelWidgetModel(n);if(o&&(null==o.containerheight||!(o.containerheight>=0)))return e.generateWidget(n,o);if(n.layouttype==kony.flex.VBOX_LAYOUT)for(var r=0;r<i.length;r++){var a=i[r];t+=e.generateWidget(n,a)}else t+=$KW.FlexContainer.renderChildren(n,i,{});return t},generateHeader:function(e,n){var i=e[n];return i?this.generateTemplate(i,n):""},generateTemplate:function(e,n,i){var t,o=kony.model.getWidgetModel(e)||e,r="";i=i||new $KW.WidgetGenerationContext(o.id);if(o.children){if(i&&i.template_generator&&"object"==typeof i.template_generator)return $KW[i.template_generator.wType].render(o,i);for(var a=IndexJL;a<o.children.length;a++)t=o[o.children[a]],i.setTopLevelBox(!0),r+=$KW[t.wType].render(t,i)}return r},checkBackwardCompatibility:function(e){var n=e.wType;(void 0==e.dockableheader&&e.header||$KG.nativeScroll)&&(e.dockableheader=!0),(void 0==e.dockablefooter&&e.footer||$KG.nativeScroll)&&(e.dockablefooter=!0),n&&(void 0==e.dockableappmenu&&e.needappmenu||$KG.nativeScroll)&&(e.dockableappmenu=!0),($KG.useMixedScroll&&void 0==e.renderinnative||$KG.nativeScroll)&&(e.renderinnative=!0)},show:function(n){$KG.localization&&!$KG.i18nInitialized?$KI.i18n.setdefaultlocale($KG.defaultlocale,null,null,e.extendShow(n)):e.extendShow(n)()},extendShow:function(n){return function(){if(u=n,$KG.appmode!=constants.APPLICATION_MODE_HYBRID||!(internal&&u.type==constants.FORM_TYPE_NATIVE?(kony.print("checkformmode: nativeformid : "+u.id),internal.shownativeform(u.id),1):internal&&u.type==constants.FORM_TYPE_DYNAMIC?(kony.print("checkformmode: dynamicformid : "+u.id),internal.showdynamicform(u.id),1):u.type==constants.FORM_TYPE_STATIC?(kony.print("------shell status: "+internal.isshellinbackground()),internal&&internal.isshellinbackground&&internal.isshellinbackground()&&(kony.print("checkformmode: shellinbackground for form : "+u.id),u.callspaform=!0,u.isfromBrowserBack&&(u.callspaform=!1)),kony.print("checkformmode: shellinforeground for form : "+u.id),0):(kony.print("checkformmode: Invalid Form Type"),1))){if(e.checkBackwardCompatibility(n),$KU.createa11yDynamicElement(),n.enabledforidletimeout&&$KG.__idletimeout&&$KG.__idletimeout.expired&&$KG.__idletimeout.enabled)return $KG.__idletimeout.cb&&$KG.__idletimeout.cb(n),$KG.__idletimeout.cb=null,$KG.__idletimeout.expired=!1,void($KG.__idletimeout.enabled=!1);$KG.__currentForm&&($KW.Popup&&$KW.Popup.dismiss(null,!0),$KW.unLoadWidget());var i=$KG.__currentForm;if(i&&i.id!=n.id&&(kony.events.executeActionOnContainer(i,"onhide",!1),spaAPM&&spaAPM.sendMsg(i,"onhide")),i&&i.onhide&&i.id!=n.id){var t=$KU.returnEventReference(i.onhide);t&&$KU.executeWidgetEventHandler(i,t)}$KG.__currentForm&&($KG.__previousForm=$KG.__currentForm);var o=!1;kony.isformRendered=!1,$KG.__currentForm=n;var r=$KG.__previousForm;if(r&&r.id==n.id&&(kony.isformRendered=!0,o=!0),n.preshow){var a=$KU.returnEventReference(n.preshow);$KU.executeWidgetEventHandler(n,a)}if(kony.events.executeActionOnContainer(n,"preshow",!0),o){c=$KG.needScroller?n.id+"_container":n.id;if($KW.Scroller.destroyFormScroller(c),$KW.Scroller.initializeFormScroller(c),$KU.isWindowsPhone&&$KU.isIE9?window.scrollTo(0,0):$KG.nativeScroll&&window.scrollTo(0,1),kony.events.executeActionOnContainer(n,"postshow",!1),spaAPM&&spaAPM.sendMsg(n,"show"),n.postshow){var l=$KU.returnEventReference(n.postshow);l&&$KU.executeWidgetEventHandler(n,l)}if($KW.FlexUtils.isFlexContainer(n)&&n.forceLayout(),spaAPM&&"undefined"!=typeof appStartTime){var d=(new Date).getTime()-appStartTime;spaAPM.sendMsg(n,"AppLoad",{loaddur:d})}}else{if($KG.localization&&($KI.i18n.translateFormModel(n),e.updateContaineri18nProperties(n)),r){if(r.retainscrollposition){var s=$KG[r.id+"_scroller"];r.__y=s?s.y:document.body.scrollTop||document.documentElement.scrollTop}e.destroyTouchWidgets($KG.needScroller?r.id+"_container":r.id)}$KG.useMixedScroll&&(!n.renderinnative||(n.dockableheader||n.dockablefooter||n.needappmenu&&n.dockableappmenu)&&(n.header||n.footer||$KG.__appmenu&&n.needappmenu)?($KG.needScroller=!0,$KG.nativeScroll=!1):($KG.needScroller=!1,$KG.nativeScroll=!0));var c=$KG.needScroller?n.id+"_container":n.id;e.setMainContainerStyle(n),e.render(n),e.formRendered(n.id),$KW.Scroller.initializeFormScroller(c),e.initializeFlexContainers(n),e.initializeTouchWidgets(n.id,!0),e.applyTransition($KG.__previousForm,n);var m=document.getElementById("splashDiv");m&&m.parentElement.removeChild(m),kony.system.activity.hasActivity()||($KW.skins.removeBlockUISkin(),$KW.unLoadWidget()),appConfig.testAutomation&&window.jasmineOnload&&window.jasmineOnload(),0==kony.constants.APPSTATE&&(kony.constants.APPSTATE=1,kony.events.registerDocumentEvents()),kony.isformRendered=!0}e.accessibilityTitleCall(n),$KW.TPW.renderWidget(n.id),n.callspaform&&(kony.print("@@@@ invoking internal.showspaform : "+n.id),internal.showspaform(n.id),n.isfromBrowserBack=!1,n.callspaform=!1),n.initialized=!0}var u}},accessibilityTitleCall:function(e,n){var i=e.accessibilityConfig,t=i?i.a11yLabel:"";t&&$KU.changea11yDynamicElement(t)},applyTransition:function(n,i){var t,o,r,a,l,d;if(n&&(t=$KU.getElementById(n.id+"_container")||$KU.getElementById(n.id)),o=$KU.getElementById(i.id+"_container")||$KU.getElementById(i.id),r=n&&n.outtransitionconfig?n.outtransitionconfig.formTransition||n.outtransitionconfig.formtransition:"",a=i.intransitionconfig?i.intransitionconfig.formTransition||i.intransitionconfig.formtransition:"",!$KG.disableTransition&&(a&&"none"!==a.toLowerCase()||r&&"none"!==r.toLowerCase())){if(d=a&&"none"!=a.toLowerCase()?$KW.formTransitionsMatrix[a]:$KW.formTransitionsMatrix[r],l=r&&"none"!=r.toLowerCase()?$KW.formEndTransitionsMatrix[r]:$KW.formEndTransitionsMatrix[a],t&&(t.style.zIndex=1),o){o.style.zIndex=2;var s=kony.appinit.isFirefox||kony.appinit.isIE11?"animationend":$KU.animationEnd;i.__ev=function(n,i,t,o,r){return function(a){a||(a=window.event),t.__ev="",a.type==r&&(kony.events.removeEventListener(i,a.type,arguments.callee),this.style[$KU.animationName]=""),e.endTransition(n,i,t,o)}}(t,o,i,n,s),kony.events.addEventListener(o,s,i.__ev),t&&(t.style[$KU.animationDuration]="0.5s",t.style[$KU.animationName]=l),o.style[$KU.animationDuration]="0.5s",o.style[$KU.animationName]=d,$KU.removeClassName(o,"hidden"),o.style.display=""}}else $KU.removeClassName(o,"hidden"),o.style.display="",this.endTransition(t,o,i,n)},endTransition:function(e,n,i,t){e&&(t.__ev&&t.__ev(),e.style.display="none",clearInterval(t.scrollerTimer),$KU.getElementById("__MainContainer").removeChild(e));$KG.nativeScroll&&(document.body.className=i.skin||"");var o=document.getElementsByName("map_canvas")[0],r=$KG.mapScriptLoaded;if(o&&r&&$KW.Map.setUpInteractiveCanvasMap(),i.retainscrollposition){var a=$KG[i.id+"_scroller"];a?a.scrollTo(0,i.__y||1):$KU.isWindowsPhone&&$KU.isIE9?window.scrollTo(0,i.__y||0):window.scrollTo(0,i.__y||1)}else $KG.nativeScroll&&window.scrollTo(0,0);if($KW.Utils.initializeFormGestures(i),kony.events.executeActionOnContainer(i,"postshow",!1),spaAPM&&spaAPM.sendMsg(i,"show"),i.postshow){var l=$KU.returnEventReference(i.postshow);$KU.executeWidgetEventHandler(i,l)}if($KW.FlexUtils.isFlexContainer(i)&&i.forceLayout(),spaAPM&&"undefined"!=typeof appStartTime){var d=(new Date).getTime()-appStartTime;spaAPM.sendMsg(i,"AppLoad",{loaddur:d})}1==$KG.appbehaviors.recording&&(this.parseWidgetDimensions(i,null),this.addDomChangeEvents())},parseWidgetDimensions:function(e,n,i){if(i=i||this.getWidgetPosition(e),this.getPositionValues(i,e,n),!e.children||0==e.children.length)return i;i.Children=[];for(var t=0;t<e.children.length;t++){kony.print("i is :"+t);var o=e[e.children[t]],r={};i.Children.push(r),this.parseWidgetDimensions(o,e,r)}return i},getWidgetPosition:function(e){var n=null;if(e.parent){if((n=this.getWidgetPosition(e.parent))&&n.Children){for(var i=0;i<n.Children.length;i++)if(n.Children[i].ID===e.id)return n.Children[i]}else if(n.ID&&!n.Type)return this.parseWidgetDimensions(e.parent,null,n),n;return null}return this.getAllWidgets(e.id)},getAllWidgets:function(e){for(var n in $KG.widgetPositions||($KG.widgetPositions={}),$KG.widgetPositions.AllWidgets||($KG.widgetPositions.AllWidgets=new Array,$KG.widgetPositions.AppName=kony.globals.appid,$KG.widgetPositions.ScreenHeight=$KU.getWindowHeight(),$KG.widgetPositions.ScreenWidth=$KU.getWindowWidth()),$KG.widgetPositions.AllWidgets){if((i=$KG.widgetPositions.AllWidgets[n]).ID===e)return i}var i={ID:e};return $KG.widgetPositions.AllWidgets.push(i),i},getPositionValues:function(e,n,i){var t=e||{};t.Type=n.name,t.ID=n.id,t.Margin=n.margin,t.Padding=n.padding;var o=$KU.getNodeByModel(n);if(null==o)return t;t.Width=o.offsetWidth,t.Height=o.offsetHeight;var r=$KW.Utils.getPosition(o);if(t.LeftFromScreen=r.left,t.TopFromScreen=r.top,t.VisibilityChanged=!1,i){var a=$KU.getNodeByModel(i);if(!a)return t;var l=$KW.Utils.getPosition(a);t.Left=r.left-l.left,t.Top=r.top-l.top}else t.Top=0,t.Left=0;return t.VaryingScreenLefts||(t.VaryingHeights=[t.Height,t.Height],t.VaryingLefts=[t.Left,t.Left],t.VaryingScreenLefts=[t.LeftFromScreen,t.LeftFromScreen],t.VaryingScreenTops=[t.TopFromScreen,t.TopFromScreen],t.VaryingTops=[t.Top,t.Top],t.VaryingWidths=[t.Width,t.Width]),t.VaryingHeights[0]=Math.min(t.VaryingHeights[0],t.Height),t.VaryingHeights[1]=Math.max(t.VaryingHeights[0],t.Height),t.VaryingLefts[0]=Math.min(t.VaryingLefts[0],t.Left),t.VaryingLefts[1]=Math.max(t.VaryingLefts[0],t.Left),t.VaryingScreenLefts[0]=Math.min(t.VaryingScreenLefts[0],t.LeftFromScreen),t.VaryingScreenLefts[1]=Math.max(t.VaryingScreenLefts[0],t.LeftFromScreen),t.VaryingScreenTops[0]=Math.min(t.VaryingScreenTops[0],t.TopFromScreen),t.VaryingScreenTops[1]=Math.max(t.VaryingScreenTops[0],t.TopFromScreen),t.VaryingTops[0]=Math.min(t.VaryingTops[0],t.Top),t.VaryingTops[1]=Math.max(t.VaryingTops[0],t.Top),t.VaryingWidths[0]=Math.min(t.VaryingWidths[0],t.Width),t.VaryingWidths[1]=Math.max(t.VaryingWidths[0],t.Width),t},addDomChangeEvents:function(){null===domChangeObserver&&(domChangeObserver=new MutationObserver(this.domChangeListener)),domChangeObserver.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},removeDomChangeEvents:function(){null!=domChangeObserver&&domChangeObserver.disconnect()},domChangeListener:function(n){n.forEach(function(n){var i=$KU.getModelByNode(n.target);i&&i.name&&(kony.web.logger("log",n.type+" -- "+i.id),e.parseWidgetDimensions(i,i.parent))})}};return e}();var domChangeObserver=null;
$KW.Appmenu=function(){var e={focusIndex:"",initialize:function(){kony.events.addEvent("click","Appmenu",this.eventHandler)},updateView:function(e,n,a,t,i){},render:function(n,a){for(var t=$KG.__appmenu,i=t.data,d=(t.data.length,!1),r=0,o=IndexJL;o<i.length;o++)i[o][IndexJL+4]&&r++;var p=25;r+IndexJL>4?(d=!0,"kwt20",p=Math.floor(20)):("kwt"+100/r,p=Math.floor(100/r)),p+="%";var l="";if(!a){var s="";if($KU.isTablet||$KU.isMob)s="appmenu_scroller",!1===$KG.__currentForm.dockableappmenu||$KG.nativeScroll?s+=" relativePos":s+=" absolutePos";l+="<div id='konyappmenudiv'  class='"+s+"'>"}l+="<div class='kbasemargin kwt100 ktable' style='table-layout:fixed;' ><div class='kwt100 krow'>",d&&IndexJL;for(var m,u=0,c=e.focusIndex,v=(o=IndexJL,IndexJL-1);o<i.length;o++)if(m=""!==c&&c===o&&t.focusskin?t.focusskin||"":t.skin||"",m=""!==c&&c===o&&t.focusskin?t.focusskin||"":t.skin||"",i[o][IndexJL+4]){v++;var f="",y=i[o][1+IndexJL]||"",g=$KU.getImageURL(i[o][2+IndexJL])||"";if($KG.localization&&-1!=y.toLowerCase().indexOf("i18n.getlocalizedstring")&&(y=$KU.getI18NValue(y)),l+="<div style='width:"+p+";' class='"+m+" middlecenteralign kcell' index='"+o+"'><a id='"+i[o][IndexJL]+"' "+f+" href='#' kwidgettype='Appmenu' event='yes' index='"+o+"' style='text-decoration:none;'><div>",g&&(l+="<img  style='border:none;' src='"+g+"' width='30px' height='30px' align='middle'/>"),l+="</div><div><label class='"+m+"' style='background:inherit; border: none; white-space:pre-wrap;     word-wrap:break-word; '>"+y+"</label></div></a></div>",d&&3==v){u=o+1;break}}if(d){l+="<div id='konyappmenudiv_more' class='"+(m=t.skin||"")+" middlecenteralign  kcell' style='width:"+p+";'><a id='appmenumore' href='#' kwidgettype='Appmenu' event='yes' index='5' style='text-decoration:none;'><div>",l+="<img  style='border:none;' src='"+$KU.getImageURL("appmore.png")+"' width='30px' height='30px' align='middle' kwidgettype='Appmenu'/></div><div><label class='"+m+"' style='background:inherit; border: none;' kwidgettype='Appmenu'>more</label></div></a></div>";var x="<div id='appmenumore_container' class='popupcontainer absoluteContainer' dummy='' style='display: none;z-index: 11; "+($KG.nativeScroll?"position:fixed":"height:auto;top:0px;")+"'><div id='__popuplayer' style='opacity:0;filter:alpha(opacity=0);' class='popuplayer absoluteContainer' dummy=''></div><div id='more' class='frm' style='z-index: 9; position: absolute; padding: 0%; right:0%;bottom:0px; -webkit-animation: 1s;' dummy=''><div id='containerLayer' style='display:table;' class='container'>";for(o=u;o<i.length;o++)if(i[o][IndexJL+4]){f=(f=i[o][IndexJL+3])?"closure='"+f+"'":"";y=i[o][1+IndexJL]||"",g=$KU.getImageURL(i[o][2+IndexJL])||"";$KG.localization&&-1!=y.toLowerCase().indexOf("i18n.getlocalizedstring")&&(y=$KU.getI18NValue(y)),x+="<div class='kwt100 krow "+m+"'><div class='"+m+" middlecenteralign kcell' index ='"+o+"'><a id='"+i[o][IndexJL]+"' "+f+" href='#' kwidgettype='Appmenu' event='yes' index='"+o+"' style='text-decoration: none;'><div style='padding:2px;'>",g&&(x+="<img  style='border:none;' src='"+$KU.getImageURL(i[o][2+IndexJL])+"'  width='30px' height='30px' align='middle' kwidgettype='Appmenu'/>"),x+="<label class='"+m+"' style='background:inherit; border: none; white-space:pre-wrap;     word-wrap:break-word;margin-left:5px;' kwidgettype='Appmenu' index='"+o+"'>"+y+"</label></div></a></div></div>"}x+="</div></div>";var k=document.getElementById("__MainContainer"),I=document.getElementById("appmenumore_container");I&&I.parentElement.removeChild(I);var _=document.createElement("div");_.innerHTML=x,k.appendChild(_.firstChild)}return l+="</div></div></div>"},eventHandler:function(n,a,t){var i,d=$KG.__appmenu,r=d.data,o=$KU.getParentByTagName(a,"a"),p=o.id;if("appmenumore"==p)i=e.showmoreappmenuitems;else{e.hidemoreappmenuitems();var l=o.parentNode.getAttribute("index");i=r[l][3+IndexJL]}if(d.focusskin){if(""!=e.focusIndex){var s=document.querySelectorAll("div."+d.focusskin+", a label."+d.focusskin),m=s.length;if("appmenumore"!=o.id)for(var u=m-1;u>=0;u--)"label"==s[u].tagName.toLowerCase()?s[u].className=d.skin:s[u].className=d.skin+" middlecenteralign kcell"}if(e.focusIndex=l,"appmenumore"!=o.id){o.parentNode.className=d.focusskin+" middlecenteralign kcell";var c=document.querySelectorAll("#"+o.id+"  label");c&&(c[0].className=d.focusskin)}}if("7.5"==$KU.getPlatformVersion("windowsphone")){var v=document.getElementById("appmenumore_container");if(v){var f=document.getElementById("__MainContainer"),y=document.getElementById("konyappmenudiv").offsetHeight,g=f.offsetHeight-y+"px";v.style.height=g}}$KAR&&$KAR.sendRecording(d,"click",{target:a,wType:"appMenu",appmenuid:p,eventType:"uiAction"});var x=$KU.returnEventReference(i);x&&x.call(d,d)},setappmenu:function(e,n,a){for(var t=$KG.__appmenu,i=IndexJL;i<e.length;i++)e[i][4+IndexJL]=!0;if(t)t.data=e,t.skin=n,t.focusskin=a;else{var d=new Object;d.data=e,d.skin=n,d.focusskin=a,$KG.__appmenu=d}},setappmenufocusindex:function(n){var a=$KG.__appmenu;if($KU.getElementById("konyappmenudiv")){a.data;if(a.focusskin){for(var t=document.querySelectorAll("div."+a.focusskin+", a label."+a.focusskin),i=t.length-1;i>=0;i--)"label"==t[i].tagName.toLowerCase()?t[i].className=a.skin:t[i].className=a.skin+" middlecenteralign kcell";var d=document.querySelectorAll("div a[index='"+(n-IndexJL)+"']")[0];d&&(d.parentNode.className=a.focusskin+" middlecenteralign kcell");var r=document.querySelectorAll("#"+d.id+"  label");r&&(r[0].className=a.focusskin),e.focusIndex=n-IndexJL}}},hideappmenuitems:function(n){for(var a=$KG.__appmenu,t=a.data,i=IndexJL;i<n.length;i++)for(var d=IndexJL;d<a.data.length;d++)t[d][IndexJL]==n[i]&&(t[d][4+IndexJL]=!1);var r=$KU.getElementById("konyappmenudiv"),o=new $KW.WidgetGenerationContext;o.setdynamically=!0,r&&(r.innerHTML=e.render("__appmenu",o))},showappmenuitems:function(n){for(var a=$KG.__appmenu,t=a.data,i=IndexJL;i<a.data.length;i++){for(var d=!1,r=IndexJL;r<n.length;r++)if(t[i][IndexJL]==n[r]){d=!0;break}t[i][4+IndexJL]=d}var o=$KU.getElementById("konyappmenudiv"),p=new $KW.WidgetGenerationContext;if(p.setdynamically=!0,o)o.innerHTML=e.render("__appmenu",p);else{var l=$KU.getElementById("appmenu_container");if(!l)return;var s=document.createElement("DIV"),m="appmenu_scroller";$KG.nativeScroll?m+=" relativePos":m+=" absolutePos",s.className=m,s.setAttribute("id","konyappmenudiv"),s.innerHTML=e.render("__appmenu",p),l.appendChild(s)}},removeappmenuitem:function(n){for(var a=$KG.__appmenu,t=a.data,i=IndexJL;i<a.data.length;i++)if(t[i][IndexJL]==n){t.splice(i,1),e.focusIndex==i&&(e.focusIndex="");break}var d=$KU.getElementById("konyappmenudiv"),r=new $KW.WidgetGenerationContext;r.setdynamically=!0,d.innerHTML=e.render("__appmenu",r)},addappmenuitem:function(n,a){var t=$KG.__appmenu.data,d=!1;for(i=IndexJL;i<t.length;i++)if(t[i][IndexJL]==n[IndexJL]){d=!0;break}if(!d){n[4+IndexJL]=!0,t.splice(a,0,n);var r=$KU.getElementById("konyappmenudiv"),o=new $KW.WidgetGenerationContext;o.setdynamically=!0,r.innerHTML=e.render("__appmenu",o)}},showmoreappmenuitems:function(){var e=document.getElementById("appmenumore_container");if(e){var n=document.getElementById("konyappmenudiv"),a=parseInt($KU.getStyle(n,"padding-top"))||0,t=parseInt($KU.getStyle(n,"margin-top"))||0,i=document.getElementById("konyappmenudiv").offsetHeight;i-=t+a,e.style.bottom=i+"px","none"==e.style.display?e.style.display="block":"block"==e.style.display&&(e.style.display="none")}},hidemoreappmenuitems:function(){var e=document.getElementById("appmenumore_container");e&&(e.style.display="none")},createappmenu:function(e,n,a,t){for(var i=IndexJL;i<n.length;i++)n[i][4+IndexJL]=!0;var d=new Object;d.data=n,d.skin=a,d.focusskin=d.focusSkin=t,$KG.__appmenu?$KG.__appmenu[e]=d:$KG.__appmenu=d},setcurrentappmenu:function(n){$KG.__appmenu[n]?$KG.__appmenu=$KG.__appmenu[n]:$KG.__appmenu=$KG.__appmenu;var a=$KG.__appmenu,t=a.data,i=$KU.getElementById("konyappmenudiv"),d=new $KW.WidgetGenerationContext;if(d.setdynamically=!0,i)i.innerHTML=e.render("__appmenu",d);else{var r=$KU.getElementById("appmenu_container");if(!r)return;var o=document.createElement("DIV"),p="appmenu_scroller";$KG.nativeScroll?p+=" relativePos":p+=" absolutePos",o.className=p,o.setAttribute("id","konyappmenudiv"),o.innerHTML=e.render("__appmenu",d),$KG.__currentForm.needappmenu&&r.appendChild(o);var l=$KU.returnEventReference(t[IndexJL][3+IndexJL]);l&&l.call(a,a)}$KG.currappmenu=n},getcurrentappmenu:function(){return $KG.currappmenu},setappmenufocusbyid:function(n){var a,t=$KG.__appmenu.data,i=!1;for(a=IndexJL;a<t.length;a++)if(t[a][IndexJL]==n){i=!0;break}i&&e.setappmenufocusindex(a)},addappmenuitemat:function(n,a,t){e.addappmenuitem(t,a),e.focusIndex=""},removeappmenuitemat:function(n,a){var t=$KG.__appmenu.data;e.removeappmenuitem(t[a][IndexJL]),e.focusIndex==a&&(e.focusIndex="")}};return e}();
$KW.Label=function(){var e={initialize:function(){kony.events.addEvent("click","Label",this.eventHandler)},initializeView:function(t){e.updateLineSpacing(t)},updateView:function(e,t,i,n){var a=$KU.getNodeByModel(e);if(a)switch(t){case"linespacing":this.updateLineHeight(e,a);break;case"textCopyable":i&&!e.disabled?($KU.addClassName(a,"enableSelection"),$KU.removeClassName(a,"disableSelection")):($KU.addClassName(a,"disableSelection"),$KU.removeClassName(a,"enableSelection"));break;case"text":$KW.Utils.belongsToSegment(a)||(a.childNodes[0].innerHTML=$KU.escapeHTMLSpecialEntities(i))}},updateLineHeight:function(e,t){var i=e.linespacing;if(t=t.childNodes[0],i>0){var n=parseInt($KU.getStyle(t,"font-size"),10);n>0&&(t.style.lineHeight=n+parseInt(i,10)+"px")}else t.style.lineHeight=""},updateLineSpacing:function(e){for(var t=document.querySelectorAll("#"+e+" div[kwidgettype='Label']"),i=0;i<t.length;i++){var n=t[i],a=$KU.getModelByNode(n);this.updateLineHeight(a,n)}},render:function(e,t){var i=$KW.skins.getWidgetSkinList(e,t),n=$KW.skins.getContentAlignment(e),a="";return a="<div"+$KW.Utils.getBaseHtml(e,t)+"class = '"+i+"' style='text-align:"+n+";xoverflow:hidden;"+$KW.skins.getBaseStyle(e,t),!1===t.ispercent&&(a+="display:inline-block;"+(t.layoutDir?"float:"+t.layoutDir:"")),a+="'",a+="><label  "+$KU.getAccessibilityValues(e)+" style='white-space:pre-wrap;word-wrap:break-word;text-align:"+n+";'>"+$KU.escapeHTMLSpecialEntities(e.text)+"</label></div>"},eventHandler:function(e,t){var i=$KU.getModelByNode(t),n=t.getAttribute("kcontainerID");if($KAR&&$KAR.sendRecording(i,"click",{target:t,eventType:"uiAction"}),n)$KW.Utils.updateContainerData(i,t,!0);else{var a=kony.events.executeBoxEvent(i),l=t.getAttribute("ktabid");!a&&l&&$KW.TabPane&&$KW.TabPane.executeTabEvent(i,t,!0)}}};return e}();
$KW.Button={initialize:function(){kony.events.addEvent("click","Button",this.eventHandler)},updateView:function(e,t,n,i){var s=$KU.getNodeByModel(e);if(s)switch(s=$KW.Utils.getClonedTemplateNode(s,e,t),t){case"text":$KU.isWindowsTablet?s.innerHTML=$KU.escapeHTMLSpecialEntities(n):s.value=n}},render:function(e,t){e.buiskin||(e.buiskin=e.blockeduiskin);var n=$KW.skins.getWidgetSkinList(e,t),i=e.skin||"";return $KW.skins.getContentAlignment(e),$KU.isWindowsTablet?"<button"+$KW.Utils.getBaseHtml(e,t)+"type='button' class = '"+n+"' style='text-align:"+$KW.skins.getContentAlignment(e)+";white-space:normal;word-wrap:break-word;"+$KW.skins.getBaseStyle(e,t)+(t.layoutDir&&!1===t.ispercent?";float:"+t.layoutDir:"")+"' kprogressskin='"+i+"'>"+("true"==e.displaytext.toString()?$KU.escapeHTMLSpecialEntities(e.text):"")+"</button>":"<input"+$KW.Utils.getBaseHtml(e,t)+"type='button' class = '"+n+"' style='text-align:"+$KW.skins.getContentAlignment(e)+";white-space:normal;word-wrap:break-word;"+$KW.skins.getBaseStyle(e,t)+(t.layoutDir&&!1===t.ispercent?";float:"+t.layoutDir:"")+"'"+("true"==e.displaytext.toString()?" value='"+$KU.escapeHTMLSpecialEntities(e.text)+"'":"")+" kprogressskin='"+i+"'/>"},eventHandler:function(e,t){var n=$KU.getModelByNode(t),i=t.getAttribute("kcontainerID");if(spaAPM&&spaAPM.sendMsg(n,"onclick"),$KAR&&$KAR.sendRecording(n,"click",{target:t,eventType:"uiAction"}),i)$KW.Utils.updateContainerData(n,t,!0);else if(n.onclick){var s=$KU.returnEventReference(n.onclick);s&&n.blockeduiskin&&$KW.skins.applyBlockUISkin(n),t.setAttribute("selected","progress"),$KU.executeWidgetEventHandler(n,s),$KU.onEventHandler(n)}}};
$KW.Phone={initialize:function(){kony.events.addEvent("click","Phone",this.eventHandler)},updateView:function(e,t,i,n){var a=$KU.getNodeByModel(e);if(a)switch(t){case"text":if(a.childNodes[0]){var l=a.childNodes[0];e.image||(l.innerHTML=i),l.href="tel:"+i}}},render:function(e,t){var i=$KW.skins.getWidgetSkinList(e,t),n=e.skin||"",a="<div"+$KW.Utils.getBaseHtml(e,t)+"class = '"+i+"'";return!1===t.ispercent&&(a+=" style='display:inline-block;' "),a+="><a class='"+n+"' style='border:none;min-height:28px;' href='tel:"+e.text+"' >",e.image?a+="<img alt='Call' src='"+$KU.getImageURL(e.image)+"' />":a+=e.text,a+="</a></div>"},eventHandler:function(e,t){var i,n=$KU.getModelByNode(t);t.getAttribute("kcontainerID")&&$KW.Utils.updateContainerData(n,t,!1),i=(i=n.segmentID?t.childNodes[0].innerText||"":n.text).replace(/[-\s]+/g,""),isNaN(i)&&(i=$KW.Utils.convertPhoneAlphabetToNumber(i)),$KI.phone.dial(i)}};
$KW.TextField=function(){var e={goeventTriggerd:null,focusedTextfieldId:null,initialize:function(){kony.events.addEvent("keydown","TextField",this.textfieldGoButtonEventHandler),kony.events.addEvent("keyup","TextField",this.textfieldKeyUpEventHandler),kony.events.addEvent("onorientationchange","TextField",this.adjustHeight),kony.events.addEvent("change","TextField",this.eventHandler),kony.events.addEvent("input","TextField",this.textfieldInputEventHandler)},initializeView:function(t){this.adjustHeight(t),setTimeout(function(){e.initPasswordField(t)},1)},initPasswordField:function(e){for(var t=document.querySelectorAll("#"+e+" input[name='konypassword']"),n=0;n<t.length;n++)t[n]},updateView:function(e,t,n,a){var o=$KU.getNodeByModel(e);if(o)switch(o=$KW.Utils.getClonedTemplateNode(o,e,t),t){case"text":if(n)o.value=n;else if(o.value="",($KU.isBlackBerry||$KU.isBlackBerryNTH)&&"number"==o.getAttribute("type")){var i=document.activeElement.id,r=o.id,s=document.createElement("div");s.innerHTML=this.render(e,{tabpaneID:o.getAttribute("ktabpaneid")}),o.parentNode.replaceChild(s.firstChild,o),r==i&&(o=$KU.getNodeByModel(e)).focus()}this.setPlaceholder(e,o);break;case"placeholder":o.setAttribute("placeholder",n),this.setPlaceholder(e,o);break;case"placeholderskin":$KG.appbehaviors[constants.API_LEVEL]>=constants.API_LEVEL_8200&&o.setAttribute("kplaceholderSkin",n);break;case"maxtextlength":o.maxLength=n;break;case"pattern":o.setAttribute("pattern",n);break;case"autocapitalize":var l=n;$KU.isiPhone&&parseInt($KU.getPlatformVersion("iphone"))<=4&&n!=constants.TEXTBOX_AUTO_CAPITALIZE_NONE&&(l="on"),o.setAttribute("autocapitalize",l);var d=$KU.getTextTrasform(e);d&&(o.style.textTransform=d);break;case"mode":case"textinputmode":n==constants.TEXTBOX_INPUT_MODE_ANY?o.setAttribute("type","text"):n==constants.TEXTBOX_INPUT_MODE_NUMERIC&&o.setAttribute("type","number");break;case"securetextentry":if(n)o.setAttribute("type","password");else{var c=$KU.cssPrefix+"text-security";o.style.removeProperty(c),this.updateView(e,"textinputmode",e.textinputmode)}break;case"keyboardtype":case"keyboardstyle":"P"!=e.mode&&o.setAttribute("type",n);break;case"containerheightmode":case"containerheight":case"containerheightreference":e.containerheightmode==constants.TEXTBOX_DEFAULT_PLATFORM_HEIGHT?($KU.addClassName(o,"kheight"),o.style.height=""):e.containerheightmode==constants.TEXTBOX_FONT_METRICS_DRIVEN_HEIGHT?($KU.removeClassName(o,"kheight"),o.style.height=""):e.containerheightmode==constants.TEXTBOX_CUSTOM_HEIGHT&&e.containerheight&&e.containerheightreference&&($KU.removeClassName(o,"kheight"),this.adjustBoxDimensions(o.id,!0));break;case"name":o.name=n}},render:function(e,t){void 0===e.keyboardtype&&(e.keyboardtype=e.keyboardstyle),void 0===e.mode&&(e.mode=e.textinputmode),e.buiskin||(e.buiskin=e.blockeduiskin);var n=$KW.skins.getWidgetSkinList(e,t),a=e.placeholderskin;e.containerheightmode==constants.TEXTBOX_DEFAULT_PLATFORM_HEIGHT&&(n+=" kheight ");t.tabpaneID;var o="text",i=!1;switch(e.mode){case constants.TEXTBOX_INPUT_MODE_PASSWORD:o="password";break;case constants.TEXTBOX_INPUT_MODE_NUMERIC:o="number";break;default:o="text"}if(e.securetextentry&&(o="password"),e.keyboardtype&&"P"!=e.mode)switch(e.keyboardtype){case constants.TEXTBOX_KEY_BOARD_STYLE_EMAIL:o="email";break;case constants.TEXTBOX_KEY_BOARD_STYLE_URL:o="url";break;case constants.TEXTBOX_KEY_BOARD_STYLE_PHONE_PAD:o="tel";break;case constants.TEXTBOX_KEY_BOARD_STYLE_NUMBER_PAD:case constants.TEXTBOX_KEY_BOARD_STYLE_DECIMAL:o="number";break;case constants.TEXTBOX_VIEW_TYPE_SEARCH_VIEW:o="search";break;default:$KU.isiPhone&&"N"==e.mode&&(o="number",i=!1)}!e.placeholder||e.text||kony.utils.placeholderSupported||"number"!=o||(o="text",e.__initialMode=constants.TEXTBOX_INPUT_MODE_NUMERIC);var r="",s=$KW.skins.getBaseStyle(e,t);s+=";text-align:"+$KW.skins.getContentAlignment(e)+";";var l=$KU.getTextTrasform(e);s+=l?"text-transform:"+l+";":"",s+=$KG.disableViewPortScroll?"pointer-events:none;":"";var d=e.text,c="";c=d&&""!=d&&("string"==typeof d||d instanceof String)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&rsquo;").replace(/"/g,"&rdquo;"):d,kony.utils.placeholderSupported||e.__initialMode!=constants.TEXTBOX_INPUT_MODE_NUMERIC||(c=c||e.placeholder||"",n+=e.placeholder&&!e.text?" konyplaceholder ":"");var u=$KW.FlexUtils.isFlexWidget(e),p=!1===t.ispercent?"display:inline-block;":"",h=$KU.isiPhone&&!u?"<div style='"+p+"overflow:hidden;'>":"",g=$KU.isiPhone&&!u?"</div>":"";if(r+=h+"<input"+$KW.Utils.getBaseHtml(e,t)+"value='"+c+"' class = '"+n+"'",r+=e.name?" name='"+e.name+"'":"",r+=" autocapitalize='"+e.autocapitalize+"'",r+=e.autocorrect?" autocorrect='on'":" autocorrect='off'",r+=e.autocomplete?" autocomplete='on'":" autocomplete='off'",r+=" type = '"+o+"'",r+=e.pattern?" pattern="+e.pattern:"",a&&$KG.appbehaviors[constants.API_LEVEL]>=constants.API_LEVEL_8200&&(r+="kplaceholderSkin = "+a),"digitpad"==e.keyboardtype&&"P"==e.mode||i){r+=" pattern = '[0-9]*'"}return r+=e.disabled?" disabled='true'":"",r+=" onfocus='$KW.TextField.onfocusEventHandler(arguments[0],this)' onblur='$KW.TextField.onblurEventHandler(arguments[0],this)' ",r+=e.placeholder?" placeholder='"+$KU.escapeHTMLSpecialEntities(e.placeholder)+"'":"",r+=e.maxtextlength?" maxlength='"+e.maxtextlength+"'":"",r+=" style='"+s+(e.securetextentry?$KU.cssPrefix+"text-security:disc":"")+"'",r+="/>"+g},textfieldGoButtonEventHandler:function(e,t){var n=$KU.getModelByNode(t);if(e=e||window.event,n.ondone&&(10==e.keyCode||13==e.keyCode)){n.canUpdateUI=!1,n.text=t.value,n.canUpdateUI=!0,kony.events.preventDefault(e),kony.events.stopPropagation(e);try{e.srcElement?e.srcElement.blur():e.target.blur()}catch(e){}n.blockeduiskin&&$KW.skins.applyBlockUISkin(n),spaAPM&&spaAPM.sendMsg(n,"ondone");var a=$KU.returnEventReference(n.ondone);$KU.callTargetEventHandler(n,t,"ondone"),a&&$KU.onEventHandler(n)}10!=e.keyCode&&13!=e.keyCode||($KU.isAndroid&&13==e.keyCode&&t.blur(),$KU.onHideKeypad(n)),$KU.callTargetEventHandler(n,t,"onkeydown")},HandleTextFieldFilterData:function(e,t,n){var a=n.getAttribute("id");e.shift();var o=n.value;(o=o.ltrim()).length<1||e.length>0&&(this.AutoComplete.AutoComplete_Create(a,e,8),this.AutoComplete.AutoComplete_ShowDropdown(a))},eventHandler:function(e,t){var n=$KU.getModelByNode(t);n&&(n.canUpdateUI=!1,n.text=t.value,n.canUpdateUI=!0,spaAPM&&spaAPM.sendMsg(n,"ontextchange"))},textfieldInputEventHandler:function(e,t){var n=$KU.getModelByNode(t);$KAR&&$KAR.sendRecording(n,"enterText",{text:t.value,target:t,eventType:"uiAction"}),t.getAttribute("kcontainerID")?$KW.Utils.updateContainerData(n,t,!1,"input"):$KW.Utils.restrictCharactersSet(t,n)},textfieldKeyUpEventHandler:function(e,t){var n=$KU.getModelByNode(t),a=$KU.getElementID(t.getAttribute("id"));n.text!=t.value&&(n.canUpdateUI=!1,n.text=t.value,n.canUpdateUI=!0,n.autocomplete&&$KU.isArray(n.filterlist)&&n.filterlist.length>IndexJL&&(t.value.ltrim().length>=1?this.HandleTextFieldFilterData(n.filterlist,e,t):this.AutoComplete.AutoComplete_RemoveDivs(n.pf+"_"+a)));spaAPM&&spaAPM.sendMsg(n,"ontextchange"),$KU.callTargetEventHandler(n,t,"ontextchange")},onfocusEventHandler:function(e,t){if($KW.Utils.focusBringToView(e),!$KU.isWindowsPhone&&!$KU.isWindowsTablet||$KG.nativeScroll||($KU.isEdge?document.documentElement.style.touchAction="auto":document.documentElement.style.msTouchAction="auto"),$KU.isAndroid&&"number"!=t.getAttribute("type")){var n=$KU.getPlatformVersion("android");(parseFloat(n)>=4.4||kony.appinit.isChrome)&&setTimeout(function(){$KU.setActiveInput(t)},100)}else $KU.setActiveInput(t);var a=$KU.getModelByNode(t);kony.utils.placeholderSupported||a.text||!a.placeholder||a.__initialMode!=constants.TEXTBOX_INPUT_MODE_NUMERIC||("text"==t.type&&t.setAttribute("type","number"),t.focus(),$KU.removeClassName(t,"konyplaceholder")),spaAPM&&spaAPM.sendMsg(a,"onbeginediting"),$KU.callTargetEventHandler(a,t,"onbeginediting")},onblurEventHandler:function(t,n){var a=$KU.getModelByNode(n);a&&a.text!=n.value&&(a.canUpdateUI=!1,a.text=n.value,a.canUpdateUI=!0),$KW.Utils.resetScrollTopToContainer(t),e.setPlaceholder(a,n),!$KU.isWindowsPhone&&!$KU.isWindowsTablet||$KG.nativeScroll||($KU.isEdge?document.documentElement.style.msTouchAction="none":document.documentElement.style.touchAction="none"),$KU.onHideKeypad(a),spaAPM&&spaAPM.sendMsg(a,"onendediting"),$KU.callTargetEventHandler(a,n,"onendediting")},getSelection:function(t){var n=$KU.getNodeByModel(t);if(n){var a=e.getInputSelection(n);return{startIndex:a.start,endIndex:a.end}}return null},setSelection:function(e,t,n){var a=$KU.getNodeByModel(e);e.startIndex=t,e.endIndex=n,a&&$KW.APIUtils.setfocus(e,"","",!0)},setCaretPosition:function(e,t,n){if(1==arguments.length){e.getAttribute("kwidgettype")||(e=e.childNodes[0]);var a=$KU.getModelByNode(e);t=a.startIndex,n=a.endIndex}var o=1!=arguments.length;if(void 0===n&&(n=t),e)if("number"==typeof e.selectionStart)o&&e.focus(),e.setSelectionRange(t,n);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select()}else o&&e.focus()},getInputSelection:function(e){var t,n,a,o,i,r=0,s=0;return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(r=e.selectionStart,s=e.selectionEnd):(n=document.selection.createRange())&&n.parentElement()==e&&(o=e.value.length,t=e.value.replace(/\r\n/g,"\n"),(a=e.createTextRange()).moveToBookmark(n.getBookmark()),(i=e.createTextRange()).collapse(!1),a.compareEndPoints("StartToEnd",i)>-1?r=s=o:(r=-a.moveStart("character",-o),r+=t.slice(0,r).split("\n").length-1,a.compareEndPoints("EndToEnd",i)>-1?s=o:(s=-a.moveEnd("character",-o),s+=t.slice(0,s).split("\n").length-1))),{start:r,end:s}},setPlaceholder:function(e,t){if(!kony.utils.placeholderSupported&&e.placeholder&&e.__initialMode==constants.TEXTBOX_INPUT_MODE_NUMERIC){t.id;e.text?"text"==t.type&&(t.setAttribute("type","number"),t.value=e.text,$KU.removeClassName(element,"konyplaceholder")):("number"==t.type&&t.setAttribute("type","text"),t.value=e.placeholder,$KU.addClassName(t,"konyplaceholder"))}},adjustHeight:function(t){var n=$KG.allforms[t];n&&(!$KG.nativeScroll&&n.dockablefooter&&(e.adjustBoxDimensions(n.footer),$KW.Scroller.checkDOMChanges(n.id+"_scroller",null,n.footer)),e.adjustBoxDimensions(t))},adjustBoxDimensions:function(e,t){for(var n=t?document.querySelectorAll("#"+e):document.querySelectorAll("#"+e+" input[kwidgettype='TextField']"),a=0;a<n.length;a++){var o=$KU.getModelByNode(n[a]);if(o.containerheightmode==constants.TEXTBOX_CUSTOM_HEIGHT){var i=o.containerheight||10,r=28;if(i>0)if(o.containerheightreference==constants.CONTAINER_HEIGHT_BY_PARENT_WIDTH){var s=$KU.getElementById($KW.Utils.getKMasterWidgetID(o.parent));s&&"ScrollBox"==o.parent.wType&&(s=$KU.getElementById($KW.Utils.getKMasterWidgetID(o.parent)+"_parent")),s||(s=n[a].getAttribute("ktabpaneid")?$KU.getElementById(o.pf+"_"+n[a].getAttribute("ktabpaneid")):"Popup"==window[o.pf].wType?document.getElementById(o.pf):document.getElementById(o.pf+"_scroller"));var l=s&&s.offsetWidth||window.innerWidth||document.body.clientWidth;r=Math.round(i*l/100)}else if(o.containerheightreference==constants.CONTAINER_HEIGHT_BY_FORM_REFERENCE){var d=document.getElementById(o.pf+"_scroller"),c=d&&d.offsetHeight||$KU.getWindowHeight()||window.innerHeight||document.body.clientHeight;r=Math.round(i*c/100)}n[a].style.height=r+"px"}}}};return e}();
$KW.ComboBox={initialize:function(){kony.events.addEvent("change","ComboBox",this.eventHandler),kony.events.addEvent("click","ComboBox",this.initializeEvents)},updateView:function(e,t,i,n){var a=$KU.getNodeByModel(e);switch(t){case"masterdatamap":case"masterdata":var s=$KW.Utils.getMasterData(e);if(e.selectedkey=s.length>1?s[IndexJL][IndexJL]:null,$KW.Utils.setSelectedValueProperty(e,s,"selectedkey"),a){var d=document.createElement("div");d.innerHTML=this.generateList(e,s,{tabpaneID:a.getAttribute("ktabpaneid")}),a.parentNode.replaceChild(d.firstChild,a),a=$KU.getNodeByModel(e),$KW.FlexUtils.isFlexWidget(e)&&($KW.FlexUtils.setPaddingByParent(e,a),$KW.FlexUtils.setDimensions(e,a.parentNode)),$KU.toggleVisibilty(a,s,e)}break;case"selectedkey":if(a){var l=e.selectedkey;if(e.selectedkey=l||a.firstChild.value,"SELECT"==a.tagName)a.value=e.selectedkey;else if("DIV"==a.tagName)for(var o=1;o<e.masterdata.length;o++)if(e.selectedkey===e.masterdata[o][1]){a.innerText=e.masterdata[o][2];break}}$KW.Utils.setSelectedValueProperty(e,$KW.Utils.getMasterData(e),"selectedkey")}},render:function(e,t){"function"==typeof $KW.konyPicker&&"popup"!==e.view||(e.view="native"),e.buiskin||(e.buiskin=e.blockeduiskin);var i=$KW.Utils.getMasterData(e);return i.ispercent=t.ispercent,this.generateList(e,i,t)},generateList:function(e,t,i){var n="",a=$KW.skins.getWidgetSkinList(e,i,t)+" kselect";if((!e.view||"native"==e.view)&&t.length>IndexJL){var s=e.selectedkey;e.selectedkey=s||t[IndexJL][IndexJL],$KW.Utils.setSelectedValueProperty(e,t,"selectedkey")}if(e.view&&"native"!=e.view){var d="kselect ";if(d+=e.skin?e.skin:"klistbox",n+='<div id="'+e.pf+"_"+e.id+'"'+(i.tabpaneID?' ktabpaneid="'+i.tabpaneID+'"':"")+' kformname="'+e.pf+'" kwidgettype="'+e.wType+'"  class="'+d+" "+a+' idevice kddicon" '+(e.disabled?'disabled="true" ':"")+' style="text-align:left;">',e.masterdata)if(e.selectedkey){for(var l=IndexJL;l<e.masterdata.length;l++)if(e.masterdata[l][0+IndexJL]===e.selectedkey){n+=e.masterdata[l][1+IndexJL];break}}else e.selectedkey=e.masterdata[0+IndexJL][0+IndexJL],$KW.Utils.setSelectedValueProperty(e,t,"selectedkey"),n+=e.masterdata[0+IndexJL][1+IndexJL];n+="</div>"}else{n="<select "+$KW.Utils.getBaseHtml(e,i)+"class='"+a+"'"+(e.disabled?" disabled='true'":"")+" style='"+$KW.skins.getBaseStyle(e,i)+"'>";for(var o=IndexJL;o<t.length;o++)if(null!=t[o][IndexJL]&&null!=t[o][1+IndexJL]){var c=e.selectedkey==t[o][IndexJL]?"selected":"";n+="<option  "+$KU.getAccessibilityValues(e,t[o][2+IndexJL],t[o][IndexJL])+" value='"+t[o][IndexJL]+"' "+c+">"+$KU.escapeHTMLSpecialEntities(t[o][1+IndexJL])+"</option>"}n+="</select>"}return n},initializeEvents:function(e,t,i){var n=$KU.getModelByNode(t);if(n&&"DIV"===t.tagName&&"click"==e.type){var a=$KW.Utils.getMasterData(n),s=$KG[t.id];config={display:"popup",wheels:[{"":a}]},"spinningWheel"===n.view?(config.mode="scroller","iphone"===n.viewstyle?(config.theme="ios",config.dock=$KU.isiPhone?"bottom":""):"android"===n.viewstyle?(config.theme="android",config.dock=""):"native"===n.viewstyle&&($KU.isIDevice?(config.theme="ios",config.dock=$KU.isiPhone?"bottom":""):$KU.isAndroid&&(config.theme="android",config.dock=""))):"clickPick"===n.view?(config.mode="clickpick","iphone"===n.viewstyle?(config.theme="ios",config.dock=""):"android"===n.viewstyle?(config.theme="android",config.dock=""):"native"===n.viewstyle&&($KU.isIDevice?(config.theme="ios",config.dock=""):$KU.isAndroid&&(config.theme="android",config.dock=""))):"popup"===n.view&&("iphone"===n.viewstyle||"android"===n.viewstyle||"native"===n.viewstyle&&($KU.isIDevice||$KU.isAndroid)),s?s.show():s=new $KW.konyPicker(t.id,config)}},eventHandler:function(e,t){var i=$KU.getModelByNode(t);if(i){var n=null;if("SELECT"==t.tagName)n=t.value;else if("DIV"==t.tagName){var a=i.selectedkey,s=$KG[t.id];s&&(n=s.val)}if(i.selectedkey=n,spaAPM&&spaAPM.sendMsg(i,"onselection"),$KAR&&$KAR.sendRecording(i,"selectItem",{selection:n,target:t,eventType:"uiAction"}),t.getAttribute("kcontainerID"))$KW.Utils.updateContainerData(i,t,!1,!0);else{var d=$KW.Utils.getMasterData(i);$KW.Utils.setSelectedValueProperty(i,d,"selectedkey"),(i.ondone||i.onselection)&&i.blockeduiskin&&$KW.skins.applyBlockUISkin(i);var l=$KU.returnEventReference(i.ondone||i.onselection);l&&("DIV"==t.tagName&&s&&a!==s.val||"SELECT"==t.tagName)&&($KU.executeWidgetEventHandler(i,l),$KU.onEventHandler(i))}}}};
$KW.RadioButtonGroup=function(){var e={initialize:function(){kony.events.addEvent("change","RadioButtonGroup",this.eventHandler)},updateView:function(e,t,i,a){var l=$KU.getNodeByModel(e);switch(l=$KW.Utils.getClonedTemplateNode(l,e,t),t){case"masterdatamap":case"masterdata":var n=$KW.Utils.getMasterData(e);e.selectedkey=n.length>1?n[IndexJL][IndexJL]:null,$KW.Utils.setSelectedValueProperty(e,n,"selectedkey"),l&&(l.innerHTML=this.generateList(e,n,e.context),$KU.toggleVisibilty(l,n,e));break;case"selectedkey":for(var s=document.querySelectorAll("#"+e.pf+" input[name='"+e.id+"']"),d=0;d<s.length;d++)e.selectedkey==s[d].value?s[d].checked=!0:s[d].checked=!1;e.selectedkey&&$KW.Utils.setSelectedValueProperty(e,$KW.Utils.getMasterData(e),"selectedkey"),e.selectedkey||(e.selectedKeyValue=e.selectedkeyvalue=null);break;case"viewtype":e.propertyName=i;n=$KW.Utils.getMasterData(e);l&&(l.innerHTML=this.generateList(e,n,e.context),$KU.toggleVisibilty(l,n,e));break;case"checkedimage":case"uncheckedimage":case"size":n=$KW.Utils.getMasterData(e);l&&(l.innerHTML=this.generateList(e,n,e.context),$KU.toggleVisibilty(l,n,e))}},render:function(e,t){var i=$KW.Utils.getMasterData(e),a=$KW.skins.getWidgetSkinList(e,t,i),l="<div"+$KW.Utils.getBaseHtml(e,t)+"class = '"+a+"' style='"+$KW.skins.getBaseStyle(e,t)+(!1===t.ispercent?"display:inline-block":"")+"'>";return e.context=t,l+=this.generateList(e,i,t),l+="</div>"},generateList:function(e,t,i){var a="";if(t.length>IndexJL){var l=e.selectedkey;e.selectedkey=l||null,$KW.Utils.setSelectedValueProperty(e,t,"selectedkey");for(var n=IndexJL;n<t.length;n++)if(null!=t[n][IndexJL]&&null!=t[n][1+IndexJL]){var s=e.selectedkey==t[n][IndexJL]?"checked":"";if("customview"==e.viewtype){var d;"vertical"==e.itemorientation?a+="<div style = 'height: auto;'  class='kwt100'>":a+="<div style = ' display: inline-block; height: auto;' >",d="checked"==s?"url("+$KU.getImageURL(e.checkedimage)+")":"url("+$KU.getImageURL(e.uncheckedimage)+")";var r=i&&i.container?e.id+"_"+i.container.counter:e.id;a+="<input style='display : none;' id ='"+e.id+"radio"+n+"' class='middlecenteralign' kformname='"+e.pf+"' kwidgettype='"+e.wType+"' type='radio' "+s+($KW.Utils.isWidgetDisabled(e,i)?" disabled='true'":"")+" value='"+t[n][IndexJL]+"' name='"+r+"' style='  margin-right:3px;' />",a+="<label id ='"+e.id+"_label"+n+"' selected ='"+s+"'  for ='"+e.id+"radio"+n+"'  name = '"+e.id+"_label"+n+"' style=' background-image: "+d+"; width: "+e.size+"px; height: "+e.size+"px; -webkit-background-size: 100%; background-size:100%; margin-right: 3px; vertical-align: middle; display: inline-block;' ></label>",a+="<label style=' position: relative; padding-left: 5px; vertical-align: middle; display: inline-block;'>",a+=$KU.escapeHTMLSpecialEntities(t[n][1+IndexJL]),a+=e.itemorientation==constants.RADIOGROUP_ITEM_ORIENTATION_VERTICAL?"</label><br/></div>":"</div></label>&nbsp;"}else{"vertical"==e.itemorientation?a+="<div style = 'height: auto;'  class='kwt100'>":a+="<div style = ' display: inline-block; height: auto; text-decoration: inherit;' >";r=i&&i.container?e.id+"_"+i.container.counter:e.id;var c=$KU.getAccessibilityValues(e,t[n][2+IndexJL],t[n][IndexJL]);c.indexOf("aria-label")<0&&(c+=" aria-label='"+$KU.escapeHTMLSpecialEntities(t[n][1+IndexJL])+"' "),a+="<input  "+c+"type='radio' kwidgettype='"+e.wType+"' name='"+r+"' "+s+($KW.Utils.isWidgetDisabled(e,i)?" disabled='true'":"")+" class='middlecenteralign' value='"+t[n][IndexJL]+"' style='margin-right:3px;' kformname='"+e.pf+"'/>",a+="<span aria-hidden='true' class='middlecenteralign'>"+$KU.escapeHTMLSpecialEntities(t[n][1+IndexJL])+"</span>",a+="vertical"==e.itemorientation?"<br/></div>":"</div>&nbsp;"}}}return a},changeImage:function(e,t,i){if(t.selectedkey!=i){for(var a=$KW.Utils.getMasterData(t),l=($KU.getImageURL(t.checkedimage),$KU.getImageURL(t.uncheckedimage),IndexJL);l<a.length;l++)if(null!=a[l][IndexJL]&&null!=a[l][1+IndexJL]){var n=$KU.getElementById(t.id+"_label"+l);"checked"==n.getAttribute("selected")&&(n.style.backgroundImage="url("+$KU.getImageURL(t.uncheckedimage)+")",n.setAttribute("selected",""))}e.style.backgroundImage="url("+$KU.getImageURL(t.checkedimage)+")",e.setAttribute("selected","checked")}},eventHandler:function(t,i){for(var a=i.parentNode.parentNode,l=$KU.getModelByNode(a),n=a.getElementsByTagName("input"),s=0;s<n.length;s++)n[s].removeAttribute("checked");if(i.setAttribute("checked",""),l)if("customview"==l.viewtype&&e.changeImage($KU.getNextSibling(i),l,i.value),l.selectedkey=i.value,spaAPM&&spaAPM.sendMsg(l,"onselection"),$KAR&&$KAR.sendRecording(l,"click",{key:i.value,target:a,eventType:"uiAction"}),a.getAttribute("kcontainerID"))$KW.Utils.updateContainerData(l,i,!1);else{$KW.Utils.setSelectedValueProperty(l,$KW.Utils.getMasterData(l),"selectedkey");var d=$KU.returnEventReference(l.onselection);d&&($KU.executeWidgetEventHandler(l,d),$KU.onEventHandler(l))}}};return e}();
$KW.ListBox=function(){var e={initialize:function(){kony.events.addEvent("change","ListBox",this.eventHandler)},updateView:function(e,t,s,l){var n=$KU.getNodeByModel(e);switch(n=$KW.Utils.getClonedTemplateNode(n,e,t),t){case"masterdatamap":case"masterdata":var i=$KW.Utils.getMasterData(e);if(e.selectedkey=e.selectedkeys=e.selectedkeyvalue=e.selectedkeyvalues=null,n){e.context.ispercent="";var a=document.createElement("div");a.innerHTML=this.generateList(e,i,e.context),n.parentNode.replaceChild(a.firstChild,n),n=$KU.getNodeByModel(e),$KW.FlexUtils.isFlexWidget(e)&&($KW.FlexUtils.setPaddingByParent(e,n),$KW.FlexUtils.setDimensions(e,n.parentNode)),$KU.toggleVisibilty(n,i,e)}break;case"selectedkeys":if($KW.Utils.setSelectedValueProperty(e,$KW.Utils.getMasterData(e),"selectedkeys"),n)if("SELECT"==n.tagName){var r=n.options;if(r.length>0){for(var o=0;o<r.length;o++)e.selectedkeys&&$KU.inArray(e.selectedkeys,r[o].value)[0]?r[o].selected=!0:r[o].selected=!1;e.selectedkeys||(e.multiple||(r[0].selected=!0),e.selectedkeyvalues=null)}}else"DIV"==n.tagName&&(e.selectedkeys?n.innerText=e.selectedkeyvalues[1][2]:n.innerText=e.masterdata[1][2]);break;case"selectedkey":e.selectedkey;n&&(n.value=e.selectedkey),$KW.Utils.setSelectedValueProperty(e,$KW.Utils.getMasterData(e),"selectedkey"),e.selectedkeys=e.selectedkey&&($KU.isArray(e.selectedkey)?e.selectedkey:IndexJL?[null,e.selectedkey]:[e.selectedkey])||null,$KW.Utils.setSelectedValueProperty(e,$KW.Utils.getMasterData(e),"selectedkeys")}},render:function(e,t){e.buiskin||(e.buiskin=e.blockeduiskin);var s=$KW.Utils.getMasterData(e);return s.ispercent=t.ispercent,e.context=t,this.generateList(e,s,t)},generateList:function(e,t,s){if(e.isCloned&&0==t.length)return"";var l=$KW.skins.getWidgetSkinList(e,s,t)+" kselect",n=e.multiple?" multiple":"",i=e.multiselectrows?" size="+parseInt(e.multiselectrows):"",a="";return a="<select"+(e.contentalignment==constants.CONTENT_ALIGN_MIDDLE_RIGHT?" dir='rtl'":"")+$KW.Utils.getBaseHtml(e,s)+"class='"+l+"' "+(e.disabled?"disabled='true' ":"")+n+i+" style='"+$KW.skins.getBaseStyle(e,s)+"'",a+=" onblur='$KW.ListBox.onBlurEventHandler(arguments[0],this)' onfocus='$KW.ListBox.onFocusEventHandler(arguments[0],this)' >",t.length>IndexJL&&(e.selectedkey&&$KW.Utils.setSelectedValueProperty(e,t,"selectedkey"),e.selectedkeys&&$KW.Utils.setSelectedValueProperty(e,t,"selectedkeys"),e.needsectionheaders?a+=this.generateGroupOptions(e,t):a+=this.generateOptions(e,t)),a+="</select>"},generateGroupOptions:function(e,t){for(var s="",l=1;l<t.length;l++)null!=t[l][1]&&$KU.isArray(t[l][2])&&(s+="<optgroup label='"+t[l][1]+"' class='"+(e.sectionskin||"")+"'>",s+=this.generateOptions(e,t[l][2]),s+="</optgroup>");return s},generateOptions:function(e,t){var s="";if(t.length>IndexJL){var l=e.selectedkey;e.selectedkey=l||t[IndexJL][IndexJL],$KW.Utils.setSelectedValueProperty(e,t,"selectedkey")}for(var n=!1,i=IndexJL;i<t.length;i++)if(null!=t[i][IndexJL]){n=e.multiple?e.selectedkeys&&$KU.inArray(e.selectedkeys,t[i][IndexJL])[0]?"selected":"":e.selectedkey&&e.selectedkey==t[i][IndexJL]?"selected":"";var a=$KU.getAccessibilityValues(e,t[i][2+IndexJL],t[i][IndexJL]);s+='<option value="'+t[i][IndexJL]+'" '+n+a+">"+$KU.escapeHTMLSpecialEntities(t[i][1+IndexJL])+"</option>"}return s},printFunctionality:function(e,t,s){for(var l=t.childNodes,n=0;n<l.length;n++)l[n].removeAttribute("selected");if(e.multiple)for(var i=0;i<e.selectedkeys.length;i++)for(n=0;n<l.length;n++){if("selected"==(e.selectedkeys[i]==s[n][0]?"selected":"")){t.childNodes[n].setAttribute("selected","");break}}else for(n=0;n<l.length;n++){if("selected"==(e.selectedkey==s[n][0]?"selected":"")){t.childNodes[n].setAttribute("selected","");break}}},eventHandler:function(e,t,s){var l=$KU.getModelByNode(t);if(l&&("click"!=e.type||"SELECT"!=t.tagName)){var n=$KW.Utils.getMasterData(l);$KAR&&$KAR.sendRecording(l,"selectItem",{selection:t.value,target:t,eventType:"uiAction"}),t.getAttribute("kcontainerID")?($KW.ListBox.updateListboxKey(l,t),$KU.callTargetEventHandler(l,t,"onselection")):"editableview"==l.viewtype?$KW.ListBox.setSelectedKeysEditableListBox(l,t,e):($KW.ListBox.updateListboxKey(l,t),$KW.ListBox.printFunctionality(l,t,n),$KW.Utils.setSelectedValueProperty(l,n,"selectedkey"),$KW.Utils.setSelectedValueProperty(l,n,"selectedkeys"),$KW.ListBox.processListBoxEvents(l,t))}},updateListboxKey:function(e,t){var s=1==IndexJL?[null]:[];if("SELECT"==t.tagName)for(var l=0;l<t.options.length;l++)t.options[l].selected&&(e.selectedkey=t.options[l].value,s.push(t.options[l].value));e.selectedkeys=s},processListBoxEvents:function(e,t){if((e.ondone||e.onselection)&&e.blockeduiskin&&$KW.skins.applyBlockUISkin(e),"SELECT"==t.tagName||"DIV"==t.tagName){var s=$KU.returnEventReference(e.ondone||e.onselection);spaAPM&&spaAPM.sendMsg(e,"onselection"),s&&($KU.executeWidgetEventHandler(e,s),$KU.onEventHandler(e))}},setSelectedKeysEditableListBox:function(t,s,l){var n,i=l.srcElement,a=s.id+"_autoComplete",r=null,o=s.children[2],d=$KW.Utils.getMasterData(t);a=e.createEditableListInstance(s,a),r=$KG[a],"IMG"==i.tagName?"block"==o.style.display?r.hideDropdown():(t.autosuggest&&r.renderDropdown(d),r.showDropdown(s),e.setSelectedSkin(t,o.children)):"SelectOptionList"==i.getAttribute("name")?(n=i.getAttribute("value"),s.children[0].value=i.innerText||i.textContent,i.style.backgroundColor="#3169C6",i.style.color="#FFFFFF",r.hideDropdown(),t.selectedkeyvalue=IndexJL?[null,n,i.innerText||i.textContent]:[n,i.innerText||i.textContent],t.selectedkey=n,$KW.ListBox.processListBoxEvents(t,s)):("click"==l.type&&r.hideDropdown(),n=i.value,t.selectedkeyvalue=IndexJL?[null,n,n]:[n,n],t.selectedkey=n)},onBlurEventHandler:function(e,t){$KW.Utils.resetScrollTopToContainer(e)},onFocusEventHandler:function(e,t){$KW.Utils.focusBringToView(e)}};return e}();
$KW.TextArea={initialize:function(){kony.events.addEvent("change","TextArea",this.eventHandler),kony.events.addEvent("keyup","TextArea",this.keyUpEventHandler),kony.events.addEvent("keydown","TextArea",this.keyDownEventHandler),kony.events.addEvent("input","TextArea",this.textAreaInputEventHandler)},updateView:function(e,t,n,a){var s=$KU.getNodeByModel(e);if(s)switch(s=$KW.Utils.getClonedTemplateNode(s,e,t),t){case"text":s.value=n;break;case"maxtextlength":case"length":s.maxLength=n;break;case"placeholder":s.setAttribute("placeholder",n);break;case"placeholderskin":$KG.appbehaviors[constants.API_LEVEL]>=constants.API_LEVEL_8200&&s.setAttribute("kplaceholderskin",n);break;case"numberofvisiblelines":case"numberofrows":s.setAttribute("rows",n);break;case"mode":case"textinputmode":n==constants.TEXTAREA_INPUT_MODE_ANY?s.setAttribute("type","text"):n==constants.TEXTAREA_INPUT_MODE_NUMERIC&&s.setAttribute("type","number");break;case"autocapitalize":var o=n;$KU.isiPhone&&parseInt($KU.getPlatformVersion("iphone"))<=4&&n!=constants.TEXTAREA_AUTO_CAPITALIZE_NONE&&(o="on"),s.setAttribute("autocapitalize",o);var r=$KU.getTextTrasform(e);r&&(s.style.textTransform=r);break;case"keyboardtype":case"keyboardstyle":"P"!=textModel.mode&&s.setAttribute("type",n)}},render:function(e,t){void 0===e.mode&&(e.mode=e.textinputmode);var n=$KW.skins.getWidgetSkinList(e,t),a="",s=e.placeholderskin;switch(s&&$KG.appbehaviors[constants.API_LEVEL]>=constants.API_LEVEL_8200&&(a+="kplaceholderskin = "+s),e.mode){case constants.TEXTAREA_INPUT_MODE_NUMERIC:type="number";break;default:type="text"}if(e.keyboardtype)switch(e.keyboardtype){case constants.TEXTAREA_KEY_BOARD_STYLE_EMAIL:type="email";break;case constants.TEXTAREA_KEY_BOARD_STYLE_URL:type="url";break;case constants.TEXTAREA_KEY_BOARD_STYLE_CHAT:type="chat";break;case constants.TEXTAREA_KEY_BOARD_STYLE_DECIMAL:case constants.TEXTAREA_KEY_BOARD_STYLE_NUMBER_PAD:type="number";break;case constants.TEXTAREA_KEY_BOARD_STYLE_PHONE_PAD:type="tel"}var o=$KG.disableViewPortScroll?"pointer-events:none;":"";o+=";text-align:"+$KW.skins.getContentAlignment(e)+";";var r=$KU.getTextTrasform(e);o+=r?"text-transform:"+r+";":"";var l=e.length||e.maxtextlength;return"<textarea"+$KW.Utils.getBaseHtml(e,t)+a+" class = '"+n+"' "+(e.disabled?"disabled='true'":"")+" cols='15' rows='"+(e.numberofvisiblelines||e.numberofrows)+(e.placeholder?"' placeholder='"+$KU.escapeHTMLSpecialEntities(e.placeholder)+"'":"'")+("number"==typeof l?"'  maxlength='"+l+"'":"'")+"' style='"+o+$KW.skins.getBaseStyle(e,t)+$KU.cssPrefix+"text-security:"+(e.securetextentry?"circle":"none")+(t.layoutDir&&!1===t.ispercent?";float:"+t.layoutDir:"")+"' type = '"+type+"' "+(e.autocapitalize?" autocapitalize='on'":" autocapitalize='off'")+"  onblur='$KW.TextArea.onblurEventHandler(arguments[0], this)' onfocus='$KW.TextArea.onFocusEventHandler(arguments[0], this)'>"+e.text+"</textarea>"},onblurEventHandler:function(e,t){$KW.Utils.resetScrollTopToContainer(e);var n=$KU.getModelByNode(t);n&&$KU.onHideKeypad(n)},onFocusEventHandler:function(e,t){$KU.setActiveInput(t),$KW.Utils.focusBringToView(e)},eventHandler:function(e,t){var n=$KU.getModelByNode(t);if(n){n.canUpdateUI=!1,n.text=t.value,n.canUpdateUI=!0,spaAPM&&spaAPM.sendMsg(n,"ontextchange");var a=$KU.returnEventReference(n.ontextchange);$KU.callTargetEventHandler(n,t,"ontextchange"),a&&$KU.onEventHandler(n)}},textAreaInputEventHandler:function(e,t){var n=$KU.getModelByNode(t);$KAR&&$KAR.sendRecording(n,"enterText",{text:t.value,target:t,eventType:"uiAction"}),t.getAttribute("kcontainerID")?$KW.Utils.updateContainerData(n,t,!1,"input"):$KW.Utils.restrictCharactersSet(t,n)},keyUpEventHandler:function(e,t){var n=$KU.getModelByNode(t);if(n&&(n.canUpdateUI=!1,n.text=t.value,n.canUpdateUI=!0),(10==e.keyCode||13==e.keyCode)&&(spaAPM&&spaAPM.sendMsg(n,"ondone"),n.ondone&&n)){var a=$KU.returnEventReference(n.done||n.ondone);n.blockeduiskin&&$KW.Utils.applyBlockUISkin(n),$KU.callTargetEventHandler(n,t,"ondone"),a&&$KU.onEventHandler(n)}spaAPM&&spaAPM.sendMsg(n,"onkeyup"),$KU.callTargetEventHandler(n,t,"onkeyup")},keyDownEventHandler:function(e,t){var n=$KU.getModelByNode(t);spaAPM&&spaAPM.sendMsg(n,"onkeydown"),$KU.callTargetEventHandler(n,t,"onkeydown")}};
$KW.CheckBoxGroup=function(){var e={initialize:function(){kony.events.addEvent("change","CheckBoxGroup",this.eventHandler)},updateView:function(e,t,i,l){var a=$KU.getNodeByModel(e);switch(a=$KW.Utils.getClonedTemplateNode(a,e,t),t){case"masterdatamap":case"masterdata":var n=$KW.Utils.getMasterData(e);e.selectedkeys&&$KW.Utils.setSelectedValueProperty(e,n,"selectedkeys"),a&&(a.innerHTML=this.generateList(e,n,e.context),$KU.toggleVisibilty(a,n,e));break;case"selectedkeys":var s=document.querySelectorAll("#"+e.pf+" input[name='"+e.id+"']");if(s.length>0){for(var d=0;d<s.length;d++)$KU.inArray(e.selectedkeys,s[d].value)[0]?s[d].checked=!0:s[d].checked=!1;$KW.Utils.setSelectedValueProperty(e,$KW.Utils.getMasterData(e),"selectedkeys")}break;case"viewtype":e.propertyName=i;n=$KW.Utils.getMasterData(e);a&&(a.innerHTML=this.generateList(e,n,e.context),$KU.toggleVisibilty(a,n,e));break;case"checkedimage":case"uncheckedimage":case"size":n=$KW.Utils.getMasterData(e);a&&(a.innerHTML=this.generateList(e,n,e.context),$KU.toggleVisibilty(a,n,e))}},render:function(e,t){e.itemorientation&&(e.orientation=e.itemorientation);var i=$KW.Utils.getMasterData(e),l=$KW.skins.getWidgetSkinList(e,t,i),a="<div"+$KW.Utils.getBaseHtml(e,t)+"class = '"+l+"' style='"+$KW.skins.getBaseStyle(e,t)+(!1===t.ispercent?"display:inline-block":"")+"'>";return e.context=t,"tableview"==e.viewtype||"toggleview"==e.viewtype?a+=this.renderViews(e,i,t):a+=this.generateList(e,i,t),a+="</div>"},renderViews:function(e,t,i){var l="";if(t.length>IndexJL){e.selectedkeys&&$KW.Utils.setSelectedValueProperty(e,t,"selectedkeys"),"toggleview"==e.viewtype&&(l+="<div class='ktable kwt100' style='border: 1px solid gray; border-radius: 10px; overflow: hidden; '>");for(var a=IndexJL;a<t.length;a++)if(null!=t[a][IndexJL]&&null!=t[a][1+IndexJL]){var n,s=e.selectedkeys&&$KU.inArray(e.selectedkeys,t[a][IndexJL])[0]?"checked":"";if("tableview"==e.viewtype)l+="<div style = 'background: red; border: none; height: auto;' class =' kwt100 middleleftalign "+e.skin+"' >",n="checked"==s?"url("+$KU.getImageURL(e.checkedimage)+")":"url("+$KU.getImageURL(e.uncheckedimage)+")",l+="<input style='display : none;' id ='"+e.id+"_label"+a+"' class='middleleftalign' kformname='"+e.pf+"' kwidgettype='"+e.wType+"' type='checkbox' "+s+($KW.Utils.isWidgetDisabled(e,i)?" disabled='true'":"")+" value='"+t[a][IndexJL]+"' name='"+e.id+"' style='  margin-right:3px;' />",l+="<label class='kwt90'  name = '"+e.id+"_label' style=' position: relative; padding-left: 5px; vertical-align: middle; display: inline-block;'>",l+=t[a][1+IndexJL],l+="</label>",l+="<label class='kwt10 middlecenteralign' selected ='"+s+"'  for ='"+e.id+"_label"+a+"'  name = '"+e.id+"_label' style=' background-image: "+n+"; width: "+e.size+"px; height: "+e.size+"px; -webkit-background-size: 100%; background-size:100%; margin-right: 3px; margin-botom: 2px; vertical-align: middle; display: inline-block; '></label>",l+="</div>",l+="<div style='border-top: 1px solid gray'></div>";else"toggleview"==e.viewtype&&(l+="<div style = '  margin-right: 2px; border-right: 1px solid gray; height: auto;' class =' kcell  middlecenteralign "+e.skin+"' >",l+="<input style='display : none;' id ='"+e.id+"_label"+a+"' class='middleleftalign' kformname='"+e.pf+"' kwidgettype='"+e.wType+"' type='checkbox' "+s+($KW.Utils.isWidgetDisabled(e,i)?" disabled='true'":"")+" value='"+t[a][IndexJL]+"' name='"+e.id+"' style='  margin-right:3px;' />",l+="<label class='' for ='"+e.id+"_label"+a+"'   name = '"+e.id+"_label' style=' position: relative; padding-left: 5px; vertical-align: middle; display: inline-block;'>",l+=t[a][1+IndexJL],l+="</label>",l+="</div>")}"toggleview"==e.viewtype&&(l+="</div>")}return l},generateList:function(e,t,i){var l="";if(t.length>IndexJL){e.selectedkeys&&$KW.Utils.setSelectedValueProperty(e,t,"selectedkeys");for(var a=IndexJL;a<t.length;a++)if(null!=t[a][IndexJL]&&null!=t[a][1+IndexJL]){var n=e.selectedkeys&&$KU.inArray(e.selectedkeys,t[a][IndexJL])[0]?"checked":"";if("customview"==e.viewtype){var s;e.itemorientation==constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL?l+="<div style = 'height: auto;"+(!1===i.ispercent?"display:inline'":"' class='kwt100'")+">":l+="<div style = ' display: inline-block; height: auto;' >",s="checked"==n?"url("+$KU.getImageURL(e.checkedimage)+")":"url("+$KU.getImageURL(e.uncheckedimage)+")",l+="<input style='display : none;' id ='"+e.id+"_label"+a+"' class='middlecenteralign' kformname='"+e.pf+"' kwidgettype='"+e.wType+"' type='checkbox' "+n+($KW.Utils.isWidgetDisabled(e,i)?" disabled='true'":"")+" value='"+t[a][IndexJL]+"' name='"+e.id+"' style='  margin-right:3px;' />",l+="<label  selected ='"+n+"'  for ='"+e.id+"_label"+a+"'  name = '"+e.id+"_label' style=' background-image: "+s+"; width: "+e.size+"px; height: "+e.size+"px; -webkit-background-size: 100%; background-size:100%; margin-right: 3px; margin-botom: 2px; vertical-align: middle; display: inline-block; '></label>",l+="<label   name = '"+e.id+"_label' style=' position: relative; padding-left: 5px; vertical-align: middle; display: inline-block;'>",l+=$KU.escapeHTMLSpecialEntities(t[a][1+IndexJL]),l+=e.itemorientation==constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL?"</label><br/></div>":"</div></label>&nbsp;"}else{var d=$KU.getAccessibilityValues(e,t[a][2+IndexJL],t[a][IndexJL]),r="";d.indexOf("aria-hidden")>0&&(r=" aria-Hidden='true' "),e.itemorientation==constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL?l+="<div "+r+" style = 'height: auto;"+(!1===i.ispercent?"display:inline'":"' class='kwt100'")+">":l+="<div "+r+"style = ' display: inline-block; height: auto; text-decoration: inherit;' >",l+="<input class='middlecenteralign' kformname='"+e.pf+"' kwidgettype='"+e.wType+"' type='checkbox' "+n+($KW.Utils.isWidgetDisabled(e,i)?" disabled='true'":"")+d+" value='"+t[a][IndexJL]+"' name='"+e.id+"' style='margin-right:3px;' />",l+=$KU.escapeHTMLSpecialEntities(t[a][1+IndexJL]),l+=e.itemorientation==constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL?"<br/></div>":"</div>&nbsp;"}}}return l},changeImage:function(e,t){$KU.getImageURL(t.checkedimage);"checked"==e.getAttribute("selected")?(e.style.backgroundImage="url("+$KU.getImageURL(t.uncheckedimage)+")",e.setAttribute("selected","")):(e.style.backgroundImage="url("+$KU.getImageURL(t.checkedimage)+")",e.setAttribute("selected","checked"))},eventHandler:function(t,i){var l=i.parentNode.parentNode,a=$KU.getModelByNode(l);if(""===i.getAttribute("checked")?i.removeAttribute("checked"):i.setAttribute("checked",""),a){if("customview"==a.viewtype&&e.changeImage($KU.getNextSibling(i),a),"tableview"==a.viewtype&&e.changeImage($KU.getNextSibling($KU.getNextSibling(i)),a),spaAPM&&spaAPM.sendMsg(a,"onselection"),l.getAttribute("kcontainerID"))$KW.Utils.updateContainerData(a,i,!1);else{var n=a.selectedkeys||(1==IndexJL?[null]:[]);$KW.Utils.setSelectedKeys(a,i.checked,n,i.value),$KW.Utils.setSelectedValueProperty(a,$KW.Utils.getMasterData(a),"selectedkeys");var s=$KU.returnEventReference(a.onselection);s&&($KU.executeWidgetEventHandler(a,s),$KU.onEventHandler(a))}$KAR&&$KAR.sendRecording(a,"click",{selection:i.value,target:l,eventType:"uiAction"})}}};return e}();
$KW.Link={initialize:function(){kony.events.addEvent("click","Link",this.eventHandler)},updateView:function(e,i,t,n){var s=$KU.getNodeByModel(e);if(s)switch(i){case"text":s.childNodes[0].innerHTML=$KU.escapeHTMLSpecialEntities(t)}},render:function(e,i){e.buiskin||(e.buiskin=e.blockeduiskin);var t=$KW.skins.getWidgetSkinList(e,i);t+=" konylink";var n="<div"+$KW.Utils.getBaseHtml(e,i)+"class = '"+t+"' style='display:inline-block;text-align:"+$KW.skins.getContentAlignment(e)+";"+$KW.skins.getBaseStyle(e,i)+(i.layoutDir&&!1===i.ispercent?";float:"+i.layoutDir:"")+"'>",s=$KU.getAccessibilityValues(e);return n+="<a",e.externalurl&&(n+=" onclick='window.open('"+e.externalurl+"');return false;'"),n+=" href='javascript:void(0)' "+($KU.isWindowsPhone?" style='display:inline-block;width:100%;height:100%'":"")+s+">"+$KU.escapeHTMLSpecialEntities(e.text)+"</a>",n+="</div>"},eventHandler:function(e,i){var t=$KU.getModelByNode(i),n=i.getAttribute("kcontainerID");if($KAR&&$KAR.sendRecording(t,"click",{target:i,eventType:"uiAction"}),spaAPM&&spaAPM.sendMsg(t,"onclick"),n)$KW.Utils.updateContainerData(t,i,!0);else if(t.onclick){var s=$KU.returnEventReference(t.onclick);i.setAttribute("selected","progressindtr"),i.setAttribute("progressskin",t.skin),t.blockeduiskin&&$KW.skins.applyBlockUISkin(t),$KU.executeWidgetEventHandler(t,s),$KU.onEventHandler(t)}}};
$KW.HBox=function(){var e={initialize:function(){kony.events.addEvent("click","HBox",this.eventHandler),kony.events.addEvent("onorientationchange","HBox",this.orientationHandler)},orientationHandler:function(e,t){for(var n=document.querySelectorAll("div[aspect-ratio]"),i=0;i<n.length;i++){var r=n[i],o=r.getAttribute("aspect-ratio"),d=r.clientWidth,l=Math.round(1/o*d);r.style.height=l+"px"}},updateView:function(e,t,n,i){},getExtraNodeWidth:function(e){for(var t=0,n=0;n<e.children.length;n++)t+=e[e.children[n]].containerweight;return t>100?0:100-t},render:function(e,t){e.buiskin||(e.buiskin=e.blockeduiskin);kony.model.getWidgetModel(e.pf,t.tabpaneID);var n=$KW.skins.getWidgetAlignmentSkin(e),i=t.topLevelBox,r=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(e,t)[2];r+=" "+$KW.skins.getWidgetAlignmentSkin(e);var o="";i||(o+="<div class = 'krow kwt100' >",o+="<div class = 'kcell kwt100' >"),r+=$KW.skins.getVisibilitySkin(e);var d=" table-layout:fixed;"+$KW.skins.getBaseStyle(e,t);if(o+="<div  class = 'ktable "+r+"'"+$KW.Utils.getBaseHtml(e,t)+" style='"+d+"'>",o+="<div class = 'krow "+n+" kwt100' >",e.children){for(var l=0;l<e.children.length;l++){var a=e[e.children[l]];if(t.vLine="Line"==a.wType,"HBox"===a.wType||"VBox"===a.wType)t.topLevelBox=!1,t.ispercent=e.percent,"HBox"==a.wType?o+=$KW.HBox.render(a,t):o+=$KW.VBox.render(a,t);else{if(!0===e.percent)t.ispercent=!0,o+="<div class = 'kcell "+(a.containerweight?"kwt"+a.containerweight:"auto")+" "+$KW.skins.getWidgetAlignmentSkin(a)+("TPW"==a.wType?" konycustomcss":"")+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(a)+"' >";else t.ispercent=!1;o+=$KW[a.wType].render(a,t),!0===e.percent&&(o+="</div>")}}1==$KG.appbehaviors.adherePercentageStrictly&&!0===e.percent&&(e.dummyNodeWidth=this.getExtraNodeWidth(e),o+="<div class = 'kcell kwt"+e.dummyNodeWidth+"'  ></div>")}return o+="</div></div>",i||(o+="</div></div>"),o},eventHandler:function(e,t){var n=$KU.getModelByNode(t),i=t.getAttribute("kcontainerID");if(n.blockeduiskin&&$KW.skins.applyBlockUISkin(n),spaAPM&&spaAPM.sendMsg(n,"onclick"),$KAR&&$KAR.sendRecording(n,"click",{target:t,eventType:"uiAction"}),i)$KW.Utils.updateContainerData(n,t,!0);else{var r=kony.events.executeBoxEvent(n),o=t.getAttribute("ktabid");!r&&o&&$KW.TabPane&&$KW.TabPane.executeTabEvent(n,t,!0)}},setProgressIndicator:function(e){var t=$KW.Utils.setProgressIndicator(e);e.parentNode.insertBefore(t,e)},addChild:function(t,n){var i=$KU.getNodeByModel(t);if(i&&n.length>0){$KU.updatei18nProperties(n);var r=document.createElement("div");for(r.innerHTML=e.appendChildren(t,n),"HBox"!=t.wType&&t.orientation!=constants.BOX_LAYOUT_HORIZONTAL||(i=i.children[0]);r.children.length>0;)"HBox"!=t.wType&&"ScrollBox"!=t.wType||1!=$KG.appbehaviors.adherePercentageStrictly||!0!==t.percent?i.appendChild(r.children[0]):i.insertBefore(r.children[0],i.lastChild||null);if(1==$KG.appbehaviors.adherePercentageStrictly&&t.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var o=0;o<n.length;o++)t.dummyNodeWidth-=n[o].containerweight;i.lastChild.className="kcell kwt"+t.dummyNodeWidth}kony.appinit.isIE&&"ScrollBox"==t.wType&&t.orientation==constants.BOX_LAYOUT_HORIZONTAL&&$KW.ScrollBox.adjustScrollChildrenWidth(t),$KU.layoutNewWidgets(t,n),$KW.Utils.initializeNewWidgets(n)}},addChildat:function(t,n,i){var r=$KU.getNodeByModel(t);if(r){$KU.updatei18nProperties(n);var o=document.createElement("div");if(o.innerHTML=e.appendChildren(t,n),"HBox"!=t.wType&&t.orientation!=constants.BOX_LAYOUT_HORIZONTAL||(r=r.children[0]),i=i<0?0:i,r.insertBefore(o.childNodes[0],r.childNodes[i]||null),kony.appinit.isIE&&"ScrollBox"==t.wType&&t.orientation==constants.BOX_LAYOUT_HORIZONTAL&&$KW.ScrollBox.adjustScrollChildrenWidth(t),$KU.layoutNewWidgets(t,n),$KW.Utils.initializeNewWidgets(n),1==$KG.appbehaviors.adherePercentageStrictly&&t.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var d=0;d<n.length;d++)t.dummyNodeWidth-=n[d].containerweight;r.lastChild.className="kcell kwt"+t.dummyNodeWidth}}},appendChildren:function(e,t){var n=new $KW.WidgetGenerationContext(e.pf);if("FlexContainer"==e.wType||"FlexScrollContainer"==e.wType)return $KW.FlexContainer.renderChildren(e,t,n);for(var i="",r=0;r<t.length;r++){var o=t[r];if("HBox"==o.wType||"VBox"==o.wType)n.toplevel=!1,"HBox"==o.wType?i+=$KW.HBox.render(o,n):i+=$KW.VBox.render(o,n);else if("HBox"==e.wType||e.orientation==constants.BOX_LAYOUT_HORIZONTAL){if(1==e.percent)n.ispercent=!0,i+="<div class = 'kcell "+("kwt"+o.containerweight)+" "+$KW.skins.getWidgetAlignmentSkin(o)+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(o)+"' >";else n.ispercent=!1;i+=$KW[o.wType].render(o,n),1==e.percent&&(i+="</div>")}else{var d=" krow kwt100 ";i+="<div class = '"+d+"' >",layoutDirection=$KW.skins.getWidgetAlignmentSkin(o),d="kwt100",i+="<div class = '"+(d+=" kcell "+layoutDirection)+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(o)+"' >",i+=$KW[o.wType].render(o,n),i+="</div></div>"}}return i},add:function(){var e=arguments[0];if(e&&"add"in e){var t=[].slice.call(arguments,1);e.add(t)}},addAt:function(e,t,n){null!=t&&e&&e.addAt(t,n)},remove:function(e,t){e&&e.remove(t)},removeAt:function(e,t){return e&&e.removeAt(t)},widgets:function(e){return e&&e.widgets()},DOMremove:function(e,t){var n=$KU.getNodeByModel(e);if(n&&t){("HBox"==e.wType||"ScrollBox"==e.wType&&e.orientation==constants.BOX_LAYOUT_HORIZONTAL)&&(n=n.children[0]);for(var i=0;i<e.children.length;i++)if(t.id==e.children[i]){n.removeChild(n.children[i]);break}}},DOMremoveAll:function(e){var t=$KU.getNodeByModel(e);t&&(("HBox"==e.wType||"ScrollBox"==e.wType&&e.orientation==constants.BOX_LAYOUT_HORIZONTAL)&&(t=t.children[0]),t.innerHTML="")}};return e}();
$KW.VBox={initialize:function(){kony.events.addEvent("click","VBox",this.eventHandler)},updateView:function(e,t,i,n){},render:function(e,t){var i=e.parent,n=t.topLevelBox,s=$KW.skins.getWidgetAlignmentSkin(e),l="",d=" table-layout:fixed;"+$KW.skins.getBaseStyle(e,t),a=$KW.skins.getVisibilitySkin(e);if(n)l+="<div class = 'ktable "+$KW.skins.getWidgetSkinList(e,t)+" "+a+"'"+$KW.Utils.getBaseHtml(e,t)+" style='"+d+"'>";else{var o=e.containerweight;i&&"ScrollBox"==i.wType&&i.totalWt&&kony.appinit.isIE&&(o=Math.floor(100*o/i.totalWt)),$KW.skins.addWidthRule(o),l+="<div class = ' kcell kwt"+o+" "+s+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(e)+"' >",l+="<div class = 'ktable "+$KW.skins.getWidgetSkinList(e,t)+" "+a+"'"+$KW.Utils.getBaseHtml(e,t)+" style='"+d+"'>"}for(var r=e.children?e.children.length:0,k=0;k<r;k++){var c=e[e.children[k]];"HBox"===c.wType||"VBox"===c.wType||"ScrollBox"===c.wType?(t.topLevelBox=!1,"HBox"==c.wType&&(t.ispercent=e.percent),l+=$KW[c.wType].render(c,t)):(t.ispercent=!0,l+="<div class = ' krow kwt100 ' >",l+="<div class = 'kwt100 kcell "+(s=$KW.skins.getWidgetAlignmentSkin(c))+("TPW"==c.wType?" konycustomcss":"")+"' >",l+=$KW[c.wType].render(c,t),l+="</div></div>")}return l+="</div>",n||(l+="</div>"),l},eventHandler:function(e,t){$KW.HBox.eventHandler(e,t)}};
$KW.Line=function(){var e={initialize:function(){kony.events.addEvent("onorientationchange","Line",this.resizeVLines)},initializeView:function(i){e.resizeVLines(i)},updateView:function(e,i,t,n){var o=$KU.getNodeByModel(e);if(o)switch(i){case"thickness":"FlexContainer"!=e.parent.wType&&("V"==o.getAttribute("direction")?o.style.width=t+"px":o.style.borderTopWidth=t+"px")}},render:function(e,i){var t,n=$KW.skins.getWidgetSkinList(e,i),o=e.skin&&this.getColor(e.skin)||"black";if(i.vLine||$KW.FlexUtils.isFlexWidget(e)){var s=i.vLine?"width:"+e.thickness+"px;":"",l=i.vLine?"height:1px;":"",r=i.vLine?"V":"flex";t="<div"+$KW.Utils.getBaseHtml(e,i)+"class='"+n+"' direction='"+r+"' style='background-color:"+o+";"+s+l+"margin:auto;"+$KW.skins.getBaseStyle(e,i)+(!1===i.ispercent?"display:inline-block":"")+"'></div>"}else t="<div"+$KW.Utils.getBaseHtml(e,i)+"class='"+n+"' style='border-top:"+e.thickness+"px solid "+o+";"+$KW.skins.getBaseStyle(e,i)+"'></div>";return t},resizeVLines:function(i,t){var n=document.querySelectorAll("#"+i+" div[kwidgettype='Line'][direction='V']");if(t)for(var o=0;o<n.length;o++){n[o].style.height="1px"}for(o=0;o<n.length;o++)e.resizeVLine(n[o])},resizeVLine:function(e){e.style.height="auto",e.style.height=e.parentNode.clientHeight+"px",e.parentNode.style.width=e.style.width},applySkin:function(e,i){var t=i&&this.getColor(i)||"black";"V"==e.getAttribute("direction")||"flex"==e.getAttribute("direction")?e.style.backgroundColor=t:e.style.borderTopColor=t},getColor:function(e){if(!$KG["line"+e]){var i=document.createElement("div");i.className=e,document.body.appendChild(i),$KG["line"+e]=$KU.getStyle(i,"color"),document.body.removeChild(i)}return $KG["line"+e]}};return e}();
$KW.Segment=function(){var _setModalAttributeToSegmentNodes=function(e,t,n){var i,o,s=[];"true"==t.getAttribute("notinmodal")&&(i=$KG.allforms[e.pf],o=$KU.getPopupModalID(i),$KU.nodeIterator(n,s,o),s.length>0&&$KU.setFlexModalAttribute(s,!0))},module={segmentCounter:0,initialize:function(){kony.events.addEvent("click","Segment",this.eventHandler),kony.events.addEvent("onorientationchange","Segment",this.orientationHandler)},initializeView:function(e){$KU.setScrollBoxesHeight(e,"Segment"),$KW.APIUtils.getModelForContentOffset(e,"Segment")},orientationHandler:function(e,t){$KU.setScrollBoxesHeight(e,"Segment")},adjustFooter:function(e){for(var t=document.querySelectorAll("#"+e+" div[kwidgettype='Segment']"),n=0;n<t.length;n++){var i=$KU.getModelByNode(t[n]),o=document.getElementById($KW.Utils.getKMasterWidgetID(i)+"_footer");o&&(o.style.width=window.innerWidth)}},updateView:function(e,t,n,i){var o=$KU.getNodeByModel(e);switch(t){case"skin":case"askin":case"rowskin":case"alternaterowskin":if(o){if("skin"==t){var s=n,a=i;$KU.removeClassName(o,a),$KU.addClassName(o,s);break}e.hasSections?this.applySectionRowSkin(e,o):(o=o.childNodes[0],this.applyRowSkin(e,o))}break;case"widgetskin":(o=$KW.Utils.getWidgetNode(e))&&($KU.removeClassName(o,i||(e.skin?e.skin:"")),$KU.addClassName(o,n));break;case"sectionskin":case"sectionheaderskin":e.hasSections&&module.applySectionHeaderSkin(e,n);break;case"focusedindex":case"selectedindex":if(n&&this.isSelectionOutOfBound(e,n))return;if(e.__y=0,"focusedindex"==t&&(n=IndexJL?[null,0,n]:[0,n]),e.selectionbehavior!=constants.SEGUI_DEFAULT_BEHAVIOR&&e.viewtype!=constants.SEGUI_VIEW_TYPE_PAGEVIEW){var r=null;if(e.selectedRows=e.selectedRows?e.selectedRows:IndexJL?[null]:[],n)if(e.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR)r=IndexJL?[null,n]:[n],-1!=(d=$KU.arrayIndex(e.selectedRows,n))?r.splice(d,1):r=r;else if(e.selectionbehavior==constants.SEGUI_MULTI_SELECT_BEHAVIOR){var d;-1!=(d=$KU.arrayIndex(e.selectedRows,n))?e.selectedRows.splice(d,1):e.selectedRows.push(n),r=e.selectedRows}r=r&&r.length>IndexJL?r:null,this.setImages(e,r)}else e.selectionbehavior==constants.SEGUI_DEFAULT_BEHAVIOR&&(e.selectedRows=n?IndexJL?[null,n]:[n]:null,this.setSelectedItemsAndIndices(e));if(e.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW){var l=e.swipeContext;if(o){var c=o.children[0],u=n[IndexJL+1];u-IndexJL<=c.children.length&&(l.currentPage=parseInt(u)-IndexJL,$KW.touch.scrollImages(c,l.imageWidth*l.currentPage,$KU.swipeDuration,!1),$KW.touch.updatePageIndicator(o,l,e))}}else o&&module.isLazyLoadingApplicable(e)&&module.isSegmentVisible(e)&&(module.generateAndAdjustSegmentTillGivenIndexReached(e,o,e.selectedindex),module.renderSegmentTillGivenHeight(e,o,!0,module.getHeightByNumberOfPortions(e,3))),n&&o&&this.setFocus(e,o,n);break;case"selectedsectionindex":if(e.hasSections){var g=IndexJL?n:n+1;o&&(o=document.querySelector("#"+o.id+" ul:nth-child("+g+")"))&&$KW.APIUtils.setfocus(e,null,o)}break;case"selectedindices":if(n){r=IndexJL?[null]:[];for(var h=IndexJL;h<n.length;h++)for(var f=parseInt(n[h][0+IndexJL],10),m=n[h][1+IndexJL],p=IndexJL;p<m.length;p++){var I=IndexJL?[null,f,m[p]]:[f,m[p]];this.isSelectionOutOfBound(e,I)||r.push(I)}e.selectionbehavior!=constants.SEGUI_MULTI_SELECT_BEHAVIOR&&(r=IndexJL?[null,r[r.length-1]]:[r[r.length-1]]),r=r.length>IndexJL?r:null}else r=null;e.selectionbehavior==constants.SEGUI_DEFAULT_BEHAVIOR?(e.selectedRows=r,this.setSelectedItemsAndIndices(e)):this.setImages(e,r);break;case"paginationconfig":module.updatePageFooter(e);break;case"septhickness":case"separatorthickness":case"sepcolor":case"separatorcolor":case"separatorrequired":if(o){var x=e.separatorthickness||e.septhickness,v=e.separatorcolor||e.sepcolor,y="[id='"+o.id+"'] li[index"+(e.hasSections?"$='-1']":"]"),w=document.querySelectorAll(y);for(h=0;h<w.length;++h){var S=w[h];if(S.style.border="none",e.separatorrequired){var b=parseInt(v.substring(0,2),16),L=parseInt(v.substring(2,4),16),T=parseInt(v.substring(4,6),16),A=1-parseInt(v.substring(6,8),16)/100;S.style.borderBottom=x+"px solid rgba("+b+","+L+","+T+","+A+")"}}}break;case"needpageindicator":if(e.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW)(o=document.getElementById($KW.Utils.getKMasterWidgetID(e)+"_footer"))&&(n?$KU.removeClassName(o,"hide"):$KU.addClassName(o,"hide"));break;case"pageondotimage":case"pageoffdotimage":(o=document.getElementById($KW.Utils.getKMasterWidgetID(e)+"_footer"))&&(o.innerHTML=module.generatePageFooter(e,e.data||[]));break;case"data":$KU.isArray(n)?this.setData(e,n):null===n&&(e.selectedRows=e.data=null,this.setSelectedItemsAndIndices(e));break;case"viewtype":o=$KU.getNodeByModel(e);if(n!=i&&o){var C=o.parentNode;if(i==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&(C=C.parentNode),C.innerHTML=this.generateSegment(e,e.context),o=$KU.getNodeByModel(e),n==constants.SEGUI_VIEW_TYPE_PAGEVIEW){e.selectionbehavior=constants.SEGUI_DEFAULT_BEHAVIOR,$KW.touch.computeWidths(o,e);var E=new $KW.touch.pageviewScroller(o,{widgetModel:e});$KG[o.id]=E}this.adjustFlexContainers(e,"setdata")}break;case"selectionbehavior":n!=i&&this.setData(e,e.data);break;case"selectionbehaviorconfig":n instanceof Object&&(e.selectionindicator=n.imageIdentifier||n.imageidentifier,e.selectimage=n.selectedStateImage||n.selectedstateimage,e.unselectimage=n.unselectedStateImage||n.unselectedstateimage),e.selectionbehavior!=constants.SEGUI_DEFAULT_BEHAVIOR&&this.setData(e,e.data);break;case"enableScrollBounce":if((o=$KU.getNodeByModel(e))&&e.needScroller){var R=$KG[o.id+"_scroller"];if(R&&(R.options.bounce=e.scrollbounce,R.options.hBounce=e.scrollbounce,R.options.vBounce=e.scrollbounce),"pageview"==e.viewtype){var K=$KG[o.id];K&&(K.options.bounce=e.scrollbounce,K.options.hBounce=e.scrollbounce)}}}},setFocus:function(e,t,n){var i=e.hasSections?"secindex='"+n[0+IndexJL]+","+n[1+IndexJL]+"'":"index='"+n[1+IndexJL]+"'";(t=document.querySelector("#"+t.id+" li["+i+"]"))&&$KW.APIUtils.setfocus(e,null,t)},render:function(e,t){var n=!1,i=0;e.buiskin||(e.buiskin=e.blockeduiskin),(e.retainscrollpositionmode===constants.SEGUI_SCROLL_POSITION_RETAIN||e.retainscrollpositionmode==constants.SEGUI_SCROLL_POSITION_TOP&&e.contentOffset)&&(n=!0),e.retainscrollpositionmode===constants.SEGUI_SCROLL_POSITION_RETAIN&&(i=e.__y,e.__y>=0&&setTimeout(function(){$KW.APIUtils.setContentOffSet(e,{x:0,y:i},!1)},500)),e.retainselection?n||(e.focusedindex=e.focusedindex||0==e.focusedindex?e.focusedindex:null,e.selectedindex=e.selectedindex||null,e.focuseditem=e.focuseditem||null,e.selecteditems=e.selecteditems||null,e.selectedsectionindex=e.selectedsectionindex||0==e.selectedsectionindex?e.selectedsectionindex:null,e.selectedindices=e.selectedindices||null,e.selectedRows=e.selectedRows||null,e.selectedindex&&e.viewtype==constants.SEGUI_VIEW_TYPE_TABLEVIEW&&setTimeout(function(){module.setFocus(e,$KU.getNodeByModel(e),e.selectedindex)},500)):e.selectedRows=e.selectedindices=e.focusedindex=e.focuseditem=e.selectedindex=e.selecteditems=e.selectedsectionindex=e.selectedrowindex=e.selectedrowindices=null,$KU.updateScrollFlag(e);var o=e.selectionbehaviorconfig;o&&o instanceof Object&&(e.selectionindicator=o.imageIdentifier||o.imageidentifier,e.selectimage=o.selectedStateImage||o.selectedstateimage,e.unselectimage=o.unselectedStateImage||o.unselectedstateimage),e.context=t,e.selectedState=!1;var s=e.parent;$KW.FlexUtils.isFlexContainer(s)&&(e.layoutConfig.self=!0);var a=e.listAnimation;return a&&(a.initialized=!1),this.generateSegment(e,t)},generateSegment:function(e,t){var n="",i=e.data||[],o=e.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW;e.selectedsectionindex=IndexJL;var s,a=$KW.FlexUtils.isFlexWidget(e),r=a||e.isvisible&&!(i.length<=IndexJL)?"":"hide",d="kony.ui.SegmentedUI2"==e.name?e.widgetskin?e.widgetskin:"":e.skin?e.skin:"",l=$KW.skins.getBaseStyle(e,t),c=$KW.skins.getPaddingSkin(e);(e.screenLevelWidget&&e.parent.id==e.pf||a&&e.autogrowMode!=kony.flex.AUTOGROW_HEIGHT)&&(s=e.scrollingEvents);var u=e.pf+"_"+e.id,g=$KW.Utils.getMasterIDObj(e);if(""!=g.id&&(u=g.id),t.topLevelBox=!0,o){var h=e.rowSkin||"";n+="<div id='"+u+"_wrapper' style='"+l+";position:relative' class='"+r+" "+d+"' "+g.kmasterid+">",n+="<div  id='"+u+"_scroller' class='scrollerX' kwidgettype='KScrollBox' name='touchcontainer_KScroller' swipeDirection ='vertical' "+g.kmasterid+"><div id='"+u+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee' "+g.kmasterid+">",n+="<div"+$KW.Utils.getBaseHtml(e,t),n+="name='touchcontainer_Segment' class='kstripcontainer  "+h+"'",n+=">",n+="<div id='imgs' class='kstrip' style='"+(kony.appinit.useTransition?"":"position:relative")+"'>"}else n+="<div  id='"+u+"_scroller' class='scrollerX "+r+" "+d+"' kwidgettype='KScrollBox' name='touchcontainer_KScroller' swipeDirection ='vertical' style='"+l+"' "+g.kmasterid+"><div id='"+u+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee' "+g.kmasterid+">",n+=s&&s.onPull?$KU.getPullString(e):"",n+="<div"+$KW.Utils.getBaseHtml(e,t),n+=" style='"+c+"'>";if(i.length>IndexJL&&(o||(e.hasSections=$KU.isArray(i[IndexJL])),o||!1!==e.hasSections||(n+="<ul style='list-style:none'>"),module.isLazyLoadingApplicable(e)||(n+=this.generateRows(e,t,i,!1,IndexJL,IndexJL))),o){var f=module.renderPageFooter(e);e.paginationconfig&&"top"==e.paginationconfig.position?(n=f+n,n+="</div></div>"):(n+="</div></div>",n+="</div></div>",n+=f),n+="</div>"}else!1===e.hasSections?n+="</ul></div>":n+="</div>",n+=s&&s.onPush?$KU.getPushString(e):"",n+="</div></div>";return n},renderPageFooter:function(e){var t=e.data||[];return"<div class='ktable kwt100 "+(!e.isvisible||t.length<=1||!e.needpageindicator?"hide":"")+"' style='"+($KW.FlexUtils.isFlexWidget(e)?"position:absolute;bottom:0px;":"")+module.getPageFooterStyle(e)+"' id='"+$KW.Utils.getKMasterWidgetID(e)+"_footer'>"+this.generatePageFooter(e,t)+"</div>"},getPageFooterStyle:function(e){var t=e.paginationconfig,n=t&&t.vdistance||30,i=t&&t.hdistance||0;return n=t&&"top"==t.position?n:-n,t?"position: relative;z-index: 999;top: "+n+"px; left: "+i+"px;":""},updatePageFooter:function(e){var t=document.getElementById($KW.Utils.getKMasterWidgetID(e)+"_footer");if(t){t.setAttribute("style",module.getPageFooterStyle(e));var n=t.cloneNode(!0),i=t.parentNode;e.paginationconfig&&"top"==e.paginationconfig.position&&(i.removeChild(t),i.insertBefore(n,document.getElementById($KW.Utils.getKMasterWidgetID(e))))}},generateRows:function(e,t,n,i,o,s,a){var r,d,l="",c="",u=0,g=e.separatorcolor,h=0,f=null,m="",p="",I=e.sectionheaderskin||e.sectionskin||"",x="",v=e.rowskin||e.skin||"",y=e.alternaterowskin||e.askin||"",w=e.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW;n=this.invertMapAndData(e,n),e.counter=o;var S=0==a?1:0;if(g&&e.separatorrequired){var b=parseInt(g.substring(0,2),16),L=parseInt(g.substring(2,4),16),T=parseInt(g.substring(4,6),16),A=1-parseInt(g.substring(6,8),16)/100,C=e.separatorthickness+"px solid rgba("+b+","+L+","+T+","+A+")";c="background-clip:padding-box;border-bottom:"+C+";"+(o>IndexJL?"border-top:"+C:"")+";"}for(var E=IndexJL;E<n.length;E++){if(this.segmentCounter=E,x=(h=e.hasSections?n[E].sectionLabel?0:h+1:E-IndexJL)%2==1&&y?y:v,n[E].metainfo&&n[E].metainfo.skin&&(x=n[E].metainfo.skin),n[E].template||e.rowtemplate){var R=t.tabpaneID;t.tabpaneID=""}var K,U="";if((f=n[E].sectionLabel)||""===f)f instanceof Object?("string"==typeof(r=f.template||e.sectionheadertemplate)&&(r=_kony.mvc.initializeSubViewController(r)),$KG.allTemplates[r.id]=r,r.formPathId=e.formPathId,$KU.getAccessibilityValues(e,f.accessibilityConfig,null,o),r&&$KU.getkeys(f).length>0&&(t.topLevelBox=!0,t.container=e,r.pf||_konyConstNS.Form2.addHeaderorFooter.call(r,r),r.isTemplate=!0,K=owl.deepCopy(r,null,!1),$KW.FlexUtils.setRTLtoTemplates(K),""===(m="FlexContainer"==K.wType?this.renderFlexContainer(K,t,f,e,o,s):this.renderHBox(K,t,f,e,o))&&(m=" "),t.topLevelBox=!1,delete t.container,K.transform&&(U=$KW.animUtils.applyTransform(K,K.transform)))):m=""===f?" ":"<div "+$KW.Utils.getBaseHtml(e,t)+">"+f+"</div>",m&&(E==IndexJL?l+="<ul style='list-style:none'>":u==E-IndexJL&&(s++,o=IndexJL,l+="</ul><ul style='list-style:none'>"),u+=e.data[s][1+IndexJL].length>IndexJL?e.data[s][1+IndexJL].length-IndexJL:1,l+="<li style='"+c+(U?$KU.cssPrefix+"transform:"+U:"")+";"+$KW.Utils.getAnchorPoint(K)+"' class='"+I+" middleleftalign'  index='"+s+",-1' secindex='"+s+",-1'>"+m+"</li>"),e.clonedTemplates.splice(s,S,[K||f,[]]);e.seccounter=s,e.rowcounter=o,t.topLevelBox=!0,t.container=e,U="","string"==typeof(d=n[E].template||e.rowtemplate||e)&&(d=_kony.mvc.initializeSubViewController(d)),d.formPathId=e.formPathId,$KG.allTemplates[d.id]=d,d&&!d.pf&&_konyConstNS.Form2.addHeaderorFooter.call(d,d),d.isTemplate=!0;var k=owl.deepCopy(d,null,!1);if($KW.FlexUtils.setRTLtoTemplates(k),$KU.getAccessibilityValues(e,n[E].accessibilityConfig,null,o),p="FlexContainer"==k.wType?this.renderFlexContainer(k,t,n[E],e,o,s):"HBox"==k.wType||"horizontal"==k.orientation?this.renderHBox(k,t,n[E],e,o):this.renderVBox(k,t,n[E],e,o),(n[E].template||e.rowtemplate)&&(t.tabpaneID=R),e.hasSections?e.clonedTemplates[s][IndexJL+1].splice(o,S,k):e.clonedTemplates.splice(o,S,k),t.topLevelBox=!1,delete t.container,k.transform&&(U=$KW.animUtils.applyTransform(k,k.transform)),!i&&p)if(w)l+="<div index="+o+" kwidgettype='KTouchsegment' style='display:none;float: left;width:100%'>";else{var N="";E<n.length-1&&(e.hasSections&&o!=e.data[s][1+IndexJL].length-1?N=c:e.hasSections||(N=c)),l+="<li kwidgettype='Segment' style='"+N+(U?$KU.cssPrefix+"transform:"+U:"")+";"+$KW.Utils.getAnchorPoint(k)+"' index="+o+" class='"+x+"'"+(e.hasSections?" secindex='"+s+","+o+"'":""),l+=">"}l+=p,!i&&p&&(l+=w?"</div>":"</li>"),n.length-IndexJL==E&&e.hasSections&&(l+="</ul>"),o++,e.counter++}return l},generatePageFooter:function(e,t){var n="",i="",o=e.paginationconfig,s=o&&o.hdistance||0;if(t.length>IndexJL){n+="<div class='krow kwt100' "+(!s||0==s?"align='center'":"style='text-align: left;'")+"><div class='kcell'>",e.pageondotimage=e.pageondotimage||"whitedot.gif",e.pageoffdotimage=e.pageoffdotimage||"blackdot.gif";for(var a=IndexJL;a<t.length;a++){var r=t[a].accessibilityConfig&&t[a].accessibilityConfig.a11yHidden?" aria-hidden='true'":" ";i="number"!=typeof e.focusedindex&&a==IndexJL?e.pageondotimage:e.focusedindex==a?e.pageondotimage:e.pageoffdotimage,n+="<span  "+r+" onclick='$KW.touch.navigationDotsHandler(this)' index='"+a+"'><img style='padding-left:4px' src='"+$KU.getImageURL(i)+"' /></span>"}n+="</div></div>"}return n},setData:function(e,t,n){if(!$KU.isArray(t))throw new KonyError(102,"Error","Invalid input.");t.length>IndexJL?(e.hasSections=$KU.isArray(t[IndexJL]),this.modifyContent(e,t,"setdata",null,null,n)):this.removeAll(e)},addAll:function(e,t,n){if(!$KU.isArray(t))throw new KonyError(102,"Error","Invalid input.");$KU.isArray(e.data)||(e.data=IndexJL?[null]:[]),"boolean"!=typeof e.hasSections&&(e.hasSections=$KU.isArray(t[IndexJL])),this.modifyContent(e,t,"addall",null,null,n)},removeAll:function(e,t){this.modifyContent(e,IndexJL?[null]:[],"removeall",null,null,t)},removeAt:function(e,t,n,i){if(isNaN(t)&&(!n||isNaN(n)))throw new KonyError(102,"Error","Invalid input.");$KU.isArray(e.data)&&e.data.length>IndexJL&&this.modifyContent(e,[],"removeat",t,n,i)},setDataAt:function(e,t,n,i,o){if(!(t instanceof Object)||isNaN(n)&&(!i||isNaN(i)))throw new KonyError(102,"Error","Invalid input.");$KU.isArray(e.data)&&e.data.length>IndexJL&&this.modifyContent(e,t,"setdataat",n,i,o)},addAt:function(e,t,n,i){if(e.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW&&$KU.isArray(t))throw new KonyError(103,"Error","Invalid operation.");if(!(t instanceof Object)||isNaN(n)&&(!i||isNaN(i)))throw new KonyError(102,"Error","Invalid input.");$KU.isArray(e.data)||(e.data=IndexJL?[null]:[]),"boolean"!=typeof e.hasSections&&(e.hasSections=$KU.isArray(t)),this.modifyContent(e,t,"addat",n,i)},addDataAt:function(e,t,n,i,o){if(e.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW&&$KU.isArray(t))throw new KonyError(103,"Error","Invalid operation.");if(!(t instanceof Object)||isNaN(n)&&(!i||isNaN(i)))throw new KonyError(102,"Error","Invalid input.");$KU.isArray(e.data)||(e.data=IndexJL?[null]:[]),"boolean"!=typeof e.hasSections&&(e.hasSections=$KU.isArray(t)),this.modifyContent(e,t,"adddataat",n,i,o)},setDataWithSections:function(e,t){if(!$KU.isArray(t)||!$KU.isArray(t[IndexJL]))throw new KonyError(102,"Error","Invalid input.");this.setData(e,t)},addSectionAt:function(e,t,n,i){if("boolean"!=typeof e.hasSections&&$KU.isArray(t[IndexJL])&&(e.hasSections=!0),!1===e.hasSections||e.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW)throw new KonyError(103,"Error","Invalid operation.");if(!$KU.isArray(t[IndexJL]))throw new KonyError(102,"Error","Invalid input.");!0===e.hasSections&&($KU.isArray(e.data)||(e.data=IndexJL?[null]:[]),this.modifyContent(e,t,"addsectionat",IndexJL,n,i))},setSectionAt:function(e,t,n,i){if(!e.hasSections)throw new KonyError(103,"Error","Invalid operation.");if(!$KU.isArray(t)||isNaN(n))throw new KonyError(102,"Error","Invalid input.");$KU.isArray(e.data)&&this.modifyContent(e,t,"setsectionat",IndexJL,n,i)},removeSectionAt:function(e,t,n){if(!e.hasSections)throw new KonyError(103,"Error","Invalid operation.");if(isNaN(t))throw new KonyError(102,"Error","Invalid input.");$KU.isArray(e.data)&&this.modifyContent(e,null,"removesectionat",IndexJL,t,n)},refreshScrollerInstance:function(e){var t=$KU.getNodeByModel(e);if(t&&e.needScroller){var n=$KG[t.id+"_scroller"];if(!n)return;if(n.refresh(),"pageview"==e.viewtype){var i=$KG[t.id];if(!i)return;i.refresh()}}},modifyContent:function(e,t,n,i,o,s){var a=[IndexJL,IndexJL],r=!1;if("addat"==n||"adddataat"==n||"addsectionat"==n?r=!0:"setdata"==n||"removeall"==n?r=a:"addall"==n&&(r=e.hasSections?[e.data.length,IndexJL]:[IndexJL,e.data.length]),a=this.calculateSectionRowIndex(e,i,o,r),e&&!1!==a){o=a[0],i=a[1],e.canUpdateUI=!1,$KW.Utils.updateContent(e,"data",t,n,i,o),this.adjustAlreadySelectedProperties(e,n,o,i),e.canUpdateUI=!0;var d=$KU.getNodeByModel(e);if(e.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&e.data&&e.data.length>IndexJL&&"setdata"==n&&(e.focusedindex=IndexJL,e.selectedindex=IndexJL?[null,IndexJL,IndexJL]:[IndexJL,IndexJL],e.focuseditem=e.data[e.focusedindex],e.selecteditems=e.data[e.selectedindex[1+IndexJL]]),"removeall"!==n&&"setdata"!==n||(e.__y=0),d){if(module.isLazyLoadingApplicable(e)&&-1==["setdata","removeall"].indexOf(n)){if(!module.isSegmentVisible(e))return;if(!module.isRenderRequired(e,d,n,{rowIndex:i,sectionIndex:o}))return}e.context=e.context?e.context:{},e.context.tabpaneID=d.getAttribute("ktabpaneid")||"",$KW.FlexUtils.isFlexWidget(e)||$KU.toggleVisibilty(d.parentNode.parentNode,e.data,e),!1!==e.hasSections||d.firstChild||(d.innerHTML="<ul style='list-style:none'></ul>"),!1!==e.hasSections&&e.viewtype!==constants.SEGUI_VIEW_TYPE_PAGEVIEW||(d=d.childNodes[0]);var l,c=null,u=null,g=null,h=0;switch(e.hasSections&&(g=(u=d.childNodes[o-IndexJL])?u.childNodes:null),"setdata"==n&&(e.clonedTemplates=[]),n){case"setdata":if(e.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW||e.hasSections)d.innerHTML=this.generateRows(e,e.context,e.data,!1,i,o),_setModalAttributeToSegmentNodes(e,d,d);else{d.innerHTML="",this.refreshScrollerInstance(e);var f="";module.isLazyLoadingApplicable(e)||(f=this.generateRows(e,e.context,e.data,!1,i,o)),d.parentNode.innerHTML="<ul style='list-style:none'>"+f+"</ul>",_setModalAttributeToSegmentNodes(e,d,d)}s&&new module.applyRowsAnimationByAPI(e,"setdata",d,0,0,s);break;case"removeall":s?new module.applyRowsAnimationByAPI(e,"removeall",d,0,0,s):(d.innerHTML="",this.refreshScrollerInstance(e));break;case"setsectionat":(p=document.createElement("div")).innerHTML=this.generateRows(e,e.context,IndexJL?[null,t]:[t],!1,i,o,!1),_setModalAttributeToSegmentNodes(e,d,p);var m=p.children[0];new module.applyRowsAnimationByAPI(e,"setsectionat",m,i,o,s),d.replaceChild(m,u);break;case"removesectionat":s&&s.definition?new module.applyRowsAnimationByAPI(e,"removesectionat",u,i,o,s):(d.removeChild(u),e.clonedTemplates.splice(o,1));break;case"addsectionat":for((p=document.createElement("div")).innerHTML=this.generateRows(e,e.context,t,!1,i,o),_setModalAttributeToSegmentNodes(e,d,p),h=p.children.length,new module.applyRowsAnimationByAPI(e,"addsectionat",p.childNodes,i,o,s);p.children.length>0;)d.insertBefore(p.childNodes[0],u);break;case"addall":var p=document.createElement("div");if(e.hasSections){h=t.length;for(var I=o,x=IndexJL;x<t.length;x++){for(p.innerHTML=this.generateRows(e,e.context,IndexJL?[null,t[x]]:[t[x]],!1,i,I),_setModalAttributeToSegmentNodes(e,d,p),new module.applyRowsAnimationByAPI(e,"addall",p.childNodes,i,I,s);p.children.length>0;)d.appendChild(p.childNodes[0]);I++}}else for(p.innerHTML=this.generateRows(e,e.context,t,!1,i,o),_setModalAttributeToSegmentNodes(e,d,p),new module.applyRowsAnimationByAPI(e,"addall",p.childNodes,i,o,s);p.children.length>0;)d.appendChild(p.childNodes[0]);break;case"setdataat":if(e.hasSections)(c=g[i-IndexJL+1]).innerHTML=this.generateRows(e,e.context,IndexJL?[null,t]:[t],!0,i,o,!1),_setModalAttributeToSegmentNodes(e,d,c);else(c=d.childNodes[i-IndexJL]).innerHTML=this.generateRows(e,e.context,IndexJL?[null,t]:[t],!0,i,o,!1),_setModalAttributeToSegmentNodes(e,d,c);c&&new module.applyRowsAnimationByAPI(e,"setdataat",c,i,o,s),$KU.addAriatoElement(c.firstChild,t.accessibilityConfig,e);break;case"removeat":if(s&&s.definition){var v=e.hasSections?g[i+1]:d.childNodes[i];v.setAttribute("nodeToBeRemoved","true"),new module.applyRowsAnimationByAPI(e,"removeat",v,i,o,s)}else e.hasSections?(u.removeChild(g[i-IndexJL+1]),e.clonedTemplates[o][1].splice(i,1)):(d.removeChild(d.childNodes[i-IndexJL]),e.clonedTemplates.splice(i,1));e.hasSections&&e._searchCondition&&module.toggleHeaderVisibility(e,u);break;case"addat":case"adddataat":var y,w=this.generateRows(e,e.context,IndexJL?[null,t]:[t],!1,i,o),S=document.createElement("div"),b=!0;w&&(S.innerHTML=w,_setModalAttributeToSegmentNodes(e,d,S),new module.applyRowsAnimationByAPI(e,"adddataat",S.childNodes[0],i,o,s),e.hasSections?u&&("none"===u.style.display&&(u.style.display=""),"none"===u.parentNode.style.display&&(u.parentNode.style.display=""),u.insertBefore(S.childNodes[0],g[i-IndexJL+1])):("none"===d.style.display&&(d.style.display=""),"none"===d.parentNode.style.display&&(d.parentNode.style.display=""),y=d.childNodes[i-IndexJL]||null,d.insertBefore(S.childNodes[0],y)))}var L=!0;if("removeat"!=n&&"removeall"!=n&&"removesectionat"!=n||!s||(L=!1),"addat"!=n&&"adddataat"!=n&&"removeat"!=n&&"addall"!=n&&"addsectionat"!=n&&"removesectionat"!=n||!L||(e.hasSections?(this.adjustSectionIndex(d),this.applySectionRowSkin(e,d)):($KU.adjustNodeIndex(d,i,"index"),this.applyRowSkin(e,d))),e.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW)if(e.isvisible&&e.data.length>IndexJL&&$KW.touch.computeWidths(d.parentNode,e),e.needpageindicator)$KU.getElementById($KW.Utils.getKMasterWidgetID(e)+"_footer").innerHTML=this.generatePageFooter(e,e.data);e.context.tabpaneID="",$KW.Line&&e.data&&e.data.length>IndexJL&&$KW.Line.initializeView($KW.Utils.getKMasterWidgetID(e));var T,A,C,E,R;e.data;if(e.isvisible&&this.adjustFlexContainers(e,n,o,i,h,b),module.updateTemplateContextAfterModifyData(e),e.clonedTemplates.length)if(e.hasSections)for(T=["addsectionat","setsectionat","adddataat","setdataat"].indexOf(n)>=0?o+1:"addall"===n||"setdata"===n?e.clonedTemplates.length:o,x=o;x<T;x++)for(E=e.clonedTemplates[x],["addsectionat","setsectionat","addall","setdata"].indexOf(n)>=0&&(R=E[0],(c=$KW.Segment.getNodeByContext(e,R.rowContext,R))&&$KW.Utils.processContainerGestures(R,c)),A="adddataat"===n||"setdataat"===n?i+1:E[1].length,C=i;C<A;C++)R=E[1][C],(c=$KW.Segment.getNodeByContext(e,R.rowContext,R))&&$KW.Utils.processContainerGestures(R,c);else for(T="addall"===n||"setdata"===n?e.clonedTemplates.length:"adddataat"===n||"setdataat"===n?i+1:i,x=i;x<T;x++)R=e.clonedTemplates[x],(c=$KW.Segment.getNodeByContext(e,R.rowContext,R))&&$KW.Utils.processContainerGestures(R,c);var K=e.listAnimation,U=!0;K&&("removeat"!=n&&"removeall"!=n&&"removesectionat"!=n||!s||(U=!1),U&&K.syncList(),e.onrowdisplay&&s&&(l={action:n,rowIndex:i,sectionIndex:o,newItems:t?t.length:null},K.onRowDisplayHandler(l))),"removeall"==n&&(e.clonedTemplates=[]),$KW.FlexUtils.updateAutoGrowFlexConfig(e)}}},adjustFlexContainers:function(e,t,n,i,o,s){$KU.needOptimization=!1;var a,r,d,l=$KU.getNodeByModel(e),c="FlexContainer";switch(t){case"setdata":this.adjustFlexContainersInSegment(e,l),this.initializeNewWidgets(l);break;case"setdataat":case"addat":case"adddataat":if(I=module.getNodeByContext(e,{rowIndex:i,sectionIndex:n})){if(v=I.querySelector("div[kwidgettype='"+c+"']")){var u=this.getClonedModel(e,i,n);$KW.FlexContainer.forceLayout(u,v.parentNode)}this.initializeNewWidgets(I),e._searchCondition&&e._config.updateSegment&&(module.isRowVisible(e,I,i,n),e.hasSections&&e._config.showSectionHeaderFooter&&("setdataat"===t||"adddataat"===t&&s)&&module.toggleHeaderVisibility(e,l.childNodes[n]))}break;case"addall":if(e.hasSections)for(var g=l.childNodes,h=n,f=e.data,m=0;m<o;m++){if(v=(x=g[h]).querySelector('[secIndex="'+h+',-1"] div[kwidgettype="FlexContainer"]')){u=this.getClonedModel(e,-1,h);$KW.FlexContainer.forceLayout(u,v.parentNode)}if(this.adjustFlexContainersInRows(e,x,f[h][1],h),this.initializeNewWidgets(x),e._searchCondition&&e._config.updateSegment){for(r=(a=x.childNodes).length,d=0;d<r&&a[d+1];d++)i=a[d+1].getAttribute("index"),i=parseInt(i),module.isRowVisible(e,a[d+1],i,h);e._config.showSectionHeaderFooter&&module.toggleHeaderVisibility(e,x)}h++}else{var p=(x=l.childNodes[n]).childNodes;for(m=i;m<p.length;m++){var I;if(v=(I=p[m]).querySelector("div[kwidgettype='"+c+"']")){u=this.getClonedModel(e,m,n);$KW.FlexContainer.forceLayout(u,v.parentNode)}this.initializeNewWidgets(I),e._searchCondition&&e._config.updateSegment&&module.isRowVisible(e,I,m,n)}}break;case"addsectionat":case"setsectionat":g=l.childNodes,h=n;"setsectionat"==t&&(o=1);for(f=e.data,m=0;m<o;m++){var x,v;if(v=(x=g[h]).querySelector('[secIndex="'+h+',-1"] div[kwidgettype="FlexContainer"]')){u=this.getClonedModel(e,-1,h);$KW.FlexContainer.forceLayout(u,v.parentNode)}if(this.adjustFlexContainersInRows(e,x,f[h][1],h),this.initializeNewWidgets(x),e._searchCondition&&e._config.updateSegment){for(r=(a=x.childNodes).length,d=0;d<r&&a[d+1];d++)i=a[d+1].getAttribute("index"),i=parseInt(i),module.isRowVisible(e,a[d+1],i,h);e._config.showSectionHeaderFooter&&module.toggleHeaderVisibility(e,x)}h++}}($KU.needOptimization=!0,$KW.FlexUtils.isFlexWidget(e)&&!e.needScroller&&e.autogrowMode==kony.flex.AUTOGROW_HEIGHT&&e.viewtype==constants.SEGUI_VIEW_TYPE_TABLEVIEW)&&(e.parent.layoutConfig.children=!0)},initializeNewWidgets:function(e){$KW.Slider&&$KW.Slider.initializeView(null,e),$KW.Switch&&$KW.Switch.initializeView(null,e)},adjustFlexContainersInSegment:function(e,t){var n=e.data;if(n&&n.length>0){if(module.isLazyLoadingApplicable(e)){if(!module.isSegmentVisible(e)||!e.frame.height)return;if(!e.hasSections&&0==t.children[0].children.length||e.hasSections&&0==t.children.length)return e.clonedTemplates=[],module.adjustFlexContainersInSegmentAtRenderTime(e,t),void(e.previousHeight=e.frame.height);e.previousHeight&&e.previousHeight<e.frame.height&&(e.needToRenderMore=!0),e.previousHeight=e.frame.height,e.currentPortion=module.getPortionNumber(e)}if(e.hasSections){for(var i=n.length,o=t.childNodes,s=0;s<i;s++){var a=module.getNodeByContext(e,{rowIndex:-1,sectionIndex:s});if(a){var r=a.querySelector('div[kwidgettype="FlexContainer"]');if(r){var d=this.getClonedModel(e,-1,s);$KW.FlexContainer.forceLayout(d,r.parentNode)}}this.adjustFlexContainersInRows(e,o[s],n[s][1],s)}e._searchCondition&&e._config.updateSegment&&(module.setFilterResultOnRenderedData(e,t),module.setResultOnSegmentHeader(e))}else this.adjustFlexContainersInRows(e,t,n);e._searchCondition&&e._config.updateSegment&&module.setFilterResultOnRenderedData(e,t)}module.isLazyLoadingApplicable(e)&&e.needToRenderMore?(e.currentPortion=module.getPortionNumber(e),module.renderSegmentTillGivenHeight(e,t,!0,module.getHeightByNumberOfPortions(e,4)),e.needToRenderMore=!1):e.autogrowMode==kony.flex.AUTOGROW_HEIGHT&&e.viewtype==constants.SEGUI_VIEW_TYPE_TABLEVIEW&&$KW.FlexUtils.isFlexWidget(e)&&e.previousHeight&&module.onHeightChangedToPreferredFromFixed(e,t)},adjustFlexContainersInRows:function(e,t,n,i,o){if(n&&n.length>0)for(var s=n.length,a=0;a<s;a++){var r=module.getNodeByContext(e,{rowIndex:a,sectionIndex:i});if(r){var d=r.querySelector('div[kwidgettype="FlexContainer"]');if(d){var l=this.getClonedModel(e,a,i);d=d.parentNode,o?this.setFlexRowTemplateHeight(l,d):$KW.FlexContainer.forceLayout(l,d)}}}},getClonedModel:function(e,t,n){return e.hasSections?-1==t||void 0===t?e.clonedTemplates[n][0]:e.clonedTemplates[n][IndexJL+1][t]:e.clonedTemplates[t]},getContextByNode:function(e,t){var n=$KU.getParentByAttribute(t,"index");if(e.hasSections){var i=n.getAttribute("secindex").split(",");return{sectionIndex:parseInt(i[0]),rowIndex:parseInt(i[1])}}return{rowIndex:parseInt(n.getAttribute("index"))}},getClonedModelOfWidget:function(e,t,n){var i=$KW.Utils.getContainerModelById(t,n);if(i){var o=module.getContextByNode(i,t);return module.getClonedModel(i,o.rowIndex,o.sectionIndex)[e.id]}},getNodeByContext:function(e,t,n){var i=$KU.getNodeByModel(e);if(i&&t){var o,s=t.sectionIndex,a=t.rowIndex;if(e.hasSections?$KU.isDefined(s)&&$KU.isDefined(a)?o="secindex='"+s+","+a+"'":$KU.isDefined(s)&&(o="secindex='"+s+",-1'"):$KU.isDefined(a)&&(o="index='"+a+"'"),o){var r=i.querySelector("["+o+"]");if(r)return n?$KW.Utils.getWidgetNode(n,r):r}}},updateDataByContext:function(e,t){var n=e.containerModel;if(n&&e&&t){var i=n.data;if(i&&i.length>0){var o,s=e.sectionIndex,a=e.rowIndex;if(n.hasSections?$KU.isDefined(s)&&$KU.isDefined(a)?o=i[s][1][a]:$KU.isDefined(s)&&(o=i[s][0]):$KU.isDefined(a)&&(o=i[a]),o){var r=e.widgetModel;if(r){var d=n.widgetdatamap,l=o[d?d[r.id]:r.id];if(!(l instanceof Object))return;for(var c in t)$KU.isDefined(t[c])&&(l[c]=t[c])}}}}},getAutoGrowSegmentHeight:function(e,t){var n=e.data,i=$KU.getNodeByModel(e);if(n&&n.length>0){if(e.hasSections)for(var o=n.length,s=i.childNodes,a=0;a<o;a++){var r=s[a].childNodes[0];if(r){var d=r.querySelector('div[kwidgettype="FlexContainer"]');if(d){var l=$KU.getModelByNode(d);d=d.parentNode,this.setFlexRowTemplateHeight(l,d)}}this.adjustFlexContainersInRows(e,s[a],n[a][1],a,!0)}else this.adjustFlexContainersInRows(e,i,n,void 0,!0);return t.offsetHeight}},setFlexRowTemplateHeight:function(e,t){var n=t.childNodes[0].getAttribute("kcontainerID");n&&$KW.Utils.updateContainerDataInDOM(t,n),$KW.FlexUtils.setFlexContainerStyle(e,t)},adjustSectionIndex:function(e){for(var t,n,i=e.childNodes,o=0;o<i.length;o++){for(var s=i[o].childNodes,a=1;a<s.length;a++)t=o+IndexJL+","+(a+IndexJL-1),n=a+IndexJL-1,s[a].setAttribute("index",n),s[a].setAttribute("secindex",t);s[0]&&(s[0].setAttribute("index",o+IndexJL+",-1"),s[0].setAttribute("secindex",o+IndexJL+",-1"))}},applySectionRowSkin:function(e,t,n,i){for(var o,s=t.childNodes,a=e.alternaterowskin||e.askin||"",r=e.rowskin||e.skin||"",d="",l=!0,c=i=i||0;c<s.length;c++){var u=s[c].childNodes,g=1;l&&(l=!1,n&&-1!=n&&(g=n));for(var h=g;h<u.length;h++){var f=module.getContextByNode(e,u[h]);if((o=e.data[c+IndexJL][h])&&(o.metainfo=o.metaInfo||o.metainfo),d=o&&o.metainfo&&o.metainfo.skin||(h%2==0&&a?a:r),u[h].className=d,e.separatorthickness&&e.separatorcolor){if(!e.separatorrequired){u[h].style.borderBottom="none";continue}if(f.rowIndex==e.data[f.sectionIndex][1])continue;var m=parseInt(e.separatorcolor.substring(0,2),16),p=parseInt(e.separatorcolor.substring(2,4),16),I=parseInt(e.separatorcolor.substring(4,6),16),x=1-parseInt(e.separatorcolor.substring(6,8),16)/100;u[h].style.borderBottom=e.separatorthickness+"px solid rgba("+m+","+p+","+I+","+x+")"}}}},invertMapAndData:function(e,t){var n=e.widgetdatamap;if(n){n=$KU.isArray(n)?n[IndexJL]:n;for(var i=$KU.getkeys(n),o={},s=IndexJL?[null]:[],a=0;a<i.length;a++)o[n[i[a]]]=i[a];var r=$KU.getkeys(o);if(t[IndexJL]instanceof Array){var d,l=IndexJL;for(a=IndexJL;a<t.length;a++){var c=t[a][1+IndexJL];if(s[l]={},(d=t[a][IndexJL])&&"string"==typeof d&&-1!=d.toLowerCase().indexOf("i18n.getlocalizedstring"))s[l].sectionLabel=$KU.getI18NValue(d);else if(d instanceof Object){for(var u in s[l].sectionLabel={},d)if(o[u]){var g=d[u];g&&"string"==typeof g&&-1!=g.toLowerCase().indexOf("i18n.getlocalizedstring")?s[l].sectionLabel[o[u]]=$KU.getI18NValue(g):s[l].sectionLabel[o[u]]=g}d.template&&(s[l].sectionLabel.template=d.template),d.accessibilityConfig&&(s[l].sectionLabel.accessibilityConfig=d.accessibilityConfig)}else s[l].sectionLabel=d;for(var h=IndexJL;h<c.length;h++,l++){s[l]=s[l]||{};for(var f=0;f<r.length;f++){(m=c[h][r[f]])&&"string"==typeof m&&-1!=m.toLowerCase().indexOf("i18n.getlocalizedstring")?s[l][o[r[f]]]=$KU.getI18NValue(m):s[l][o[r[f]]]=m}(p=c[h].metainfo||c[h].metaInfo)&&(s[l].metainfo=p),c[h].template&&(s[l].template=c[h].template),c[h].accessibilityConfig&&(s[l].accessibilityConfig=c[h].accessibilityConfig)}c.length==IndexJL&&l++}}else for(a=IndexJL;a<t.length;a++){s[a]={};for(h=0;h<r.length;h++){var m;(m=t[a][r[h]])&&"string"==typeof m&&-1!=m.toLowerCase().indexOf("i18n.getlocalizedstring")?s[a][o[r[h]]]=$KU.getI18NValue(m):s[a][o[r[h]]]=m}var p;if(p=t[a].metainfo||t[a].metaInfo){s[a].metainfo=$KU.cloneObj(p);for(h=0;h<r.length;h++)s[a].metainfo[r[h]]&&(s[a].metainfo[o[r[h]]]=p[r[h]],o[r[h]]!=r[h]&&delete s[a].metainfo[r[h]])}t[a].template&&(s[a].template=t[a].template),t[a].accessibilityConfig&&(s[a].accessibilityConfig=t[a].accessibilityConfig)}return s}return t},updateImageIdentifier:function(e,t){if("Segment"==t.wType&&t.selectionindicator==e.id&&"default"!=t.behavior&&t.selectimage&&t.unselectimage){var n=$KU.inArray(t.selectedRows,IndexJL?[null,t.seccounter,t.rowcounter]:[t.seccounter,t.rowcounter])[0]?t.selectimage:t.unselectimage;e.src=n}},renderFlexContainer:function(e,t,n,i,o,s){var a,r="",d="",l=0,c="",u="",g="",h=n[$KW.Utils.getWidgetPathByModel(e)];if($KW.Utils.updateChildModel(e,h),!e.isvisible)return"";e.pf===e.id&&module.updateTemplateContext(e,o,s),this.applyWidgetFocusSkin(h,e,i);var f=$KW.skins.getWidgetSkinList(e,t),m=" position:relative;"+(1==e.clipbounds?"overflow:hidden;":"")+(e.zindex?"z-index:"+e.zindex:"")+$KW.skins.getBaseStyle(e,t);r+="<div id='flexcontainer_wrapper' class=' ' style='"+$KW.skins.getMarginSkin(e,t)+"'>",r+="<div class = 'kwt100 "+f+"'"+$KW.Utils.getBaseHtml(e,t)+" style='"+m+"'>";var p=e.widgets();a=p.length;for(var I=0;I<a;I++){var x=p[I];h=n[$KW.Utils.getWidgetPathByModel(x)];if($KW.Utils.updateChildModel(x,h),"Image"==x.wType&&module.updateImageIdentifier(x,t.container),x.isvisible){this.applyWidgetFocusSkin(h,x,i);var v="kcell "+$KW.skins.getWidgetAlignmentSkin(x)+("TPW"==x.wType?"  konycustomcss ":""),y=(c=$KW.FlexUtils.getFlexLayoutStyle(x)," ");"FlexContainer"!=x.wType&&"FlexScrollContainer"!=x.wType||x.clipbounds?(y=";overflow:hidden",y+="FlexContainer"==x.wType?";"+$KU.cssPrefix+"box-shadow:none":"",v+=x.skin):y=";overflow:visible",u="<div class = '"+v+"' style='"+c+y+"'>",g="</div>","FlexContainer"==x.wType||"HBox"==x.wType||"VBox"==x.wType?(t.topLevelBox=!0,(d="FlexContainer"==x.wType?this.renderFlexContainer(x,t,n,i,o,s):"HBox"==x.wType?this.renderHBox(x,t,n,i):this.renderVBox(x,t,n,i))?r+=u+d+g:l++):void 0!==h&&""!=h||"Line"==x.wType?r+=u+$KW[x.wType].render(x,t)+g:l++}}return a==l?"":r+="</div></div>"},updateTemplateContext:function(e,t,n){var i,o,s=e.children;if(e.rowContext={rowIndex:t,sectionIndex:n},s)for(o=0;o<s.length;o++)i=e[s[o]],(i=$KW.Utils.getActualWidgetModel(i))&&i.children&&0!=i.children.length?module.updateTemplateContext(i,t,n):i.rowContext={rowIndex:t,sectionIndex:n}},updateTemplateContextAfterModifyData:function(e){var t,n,i,o=e.clonedTemplates,s=e.clonedTemplates.length;if(e.hasSections)for(n=0;n<s;n++){var a=o[n];for(t=a[0],module.updateTemplateContext(t,-1,n),i=0;i<a[1].length;i++)t=a[1][i],module.updateTemplateContext(t,i,n)}else for(n=0;n<s;n++)t=o[n],module.updateTemplateContext(t,n,0)},renderHBox:function(e,t,n,i,o){var s,a,r=t.topLevelBox,d=$KW.skins.getWidgetAlignmentSkin(e),l="",c="",u=0,g="",h=n[e.id];if($KW.Utils.updateChildModel(e,h),!e.isvisible)return"";var f="",m="";if(r?(f="kwt100 kbasemargin",i.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&(g=$KW.skins.getPaddingSkin(i)),m=$KU.getAccessibilityValues(e,n.accessibilityConfig,null,o)):l+="<div class = 'krow kwt100' ><div class = 'kcell kwt100'>",f+=$KW.skins.getWidgetSkinList(e,t),f+=" "+$KW.skins.getWidgetAlignmentSkin(e),a=$KW.skins.getMarginSkin(e,t)+(""==g?$KW.skins.getPaddingSkin(e):g),l+="<div class = 'ktable "+f+"'"+m+$KW.Utils.getBaseHtml(e,t)+"style='table-layout:fixed;"+a+"'><div class = 'krow "+d+" kwt100'>",e.children){s=e.children.length;for(var p=e.children.length,I=0;I<p;I++){var x=e[e.children[I]];t.vLine="Line"==x.wType;var v=x.id;t.ispercent=e.percent;h=n[v];if(this.applyWidgetFocusSkin(h,x,i),$KW.Utils.updateChildModel(x,h),"Image"==x.wType&&module.updateImageIdentifier(x,t.container),x.isvisible)if("HBox"==x.wType||"VBox"==x.wType)t.topLevelBox=!1,(c="HBox"==x.wType?this.renderHBox(x,t,n,i):this.renderVBox(x,t,n,i))?l+=c:u++;else{t.ispercent=e.percent;var y,w=$KW.skins.getWidgetAlignmentSkin(x);y=x.containerweight?"kwt"+x.containerweight:"auto","Line"==x.wType&&(y="auto");f=w+" "+y;("Segment"==e.wType||"Segment"!=e.wType&&1==e.percent)&&(l+="<div class = 'kcell "+f+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(x)+"'>"),void 0!==h&&""!=h||"Line"==x.wType||"FlexContainer"==x.wType?l+="FlexContainer"==x.wType?this.renderFlexContainer(x,t,n,i):$KW[x.wType].render(x,t):u++,("Segment"==e.wType||"Segment"!=e.wType&&1==e.percent)&&(l+="</div>")}}}return 1==$KG.appbehaviors.adherePercentageStrictly&&!0===e.percent&&(e.dummyNodeWidth=$KW.HBox.getExtraNodeWidth(e),l+="<div class = 'kcell kwt"+e.dummyNodeWidth+"'  ></div>"),s==u?"":(l+="</div></div>",r||(l+="</div></div>"),l)},renderVBox:function(e,t,n,i,o){var s,a=t.topLevelBox,r=$KW.skins.getWidgetAlignmentSkin(e),d="",l="",c="",u=0,g="",h=n[e.id];if($KW.Utils.updateChildModel(e,h),!e.isvisible)return"";if(a)i.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&(g=$KW.skins.getPaddingSkin(i)),d+="<div  class = 'kwt100 kbasemargin ktable'"+$KW.Utils.getBaseHtml(e,t,null,n.accessibilityConfig,o)+" style='table-layout:fixed;"+g+"'>";else{var f="kwt"+e.containerweight+" "+r;d+="<div class = ' kcell "+f+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(e)+"' >",f=$KW.skins.getWidgetSkinList(e,t),l=$KW.skins.getMarginSkin(e,t)+$KW.skins.getPaddingSkin(e,t),d+="<div class = ' ktable "+f+"'"+$KW.Utils.getBaseHtml(e,t)+"style= 'table-layout:fixed;"+l+"'>"}if(e.children){s=e.children.length;for(var m=0;m<e.children.length;m++){var p=e[e.children[m]];h=n[p.id];(this.applyWidgetFocusSkin(h,p,i),$KW.Utils.updateChildModel(p,h),"Image"==p.wType&&module.updateImageIdentifier(p,t.container),p.isvisible)&&("VBox"==p.wType||"HBox"==p.wType?(t.topLevelBox=!1,(c="HBox"==p.wType?this.renderHBox(p,t,n,i):this.renderVBox(p,t,n,i))?d+=c:u++):(d+="<div class = 'krow kwt100' >",f="kwt100",d+="<div class = 'kcell "+(f+=" "+(r=$KW.skins.getWidgetAlignmentSkin(p)))+"'>",void 0!==h&&""!=h||"Line"==p.wType||"FlexContainer"==p.wType?d+="FlexContainer"==p.wType?this.renderFlexContainer(p,t,n,i):$KW[p.wType].render(p,t):u++,d+="</div></div>"))}}return s==u?"":(d+="</div>",a||(d+="</div>"),d)},applyWidgetFocusSkin:function(e,t,n){var i=$KW.Utils.getKMasterWidgetID(n),o=$KW.Utils.getKMasterWidgetID(t);if(e&&e.focusSkin){var s="";s=n.hasSections?"#"+i+" li[secindex='"+n.seccounter+","+n.rowcounter+"'] #"+o+":active":"#"+i+" li[index='"+n.rowcounter+"'] #"+o+":active",$KW.skins.applyStyle(e.focusSkin,s,n.wType)}},applyRowSkin:function(e,t,n){var i,o=t.childNodes,s=e.alternaterowskin||e.askin||"",a=e.rowskin||e.skin||"",r="";if("pageview"!=e.viewType){for(var d=n=n||0;d<o.length;d++)if((i=e.data[d+IndexJL])&&(i.metainfo=i.metaInfo||i.metainfo),r=i&&i.metainfo&&i.metainfo.skin||(d%2!=0&&s?s:a),o[d].className=r,d<o.length-1&&e.separatorthickness&&e.separatorcolor){if(!e.separatorrequired){o[d].style.borderBottom="none";continue}var l=parseInt(e.separatorcolor.substring(0,2),16),c=parseInt(e.separatorcolor.substring(2,4),16),u=parseInt(e.separatorcolor.substring(4,6),16),g=1-parseInt(e.separatorcolor.substring(6,8),16)/100;o[d].style.borderBottom=e.separatorthickness+"px solid rgba("+l+","+c+","+u+","+g+")"}}else t.parentElement.className="kstripcontainer "+a},applySectionHeaderSkin:function(e,t){var n=$KU.getNodeByModel(e);if(n)for(var i=n.id,o=document.querySelectorAll("#"+i+">ul>li:first-child"),s=0;s<o.length;s++){var a=o[s];a.style.border="none",a.className=t+" middleleftalign"}},isClickableWidget:function(e){return!e.isContainerWidget&&"Label"!=e.wType&&"Image"!=e.wType&&"RichText"!=e.wType},updateData:function(e,t,n,i,o,s){if(n&&i){var a,r=parseInt(i.getAttribute("index")),d=0+IndexJL,l=n.data,c=null,u=n.selectedrowindex;if(n.hasSections&&(a=i.getAttribute("secindex").split(","),d=parseInt(a[0])),n.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR&&(n.hasSections?n.selectedsectionindex==d&&n.focusedindex==r:n.focusedindex==r))return;if(n.hasSections)if(n.selectedsectionindex=d,-1!=(r=parseInt(a[1])))c=l[d][1+IndexJL][r];else c=l[d][0+IndexJL];else n.selectedsectionindex=d,c=n.data[r];-1!=r&&(n.focusedindex=r,n.selectedindex=IndexJL?[null,d,r]:[d,r],n.focuseditem=c,n.selectedrowindex=IndexJL?[null,d,r]:[d,r],n.selectionindicator&&n.selectionbehavior!=constants.SEGUI_DEFAULT_BEHAVIOR||(n.selecteditems=IndexJL?[null,c]:[c])),n.currentIndex=[d,r],c&&(c.metainfo=c.metaInfo||c.metainfo);var g=!c||!c.metainfo||c.metainfo.clickable;if(n.selectionindicator&&n.selectionbehavior!=constants.SEGUI_DEFAULT_BEHAVIOR&&-1!=r&&(this.isClickableWidget(e)?n.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR&&(n.focusedindex=u,n.selectedrowindex=u):this.toggleRowSelection(n,i.parentNode)),n.selectionbehavior==constants.SEGUI_DEFAULT_BEHAVIOR){var h=IndexJL?[null]:[],f=IndexJL?[null,n.selectedsectionindex,r]:[n.selectedsectionindex,r];h.push(f),n.selectedRows=h&&h.length>IndexJL?h:null,this.setSelectedItemsAndIndices(n)}if(n.selectedrowindices=n.selectedindices,$KW.Utils.updateContainerMasterData(n,c,e,t,s),n.currentIndex=[d,r],g&&o){if(this.setProgressIndicator(i,n),!n.onclick&&!n.onrowclick||t.getAttribute("kcontainerID")){var m=IndexJL?[null,d,r]:[d,r],p=kony.events.executeBoxEvent(e,module.getRowDataByIndex(n,m),n);if(-1!=r){if(x=module.getRowDataByIndex(n,IndexJL?[null,d,r]:[d,r]))I=$KU.returnEventReference(x.onClick||x.onclick||x.onRowClick||x.onrowclick||n.onclick||n.onrowclick);!p&&I&&(n.blockeduiskin&&$KW.skins.applyBlockUISkin(n),n.selectionbehavior==constants.SEGUI_DEFAULT_BEHAVIOR?$KU.executeWidgetEventHandler(n,I,d,r):$KU.executeWidgetEventHandler(n,I,d,r,n.selectedState),$KU.onEventHandler(n))}}else{n.blockeduiskin&&$KW.skins.applyBlockUISkin(n),spaAPM&&spaAPM.sendMsg(n,"onrowclick");var I,x=module.getRowDataByIndex(n,IndexJL?[null,d,r]:[d,r]);(I=$KU.returnEventReference(x.onclick||x.onrowclick||n.onclick||n.onrowclick))&&$KU.executeWidgetEventHandler(n,I,d,r,n.selectedState)}kony.system.activity.hasActivity()||$KW.unLoadWidget()}var v=c[e.id];if(v&&"object"==typeof v&&!1===v.enable)return!1}return!0},toggleRowSelection:function(e,t){if(void 0===e.selectedindex)var n=0+IndexJL,i=e.focusedindex;else if(e.selectedindex)n=e.selectedindex[0+IndexJL],i=e.selectedindex[1+IndexJL];else n=e.selectedindices[0+IndexJL][0+IndexJL],i=e.selectedindices[0+IndexJL][1+IndexJL][0+IndexJL];e.selectionbehavior==constants.SEGUI_MULTI_SELECT_BEHAVIOR?e.selectedRows=e.selectedRows?e.selectedRows:IndexJL?[null]:[]:e.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR&&(e.selectedRows=e.selectedRows?e.selectedRows:IndexJL?[null]:[]);var o=IndexJL?[null,n,i]:[n,i],s=$KU.arrayIndex(e.selectedRows,o);if(-1!=s){var a=!1;e.selectedRows.splice(s,1)}else{a=!0;e.selectionbehavior==constants.SEGUI_MULTI_SELECT_BEHAVIOR?e.selectedRows.push(o):e.selectedRows=IndexJL?[null,o]:[o]}e.selectedRows=e.selectedRows&&e.selectedRows.length>IndexJL?e.selectedRows:null,this.setSelectedItemsAndIndices(e);var r=$KU.getNodeByModel(e),d=module.getRowDataByIndex(e,IndexJL?[null,n,i]:[n,i]),l=d.template||d.rowtemplate||e.rowTemplate;"string"==typeof l&&(l=_kony.mvc.initializeSubViewController(l));var c=" [index='{index}'] [id='"+((l?l.id:e.pf)+"_"+e.selectionindicator)+"']";if(c=e.hasSections?" ul:nth-child("+(IndexJL?n:n+1)+") "+c:c,c="#"+r.id+c,e.selectionindicator){var u=document.querySelector(c.replace(/\{index\}/g,i)),g=u&&u.src||"";g=g.substring(g.lastIndexOf("/")+1,g.length);var h=a?e.selectimage:e.unselectimage;g&&(u.src=$KU.getImageURL(h));var f=$KU.getParentByAttribute(u,"index");f&&(f.firstChild.setAttribute("aria-selected",a),a?f.firstChild.setAttribute("role","option"):f.firstChild.removeAttribute("role","option"))}e.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR&&e.selectionindicator&&this.setImages(e,e.selectedRows),e.onselect&&e.onselect(e,e.focusedindex,a),e.selectedState=a},eventHandler:function(e,t,n){var i=$KU.getModelByNode(t);"Segment"!=t.getAttribute("kwidgettype")&&$KW.Utils.updateContainerData(i,t,!0)},setProgressIndicator:function(e,t){var n=$KW.Utils.setProgressIndicator($KU.getParentByAttribute(e,kony.constants.KONY_WIDGET_TYPE),t);e.insertBefore(n,e.childNodes[0])},setSelectedItemsAndIndices:function(e,t){if(e.selectedRows){e.selecteditems=IndexJL?[null]:[];for(var n={},i=IndexJL;i<e.selectedRows.length;i++){var o=e.selectedRows[i][0+IndexJL],s=e.selectedRows[i][1+IndexJL];if(t||(n[o]||(n[o]=IndexJL?[null]:[]),n[o].push(s)),e.hasSections)var a=e.data[o][1+IndexJL][s];else a=e.data[s];e.selecteditems.push(a)}if(!t)for(var r in e.selectedindices=IndexJL?[null]:[],n){var d=IndexJL?[null]:[];d.push(parseInt(r,10)),d.push(n[r]),e.selectedindices.push(d)}e.selectedindex=e.selectedRows[e.selectedRows.length-1],e.selectedsectionindex=e.selectedindex[0+IndexJL],e.focusedindex=e.selectedindex[1+IndexJL],e.focuseditem=e.selecteditems[e.selecteditems.length-1]}else e.focusedindex=e.focuseditem=e.selectedsectionindex=e.selectedindex=e.selecteditems=null,t||(e.selectedindices=null)},setImages:function(e,t){if(e.selectionbehavior!=constants.SEGUI_DEFAULT_BEHAVIOR){var n=$KU.getNodeByModel(e);if(n){for(var i=$KU.getImageURL(e.selectimage),o=document.querySelectorAll("#"+n.id+' li img[src="'+i+'"]'),s=0;s<o.length;s++){i=$KU.getImageURL(e.unselectimage),o[s].setAttribute("src",i),(l=$KU.getParentByAttribute(o[s],"index"))&&(l.firstChild.removeAttribute("aria-selected"),l.firstChild.removeAttribute("role","option"))}if(t){e.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR&&(t=IndexJL?[null,t[t.length-1]]:[t[t.length-1]]);for(s=IndexJL;s<t.length;s++){var a=module.getRowDataByIndex(e,[t[s][0],t[s][1]]),r=a.template||a.rowtemplate||e.rowTemplate;"string"==typeof r&&(r=_kony.mvc.initializeSubViewController(r)),o=e.hasSections?document.querySelectorAll("#"+n.id+' li[secindex="'+t[s][0+IndexJL]+","+t[s][1+IndexJL]+'"] img#'+r.id+"_"+e.selectionindicator):document.querySelectorAll("#"+n.id+' li[index="'+t[s][1+IndexJL]+'"] img#'+r.id+"_"+e.selectionindicator);i=$KU.getImageURL(e.selectimage);for(var d=0;d<o.length;d++){var l;o[d].setAttribute("src",i),(l=$KU.getParentByAttribute(o[s],"index"))&&(l.firstChild.setAttribute("aria-selected",!0),l.firstChild.setAttribute("role","option"))}}}}e.selectedRows=t,this.setSelectedItemsAndIndices(e)}},adjustAlreadySelectedProperties:function(e,t,n,i){"addall"!=t&&("setdata"!=t&&"removeall"!=t||(e.selectedRows=null),e.selectedRows&&(e.selectedRows=this.adjustSelectedRows(e.selectedRows,t,n,i),e.selectedRows&&(e.selectedrowindex=e.selectedRows[e.selectedRows.length-1])),e.selectedrowindices&&(e.selectedrowindices=this.adjustSelectedRowIndices(e.selectedrowindices,t,n,i)),this.setSelectedItemsAndIndices(e))},adjustSelectedRowIndices:function(e,t,n,i){var o;switch(t){case"addat":case"adddataat":for(var s=IndexJL;s<e.length;s++)if(o=e[s][1+IndexJL],e[s][0+IndexJL]==n){for(var a=IndexJL;a<o.length;a++)o[a]>=i&&(o[a]=o[a]+1);e[s][1+IndexJL]=o}break;case"setdataat":case"removeat":for(s=IndexJL;s<e.length;s++)if(o=e[s][1+IndexJL],e[s][0+IndexJL]==n){var r=$KU.arrayIndex(o,IndexJL+i);if(-1!=r&&o.splice(r,1),"removeat"===t)for(a=IndexJL;a<o.length;a++)o[a]>i&&(o[a]=o[a]-1);e[s][1+IndexJL]=o}break;case"addsectionat":for(s=IndexJL;s<e.length;s++)e[s][0+IndexJL]>=n&&(e[s][0+IndexJL]=e[s][0+IndexJL]+1);break;case"removesectionat":case"setsectionat":var d=[];for(s=IndexJL;s<e.length;s++)e[s][0+IndexJL]==n&&d.push(s);for(s=0;s<d.length;s++)e.splice(d[s],1);if("removesectionat"==t)for(s=IndexJL;s<e.length;s++)e[s][0+IndexJL]>n&&(e[s][0+IndexJL]=e[s][0+IndexJL]-1)}return e.length>IndexJL?e:null},adjustSelectedRows:function(e,t,n,i){switch(t){case"addat":case"adddataat":for(var o=IndexJL;o<e.length;o++)e[o][0+IndexJL]==n&&e[o][1+IndexJL]>=i&&(e[o][1+IndexJL]=e[o][1+IndexJL]+1);break;case"setdataat":-1!=(s=$KU.arrayIndex(e,IndexJL?[null,n,i]:[n,i]))&&e.splice(s,1);break;case"removeat":var s;-1!=(s=$KU.arrayIndex(e,IndexJL?[null,n,i]:[n,i]))&&e.splice(s,1);for(o=IndexJL;o<e.length;o++)e[o][0+IndexJL]==n&&e[o][1+IndexJL]>i&&(e[o][1+IndexJL]=e[o][1+IndexJL]-1);break;case"addsectionat":for(o=IndexJL;o<e.length;o++)e[o][0+IndexJL]>=n&&(e[o][0+IndexJL]=e[o][0+IndexJL]+1);break;case"removesectionat":case"setsectionat":var a=[];for(o=IndexJL;o<e.length;o++)e[o][0+IndexJL]==n&&a.push(o);for(o=0;o<a.length;o++)e.splice(a[o],1);if("removesectionat"==t)for(o=IndexJL;o<e.length;o++)e[o][0+IndexJL]>n&&(e[o][0+IndexJL]=e[o][0+IndexJL]-1)}return e.length>IndexJL?e:null},calculateSectionRowIndex:function(e,t,n,i){if("boolean"!=typeof i)return i;var o=!1;if(t=i&&t<IndexJL?IndexJL:t,e.hasSections)if("number"!=typeof n){for(var s=null,a=0,r=(n=IndexJL,t),d=IndexJL;d<e.data.length&&r>=(a+=(s=e.data[d][1+IndexJL]).length-IndexJL)+IndexJL;d++)n++,t=r-a;n>=e.data.length?i&&(n=e.data.length-1,o=e.data[n]?e.data[n][1+IndexJL].length:IndexJL,o=[n,t]):(s=e.data[n][1+IndexJL],t<IndexJL?i&&(o=[n,IndexJL]):t>=s.length?i&&(o=[n,s.length]):o=[n,t])}else if(n<IndexJL||n>=e.data.length){if(i){if(n<IndexJL)if(n=IndexJL,e.data[n]){s=e.data[n][1+IndexJL];(t<IndexJL||t>=s.length)&&i&&(t=t<IndexJL?IndexJL:t>=e.data.length?e.data.length:t)}else t=IndexJL;else n>=e.data.length&&(n=e.data.length-IndexJL,t=e.data[n]?e.data[n][1+IndexJL].length:IndexJL);o=[n,t]}}else{s=e.data[n][1+IndexJL];t<IndexJL||t>=s.length?i&&(o=[n,t=t<IndexJL?IndexJL:t>=s.length?s.length:t]):o=[n,t]}else t<IndexJL||t>=e.data.length?i&&(o=[n=IndexJL,t=t<IndexJL?IndexJL:t>=e.data.length?e.data.length:t]):o=[n=IndexJL,t];return o},updateSectionContent:function(e,t,n,i,o){switch(n){case"setsectionat":return void e.splice(o,1,t);case"addsectionat":for(var s=IndexJL;s<t.length;s++)e.splice(o++,0,t[s]);return;case"removesectionat":return void e.splice(o,1)}if("addall"==n)t[IndexJL]instanceof Array&&$KU.addArray(e,t);else{var a=e[o],r=a&&a[1+IndexJL];if(r)switch(n){case"setdataat":r.splice(i,1,t);break;case"addat":case"adddataat":if($KU.isArray(t))for(s=IndexJL;s<t.length;s++)r.splice(i++,0,t[s]);else r.splice(i,0,t);break;case"removeat":r.splice(i,1)}}},isSelectionOutOfBound:function(e,t){var n=!1,i=t[0+IndexJL],o=t[1+IndexJL];e.hasSections?i>=e.data.length?n=!0:o>e.data[i][1+IndexJL].length&&(n=!0):o>=e.data.length&&(n=!0);return n},getRowDataByIndex:function(e,t){if(e.data.length>IndexJL)return $KU.isArray(e.data[0])?-1==t[IndexJL+1]?e.data[t[0]][IndexJL]:e.data[t[0]][IndexJL+1][t[1]]:e.data[t[1]]},animateRows:function(e,t){if($KU.getNodeByModel(e)&&t){var n=t.context||t.rows,i=t.animation;if(!(n&&$KU.isArray(n)&&i&&i.definition))return;var o=t.widgetID,s=t.widgets||[];if(o&&s.push(o),this.animatableNodesCounter=0,this.startEventCounter=0,this.endEventCounter=0,s&&s.length>0)for(var a,r=0;r<n.length;r++){var d=(m=n[r]).sectionIndex,l=m.rowIndex;if((p=module.getClonedModel(e,l,d))instanceof Object)for(var c=0;c<s.length;c++)if(a=p[s[c]]){var u=a.parent;if($KW.FlexUtils.isFlexContainer(u)){var g=module.getNodeByContext(e,m);if(module.isTemplateVisible(e,g)){var h=$KW.Utils.getWidgetNode(a,g);if(h)if((I=i.definition).animate){this.animatableNodesCounter++;var f=$KW.Utils.getWidgetNode(u,g);I.animate&&I.animate(a,i.config,i.callbacks,{node:h,sectionIndex:d,rowIndex:l,flexNode:f,containerModel:e,widgetModel:a,instance:this})}}}}}else for(r=0;r<n.length;r++){var m=n[r];if((g=module.getNodeByContext(e,m))&&module.isTemplateVisible(e,g)&&!g.getAttribute("nodeToBeRemoved")){var p,I;d=m.sectionIndex,l=m.rowIndex;if(!((p=module.getClonedModel(e,l,d))instanceof Object))continue;(I=i.definition).applyRowAnimation&&(this.animatableNodesCounter++,g.firstChild.wModel=p,g.firstChild.context={sectionIndex:d,rowIndex:l,containerModel:e,widgetModel:p,instance:this,animType:"segmentRow"},I.applyRowAnimation(g.firstChild,i.config,i.callbacks))}}}},isTemplateVisible:function(e,t){var n=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"];if(n){var i=Math.abs(n.y),o=i+n.wrapperH,s=t.offsetHeight,a=t.offsetTop;return!(o<a||i>a+s)}return!0},getFirstVisibleRow:function(e){var t=this.iterateSegment(e,{needTopRow:!0});if(t){var n=this.getContextByNode(e,t);return-1==n.rowIndex&&delete n.rowIndex,n}return null},getLastVisibleRow:function(e){var t=this.iterateSegment(e,{needBottomRow:!0});if(t){var n=this.getContextByNode(e,t);return-1==n.rowIndex&&delete n.rowIndex,n}return null},iterateSegment:function(e,t){var n=$KU.getNodeByModel(e),i=e.data;if(!n||!i||0==i.length||e.viewtype!=constants.SEGUI_VIEW_TYPE_TABLEVIEW)return null;if(e.hasSections){for(var o,s=n.children,a=0;a<s.length;a++){if(o=s[a],r=this.iterateAllItems(n,o,t))return r}return o.children[o.children.length-1]}var r,d=n.childNodes[0];return(r=this.iterateAllItems(n,d,t))||d.children[d.children.length-1]},iterateAllItems:function(e,t,n){var i=$KG[e.id+"_scroller"],o=0,s=0;s=i?(o=Math.abs(i.y))+i.wrapperH:(o=e.scrollTop)+e.offsetHeight;for(var a=t.children,r=0;r<a.length;r++){var d=a[r],l=d.offsetTop,c=l+d.offsetHeight;if(n.needTopRow&&o<c)return d;if(n.needBottomRow&&(s<l||s<=c))return d}},onRowDisplay:function(e){var t=e.onrowdisplay,n=e.listAnimation;!n&&t&&(e.listAnimation=new module.setAnimations(e)),n&&!t&&(n.visibleAnimName||n.inVisibleAnimName||n.cancelAnim())},getPortionNumber:function(e){var t=kony.segment.PORTIONS_PER_SEGMENT;return parseInt(t*e.contentOffsetMeasured.y/e.frame.height)},isLazyLoadingApplicable:function(e){return e.autogrowMode!=kony.flex.AUTOGROW_HEIGHT&&e.viewtype==constants.SEGUI_VIEW_TYPE_TABLEVIEW&&$KW.FlexUtils.isFlexWidget(e)},handleLazyLoadingOnScrollStart:function(e){},handleLazyLoadingOnScrollMove:function(e){if(module.isLazyLoadingApplicable(e)){var t=module.getPortionNumber(e,2);t>e.currentPortion&&(e.currentPortion=t,module.renderSegmentTillGivenHeight(e,$KU.getNodeByModel(e),!0,module.getHeightByNumberOfPortions(e,1)))}},handleLazyLoadingOnScrollEnd:function(e){if(module.isLazyLoadingApplicable(e))return currentPortion=module.getPortionNumber(e),currentPortion>e.currentPortion&&(e.currentPortion=currentPortion,module.renderSegmentTillGivenHeight(e,$KU.getNodeByModel(e),!0,module.getHeightByNumberOfPortions(e,3))),!0},generateAndAdjustRow:function(e,t,n,i){var o,s=e.hasSections?e.data[i][1][n]:e.data[n],a=module.generateRows(e,e.context,[s],!1,n,i,!1);if(!a)return 0;var r=document.createElement("div");r.innerHTML=a;var d=e.hasSections?t.children[i]:t.firstChild;_setModalAttributeToSegmentNodes(e,t,r),d.appendChild(r.firstChild),module.adjustFlexContainers(e,"adddataat",i,n);var l=module.getClonedModel(e,n,i);return(o=$KW.Segment.getNodeByContext(e,l.rowContext,l))&&$KW.Utils.processContainerGestures(l,o),e._searchCondition&&"none"==o.parentNode.style.display?0:l.frame.height},getLastRenderedRowOfSegment:function(e,t){var n,i={};return e.hasSections?0==e.clonedTemplates.length?i={sectionIndex:0,rowIndex:0}:(n=e.clonedTemplates.length-1,i.sectionIndex=n,e.clonedTemplates[n][1].length?i.rowIndex=e.clonedTemplates[n][1].length-1:i.rowIndex=0):0==e.clonedTemplates.length?i={rowIndex:0}:i.rowIndex=e.clonedTemplates.length-1,i},generateAndAdjustHeader:function(e,t,n){if(module.isRenderedAllRows(e,-1,n))return 0;var i=e.data[n][0],o=module.generateRows(e,e.context,[[i,[]]],!1,-1,n,!1);if(!o)return 0;var s=document.createElement("div");s.innerHTML=o,_setModalAttributeToSegmentNodes(e,t,s),t.appendChild(s.firstChild),secHeaderNode=t.lastChild;var a=secHeaderNode.querySelector('div[kwidgettype="FlexContainer"]');if(a){var r=module.getClonedModel(e,-1,n);$KW.FlexContainer.forceLayout(r,a.parentNode),$KW.Utils.processContainerGestures(r,a)}return e._searchCondition?(module.toggleHeaderVisibility(e,t.children[n]),0):r.frame.height},generateAndAdjustSegmentTillContentOffSetReached:function(e,t,n){var i=t.scrollHeight,o=n+module.getHeightByNumberOfPortions(e,3)-i;o>0&&module.renderSegmentTillGivenHeight(e,t,!0,o)},generateAndAdjustSegmentTillGivenIndexReached:function(e,t,n){var i=n[1],o=n[0],s=module.getLastRenderedRowOfSegment(e,t),a=!1;e.hasSections?(o<s.sectionIndex||o==s.sectionIndex&&i<=s.rowIndex)&&(a=!0):i<=s.rowIndex&&(a=!0),a||(module.renderSegmentTillGivenHeight(e,t,!1),module.generateAndAdjustSegmentTillGivenIndexReached(e,t,n))},thingsToDoAfterSegmentRendering:function(e,t,n,i){i&&module.refreshScrollerInstance(e),e.hasSections?module.applySectionRowSkin(e,t,n.rowIndex,n.sectionIndex):module.applyRowSkin(e,t.childNodes[0],n.rowIndex),e.listAnimation&&e.listAnimation.initialized&&e.listAnimation.syncList()},renderSegmentTillGivenHeight:function(e,t,n,i){var o=module.getLastRenderedRowOfSegment(e,t);module.isRenderedAllRows(e,o.rowIndex+1,o.sectionIndex)||(module.adjustFlexContainersInSegmentPage(e,t,o.rowIndex+1,o.sectionIndex||0,i),module.thingsToDoAfterSegmentRendering(e,t,o,n),e.handleForceDragTimeout&&clearTimeout(e.handleForceDragTimeout),e.handleForceDragTimeout=setTimeout(function(){var n=module.getPortionNumber(e);e.handleForceDragTimeout=null,n>e.currentPortion&&(e.currentPortion=n,module.renderSegmentTillGivenHeight(e,t,!1,i))},500))},isRenderedAllRows:function(e,t,n){return e.hasSections?e.data.length<=n:e.data.length<=t},adjustFlexContainersInSegmentPage:function(e,t,n,i,o){var s=o||e.frame.height,a=0,r=[];r=e.hasSections?e.data[i]?e.data[i][1]:[]:e.data;for(var d=n;d<r.length;d++)if((a+=-1==d?module.generateAndAdjustHeader(e,t,i):module.generateAndAdjustRow(e,t,d,i))>=s){-1===d&&module.generateAndAdjustRow(e,t,0,i);break}e.hasSections&&e._searchCondition&&module.toggleHeaderVisibility(e,t.children[i]),a<s&&e.hasSections&&!module.isRenderedAllRows(e,-1,i+1)&&module.adjustFlexContainersInSegmentPage(e,t,-1,i+1,s-a)},adjustFlexContainersInSegmentAtRenderTime:function(e,t){var n=module.getLastRenderedRowOfSegment(e,t);e.hasSections?module.adjustFlexContainersInSegmentPage(e,t,-1,0):module.adjustFlexContainersInSegmentPage(e,t,0,0),module.thingsToDoAfterSegmentRendering(e,t,n,!1),module.renderSegmentTillGivenHeight(e,t,!1,2*e.frame.height),e.retainselection&&e.selectedindex&&(module.generateAndAdjustSegmentTillGivenIndexReached(e,t,e.selectedindex),module.renderSegmentTillGivenHeight(e,t,!0,module.getHeightByNumberOfPortions(e,3))),e.currentPortion=0},clearSearch:function(e){var t,n,i,o,s,a;if(e._searchCondition=[],e._config={},i=(t=$KU.getNodeByModel(e).children).length,e.hasSections)for(s=0;s<i;s++)for(o=(n=t[s].childNodes).length,a=0;a<o;a++)n[a].style.display="block";else for(o=(n=t[0].childNodes).length,s=0;s<o;s++)n[s].style.display="block"},getUpdatedSearchResults:function(e){return module.getFilteredData(e)},searchText:function(e,t,n){var i,o=!0;return"boolean"==typeof t.updateSegment&&(o=t.updateSegment),"boolean"!=typeof t.showSectionHeaderFooter&&(t.showSectionHeaderFooter=!0),n._searchCondition=e,n._config=t,i=module.getFilteredData(n),o&&module.setResultOnSegmentUI(n),i},getFilteredData:function(e){var t=[],n=0,i=0,o=e.data;if(e._searchCondition){if(e.hasSections)for(n=0;n<o.length;n++)for(i=0;i<o[n][1].length;i++)module.isRowMatchingSearchCriteria(e,o[n][1][i])&&t.push([n,i]);else for(n=0;n<o.length;n++)module.isRowMatchingSearchCriteria(e,o[n])&&t.push([0,n]);return t}},isRowMatchingSearchCriteria:function(segmentModel,rowData){var string,matched,searchCondition=segmentModel._searchCondition;return string=module.generateExpression(segmentModel,rowData,searchCondition),matched=eval(string),matched},generateExpression:function(e,t,n){var i,o="",s=n.length;if("object"==typeof n&&1==n.length)return"("+(o+=module.isOperandPassed(e,t,n[0]))+")";for(i=0;i<s;i++)n[i]instanceof Array?o+=module.generateExpression(e,t,n[i]):"string"==typeof n[i]?(n[i]===constants.SEGUI_SEARCH_CRITERIA_OPERATOR_AND?operator="&&":operator="||",o+=" "+operator+" "):"object"==typeof n[i]&&n[i]&&(o+=module.isOperandPassed(e,t,n[i]));return"("+o+")"},isOperandPassed:function(e,t,n){var i,o,s,a,r,d,l=!1;for("boolean"!=typeof n.caseSensitive&&(o=!0),o=n.caseSensitive,d=(i=n.searchableWidgets?n.searchableWidgets:module.getWidgetIdsFromRowData(e,t)).length,a=n.textToSearch,s=n.searchType?n.searchType:constants.SEGUI_SEARCH_CRITERIA_CONTAINS,r=0;r<d;r++)if(module.isOperandPassedByWidgetId(e,t,i[r],o,s,a)){l=!0;break}return l},getWidgetIdsFromRowData:function(e,t){var n=Object.keys(t),i=0,o=e.widgetdatamap,s=n.length,a="",r={},d=[];for(a in o)o.hasOwnProperty(a)&&(r[o[a]]=a);for(i=0;i<s;i++)d.push(r[n[i]]);return d},isOperandPassedByWidgetId:function(e,t,n,i,o,s){var a=!1,r=e.widgetdatamap[n],d=module.infoOfSearchableWidgetInRow(e,t,r,n);return d.isValid&&(a=module.matchWithConditionalOperator(d.widgetType,o,s,d.widgetText,i)),a},infoOfSearchableWidgetInRow:function(e,t,n,i){var o={isValid:!1},s=null,a=null,r=null;return"string"==typeof n&&n&&"string"==typeof i&&i&&t.hasOwnProperty(n)&&(r=t[n],"string"==typeof(s=t.template||e.rowtemplate)&&(s=_kony.mvc.initializeSubViewController(s)),s&&!s.pf&&_konyConstNS.Form2.addHeaderorFooter.call(s,s),(a=$KU.getValueFromObjectByPath(i,s))&&(o.widgetType=a=a.wType,-1!==["Button","Label","TextArea","TextField","Calendar"].indexOf(a)&&(-1!==["Button","Label","TextArea","TextField"].indexOf(a)?(o.isValid=!0,o.widgetText="string"==typeof r?r:r.text):"Calendar"===a&&(o.isValid=!0,o.widgetText=r instanceof Array?r:r.dateComponents)))),o},matchWithConditionalOperator:function(e,t,n,i,o){var s=!1;switch(o||"string"!=typeof n||(n=n.toUpperCase()),o||"string"!=typeof i||(i=i.toUpperCase()),t){case constants.SEGUI_SEARCH_CRITERIA_CONTAINS:"string"==typeof i&&-1!==i.indexOf(n)&&(s=!0);break;case constants.SEGUI_SEARCH_CRITERIA_ENDSWITH:n===("string"==typeof i?i.substr(-n.length):null)&&(s=!0);break;case constants.SEGUI_SEARCH_CRITERIA_STARTSWITH:n===("string"==typeof i?i.substr(0,n.length):null)&&(s=!0);break;case constants.SEGUI_SEARCH_CRITERIA_GREATER:"Calendar"===e&&n instanceof Array?(i=module.convertDateToNumber(i),n=module.convertDateToNumber(n),"number"==typeof i&&"number"==typeof n&&(s=i>n)):(i=module.convertStringToNumber(i),n=module.convertStringToNumber(n),"number"==typeof i&&"number"==typeof n&&(s=i>n));break;case constants.SEGUI_SEARCH_CRITERIA_GREATER_EQUAL:"Calendar"===e&&n instanceof Array?(i=module.convertDateToNumber(i),n=module.convertDateToNumber(n),"number"==typeof i&&"number"==typeof n&&(s=i>=n)):(i=module.convertStringToNumber(i),n=module.convertStringToNumber(n),"number"==typeof i&&"number"==typeof n&&(s=i>=n));break;case constants.SEGUI_SEARCH_CRITERIA_LESSER:"Calendar"===e&&n instanceof Array?(i=module.convertDateToNumber(i),n=module.convertDateToNumber(n),"number"==typeof i&&"number"==typeof n&&(s=i<n)):(i=module.convertStringToNumber(i),n=module.convertStringToNumber(n),"number"==typeof i&&"number"==typeof n&&(s=i<n));break;case constants.SEGUI_SEARCH_CRITERIA_LESSER_EQUAL:"Calendar"===e&&n instanceof Array?(i=module.convertDateToNumber(i),n=module.convertDateToNumber(n),s="number"!=typeof i||"number"!=typeof n||i<=n):(i=module.convertStringToNumber(i),n=module.convertStringToNumber(n),"number"==typeof i&&"number"==typeof n&&(s=i<=n));break;case constants.SEGUI_SEARCH_CRITERIA_STRICT_EQUAL:"Calendar"===e&&n instanceof Array?(i=module.convertDateToNumber(i),n=module.convertDateToNumber(n),s="number"!=typeof i||"number"!=typeof n||i===n):s=(i=module.convertStringToNumber(i))===(n=module.convertStringToNumber(n));break;case constants.SEGUI_SEARCH_CRITERIA_NOT_EQUAL:"Calendar"===e&&n instanceof Array?(i=module.convertDateToNumber(i),n=module.convertDateToNumber(n),s="number"!=typeof i||"number"!=typeof n||i===n):s=(i=module.convertStringToNumber(i))!==(n=module.convertStringToNumber(n));break;case constants.SEGUI_SEARCH_CRITERIA_NOT_CONTAINS:"string"==typeof i&&-1===i.indexOf(n)&&(s=!0);break;case constants.SEGUI_SEARCH_CRITERIA_NOT_ENDSWITH:n!==("string"==typeof i?i.substr(-n.length):null)&&(s=!0);break;case constants.SEGUI_SEARCH_CRITERIA_NOT_STARTSWITH:n!==("string"==typeof i?i.substr(n.length):null)&&(s=!0)}return s},convertStringToNumber:function(e){return new RegExp(/^\s*((\d+(\.\d+)?)|(\.\d+))\s*$/).test(e)&&(e=parseFloat(e)),e},convertDateToNumber:function(e){var t,n=!1;return $KU.isArray(e)&&[0,3,6].indexOf(e.length)>=0?0===e.length?0:"number"==typeof e[2]&&e[2]>=1900&&e[2]<=2099&&"number"==typeof e[1]&&e[1]>=1&&e[1]<=12&&function(e,t,n){if(-1!=[1,3,5,7,8,10,12].indexOf(t)&&e>=1&&e<=31)return!0;if(-1!=[4,6,9,11].indexOf(t)&&e>=1&&e<=30)return!0;if(!(2===t&&e>=1))return!1;if(function(e){return 2!==new Date(e,1,29,0,0,0).getMonth()}(n)){if(e<=29)return!0}else if(e<=28)return!0}(e[0],e[1],e[2])?(n=!0,t=new Date(e[2],e[1],e[0]).getTime(),n&&6===e.length&&"number"==typeof e[3]&&e[3]>=0&&e[3]<=23&&"number"==typeof e[4]&&e[4]>=0&&e[4]<=59&&"number"==typeof e[5]&&e[5]>=0&&e[5]<=59&&(t=new Date(e[2],e[1],e[0],e[3],e[4],e[5]).getTime()),t):null:null===e?0:null},setResultOnSegmentUI:function(e){module.setFilterResultOnRenderedData(e),e.hasSections&&module.setResultOnSegmentHeader(e),module.renderSegmentTillGivenHeight(e,$KU.getNodeByModel(e),!0,module.getHeightByNumberOfPortions(e,4))},setFilterResultOnRenderedData:function(e,t){var n,i,o,s,a,r,d;if(n=(a=(t||$KU.getNodeByModel(e)).children).length,e.hasSections)for(o=0;o<n;o++)for(i=(r=a[o].childNodes).length,s=0;s<i&&r[s+1];s++)d=r[s+1].getAttribute("index"),d=parseInt(d),module.isRowVisible(e,r[s+1],d,o);else for(i=(r=a[0].childNodes).length,o=0;o<i;o++)d=r[o].getAttribute("index"),d=parseInt(d),module.isRowVisible(e,r[o],d,0)},isRowVisible:function(e,t,n,i){var o={};return o=e.hasSections?e.data[i][1][n]:e.data[n],module.isRowMatchingSearchCriteria(e,o)?(t.style.display="block",!0):(t.style.display="none",!1)},setResultOnSegmentHeader:function(e){var t,n,i;for(n=(t=$KU.getNodeByModel(e).children).length,i=0;i<n;i++)module.toggleHeaderVisibility(e,t[i])},toggleHeaderVisibility:function(e,t){var n;(n=t.childNodes[0]).style.display="none",e._config.showSectionHeaderFooter&&t.querySelector('li:not([style*="display:none"]):not([style*="display: none"])')&&(n.style.display="block")},onHeightChangedToPreferredFromFixed:function(e,t){var n,i=[];e.previousHeight=void 0,e.hasSections?(n=e.data.length-1,i[0]=n,i[1]=e.data[n][1].length-1):(i[0]=0,i[1]=e.data.length-1),module.generateAndAdjustSegmentTillGivenIndexReached(e,t,i)},getHeightByNumberOfPortions:function(e,t){return e.frame.height/kony.segment.PORTIONS_PER_SEGMENT*t},isSegmentVisible:function(e){var t=null;if(!e.isvisible)return!1;for(t=e.parent;t;){if(!t.isvisible)return!1;t=t.parent}return!0},isRenderRequired:function(e,t,n,i){var o,s,a=module.getLastRenderedRowOfSegment(e,t),r=!1,d=!1;if(-1!=["setdataat","removeat","addat","adddataat","addall"].indexOf(n)&&(r=!0),-1!=["setsectionat","removesectionat","addsectionat","addall"].indexOf(n)&&(d=!0),s={},o=-1!=["setdataat","setsectionat","removeat","removesectionat"].indexOf(n)?a:(e.hasSections?d&&e.data[a.sectionIndex][1].length==a.rowIndex+1?(s.sectionIndex=a.sectionIndex+1,s.rowIndex=0):(s.sectionIndex=a.sectionIndex,s.rowIndex=a.rowIndex+1):s.rowIndex=a.rowIndex+1,s),e.hasSections){if(d){if(i.sectionIndex>o.sectionIndex)return!1}else if(i.sectionIndex>o.sectionIndex||i.sectionIndex==a.sectionIndex&&i.rowIndex>o.rowIndex)return!1}else if(r&&i.rowIndex>o.rowIndex)return!1;return-1!=["setdataat","setsectionat","removeat","removesectionat"].indexOf(n)&&(e.currentPortion=module.getPortionNumber(e),module.renderSegmentTillGivenHeight(e,t,!0,module.getHeightByNumberOfPortions(e,4))),!0},updateScrollTopOnScroll:function(e){e.__y=e.contentOffsetMeasured.y},registerSwipeGesture:function(e,t){this.translateX=0,this.transformProperty=kony.ui.makeAffineTransform(),this.containerModel=e.containerId&&$KW.Utils.getContainerModelById(t,e.containerId),this.useTranslate=e.widgetswipemove.translate,void 0===e.widgetswipemove.minDeltaToInitiateSwipe?this.minDeltaToInitiateSwipe=30:this.minDeltaToInitiateSwipe=this.getValue(e,e.widgetswipemove.minDeltaToInitiateSwipe),this.boundaryMin=this.getValue(e,e.widgetswipemove.Xboundaries[0]),this.boundaryMax=this.getValue(e,e.widgetswipemove.Xboundaries[1])},resetSwipe:function(e,t){var n,i,o=function(e,t){var n,i,s,a,r,d,l,c,u;if(e.widgetswipemove&&(r=e,d=t,c=kony.ui.makeAffineTransform(),(u=r.swipeConfig)&&(c.translate(0,0),l=$KW.animUtils.applyTransform(r,c),d.style.transition="transform 0.5s",d.style[vendor+"Transform"]=l,d.style.transform=l,u.translateX=0,u.useTranslate=r.widgetswipemove.translate,u.boundaryMin=u.getValue(r,r.widgetswipemove.Xboundaries[0]),u.boundaryMax=u.getValue(r,r.widgetswipemove.Xboundaries[1]))),$KW.FlexUtils.isFlexContainer(e))for(i=e.widgets(),n=0;n<i.length;n++)s=$KW.Utils.getActualWidgetModel(i[n]),(a=$KW.Utils.getWidgetNode(s,t))&&o(s,a)};e.clonedTemplates&&e.clonedTemplates.length&&(!e.hasSections||e.hasSections&&e.clonedTemplates.length>=t.secIndex)&&(n=module.getClonedModel(e,t.rowIndex,t.secIndex),(i=module.getNodeByContext(e,t))&&o(n,i))},resetSwipeMoveConfigOnTouchStart:function(e){var t,n,i=e&&e.getAttribute("kcontainerID"),o=$KW.Utils.getContainerModelById(e,i),s=module.getContextByNode(o,e);if(o.swipeSelectedConfig){var a={rowIndex:s.rowIndex,sectionIndex:s.sectionIndex||0};t=a,n=o.swipeSelectedConfig.rowContext,t&&n&&t.sectionIndex===n.sectionIndex&&t.rowIndex===n.rowIndex||(module.resetSwipe(o,o.swipeSelectedConfig.rowContext),o.swipeSelectedConfig=null)}},setAnimations:function(e,t){if(this.widgetModel=e,t){var n=t.visible;if(n)(i=n.definition)&&i.getAnimationName&&(this.visibleAnimName=i.getAnimationName(n.config,"visible"));var i,o=t.invisible;if(o)(i=o.definition)&&i.getAnimationName&&(this.inVisibleAnimName=i.getAnimationName(o.config,"invisible"))}this.animInfo=t,this.initialized=!1,this.init()}};return module.setAnimations.prototype={init:function(){var e=this.widgetModel,t=$KU.getNodeByModel(e);t&&(this.node=t,(this.visibleAnimName||this.inVisibleAnimName||e.onrowdisplay)&&(this.syncList(),this.animateList(!0),this.startAnim(),this.initialized=!0))},startAnim:function(){var e=this;!function t(){e.animateList(),e.animCallback=nextFrame(t)}()},destroy:function(){this.initialized=!1,this.cancelAnim()},cancelAnim:function(){cancelFrame(this.animCallback)},syncList:function(){var e=this.widgetModel;this.items=[];var t=e.data;if(t&&0!=t.length){if(e.hasSections)for(var n=this.node.children,i=0;i<n.length;i++){var o=n[i].children;this.saveContext(e,o);for(var s=0;s<o.length;s++)this.items.push(o[s])}else{o=this.node.children[0].children;this.saveContext(e,o),this.items=o}this.scrollTop=0,this.scrollBottom=0;var a,r=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"];r?(this.scrollTop=Math.abs(r.y),this.scrollBottom=this.scrollTop+r.wrapperH):(this.scrollTop=this.node.scrollTop,this.scrollBottom=this.scrollTop+this.node.offsetHeight);i=0;for(var d=this.items.length;i<d;i++)(a=this.items[i])._offsetHeight=a.offsetHeight,a._offsetTop=a.offsetTop,a._offsetBottom=a._offsetTop+a._offsetHeight,a._offsetBottom<this.scrollTop?a._state="past":a._offsetTop>this.scrollBottom?a._state="future":a._state=""}},saveContext:function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=module.getContextByNode(e,i),s=o.rowIndex,a=o.sectionIndex,r=module.getClonedModel(e,s,a);if(i.itemContext={sectionIndex:a,rowIndex:s,containerModel:e,widgetModel:r,animType:"segmentRow"},r instanceof Object){i.wModel=r;var d=this.animInfo;if(this.visibleAnimName){var l=d.visible,c=l.definition;i.wModel.originalFrames=c.animationDef,c.saveWidgetState(i.wModel,i,l.config,"segmentRow")}}}},animateList:function(e){var t=this.widgetModel;this.scrollTop=0,this.scrollBottom=0;var n=$KG[$KW.Utils.getKMasterWidgetID(t)+"_scroller"];if(n){this.scrollTop=Math.abs(n.y),this.scrollBottom=this.scrollTop+n.wrapperH;var i=Math.abs(n.maxScrollY);if(this.scrollTop>=i||n.y>0)return}else this.scrollTop=this.node.scrollTop,this.scrollBottom=this.scrollTop+this.node.offsetHeight;if(this.scrollTop!==this.lastTop||e){this.lastTop=this.scrollTop;for(var o=this.visibleAnimName,s=(this.inVisibleAnimName,this.animInfo),a=0,r=this.items.length;a<r;a++){var d=this.items[a];if(d._offsetBottom<this.scrollTop)d._state="past";else if(d._offsetTop>this.scrollBottom)d._state="future";else if(d._state){if(t.onrowdisplay){if(this.initialized){if("future"==d._state){var l=this.getFirstVisibleRowByIndex(a);this.executeRowDisplay(d,kony.segment.VISIBLE,l,d),this.executeRowDisplay(l,kony.segment.INVISIBLE,l,d)}if("past"==d._state){var c=this.getBottomVisibleRowByIndex(a);this.executeRowDisplay(d,kony.segment.VISIBLE,d,c),this.executeRowDisplay(c,kony.segment.INVISIBLE,d,c)}}}else o&&this.applyItemAnimation(d,s.visible,o);d._state=""}}}},applyItemAnimation:function(e,t,n){var i=t.definition,o=$KU.animation;i.getAnimConfig(t.config,e),e.context=e.itemContext,e.style[o]=n,i.registerAnimCallbacks(e,t.callbacks)},executeRowDisplay:function(e,t,n,i){var o=this.widgetModel,s={},a={},r=e.itemContext,d={sectionIndex:r.sectionIndex,rowIndex:r.rowIndex};if(n){var l=n.itemContext;s={sectionIndex:l.sectionIndex,rowIndex:l.rowIndex}}if(i){var c=i.itemContext;a={sectionIndex:c.sectionIndex,rowIndex:c.rowIndex}}o.onrowdisplay.call(o,o,t,d,s,a)},onRowDisplayHandler:function(e){if(e){var t=e.action,n=e.newItems,i=e.rowIndex,o=e.sectionIndex,s=this.widgetModel,a=this.node,r="";switch(r="setdata"==t||"setsectionat"==t||"setdataat"==t?kony.segment.UPDATE:"addall"==t||"addsectionat"==t||"adddataat"==t?kony.segment.ADD:kony.segment.REMOVE,t){case"setdata":case"addall":case"addsectionat":case"setsectionat":if("removeall"==t&&(n=s.hasSections?this.node.childNodes.length:this.node.childNodes[0].childNodes.length),s.hasSections)"setsectionat"!=t&&"removesectionat"!=t||(n=1),this.onRowDisplayForSections(r,o,n);else{var d=a.childNodes[0];this.onRowDisplayForRows(r,d,i,n)}break;case"adddataat":case"setdataat":n=1;var l=s.hasSections?a.childNodes[o]:a.childNodes[0];this.onRowDisplayForRows(r,l,i,n)}}},onRowDisplayForSections:function(e,t,n){for(var i=t,o=0;o<n;o++){var s=this.node.childNodes[i];s&&this.onRowDisplayForRows(e,s),i++}},onRowDisplayForRows:function(e,t,n,i){var o=this.widgetModel,s=t.childNodes;if(s){var a,r=void 0!==i?i:s.length;n=void 0!==n?o.hasSections?n+1:n:0;for(var d=0;d<r;d++){if(a=s[n],module.isTemplateVisible(o,a)){var l=this.getFirstVisibleRowByIndex(r),c=this.getBottomVisibleRowByIndex(0);this.executeRowDisplay(a,e,l,c)}n++}}},getFirstVisibleRowByIndex:function(e){for(var t=0;t<e;t++){var n=this.items[t];if(this.scrollTop<=n._offsetBottom)return n}},getBottomVisibleRowByIndex:function(e){for(var t=this.items.length,n=e;n<t;n++){var i=this.items[n];if(this.scrollBottom<=i._offsetBottom)return i}return this.items[t-1]}},module.applyRowsAnimationByAPI=function(e,t,n,i,o,s){if(s&&s.definition&&s.definition.applyRowAnimation){var a=s.definition;switch(this.action=t,this.wModel=e,this.animObj=s,t){case"adddataat":case"addat":case"setdataat":case"removeat":var r=n.firstChild,d=module.getClonedModel(e,i,o);if(!(d instanceof Object))return;r.wModel=d,r.context={sectionIndex:o,rowIndex:i,containerModel:e,widgetModel:d,instance:this,animType:"segmentRow"},a.applyRowAnimation(r,s.config,s.callbacks);break;case"addall":e.hasSections?this.animateSections(n,o):this.animateRows(n,i,o);break;case"removeall":case"setdata":if("setdata"==t){var l=$KU.getNodeByModel(e);!1!==e.hasSections&&e.viewtype!==constants.SEGUI_VIEW_TYPE_PAGEVIEW||(l=l.childNodes[0])}else l=n;if(e.hasSections)this.animateSections(l.childNodes,0);else{var c=l.childNodes;this.animateRows(c,0)}break;case"setsectionat":case"removesectionat":this.animateSections([n],o);break;case"addsectionat":this.animateSections(n,o)}}},module.applyRowsAnimationByAPI.prototype={animateSections:function(e,t){for(var n=0;n<e.length;n++){var i=e[n].childNodes;this.animateRows([i[0]],-1,t),this.animateRows(i,0,t,1),t++}},animateRows:function(e,t,n,i){i=i||0;t=t,n=n;for(var o=this.animObj,s=o.definition,a=i;a<e.length;a++){var r=e[a].firstChild,d=module.getClonedModel(this.wModel,t,n);if(!(d instanceof Object))return;r.wModel=d,r.context={sectionIndex:n,rowIndex:t,containerModel:this.wModel,widgetModel:d,instance:this,animType:"segmentRow"},s.applyRowAnimation(r,o.config,o.callbacks),t++}},onAnimationEnd:function(e){var t=this.wModel,n=$KU.getNodeByModel(t);if(n){if("removeall"==this.action&&(!1!==t.hasSections&&t.viewtype!==constants.SEGUI_VIEW_TYPE_PAGEVIEW||(n=n.childNodes[0]),n.innerHTML=""),"removeat"==this.action){var i=(a=module.getContextByNode(t,e)).sectionIndex,o=a.rowIndex;if(t.hasSections){(r=n.childNodes[i]).removeChild(r.childNodes[o+1]),t.clonedTemplates[i][1].splice(o,1)}else{var s=n.childNodes[0];s.removeChild(s.childNodes[o]),t.clonedTemplates.splice(o,1)}}if("removesectionat"==this.action){var a,r;i=(a=module.getContextByNode(t,e)).sectionIndex;if(!(r=n.childNodes[i])||!e.parentNode||!e.parentNode.parentNode)return;n.removeChild(r),t.clonedTemplates.splice(i,1)}if("removeall"==this.action||"removeat"==this.action||"removesectionat"==this.action){if("removeall"!=this.action)if(t.hasSections)module.adjustSectionIndex(n),module.applySectionRowSkin(t,n);else{var d=n.childNodes[0];$KU.adjustNodeIndex(d,0,"index"),module.applyRowSkin(t,d)}var l=t.listAnimation;l&&l.syncList()}}}},module.registerSwipeGesture.prototype={resetTransition:function(e){e.parentNode.style.removeProperty("transition")},applyTransform:function(e,t,n,i){var o;this.transformProperty.translate(n,0),o=$KW.animUtils.applyTransform(e,this.transformProperty),console.log("translating ",o),i&&(t.parentNode.style.transition="transform 0.5s"),t.parentNode.style[vendor+"Transform"]=o,t.parentNode.style.transform=o},getDirection:function(e){return this.startPosition>e?"RTL":"LTR"},getValue:function(e,t){var n;return n=$KW.FlexUtils.getValueAndUnit(e,t),$KW.FlexUtils.getValueByParentFrame(e,n,"x")},enforceTranslateValue:function(e,t,n){return e<t&&(e=t),e>n&&(e=n),e},getResultFromConfig:function(e,t,n,o){var s,a,r,d=null;for(s=(s="RTL"===t?o.swipeLeft:o.swipeRight)||[],i=0;i<s.length;i++)if(a=this.getValue(e,s[i].translateRange[0]),r=this.getValue(e,s[i].translateRange[1]),a<n&&n<r){d=s[i];break}return d},compareRowContexts:function(e,t){return!(!e||!t||e.sectionIndex!==t.sectionIndex||e.rowIndex!==t.rowIndex)},resetSwipeCofigIfNeeded:function(e){this.compareRowContexts(e.rowContext,this.containerModel.swipeSelectedConfig.rowContext)||$KW.Segment.resetSwipe(this.containerModel,this.containerModel.swipeSelectedConfig.rowContext)},gestureStart:function(e,t){this.startPosition=t.x1,this.resetTransition(t.widgetNode),this.containerModel&&this.containerModel.swipeSelectedConfig&&this.resetSwipeCofigIfNeeded(e),this.containerModel&&(this.containerModel.swipeSelectedConfig={rowContext:e.rowContext})},gestureMove:function(e,t){var n;Math.abs(t.x2-this.startPosition)<=this.minDeltaToInitiateSwipe||(this.getDirection(t.x2),n=this.translateX+t.x2-this.startPosition,n=this.enforceTranslateValue(n,this.boundaryMin,this.boundaryMax),this.useTranslate&&this.applyTransform(e,t.widgetNode,n))},gestureEnd:function(e,t){var n,i,o,s={};Math.abs(t.x2-this.startPosition)<=this.minDeltaToInitiateSwipe||(i=this.getDirection(t.x2),o=this.translateX+t.x2-this.startPosition,o=this.enforceTranslateValue(o,this.boundaryMin,this.boundaryMax),null==(n=this.getResultFromConfig(e,i,o,e.widgetswipemove))?this.applyTransform(e,t.widgetNode,this.translateX,!0):(this.translateX=this.getValue(e,n.translatePos),this.applyTransform(e,t.widgetNode,this.translateX,!0),this.useTranslate=n.translate,n.callback&&(s.widgetInfo=this.containerModel,s.rowIndex=e.rowContext.rowIndex,s.sectionIndex=e.rowContext.sectionIndex,n.callback.call(e,e,s))))}},module}();
$KW.Image=function(){var e=function(e,t){var i=t||e.overlayWidgets;return $KW.FlexContainer.renderChildren(e,i,{})},t={initialize:function(){kony.events.addEvent("click","Image",this.eventHandler),kony.events.addEvent("onorientationchange","Image",this.imgOrientationHandler)},imgOrientationHandler:function(){var e=arguments[0]?$KU.getNodeByModel(arguments[0]):document,i=e&&e.querySelectorAll("img[kwidgettype='Image']");if(i)for(var n=0;n<i.length;n++){var r=i[n];t.imgResizeHandler(r,"orientationchange")}},updateView:function(e,t,i,n){var r,a=$KU.getNodeByModel(e);switch(t){case"src":if(e.srcType=1,!a)return;if(a.parentNode.parentNode.innerHTML=this.render(e,new $KW.WidgetGenerationContext(e.pf)),e.touches){a=$KU.getNodeByModel(e);for(var o=["touchstart","touchmove","touchend"],d=0;d<o.length;d++){var l=o[d];e.touches[l]&&($KW.Utils.removetouch(e,l,!1),$KW.Utils.updateModelWithTouches(e,l,e.touches[l].callback),e.touches[l].instance=new $KW.touch.TouchEvents(e,a.parentNode,l,e.touches[l].callback))}}break;case"base64":e.srcType=2,a&&i&&(a.src=this.getBase64String(i));break;case"referenceheight":case"referencewidth":case"imagescalemode":a&&(a.parentNode.parentNode.innerHTML=this.render(e,new $KW.WidgetGenerationContext(e.pf))),$KW.FlexContainer.attachDragEvent(e);break;case"zoomenabled":e.overlayWidgets=[],a?(r=$KW.Utils.getWidgetNodeFromNodeByModel(e,a).parentNode,e.zoomenabled=i,r.innerHTML=$KW.Image.render(e,{}),i?(e.zoomvalue=1,e.pinchRecognizer={instance:new kony.gestures.imagePinchZoom},e.pinchRecognizer.instance.registerPinch(e)):(delete e.zoomvalue,delete e.pinchRecognizer),$KW.FlexUtils.setLayoutConfig(e,i,!i),e.parent.forceLayout()):e.zoomenabled=i;break;case"zoomvalue":e.zoomvalue=i,a&&($KW.Image.resizeImageScale(e,a,e.originalFrame),e.pinchRecognizer.instance.finalScale=e.pinchRecognizer.instance.completeScale=i)}},render:function(t,i){var n=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(t,i),r="",a="";t.loaded=!1;var o=$KW.FlexUtils.isFlexWidget(t),d=t.pf+"_"+t.id,l=$KW.Utils.getMasterIDObj(t);""!=l.id&&(d=l.id),i.scrollBoxID&&(t.scrollBoxID=i.scrollBoxID);var s=!0;$KU.inArray($KU.imgCache,t.src,!0)&&(s=!1),s&&t.imagewhiledownloading&&((new Image).src=$KU.getImageURL(t.imagewhiledownloading)),t.imagewhiledownloading=t.imagewhiledownloading||$KG.imagewhiledownloading||"imgload.gif";var g=$KW.skins.getVisibilitySkin(t)+(o?" middlecenteralign":""),c="";c=!1===i.ispercent?i.layoutDir?"float:"+i.layoutDir:"":"width:100%",2==t.srcType?imgsrc=this.getBase64String(t.base64):imgsrc=$KU.getImageURL(t.src);var h="$KU.imgLoadHandler(arguments[0],this)",m=this.getImageDimensions(t,i.ispercent);a+=(void 0!=m.width?"width:"+m.width+"px;":"")+(void 0!=m.height?"height:"+m.height+"px;":"")+(o?"font-size:0px;display:block;":""),h=m.onimgonload||h,m.maxwidth&&(a=m.maxwidth),t.zoomenabled&&(t.enablescrolling=!0,t.bounce=!1,r+="<div id='"+d+"_scroller'",r+=" kwidgettype='KImageContainer'",r+=" name='touchcontainer_KScroller' widgettype='Image'",r+=" swipedirection='both'",r+=" style='top: 0px; bottom: 0px;overflow: hidden;'>",r+="<div id='"+d+"_scrollee'",r+=" kwidgettype='KTouchscrollee' position: absolute;>"),r+="<span id='"+d+"_span' class='"+g+" "+n[0]+"' style='display:inline-block;"+(s&&t.src?"background:url("+$KU.getImageURL(t.imagewhiledownloading)+") center center no-repeat;":";")+$KW.skins.getMarginSkin(t,i)+$KW.skins.getPaddingSkin(t,i)+c+";"+a+"' "+l.kmasterid+" >",a+=$KW.skins.getBlurStyle(t),r+="<img class='' src='"+imgsrc+"'"+$KW.Utils.getBaseHtml(t,i)+"onload= "+h+" onerror='$KU.imgLoadHandler(arguments[0],this)' ","kony.ui.Image2"!=t.name&&"konyLua.Image2"!=t.name&&"maintainaspectratio"==t.scalemode?a="width:100%;":"retaininitialimagedimensions"==t.scalemode&&(a=""),s&&t.src&&(a+="opacity:0;"),a+="visibility:hidden;";var u=t.ondownloadcomplete||"";return u&&(u=" ondownloadcomplete= '"+(u="function"==typeof u?$KU.getFunctionName(t.ondownloadcomplete):t.ondownloadcomplete)+"'"),r+="style= '"+a+"'"+u+"/></span>",t.zoomenabled&&(t.overlayWidgets&&t.overlayWidgets.length>0&&(r+=e(t,t.overlayWidgets)),r+="</div></div>"),r},getImageDimensions:function(e,t){var i={};if(e.imagescalemode==constants.IMAGE_SCALE_MODE_FIT_TO_DIMENSIONS)$KW.FlexUtils.isFlexWidget(e)||(e.referencewidth?(i.width=0==t?e.referencewidth:screen.width*(e.containerweight/100)>e.referencewidth?e.referencewidth:screen.width*(e.containerweight/100),i.height=e.referenceheight):i.maxwidth="max-width:100%;");else if("kony.ui.Image2"!=e.name&&"konyLua.Image2"!=e.name||e.imagescalemode!=constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO)if(!e.referencewidth&&e.heightwidth&&e.imagescalemode!=constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO){var n=e.heightwidth.split(",");i.width=n[1],i.height=n[0]}else i.maxwidth="max-width:100%;";else e.ispercent=t,i.onimgonload="$KW.Image.imgLoadHandler2(arguments[0])";return i},getBase64String:function(e){return"data:image/png;base64,"+e},eventHandler:function(e,t){var i=$KU.getModelByNode(t),n=t.getAttribute("kcontainerID");if($KAR&&$KAR.sendRecording(i,"click",{target:t,eventType:"uiAction"}),n)$KW.Utils.updateContainerData(i,t,!0);else{var r=kony.events.executeBoxEvent(i),a=t.getAttribute("ktabid");!r&&a&&$KW.TabPane&&$KW.TabPane.executeTabEvent(i,t,!0)}},imgLoadHandler2:function(e){e=e||window.event,img=e.target||e.srcElement,!img.parentNode||img.parentNode&&!img.parentNode.parentNode||this.imgResizeHandler(img,e.type)},imgResizeHandler:function(e,i){if(document.body.contains(e)){e.getAttribute("ktabpaneid"),"Image"==e.getAttribute("kwidgettype")?$KU.getElementID(e.getAttribute("id")):e.getAttribute("id");var n=e.src,r=$KU.getModelByNode(e);e.getAttribute("kcontainerID")&&(r=$KW.Utils.getClonedModelByContainer(r,e,e.getAttribute("kcontainerID")));var a=t.getNaturalDimensions(e);if("load"==i){var o=!0;if($KU.inArray($KU.imgCache,r.src,!0)?o=!1:$KU.imgCache.push(r.src),o||-1!=e.parentNode.style.background.indexOf("url")){var d=e.parentNode;d&&(d.style.removeProperty?d.style.removeProperty("background"):d.style.background="none"),$KU.isBlackBerry&&$KU.getPlatformVersion("blackberry").startsWith("7")?e.style.opacity=1:(($KU.isiPhone||$KU.isiPad||kony.appinit.isSafari)&&setTimeout(function(){e.style[$KU.transition]=""},500),e.style[$KU.transition]="opacity 500ms ease-in-out",e.style.opacity=1)}}if(r.loaded=!0,r.animInfo){var l=r.animInfo;l.instance.animate(r,l.animConfig,l.animCallback)}if(e.parentNode&&(!e.parentNode||e.parentNode.parentNode)){var s=$KU.returnEventReference(r.ondownloadcomplete);s&&$KU.executeWidgetEventHandler(r,s,n,!0);var g=e.parentNode.parentNode.offsetWidth;if(r.containerWeight>=0&&0==g&&(g=a.width),!$KW.FlexUtils.isFlexWidget(r)){var c;c=t.imgDimCalculation(r,a,g),e.style.width=e.parentNode.style.width=c[1]+"px",e.style.height=e.parentNode.style.height=c[0]+"px"}if(e.style.display="",e.style.visibility="visible",e.parentNode.parentNode.style["font-size"]="0px",$KU.onImageLoadComplete(r,e),"HBox"==r.parent.wType){var h=$KU.getParentByAttribute(e.parentNode,"kwidgettype");if(h)for(var m=h.querySelectorAll("div[kwidgettype='Line'][direction='V']"),u=0;u<m.length;u++)$KW.Line.resizeVLine(m[u])}}}},getNaturalDimensions:function(e){var t={};if(void 0===e.naturalWidth){var i=new Image;i.src=e.src,t.width=i.width,t.height=i.height}else t.width=e.naturalWidth,t.height=e.naturalHeight;return t},imgDimCalculation:function(e,t,i){var n=[],r=t.width/t.height;if(e.referencewidth)if(!1===e.ispercent)t.width<e.referencewidth?(n[1]=t.width,n[0]=t.height):(n[1]=e.referencewidth,n[0]=n[1]/r);else{var a=e.referencewidth<=i?e.referencewidth:i;if(e.referenceheight)if(t.width<a&&t.height<e.referenceheight)n[0]=t.height,n[1]=t.width;else{n[1]=i>e.referencewidth?e.referencewidth:i,n[0]=e.referenceheight;var o=n[1]/r<n[0]&&n[1]/r;!1===o?n[1]=n[0]*r<=e.referencewidth&&n[0]*r:n[0]=o}else t.width<a?(n[0]=t.height,n[1]=t.width):(n[1]=a,n[0]=n[1]/r)}else!1===e.ispercent?(n[1]=t.width,n[0]=t.height):t.width<=i?e.referenceheight&&t.height>e.referenceheight?(n[0]=e.referenceheight,n[1]=n[0]*r):(n[1]=t.width,n[0]=t.height):(n[1]=i,e.referenceheight?(n[0]=n[1]/r,n[0]>e.referenceheight&&(n[0]=e.referenceheight,n[1]=n[0]*r)):n[0]=n[1]/r);return n[1]>0&&n[1]<1&&(n[1]=1),n[0]>0&&n[0]<1&&(n[0]=1),n},setBase64Img:function(e){if(e.src&&!e.src.startsWith("http")){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==t.readyState&&200==t.status&&(e.base64=$KU.getBase64(t.responseText)||null)},t.open("GET",$KU.getImageURL(e.src),!0),t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined"),t.send(null)}else e.base64=null},addOverlayWidgets:function(i,n){var r,a;if(!($KU.isArray(n)&&n.length>0))throw new KonyError(102,"Error","Invalid input.");if(n=function(e,t){var i,n=["Label","Image","Button"],r=t.length,a=[];for(i=0;i<r;i++)-1!==n.indexOf(t[i].wType)&&(t[i].isImageOverlayWidget=!0,t[i].index=i,t[i].pf=e.id,t[i].parent=e,a.push(t[i]));return a}(i,n),i.overlayWidgets||(i.overlayWidgets=[]),n.length>0&&(i.overlayWidgets=i.overlayWidgets.concat(n),r=$KU.getNodeByModel(i))){for(r=$KW.Utils.getWidgetNodeFromNodeByModel(i,r).childNodes[0],(a=document.createElement("div")).innerHTML=e(i,n);a.children.length>0;)r.appendChild(a.childNodes[0]);t.adjustImageOverlayWidgets(i,n),$KW.Image.registerLongPress(i,n)}},adjustImageOverlayWidgets:function(e,t){var i,n,r,a,o,d,l=e.frame,s=t||e.overlayWidgets||[];if(s.length)for(o=$KW.Utils.getWidgetNodeFromNodeByModel(e,$KU.getNodeByModel(e)),a=0;a<s.length;a++)i=s[a],$KW.FlexLayoutEngine.canLayoutUI(e,i,o)&&(n=o.querySelector("#"+i.id),(n=$KW.Utils.getWidgetNodeFromNodeByModel(i,n))&&(n=n.parentNode,i.finalFrame={},$KW.FlexLayoutEngine.computeLayoutValues(i,o,l),$KW.FlexLayoutEngine.determineSize(o,i,n),r=$KW.FlexUtils.getWidgetDimensions(i,n),$KW.FlexLayoutEngine.determineX(i,r,o,l),$KW.FlexLayoutEngine.determineY(i,r,o,l),$KW.FlexUtils.setWidgetPosition(i,i.finalFrame,n),i.frame=$KW.FlexLayoutEngine.getWidgetFrame(i,r,i.finalFrame),d=e.zoomvalue,i.originalFrame={x:i.frame.x/d,y:i.frame.y/d,width:i.frame.width,height:i.frame.height},i.layoutConfig.self=!1))},registerLongPress:function(e,t){var i,n,r,a;if(t=t||e.overlayWidgets||[])for(a=$KW.Utils.getWidgetNode(e),i=0;i<t.length;i++)n=t[i],r=a.querySelector("#"+n.id),(r=$KW.Utils.getWidgetNodeFromNodeByModel(n,r))&&(new kony.gestures.longPress).registerLongPress(r,n)},removeOverlayWidgets:function(e,t){var i,n,r,a,o,d=e.overlayWidgets;if(!($KU.isArray(t)&&t.length>0))throw new KonyError(102,"Error","Invalid input.");if(r=d.slice(0),a=$KU.getNodeByModel(e)){for(a=$KW.Utils.getWidgetNodeFromNodeByModel(e,a).childNodes[0],i=0;i<t.length;i++)for(n=0;n<r.length;n++)if(t[i].id===r[n].id){o=a.childNodes[n+1],a.removeChild(o),r.slice(n);break}e.overlayWidgets=r}},onClickHandler:function(e){var t=$KU.getModelByNode(e);t.onclick&&$KU.executeWidgetEventHandler(t,t.onclick)},overlayWidgetTouchHandler:function(e,t){},resizeImageScale:function(e,t,i){i=i||e.frame;var n,r,a,o=e.zoomvalue;o>1&&((n=t.parentNode).style.height=i.height*o+"px",n.style.width=i.width*o+"px",a=(r=n.childNodes[0]).getBoundingClientRect(),r.style.height=a.height*o+"px",r.style.width=a.width*o+"px",scrollerInstance=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"],scrollerInstance&&(scrollerInstance.contentoffsetmove=!0,scrollerInstance.scrollTo(0,0,0),scrollerInstance.moved=!1,scrollerInstance.contentoffsetmove=!1,scrollerInstance.refresh()))}};return t}();
$KW.HStrip=function(){var e={initialize:function(){kony.events.addEvent("click","HStrip",this.eventHandler),kony.events.addEvent("onorientationchange","HStrip",this.orientationHandler)},initializeView:function(e){this.initializePageViews(e),$KW.touch.computeSnapWidths(e,"HStrip"),this.initializeSlotViews(e),this.initializeStripViews(e)},updateView:function(i,t,a,n){var r=$KU.getNodeByModel(i);switch(t){case"viewtype":if(!r)return;if(r.parentNode.innerHTML=this.render(i,new $KW.WidgetGenerationContext(i.pf)),"pageview"==a){this.initializePageView(i,!1,r),$KW.touch.computeWidths(r,i);var o=new $KW.touch.pageviewScroller(r,{widgetModel:i});$KG[r.id]=o}"slotview"==a&&this.initializeSlotView(i),"stripview"==a&&this.initializeStripView(r);break;case"data":a&&$KU.isArray(a)&&(i.masterdata=a[0+IndexJL],i.key=a[1+IndexJL]),e.setData(i,i.masterdata,i.key);break;case"showscrollbars":i.scrollInstance=null,e.initializeStripViews(i.pf);break;case"selectedindex":case"focusedindex":"pageview"==i.viewtype&&$KW.touch.computeSnapWidths(i.pf,"HStrip"),i.focuseditem=i.selectedItem=i.selecteditem=i.masterdata[a];break;case"referenceheight":case"referencewidth":case"imagescalemode":e.setData(i,i.masterdata,i.key);break;case"viewconfig":var l=i.viewconfig;i.scrollbounce=l&&l.stripviewConfig&&l.stripviewConfig.enableScrollBounce,void 0==i.scrollbounce&&(i.scrollbounce=l&&l.stripviewconfig&&l.stripviewconfig.enablescrollbounce);var s=i.scrollInstance;s&&(s.options.bounce=void 0==i.scrollbounce||i.scrollbounce)}},render:function(i,t){var a=i.masterdata=i.data&&i.data[0+IndexJL]||i.masterdata||[];i.data&&(i.key=i.data[1+IndexJL]),i.focusedindex=i.selectedindex=i.focusedindex||i.selectedindex||null,i.focuseditem=i.selecteditem=i.focuseditem||i.selecteditem||null,i.context=t;var n=$KW.skins.getWidgetSkinList(i,t),r=$KW.skins.getMarginSkin(i,t)+" "+$KW.skins.getPaddingSkin(i),o=i.viewtype,l="",s=$KW.Utils.getBaseHtml(i,t),d=i.pf+"_"+i.id;if(i.imagewhiledownloading&&((new Image).src=$KU.getImageURL(i.imagewhiledownloading)),i.imagewhiledownloading=i.imagewhiledownloading||$KG.imagewhiledownloading||"imgload.gif",!$KU.isTouchSupported&&$KU.isMob&&(i.showarrows=!0,i.leftarrowimage=i.leftarrowimage||"prvarw.png",i.rightarrowimage=i.rightarrowimage||"nxtarw.png"),"slotview"==o)l="<div "+s+"name='ImageStrip_SlotView' class='"+n+"' style='"+r+"'><div></div>",i.paginationconfig&&(l+=e.generateSlotFooter(i,n)),l+="</div>";else if("pageview"==o)l="<div"+s+"name='touchcontainer_HStrip' class='"+n+" kstripcontainer' style='"+r+"'>",l+="<div id='imgs' class='kstrip'>",l+="</div>",i.showarrows&&i.leftarrowimage&&i.rightarrowimage&&(l+=e.fadeArrowImages(i)),l+="</div>",0==!i.ispageindicatorneeded&&(l+="<div class='ktable kwt100' id='"+i.pf+"_"+i.id+"_footer'></div>"),"pageview"==i.viewtype&&(i.count=0);else{!1===t.ispercent?l+="<div class = '' style='table-layout:fixed; display: inline-block;'>":l+="<div class = 'ktable kwt100' style='table-layout:fixed;'>",l+="<div class = 'krow kwt100' >",l+="<div class = 'kcell kwt100 "+$KW.skins.getWidgetAlignmentSkin(i)+"' >",l+="<div"+s+"class='scrollerX "+n+"' name='ImageStrip_StripView' style='"+r+"'>",i.showarrows&&i.leftarrowimage&&i.rightarrowimage&&(l+=$KW.touch.fadeHImages(i)),l+="<div id='"+d+"_scroller' class='kwt100 scrollerX'><div id='"+d+"_scrollee' class='scrolleeX'>",l+=this.generateImages("setdata",i,a,IndexJL),l+="</div></div></div>",l+="</div></div></div>","stripview"==i.viewtype&&(i.count=0)}return l},initializePageViews:function(e,i){for(var t=document.querySelectorAll("#"+e+" div[name='touchcontainer_HStrip']"),a=0;a<t.length;a++){var n=t[a],r=(n.children[0],$KU.getElementID(n.id),n.getAttribute("kformname"),$KU.getModelByNode(n));this.initializePageView(r,i,n)}},initializePageView:function(e,i,t){var a=t.children[0],n=$KU.getElementID(t.id);a.innerHTML="";var r=e.masterdata||[],o=90==window.orientation||-90==window.orientation,l=0==window.orientation||180==window.orientation,s=e.swipeContext;void 0===window.orientation&&(l=!0);var d=t.parentNode.clientWidth;d-=parseInt($KU.getStyle(t,"border-left-width").replace("px",""),10)+parseInt($KU.getStyle(t,"border-right-width").replace("px",""),10);var c=e.heightwidth?parseInt(e.heightwidth.split(",")[1]):e.referencewidth||0,g=e.recperpage=0!=c?Math.floor(d/c):3;g&&!isNaN(g)||(g=3),!e.ptImgs&&l&&(e.ptImgs=g),!e.lsImgs&&o&&(e.lsImgs=g);var p=d%parseInt(c,10),h=Math.floor(p/g);h&&!isNaN(h)&&(e.spacebetweenimages=Math.floor(p/g)),a.innerHTML=this.generateImages("setdata",e,r,IndexJL),i&&this.updateCurrentPage(s,e,l);var m=$KU.getElementById(e.pf+"_"+n+"_footer");m&&(m.innerHTML=this.generateStripFooter(e,a,s))},updateCurrentPage:function(e,i,t){if(e&&i.masterdata&&0!=e.currentPage){var a=e.currentPage;if(t)var n=i.lsImgs*a+1,r=i.ptImgs;else n=i.ptImgs*a+1,r=i.lsImgs;for(var o=0,l=IndexJL;l<i.masterdata.length;l++)if(l%r==0&&o++,l==n){e.currentPage=o;break}}},getPadding:function(e){return parseInt($KU.getStyle(e,"padding-left").replace(/px/,""),10)+parseInt($KU.getStyle(e,"padding-right").replace(/px/,""),10)},generateImages:function(e,i,t,a,n,r){var o="",l="";"setdata"==e&&(l=n||(i.key?i.key:""));var s=t.length,d=i.viewtype,c=i.recperpage;c=c&&(s>0&&s<c?s:c)||3;for(var g=0==IndexJL?1:0,p=IndexJL;p<t.length;p++){for(var n in t[p]){!l&&(l=n);break}p-1==r&&(l=n);var h=t[p][l],m=t[p].accessibilityConfig,f=$KU.getAccessibilityValues(i,m,p+1),v="";if(h){var w=!0;if($KU.inArray($KU.imgCache,h,!0)&&(w=!1),(p-IndexJL)%c==0&&"pageview"==d&&(o+="<div style='float: left;width:100%' kwidgettype='KTouchhstrip'>"),h=$KU.getImageURL(h),i.spacebetweenimages&&c>1&&p!=t.length-1&&(v+="margin-right:"+i.spacebetweenimages+"px;"),o+="<span "+(w?"style='background:url("+$KU.getImageURL(i.imagewhiledownloading)+") center center no-repeat;display:inline-block;"+v+"'":"style='"+v+"'")+">",i.heightwidth||i.referencewidth||i.referenceheight){var u=i.heightwidth?i.heightwidth.split(","):[i.referenceheight,i.referencewidth];v=(0!=parseInt(u[1])?"width:"+u[1]+"px;":"")+(0!=parseInt(u[0])?"height:"+u[0]+"px;":"")}o+="<img "+f+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+h+"' id='"+i.pf+"_"+i.id+"_img' kformname = '"+i.pf+"' index= "+a+" kwidgettype='"+i.wType+"'"+(i.context.tabpaneID?" ktabpaneid='"+i.context.tabpaneID+"'":"")+" onload='$KU.imgLoadHandler(arguments[0],this)' onerror='$KU.imgLoadHandler(arguments[0],this)'",w&&(v+="opacity:0;"),o+=(v?"style= '"+v+"'":"")+" /></span>",(p+g)%c!=0&&p!=s-1||"pageview"!=d||(o+="</div>")}a++}return o},generateStripFooter:function(e,i,t){var a="",n=i.childNodes.length,r=t?t.currentPage:0;if(n>1){var o="";a+="<div class='krow kwt100' align='center' ><div class='kcell' >";for(var l=0;l<n;l++)o=l==r?e.pageOnDotImage||"whitedot.gif":e.pageOffDotImage||"blackdot.gif",a+="<span onclick='$KW.touch.navigationDotsHandler(this)' index='"+(l+1)+"'><img style='padding-left:4px' src='"+$KU.getImageURL(o)+"' /></span>";a+="</div></div>"}return a},generateSlotFooter:function(e,i){var t="",a="",n=e.paginationconfig;if(e.heightwidth){var r=e.heightwidth.split(",");a+=("0"!=r[1]?"width:"+r[1]+"px;":"")+("0"!=r[0]?"xheight:"+r[0]+"px;":"")}return t+="<div id='"+e.pf+"_"+e.id+"_slotfooter' class='ktable "+i+"' style='position:relative;top:"+(n.vdistance?-n.vdistance+"px":"-30px")+";"+a+"'>                                <div class='krow middlecenteralign kwt100'>                                    <div class='kcell kwt50 middleleftalign'>                                        <span class='kbasemargin kbasepadding' style='display: inline-block; width: 100%;position:relative;left: "+(n.hdistance?n.hdistance+"px":"0px")+";'>                                            <img "+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+$KU.getImageURL(n.leftimageurl?n.leftimageurl:"rotate-left-slotfooter.png")+"'>                                        </span>                                    </div>                                    <div class='kcell kwt50 middlerightalign'>                                        <span class='kbasemargin kbasepadding' style='display: inline-block; width: 100%;position:relative;right: "+(n.hdistance?n.hdistance+"px":"0px")+";'>                                            <img "+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+$KU.getImageURL(n.rightimageurl?n.rightimageurl:"rotate-right-slotfooter.png")+"'>                                        </span>                                    </div>                                </div>                            </div>"},setData:function(e,i,t){if(i&&$KU.isArray(i))this.modifyContent(e,i,"setdata",null,t);else{var a=$KU.getNodeByModel(e);a&&$KU.toggleVisibilty(a,i,e)}},addAll:function(e,i,t){i&&$KU.isArray(i)&&this.modifyContent(e,i,"addall",null,t)},removeAll:function(e){this.modifyContent(e,[],"removeall")},removeAt:function(e,i){!isNaN(i)&&i>=IndexJL&&this.modifyContent(e,[],"removeat",i)},setDataAt:function(e,i,t){!isNaN(t)&&t>=IndexJL&&i instanceof Object&&this.modifyContent(e,i,"setdataat",t)},addDataAt:function(e,i,t){!isNaN(t)&&t>=IndexJL&&i instanceof Object&&this.modifyContent(e,i,"addat",t)},modifyContent:function(e,i,t,a,n){if(e){if($KW.Utils.updateContent(e,"masterdata",i,t,a),e.canUpdateUI=!1,e.data=IndexJL?[null,e.masterdata,n]:[e.masterdata,n],e.canUpdateUI=!0,n&&(e.key=n),"slotview"==e.viewtype)return void this.initializeSlotView(e);var r=$KU.getNodeByModel(e);if(r){var o="stripview"==e.viewtype?r.childNodes[r.childNodes.length-1].childNodes[0]:r.childNodes[r.childNodes.length-1];switch(t){case"setdata":case"setdataat":case"addall":case"removeat":case"addat":if("addall"==t&&n)var l=this.getImgsLen(o);o.innerHTML=this.generateImages(t,e,e.masterdata||[],IndexJL,n,l);break;case"removeall":o.innerHTML=""}if(e.masterdata&&$KU.toggleVisibilty(r,e.masterdata,e),"pageview"==e.viewtype){$KW.touch.computeWidths(r,e);var s=$KU.getElementById(e.pf+"_"+e.id+"_footer");s&&(s.innerHTML=this.generateStripFooter(e,o))}else"stripview"==e.viewtype&&this.refreshScroller(e,r)}}},getImgsLen:function(e){for(var i=0,t=e.childNodes,a=0;a<t.length;a++)for(var n=t[a].childNodes,r=0;r<n.length;r++)i++;return i},orientationHandler:function(i,t){e.initializePageViews(i,!0),$KW.touch.orientationHandler(i,t,"HStrip")},eventHandler:function(e,i){var t=i.id;t="IMG"==i.tagName?t.split("_")[1]:$KU.getElementID(t);var a=$KU.getModelByNode($KU.getElementById(i.getAttribute("kformname")+"_"+t)),n=i.getAttribute("index");if(n&&a){a.canUpdateUI=!1,a.focusedindex=a.selectedindex=n,a.canUpdateUI=!0,a.focuseditem=a.selecteditem=a.masterdata[n],$KAR&&$KAR.sendRecording(a,"click",{selection:n,target:i,eventType:"uiAction"});var r=$KU.returnEventReference(a.onclick||a.onselection);r&&r.call(a,a)}},initializeStripViews:function(e){for(var i=document.querySelectorAll("#"+e+" div[name='ImageStrip_StripView']"),t=0;t<i.length;t++)this.initializeStripView(i[t])},initializeStripView:function(e){var i=$KU.getModelByNode(e),t=e.getAttribute("kformname"),a=$KU.getElementID(e.id),n={hScrollbar:void 0!=i.showscrollbars&&i.showscrollbars,vScroll:!1,formid:t,hScroll:!0,scrollbox:!0,HStrip:!0,bounce:void 0==i.scrollbounce||i.scrollbounce,showImages:i.showarrows&&i.leftarrowimage&&i.rightarrowimage,widgetID:a,widgetModel:i},r=i.showarrows&&i.leftarrowimage&&i.rightarrowimage?e.children[1]:e.children[0];i.scrollInstance=new $KW.touch.konyScroller(r,n),this.refreshScroller(i,e)},refreshScroller:function(e,i){if(i||(i=$KU.getNodeByModel(e)),i){var t=e.showarrows&&e.leftarrowimage&&e.rightarrowimage?i.children[1]:i.children[0];void 0!==t&&t.children[0].scrollWidth&&(t.children[0].style.width=t.children[0].scrollWidth+"px"),e.scrollInstance&&e.scrollInstance.refresh()}},initializeSlotViews:function(e){for(var i=document.querySelectorAll("#"+e+" div[name='ImageStrip_SlotView']"),t=0;t<i.length;t++){e=i[t].getAttribute("kformname");var a=$KU.getModelByNode(i[t]);this.initializeSlotView(a)}},initializeSlotView:function(e){var i=e.masterdata;if(i){var t="iurl";for(var a in i[1]){t=a;break}for(var n=[],r=IndexJL;r<i.length;r++)n.push(i[r][t]);var o=e.pf+"_"+e.id,l=$KU.getElementById(o);if(l){if((d=$KG[o+"_slotviewInstance"])&&(d.destroy(),l&&l.children[0]&&l.children[0].children[0]&&l.children[0].removeChild(l.children[0].children[0])),l.children[0]){var s=e.imagewhiledownloading||$KG.imagewhiledownloading||"imgload.gif";l.children[0].innerHTML="<img "+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+$KU.getImageURL(s)+"' style='margin:auto;' />"}var d=new $KW.SlotView(o,n,{model:e});$KG[o+"_slotviewInstance"]=d}}},onBeforeScrollStartHandler:function(){return function(e){for(var i=e.target||e.srcElement;1!=i.nodeType;)i=i.parentNode;"SELECT"!=i.tagName&&"INPUT"!=i.tagName&&"TEXTAREA"!=i.tagName&&kony.events.preventDefault(e),kony.events.stopPropagation(e)}},fadeArrowImages:function(e){var i=$KU.getImageURL(e.leftarrowimage),t=$KU.getImageURL(e.rightarrowimage),a=e.pf+"_"+e.id;return"<div id='"+a+"_scrollFades' class='scroll_view'><div id='"+a+"_leftimg' class='scroll_fades leftfade' style='display:none;'><img type='HImg' src='"+i+"' onclick='$KW.HStrip.previousImage(this)' onload='$KW.touch.setHeight(this)' ></div><div id='"+a+"_rightimg' class='scroll_fades rightfade' style='display:none;'><img type='HImg' src='"+t+"' onclick='$KW.HStrip.nextImage(this)' onload='$KW.touch.setHeight(this)' ></div></div>"},previousImage:function(e){var i=e.parentNode.parentNode.parentNode;if(i){var t=$KU.getModelByNode(i),a=t.swipeContext;$KW.touch.previousImage(i,a,!1),$KW.touch.updatePageIndicator(i,a,t)}},nextImage:function(e){var i=e.parentNode.parentNode.parentNode;if(i){var t=$KU.getModelByNode(i),a=t.swipeContext;$KW.touch.nextImage(i,a,!1),$KW.touch.updatePageIndicator(i,a,t)}}};return e}();
$KW.SlotView=function(){var t=function(e,o,s){for(i in this.arguments={},this.arguments.container=e,this.arguments.totalFrames=o.length,this.imagesArray=o,this.options={imageIndexOffset:1,loaders:3,initialLoad:4,noCache:!1,initialPos:[0,0],invert:[!0,!1],infiniteAxis:[!0,!1],autoPlay:!1,fps:25,grabbable:!0,grabRotateDistance:1e3,throwable:!0,minThrowDuration:.5,maxThrowDuration:1.5,spinnable:!0,minSpinDuration:3,intro:t.SpinIntro,introSpins:.5,introDuration:1,mobileTotalFrames:null},s)this.options[i]=s[i];this.initialize()};return t.SpinIntro=function(t){for(var i=t.options.fps*t.options.introDuration,e=(void 0!==t.options.introInitialRow?t.options.introInitialRow:t.options.initialPos[1])-t.options.initialPos[1],o=[],s=0;s<i;s++){var n=s/i,r=Math.pow(n-1,4),h=Math.floor(r*t.totalFrames[0]*t.options.introSpins)+t.options.initialPos[0],a=Math.floor(r*e)+t.options.initialPos[1];o.length&&o[o.length-1][0]==h&&o[o.length-1][1]==a||o.push(t.validatePos([h,a],!0))}return o},t.options={},t.prototype.initialize=function(){function i(t,i){return void 0===t[0]?[t,i]:t}if(this.options.noCache&&(this.random=Math.floor(1e7*Math.random())),this.mobile=$KU.isTouchSupported,this.mobile&&(this.options.autoPlay=!0,this.options.spinnable=!1,this.options.throwable=!0,this.mobileStrings={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}),this.container=document.getElementById(this.arguments.container),this.vr=document.getElementById(this.arguments.container).children[0],this.totalFrames=i(this.arguments.totalFrames,1),this.mobile&&this.options.mobileTotalFrames){var e=this.totalFrames;this.totalFrames=i(this.options.mobileTotalFrames,1),this.frameMultipliers=[e[0]/this.totalFrames[0],e[1]/this.totalFrames[1]]}else this.frameMultipliers=[1,1];this.options.initialPos=i(this.options.initialPos,0),this.options.invert=i(this.options.invert,!1),this.frames=[];for(var o=0;o<this.totalFrames[0];o++)this.frames[o]=[];this.playIntervalDuration=1e3/this.options.fps,this.minSpinIntervalDuration=1e3*this.options.minSpinDuration/this.totalFrames[0],this.minThrowFrames=Math.floor(this.options.minThrowDuration*this.options.fps),this.maxThrowFrames=Math.floor(this.options.maxThrowDuration*this.options.fps),this.currentPos,this.playing=!1,this.grabbing=!1,this.spinning=!1,this.options.intro?(this.introSequence=this.options.intro(this),this.loader=new t.LoaderController(this,this.introSequence.slice(0),this.playIntro.bind(this))):(this.loadAllFrames(),this.gotoPos(this.options.initialPos),this.makeInteractive(),this.options.autoPlay&&this.play())},t.prototype.getStr=function(t){return this.mobile?this.mobileStrings[t]:t},t.prototype.getEvent=function(t){if(t||(t=window.event),t.touches){if(t.touches.length>1)return!1;t.touches.length&&(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY)}return t},t.prototype.playIntro=function(){this.introInterval=setInterval(this.gotoNextIntroFrame.bind(this),this.playIntervalDuration),this.loadAllFrames()},t.prototype.gotoNextIntroFrame=function(){this.gotoPos(this.introSequence.shift()),this.introSequence.length||(clearInterval(this.introInterval),this.makeInteractive())},t.prototype.isPosLoaded=function(t){return void 0!==this.frames[t[0]]&&void 0!==this.frames[t[0]][t[1]]},t.prototype.createLoadPlan=function(t,i){if(!i)return[0];for(var e=[];;){for(var o=0;o<t;o+=i){var s=Math.floor(o);-1==e.indexOf(s)&&e.push(s)}if(1==i)return e;(i/=2)<1&&(i=1)}},t.prototype.loadAllFrames=function(){for(var i=[],e=Math.floor(this.totalFrames[0]/this.options.initialLoad),o=this.createLoadPlan(this.totalFrames[0],e),s=Math.floor(this.totalFrames[1]/this.options.initialLoad),n=this.createLoadPlan(this.totalFrames[1],s),r=0;r<n.length;r++)for(var h=0;h<o.length;h++)i.push(this.validatePos([o[h]+this.options.initialPos[0],n[r]+this.options.initialPos[1]],!0));this.loader=new t.LoaderController(this,i),i=null,e=null,o=null,s=null,n=null},t.prototype.getImageSource=function(t){var i=this.options.invert[0]?this.totalFrames[0]-1-t[0]:t[0],e=this.options.invert[1]?this.totalFrames[1]-1-t[1]:t[1],o=Math.floor(e*this.totalFrames[0]*this.frameMultipliers[0]*this.frameMultipliers[1])+Math.floor(i*this.frameMultipliers[0])+this.options.imageIndexOffset+"";return $KU.getImageURL(this.imagesArray[o-1])+(this.options.noCache?"?"+this.random:"")},t.prototype.makeInteractive=function(){this.options.grabbable&&(this.bindGrabStart=this.onGrabStart.bind(this),this.bindGrabChange=this.onGrabChange.bind(this),this.bindGrabEnd=this.onGrabEnd.bind(this),kony.events.addEventListener(this.vr.parentNode,this.getStr("mousedown"),this.bindGrabStart))},t.prototype.destroy=function(){this.unmakeInteractive(),delete this.frames,delete this.introSequence,delete this.loader},t.prototype.unmakeInteractive=function(){this.mobile&&this.vr&&this.vr.children[0]&&(kony.events.removeEventListener(this.vr.children[0],"touchmove",this.bindGrabChange),kony.events.removeEventListener(this.vr.children[0],"touchend",this.bindGrabEnd)),this.options.grabbable&&this.vr&&this.vr.parentNode&&kony.events.removeEventListener(this.vr.parentNode,this.getStr("mousedown"),this.bindGrabStart)},t.prototype.atPosition=function(t){return this.currentPos&&t[0]==this.currentPos[0]&&t[1]==this.currentPos[1]},t.prototype.play=function(){this.playing||(this.playing=!0,this.playInterval=setInterval(this.gotoNextFrame.bind(this),this.playIntervalDuration))},t.prototype.pause=function(){this.playing&&(this.playing=!1,clearInterval(this.playInterval))},t.prototype.gotoNextFrame=function(){this.gotoPos([this.currentPos[0]+1,this.currentPos[1]])},t.prototype.validatePos=function(t,i){for(var e=0;e<2;e++)if(i||this.options.infiniteAxis[e]){for(;t[e]>this.totalFrames[e]-1;)t[e]-=this.totalFrames[e];for(;t[e]<0;)t[e]+=this.totalFrames[e]}else t[e]>this.totalFrames[e]-1&&(t[e]=this.totalFrames[e]-1),t[e]<0&&(t[e]=0);return t},t.prototype.gotoPos=function(t,i){t=this.validatePos(t),!i&&this.atPosition(t)||(this.currentPos=t,this.frame=this.frames[t[0]][t[1]],void 0!==this.frame&&this.frame.nodeType?(this.currentFrame?this.vr.removeChild(this.currentFrame):this.vr.children[0]&&this.vr.removeChild(this.vr.children[0]),this.currentFrame=this.frame,this.vr.appendChild(this.currentFrame)):this.loader.loadNow(t),delete this.frame)},t.prototype.onGrabStart=function(t){(t=this.getEvent(t))&&(this.grabbing=!0,kony.events.addEventListener(document,this.getStr("mousemove"),this.bindGrabChange),kony.events.addEventListener(document,this.getStr("mouseup"),this.bindGrabEnd),this.mobile&&(kony.events.addEventListener(this.vr.children[0],"touchmove",this.bindGrabChange),kony.events.addEventListener(this.vr.children[0],"touchend",this.bindGrabEnd)),this.grabHistory=[t],this.onGrabChange.clientX=this.onGrabChange.clientY=null,this.grabHistoryInterval=setInterval(this.updateGrabHistory.bind(this),10),this.onGrabStart.clientX=t.clientX,this.onGrabStart.clientY=t.clientY,this.onGrabStart.playing=this.playing,this.onGrabStart.pos=this.currentPos,this.pause(),this.stopThrowing(),kony.events.preventDefault(t))},t.prototype.onGrabChange=function(t){if(t=this.getEvent(t)){if(t.clientX!=this.onGrabStart.clientX||t.clientY!=this.onGrabStart.clientY){this.onGrabChange.clientX=t.clientX,this.onGrabChange.clientY=t.clientY;var i=this.getGrabPos(t);i&&this.gotoPos(i)}kony.events.preventDefault(t)}},t.prototype.getGrabPos=function(t){t||(t=window.event);var i=t.clientX-this.onGrabStart.clientX,e=t.clientY-this.onGrabStart.clientY,o=i/this.options.grabRotateDistance,s=e/this.options.grabRotateDistance,n=Math.round(this.totalFrames[0]*o),r=Math.round(this.totalFrames[1]*s);return[this.onGrabStart.pos[0]+n,this.onGrabStart.pos[1]+r]},t.prototype.updateGrabHistory=function(){var t=this.onGrabChange.clientX?this.onGrabChange:this.onGrabStart;this.grabHistory.unshift({clientX:t.clientX,clientY:t.clientY}),this.grabHistory.length>3&&this.grabHistory.splice(3)},t.prototype.onGrabEnd=function(t){if(t=this.getEvent(t))if(this.grabbing=!1,kony.events.removeEventListener(document,this.getStr("mousemove"),this.bindGrabChange),kony.events.removeEventListener(document,this.getStr("mouseup"),this.bindGrabEnd),clearInterval(this.grabHistoryInterval),this.onGrabStart.playing)this.play();else if(this.options.throwable){var i=t.clientX-this.grabHistory[this.grabHistory.length-1].clientX,e=t.clientY-this.grabHistory[this.grabHistory.length-1].clientY,o=!0;if(i||e){var s=Math.sqrt(Math.pow(i,2)+Math.pow(e,2)),n=Math.floor(s/5),r=this.grabHistory[this.grabHistory.length-1].clientX,h=this.grabHistory[this.grabHistory.length-1].clientY,a=!0,l=!0;n<this.minThrowFrames?n=this.minThrowFrames:n>this.maxThrowFrames&&(n=this.maxThrowFrames),this.throwSequence=[];for(var p=0;p<n;p++){var c=p/n,u=Math.pow(c-1,2),d=(r=Math.floor(u*i)+r,h=Math.floor(u*e)+h,this.validatePos(this.getGrabPos({clientX:r,clientY:h})));if(a?this.throwSequence.length&&d[0]==this.throwSequence[this.throwSequence.length-1][0]&&(a=!1):d[0]=this.throwSequence[this.throwSequence.length-1][0],l?this.throwSequence.length&&d[1]==this.throwSequence[this.throwSequence.length-1][1]&&(l=!1):d[1]=this.throwSequence[this.throwSequence.length-1][1],!this.isPosLoaded(d)){o=!1;break}this.throwSequence.push(d)}o&&(this.throwing=!0,this.throwInterval=setInterval(this.throwStep.bind(this),this.playIntervalDuration))}}},t.prototype.throwStep=function(){this.gotoPos(this.throwSequence.shift()),this.throwSequence.length||this.stopThrowing()},t.prototype.stopThrowing=function(){this.throwing&&(this.throwing=!1,clearInterval(this.throwInterval))},t.prototype.onclick=function(t){this.focussed||this.vr.focus()},t.LoaderController=function(i,e,o){this.vr=i,this.queue=e,this.onLoad=o,this.retiredLoaders=new Array;for(var s=0;s<this.vr.options.loaders;s++)this.loadNext(new t.Loader(this))},t.LoaderController.prototype.loadNext=function(t){this.queue.length?t.load(this.queue.shift()):(this.retiredLoaders.push(t),this.retiredLoaders.length==this.vr.options.loaders&&"function"==typeof this.onLoad&&(this.onLoad(),this.onLoad=null))},t.LoaderController.prototype.loadNow=function(t){this.retiredLoaders.length?this.retiredLoaders.shift().load(t):this.queue.unshift(t)},t.Loader=function(t){this.controller=t,this.loadNext=this.controller.loadNext.bind(this.controller)},t.Loader.prototype.load=function(t){if(this.pos=t,this.controller.vr.isPosLoaded(t))this.controller.loadNext(this);else{this.img=new Image,this.img.onload=this.onLoad.bind(this);var i=this.controller.vr.options.model,e=i.heightwidth;if(e&&"0,0"!=e||i.referencewidth||i.referenceheight){var o=e?e.split(","):[i.referenceheight,i.referencewidth];this.img.style.width=o[1]+"px",this.img.style.height=o[0]+"px"}else this.img.style.width="100%";this.controller.vr.frames[this.pos[0]][this.pos[1]]=!0,this.img.src=this.controller.vr.getImageSource(this.pos),delete this.img}},t.Loader.prototype.onLoad=function(t){t||(t=window.event);var i=t.target||t.srcElement||this.img;this.controller.vr.frames[this.pos[0]][this.pos[1]]=i,i&&i.onload&&delete i.onload,$KU.setImgAspectRatio(this.controller.vr.options.model,i),this.controller.vr.atPosition(this.pos)&&this.controller.vr.gotoPos(this.pos,!0),this.loadNext(this)},t}();
$KW.IGallery={initialize:function(){kony.events.addEvent("click","IGallery",this.eventHandler)},updateView:function(e,t,a,i){var n=$KU.getNodeByModel(e);switch(t){case"data":a&&$KU.isArray(a)&&(e.masterdata=a[0+IndexJL],e.key=a[1+IndexJL]),this.setData(e,e.masterdata,e.key);break;case"focusedindex":case"selectedindex":n&&((n=document.querySelector("#"+n.id+" [index='"+a+"']"))&&$KW.APIUtils.setfocus(e,null,n),e.focuseditem=e.selectedItem=e.selecteditem=e.masterdata[a]);break;case"referencewidth":case"referenceheight":case"imagescalemode":this.setData(e,e.masterdata,e.key);break;case"viewtype":case"noofrowsperpage":if(n&&(n.parentNode.innerHTML=this.render(e,{tabpaneID:n.getAttribute("ktabpaneid")}),"pageview"==e.viewtype)){n=$KU.getNodeByModel(e),$KW.HStrip.initializePageView(e,!1,n),$KW.touch.computeWidths(n,e);var d=new $KW.touch.pageviewScroller(n,{widgetModel:e});$KG[n.id]=d}}},render:function(e,t){e.data&&(e.masterdata=e.data[0+IndexJL],e.key=e.data[1+IndexJL]),e.focusedindex=e.selectedindex=e.focusedindex||e.selectedindex||null,e.focuseditem=e.selecteditem=e.focuseditem||e.selecteditem||null,e.context=t;var a=$KW.skins.getMarginSkin(e,t)+$KW.skins.getPaddingSkin(e),i=($KW.Utils.isWidgetVisible(e,t)?"":" hide")+(e.skin?" "+e.skin:"");!1===t.ispercent?a+=" display: inline-block;":i+=" "+$KW.skins.getMarAdjustedContainerWeightSkin(e,100),e.imagewhiledownloading&&((new Image).src=$KU.getImageURL(e.imagewhiledownloading)),e.imagewhiledownloading=e.imagewhiledownloading||$KG.imagewhiledownloading||"imgload.gif";var n="<div"+$KW.Utils.getBaseHtml(e,t)+"class='"+i+"' style='"+a+"'>";return n+=this.generateImages(e,e.masterdata||[],IndexJL),n+="</div>"},generateImages:function(e,t,a,i){for(var n="",d=i||e.key||"iurl",s=IndexJL;s<t.length;s++){var r=t[s][d];if(r){var o=!0;$KU.inArray($KU.imgCache,r,!0)&&(o=!1);var l="";if(r=$KU.getImageURL(r),n+="<span "+(o?"style='background:url("+$KU.getImageURL(e.imagewhiledownloading)+") center center no-repeat;display:inline-block;min-height:30px;min-width:30px'":"")+">",n+="<img "+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+r+"' id='"+e.pf+"_"+e.id+"_img' kformname = '"+e.pf+"' index= "+a+" kwidgettype='"+e.wType+"'"+(e.context.tabpaneID?"ktabpaneid='"+e.context.tabpaneID+"'":"")+" onload='$KU.imgLoadHandler(arguments[0],this)' onerror='$KU.imgLoadHandler(arguments[0],this)' ",e.spacebetweenimages&&(l+="margin:"+Math.ceil(parseInt(e.spacebetweenimages)/4)+"px;"),e.heightwidth||(e.referencewidth||e.referenceheight)&&e.imagescalemode==constants.IMAGE_SCALE_MODE_FIT_TO_DIMENSIONS){var c=e.heightwidth?e.heightwidth.split(","):[e.referenceheight,e.referencewidth];l+=(0!=parseInt(c[1])?"width:"+c[1]+"px;":"")+(0!=parseInt(c[0])?"height:"+c[0]+"px;":"")}n+=((l+="opacity:0;display:none")?"style= '"+l+"'":"")+" /></span>"}a++}return n},setData:function(e,t,a){if(t&&$KU.isArray(t))this.modifyContent(e,t,"setdata",null,a);else{var i=$KU.getNodeByModel(e);i&&$KU.toggleVisibilty(i,t,e)}},addAll:function(e,t,a){t&&$KU.isArray(t)&&this.modifyContent(e,t,"addall",null,a)},removeAll:function(e){this.modifyContent(e,[],"removeall")},addDataAt:function(e,t,a){!isNaN(a)&&a>=IndexJL&&t instanceof Object&&this.modifyContent(e,t,"addat",a,e.key)},removeAt:function(e,t){!isNaN(t)&&t>=IndexJL&&this.modifyContent(e,[],"removeat",t)},setDataAt:function(e,t,a){!isNaN(a)&&a>=IndexJL&&t instanceof Object&&this.modifyContent(e,t,"setdataat",a,e.key)},modifyContent:function(e,t,a,i,n){if(e){$KW.Utils.updateContent(e,"masterdata",t,a,i),e.canUpdateUI=!1,e.data=IndexJL?[null,e.masterdata,n]:[e.masterdata,n],e.canUpdateUI=!0,n&&(e.key=n);var d=$KU.getNodeByModel(e);if(d){switch(a){case"addat":case"setdata":d.innerHTML=this.generateImages(e,e.masterdata,IndexJL,n);break;case"setdataat":var s=d.childNodes[IndexJL?i-1:i]&&d.childNodes[IndexJL?i-1:i].childNodes[0];s&&(s.src=$KU.getImageURL(t[e.key]));break;case"addall":i=d.childNodes.length,d.innerHTML+=this.generateImages(e,t,i+IndexJL,n);break;case"removeall":d.innerHTML="";break;case"removeat":d.childNodes[i-IndexJL]&&(d.removeChild(d.childNodes[i-IndexJL]),$KU.adjustNodeIndex(d,i,"index"))}e.masterdata&&$KU.toggleVisibilty(d,e.masterdata,e)}}},eventHandler:function(e,t){var a=t.id;a="IMG"==t.tagName?a.split("_")[1]:$KU.getElementID(a);var i=$KU.getModelByNode($KU.getElementById(t.getAttribute("kformname")+"_"+a)),n=t.getAttribute("index");if(n&&i){i.canUpdateUI=!1,i.focusedindex=i.selectedindex=n,i.canUpdateUI=!0,i.focuseditem=i.selecteditem=i.masterdata[n],$KAR&&$KAR.sendRecording(i,"click",{selection:n,target:t,eventType:"uiAction"});var d=$KU.returnEventReference(i.onclick||i.onselection);d&&d.call(i,i)}}};
$KW.Browser=function(){var e=function(e){var n;return e.url&&!t.isExternalUrl(e.url)&&(n=$KW.Utils.getContentNodeFromNodeByModel(e))?n.childNodes[0]:null},t={initialize:function(){kony.events.addEvent("onorientationchange","Browser",this.orientationHandler)},initializeView:function(e){$KU.setScrollBoxesHeight(e,"Browser")},orientationHandler:function(e,t){$KU.setScrollBoxesHeight(e,"Browser")},localFileRenderImpl:function(e,t,n){var i=$KG.platformver?$KG.platformver:"",r="height:100%;",o="",a=e,l=kony.appinit.getStaticContentPath()+i+"web/localfiles/"+a.url;return o+="<div "+$KW.Utils.getBaseHtml(a,n)+" style='"+r+$KW.skins.getPaddingSkin(a)+"'>",o+="<div  id='"+$KW.Utils.getKMasterWidgetID(a)+"_scroller' class='scrollerX  "+t+"' kwidgettype='KScrollBox' name='touchcontainer_KScroller' swipeDirection ='vertical' style='"+r+$KW.skins.getBaseStyle(a,n)+"'><div id='"+$KW.Utils.getKMasterWidgetID(a)+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee' style='"+r+"'>",o+="<iframe width='100%' height='100%' style='overflow:auto;-webkit-overflow-scrolling: touch !important;' onLoad='$KW.Browser.prepareIframe(this,"+e+")' src='",o+=l,o+="' id = 'iframe_"+a.id+"' name='"+a.id+"' kwidgettype='KonyLocalFrame'></iframe>",o+="</div></div></div>"},updateView:function(e,n,i,r){switch(n){case"requesturlconfig":IndexJL&&(e.url=i.url,e.method=i.requestmethod,e.data=i.requestdata);var o=$KU.getNodeByModel(e),a=$KG.platformver?$KG.platformver:"";if(i.URL.startsWith("http")||i.URL.startsWith("https")||i.URL.startsWith("www."))this.openUrllink(e.url,e.method,e.data,[e.pf,e.id].join("_"));else if(o){var l=o.querySelector('iframe[kwidgettype="KonyLocalFrame"]');if(l)l.src=kony.appinit.getStaticContentPath()+a+"\\web\\localfiles\\"+i.URL;else{var s,c=$KW.skins.getWidgetSkinList(e,{});s=t.localFileRenderImpl(e,c,{}),o.parentNode.innerHTML=s}}break;case"htmlstring":(o=$KU.getNodeByModel(e))&&(o.innerHTML=i)}},openUrllink:function(e,t,n,i){if(e){if(e.startsWith("www.")&&(e="http://"+e),n&&0==!n[0].length){var r=[];if(n instanceof Array&&n[0]instanceof Array)for(var o=0;o<n.length;o++)r.push([n[o][0],n[o][1]].join("="));else for(var a in n)r.push(a+"="+n[a]);(r=r.join("&"))&&(e=e+"?"+r)}return window.open(e)}},isExternalUrl:function(e){return!!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www."))},render:function(e,n){var i=$KW.skins.getWidgetSkinList(e,n);$KU.updateScrollFlag(e);var r="";if(e.htmlstring){r="";var o=$KW.Utils.getBaseHtml(e,n),a="";return $KW.FlexUtils.isFlexWidget(e)&&(a=" height:100%; width:100%;"),r+="<div "+o+" style='"+$KW.skins.getPaddingSkin(e)+"'>",r+="<div  id='"+$KW.Utils.getKMasterWidgetID(e)+"_scroller' class='scrollerX  "+i+"' kwidgettype='KScrollBox' name='touchcontainer_KScroller' swipeDirection ='vertical' style='"+$KW.skins.getBaseStyle(e,n)+a+"'><div id='"+$KW.Utils.getKMasterWidgetID(e)+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee'>",r+=e.htmlstring,r+="</div></div></div>"}if(e.url)if(this.isExternalUrl(e.url)){var l="webView"+e.id;$KG[l]=this.openUrllink(e.url,e.method,e.data,$KW.Utils.getKMasterWidgetID(e))}else r=t.localFileRenderImpl(e,i,{});return r},eventHandler:function(e,t){},unloadEventHandler:function(e){},cangoback:function(e){},cangoforward:function(e){},clearhistory:function(e){},prepareIframe:function(e,t){var n=e.contentDocument.head,i=document.createElement("script");t.enablenativecommunication?i.text="if(typeof(kony) == 'undefined' || kony){kony={}};var executeInNativeCtx = function(userCallBackInNative){var parentdocument = parent['document'];var scriptTag = parentdocument.createElement('script');scriptTag.text=userCallBackInNative;parentdocument.head.appendChild(scriptTag);};kony.evaluateJavaScriptInNativeContext = executeInNativeCtx;":i.text="if(typeof(kony) == 'undefined' || kony){kony={}};var executeInNativeCtx = function(){throw ('enableNativeCommunciation property of the browser widget is set to false. Please set to true before invoking kony.executeInNativeContext !');};kony.evaluateJavaScriptInNativeContext = executeInNativeCtx;",n.appendChild(i)},evaluateJavaScript:function(e,t){var n=$KW.Utils.getContentNodeFromNodeByModel(e).querySelector("iframe[kwidgettype='KonyLocalFrame']");if(n){kony.web.logger("log","executing javascript in "+e.id+" window handler");var i=n.contentDocument.head;if(null==i||void 0==i){var r=document.createElement("head");n.contentDocument.appendChild(r),i=n.contentDocument.head}var o=n.contentDocument.createElement("script");o.text=t,i.appendChild(o)}},goBack:function(t){var n=e(t);n&&n.contentWindow.history.back()},goForward:function(t){var n=e(t);n&&n.contentWindow.history.forward()},reload:function(t){var n=e(t);n&&n.contentWindow.location.reload(!0)}};return t}();
$KW.DataGrid=function(){var e={initialize:function(){kony.events.addEvent("click","DataGrid",this.eventHandler)},initializeView:function(e){},updateView:function(t,n,i,l){var s=$KU.getNodeByModel(t);switch(n){case"skin":case"alternateskin":case"rownormalskin":case"rowalternateskin":s&&this.applyRowSkin(t,s);break;case"focusskin":case"rowfocusskin":break;case"headerskin":if(s)(d=s.tHead&&s.tHead.rows[0])&&(d.className=i);break;case"gridlinecolor":case"gridlinestyle":this.applyCellBorder(t);break;case"showcolumnheaders":var d;if(s)(d=s.tHead&&s.tHead.rows[0])&&(d.style.display=i?"":"none");break;case"ismultiselect":!i&&t.selectedindices&&(t.selectedindices=t.selecteditems=null,this.setSelectedItems(t,!0));break;case"data":$KU.isArray(i)&&this.modifyContent(t,i,"setdata");break;case"columnheadersconfig":if(s){var a=e.render(t,t.context);s.parentNode.innerHTML=a}}},render:function(e,t){e.context=t,this.initializeGrid(e);var n=e.parent;return $KW.FlexUtils.isFlexContainer(n)&&(e.layoutConfig.self=!0),this.create(e,t)},initializeGrid:function(e){e.columnheadersconfig&&(e.rowcount=e.data&&e.data.length-IndexJL||0,e.gridlinestyle=e.gridlinestyle||"solid",e.gridlinecolor=e.gridlinecolor||"666666",e.focusedindex=e.selectedindex=e.focusedindex||e.selectedindex||null,e.focuseditem=e.selecteditem=e.focuseditem||e.selecteditem||null,e.selectedindices=e.selectedindices||null,e.selecteditems=e.selecteditems||null,e.ismultiselect&&e.selectedindices&&!e.selecteditems&&this.setSelectedItems(e),e.cellBorder="thin "+e.gridlinestyle+" #"+e.gridlinecolor.substr(0,6))},create:function(e,t){var n=e.data||(IndexJL?[null]:[]),i=$KW.skins.getWidgetSkinList(e,e.context),l=$KW.skins.getMarginSkin(e,t),s="",d=i.split(" ");1==t.isPercent&&(d[1]="");s="<table style='border-collapse:collapse;table-layout:fixed;"+l+"' class='"+(i=d.join(" "))+"' "+$KW.Utils.getBaseHtml(e,e.context)+">";var a=e.columnheadersconfig;if(a){var r=this.headerBuilder(a,e);s+=this.appendRowTag(e,r,!0);var c=this.createBody(e,n);s+=this.appendRowTag(e,c||[],!1,1,!0,!0)}return s+="</table>"},headerBuilder:function(e,t){t.columnids=[],t.columntype=[];for(var n=IndexJL;n<e.length;n++)t.columnids.push(e[n].columnid),t.columntype.push(e[n].columntype);var i="<th id='{id}' style='overflow:hidden;"+$KW.skins.getBaseStyle(t)+("word-wrap:break-word;border:"+t.cellBorder+" ; font-weight:inherit;")+"' width='{width}%' class='{class}' type='{type}' colno='{colno}' colindex='{colindex}'>",l="",s=[],d="";for(n=IndexJL;n<e.length;n++){var a=(d=e[n]).columnwidthinpercentage||0,r=d.columncontentalignment||"";r=$KW.skins.getContentAlignment(t,r),l=i.replace(/\{id\}/g,d.columnid).replace(/\{width\}/g,a).replace(/\{class\}/g,r).replace(/\{type\}/g,d.columntype).replace(/\{colno\}/g,n).replace(/\{colindex}/g,"0,"+n)+($KU.escapeHTMLSpecialEntities(d.columnheadertext)||"")+"</th>",s.push(l)}return s},createBody:function(e,t){var n=$KW.skins.getBaseStyle(e);if(t.length>IndexJL){var i,l,s="word-wrap:break-word;border:"+e.cellBorder,d="<td id='{id}' width='{width}%' style='overflow:hidden;"+n+s+"' class='{class}' colindex='{colindex}' >{text}</td>",a="<td id='{id}' width='{width}%' style='overflow:hidden;"+n+s+"' class='{class}' colindex='{colindex}'><img src={src} class='{class}' onload='$KW.DataGrid.imgLoadHandler(arguments[0],this)'></td>",r=null,c=[],o="",u=1;e.counter=1,i=e.columnids.length;for(var h=IndexJL;h<t.length;h++){c[h-IndexJL]=[];for(var f=0;f<i;f++){l=e.columnids[f],o=e.columnheadersconfig[f+IndexJL];var m=e.columntype[f],g=o.columnwidthinpercentage||0,p="";u=1;var x=h+","+f;t[h].metainfo&&(p=(p=t[h].metainfo[l+"_skin"])||"");var y=o.columncontentalignment||"";if(y=$KW.skins.getContentAlignment(e,y),"text"==(m=m||"text")){var v=t[h][l]&&null!=t[h][l]?t[h][l]:"";v=(v=v.replace(/\$0/g,"$$$$0")).replace(/\$_/g,"$$$$_"),r=(r=d.replace(/\{text\}/g,$KU.escapeHTMLSpecialEntities(v))).replace(/\{class\}/g,p+" "+y+" "+n)}else if("image"==m){var w=t[h][l]&&$KU.getImageURL(t[h][l]);r=(r=a.replace(/\{src\}/g,w||"''")).replace(/\{class\}/g,y+" "+n)}else if("template"==m){var I=t[h][l];I.metainfo&&I.metainfo.colspan&&(u=I.metainfo.colspan),r=(r="<td id='{id}' width='{width}%' style='overflow:hidden;"+n+s+"' class='{class}' colindex='{colindex}' colspan='"+u+"'>").replace(/\{class\}/g,p+" "+y+" "+n);var k=I.template||o.columndatatemplate;k&&I&&(e.widgetsData=I,r+=$KW.Utils.handleLayout(e,k,I)),r+="</td>"}r=(r=(r=r.replace(/\{colindex\}/g,x)).replace(/\{width\}/g,g)).replace(/\{id}/g,l),c[h-IndexJL][f]=r,f+=u-1}e.counter++}}return c},appendRowTag:function(e,t,n,i,l,s){var d="";if(1==n){d+="<thead><tr index=0 "+$KW.Utils.getBaseHtml(e,e.context)+(e.headerskin?" class='"+e.headerskin+"'":"")+("undefined"!=e.showcolumnheaders&&0==e.showcolumnheaders?" style='display:none'":"")+">";for(var a=0;a<t.length;a++)d+=t[a];d+="</tr></thead>"}else{var r=e.rowalternateskin||e.alternateskin||"",c=e.rownormalskin||e.skin||"";if(s&&(d+="<tbody>"),t)for(a=0;a<t.length;a++){var o=e.data[a+IndexJL].metainfo,u=o&&o.skin||(a%2!=0&&r?r:c);e.ismultiselect&&e.selectedindices&&$KU.inArray(e.selectedindices,IndexJL?i:i-1)[0]&&e.rowfocusskin&&(u=e.rowfocusskin),d+="<tr index="+i+$KW.Utils.getBaseHtml(e,e.context)+(u?" class='"+u+"'":"")+">";for(var h=0;h<e.columnids.length;h++)d+=t[a][h];d+="</tr>",i++}s&&(d+="</tbody>")}return d},imgLoadHandler:function(e,t){var n=(t=(e=e||window.event).target||e.srcElement).naturalWidth||t.width,i=t.naturalHeight||t.height,l=t.parentNode,s=parseInt($KU.getStyle(l,"padding-left").replace("px",""),10)+parseInt($KU.getStyle(l,"padding-right").replace("px",""),10),d=l.clientWidth-s;if(n>d){t.style.width=d+"px";var a=n/i;t.style.height=Math.round(1/a*d)+"px"}},eventHandler:function(t,n){t||(t=window.event);var i=$KU.getParentByAttribute(t.target||t.srcElement,"colindex"),l=parseInt(n.getAttribute("index"),10),s=$KU.getModelByNode(n);l>0&&e.setFocusedIndex(s,n,i,l),e.rowClickHandler(s,l,i)},rowClickHandler:function(e,t,n){var i;if(spaAPM&&spaAPM.sendMsg(e,"onrowselected"),$KAR&&$KAR.sendRecording(e,"click",{colIndex:n.getAttribute("colindex"),eventType:"uiAction"}),0==t){var l=e.columnheadersconfig[parseInt(n.getAttribute("colno"),10)];i=$KU.returnEventReference(l.columnonclick||l.columnOnClick||"")}else i=$KU.returnEventReference(e.onrowselected);i&&$KU.executeWidgetEventHandler(e,i)},setFocusedIndex:function(e,t,n,i){if(i>0){i=IndexJL?i:i-1,e.selectedindex=e.focusedindex=i,e.selecteditem=e.focuseditem=e.data[i],e.ismultiselect||(e.selectedindices=IndexJL?[null,i]:[i],this.setSelectedItems(e,!0));var l=parseInt(n.getAttribute("colindex").split(",")[1]);e.selectedcellindex=[l,n.id],e.selectedcellitem=e.focuseditem[n.id]}e.ismultiselect&&this.setSelectedIndices(e,t)},setSelectedIndices:function(e,t){if(e.ismultiselect){var n=e.selectedindices||(IndexJL?[null]:[]),i=e.selecteditems||(IndexJL?[null]:[]),l=e.focusedindex,s=$KU.inArray(n,l);if(s[0]){if(n.splice(s[1],1),i.splice(s[1],1),e.rowfocusskin){var d=this.getRowSkin(e,l);t.className=d||""}}else n.push(l),i.push(e.data[l]),e.rowfocusskin&&(t.className=e.rowfocusskin);e.selectedindices=n.length>IndexJL?n:null,e.selecteditems=i.length>IndexJL?i:null}},setSelectedItems:function(e,t){if(e.selectedindices){e.selecteditems=IndexJL?[null]:[];for(var n=IndexJL;n<e.selectedindices.length;n++)e.data&&e.data[e.selectedindices[n]]&&e.selecteditems.push(e.data[e.selectedindices[n]])}if(t){var i=$KU.getNodeByModel(e);if(i){var l=i.tBodies[0].rows;for(n=0;n<l.length;n++)if(e.selectedindices&&$KU.inArray(e.selectedindices,n+IndexJL)[0]||!e.ismultiselect&&e.selectedindex==n+IndexJL)l[n].className=e.rowfocusskin;else{var s=this.getRowSkin(e,n+IndexJL);l[n].className=s||""}}}},getRowSkin:function(e,t){var n=e.rownormalskin||e.skin||"",i=e.rowalternateskin||e.alternateskin||"",l=e.data[t].metainfo;return l&&l.skin?l.skin:(parseInt(t,10)-IndexJL)%2!=0&&i?i:n},updateIndices:function(e,t,n){if(e.data&&e.data.length>IndexJL){var i=e.selectedindices;if("addat"==t)for(var l=IndexJL;l<i.length;l++)i[l]>=n&&(i[l]=i[l]+1);else{var s=$KU.inArray(i,n);s[0]&&i.splice(s[1],1);for(l=IndexJL;l<i.length;l++)i[l]>=n&&(i[l]=i[l]-1)}e.selectedindices=i.length>IndexJL?i:null,this.setSelectedItems(e)}else e.selectedindices=e.selecteditems=null},setData:function(e,t){e.focusedindex=e.focuseditem=e.selectedindex=e.selecteditem=e.selectedindices=e.selecteditems=null,$KU.isArray(t)&&this.modifyContent(e,t,"setdata")},addAll:function(e,t,n){$KU.isArray(t)&&this.modifyContent(e,t,"addall")},removeAll:function(e){e.focusedindex=e.focuseditem=e.selectedindex=e.selecteditem=e.selectedindices=e.selecteditems=null,this.modifyContent(e,IndexJL?[null]:[],"removeall")},removeAt:function(e,t){!isNaN(t)&&t>=IndexJL&&this.modifyContent(e,[],"removeat",t)},setDataAt:function(e,t,n){!isNaN(n)&&n>=IndexJL&&t instanceof Object&&this.modifyContent(e,t,"setdataat",n)},addDataAt:function(e,t,n){!isNaN(n)&&n>=IndexJL&&t instanceof Object&&this.modifyContent(e,t,"addat",n)},setCellData:function(e,t,n,i){!isNaN(t)&&i&&this.modifyContent(e,i,"setcelldata",t,n)},setHeaderCellDataAt:function(e,t,n){t&&n&&this.modifyContent(e,n,"setheadercelldata","",t)},applyCellSkin:function(e,t,n,i){!isNaN(t)&&this.modifyContent(e,i,"applycellskin",t,n)},selectAll:function(e,t){this.modifyContent(e,t,"selectall")},setTBodyInnerHTML:function(e,t,n){if($KU.isIE){var i=this.createTemp();if("setdata"==n){for(i.innerHTML="<table>"+t+"</table>";e.children.length>0;)e.removeChild(e.children[0]);for(;i.firstChild.children.length>0;)e.appendChild(i.firstChild.children[0])}else i.innerHTML="<table><tbody>"+t+"</tbody></table>","TABLE"==e.tagName?e.appendChild(i.firstChild.firstChild):e.parentNode.replaceChild(i.firstChild.firstChild,e)}else e.innerHTML=t},setTRInnerHTML:function(e,t,n){if($KU.isIE){var i=this.createTemp();i.innerHTML="<table><tbody><tr class='"+e.className+"' index='"+n+"'>"+t+"</tr></tbody></table>",e.parentNode.replaceChild(i.firstChild.firstChild.firstChild,e)}else e.innerHTML=t},createTemp:function(){var e=document.getElementById("__temp");return e||((e=document.createElement("div")).id="__temp"),e},modifyContent:function(e,t,n,i,l){if(e){"setcelldata"!=n&&"applycellskin"!=n&&"selectall"!=n&&(e.canUpdateUI=!1,$KW.Utils.updateContent(e,"data",t,n,i),e.canUpdateUI=!0),e.data&&(e.rowcount=e.data.length-IndexJL);var s=$KU.getNodeByModel(e);1==e.enablescrollbar&&e.dockingheader&&(s=$KU.getElementById(e.pf+"_"+e.id+"_body").childNodes[0]);var d=s&&(s.tBodies[0]||s);if(d){switch(n){case"setdata":var a=this.headerBuilder(e.columnheadersconfig,e),r=this.appendRowTag(e,a,!0),c=this.createBody(e,t);r+=this.appendRowTag(e,c,!1,1,!1,!0),this.setTBodyInnerHTML(s,r,"setdata");break;case"setdataat":t=IndexJL?[null,t]:[t];var o=d.rows[i-IndexJL];if(o)r=this.createBody(e,t)[0].join("");this.setTRInnerHTML(o,r,i);break;case"addall":i=d.rows.length,c=this.createBody(e,t),r=d.innerHTML+this.appendRowTag(e,c,!1,i+1,!1,!1);if(this.setTBodyInnerHTML(d,r),1==e.enablescrollbar&&e.dockingheader){$KU.isIE&&(d=$KU.getElementById(e.pf+"_"+e.id+"_body").childNodes[0]);var u=d.rows[i];u&&u.scrollIntoView(!0)}break;case"addat":var h=i<=IndexJL?0:i>e.rowcount?e.rowcount:i,f=document.createElement("div");t=IndexJL?[null,t]:[t];f.innerHTML="<table><tr index="+h+$KW.Utils.getBaseHtml(e,{tabpaneID:s.getAttribute("ktabpaneid")})+"></tr></table>";r=this.createBody(e,t)[0].join("");var m=f.firstChild.rows[0];i>=d.rows.length?d.appendChild(m):d.insertBefore(m,d.rows[i-IndexJL]),this.setTRInnerHTML(m,r,i);break;case"setcelldata":case"applycellskin":case"setheadercelldata":var g=$KU.inArray(e.columnids,l);if(g[0]){var p=e.data[i],x=d.rows[i-IndexJL];if(x)if("setcelldata"==n)p[l]=t,x.cells[g[1]].innerHTML=t;else{var y=p.metainfo||{};y[l+"_skin"]=t,p.metainfo=y,x.cells[g[1]].className+=" "+t}}break;case"removeall":this.setTBodyInnerHTML(d,"");break;case"removeat":d.rows[i-IndexJL]&&d.removeChild(d.rows[i-IndexJL]);break;case"selectall":if(e.ismultiselect&&e.data&&t){for(var v=IndexJL?[null]:[],w=IndexJL;w<e.data.length;w++)v.push(w);e.selectedindices=v}t||(e.selectedindices=e.selecteditems=null),this.setSelectedItems(e,!0)}this.adjustNodeIndex(d),"addat"!=n&&"removeat"!=n||e.ismultiselect&&e.selectedindices&&this.updateIndices(e,n,i),"addat"!=n&&"removeat"!=n&&"addall"!=n||this.applyRowSkin(e)}}},adjustNodeIndex:function(e){var t=e.childNodes;if(t)for(var n=0;n<t.length;n++){t[n].setAttribute("index",n+1),cells=t[n].cells;for(var i=0;cells&&i<cells.length;i++)cells[i].setAttribute("colindex",n+","+i)}},addArray:function(e,t){for(var n=0;n<t.length;n++)e.push(t[n]);return e},toggleVisibilty:function(e,t){var n=$KU.getNodeByModel(e);$KW.FlexUtils.isFlexWidget(e)&&(n=n.parentNode),t&&t.length>0&&e.isvisible?(n.style.display="",$KU.removeClassName(n,"hide")):n.style.display="none"},applyRowSkin:function(e){var t=$KU.getNodeByModel(e).tBodies[0].rows,n=e.rownormalskin||e.skin||"",i=e.rowalternateskin||e.alternateskin||"";if(n||i)for(var l=0;l<t.length;l++){var s=e.data[l+IndexJL].metainfo,d=s&&s.skin?s.skin:l%2!=0&&i?i:n;e.ismultiselect&&e.rowfocusskin&&e.selectedindices&&$KU.inArray(e.selectedindices,l+IndexJL)[0]?t[l].className=e.rowfocusskin:t[l].className=d}},applyCellBorder:function(e){var t=$KU.getNodeByModel(e);if(e.cellBorder="thin "+e.gridlinestyle+" #"+e.gridlinecolor.substr(0,6),t){var n=function(t){for(var n=0;n<t.length;n++)for(var i=t[n],l=0;l<i.cells.length;l++)i.cells[l].style.border=e.cellBorder};n(t.tHead&&t.tHead.rows),1==e.enablescrollbar&&e.dockingheader&&(t=$KU.getElementById(e.pf+"_"+e.id+"_body").childNodes[0]),n(t.tBodies[0].rows)}}};return e}();
$KW.Map=function(){var e=function(t,a,o){if(t.pf=o.id,a&&a.length>0)for(var n=0;n<a.length;n++)t[a[n]].pf=o.id,e(t[a[n]],t[a[n]].children,o);kony.ui.Form2.prototype.createFormLevelHierarchy.call(o,o.ownchildrenref)},t=function(e,t){var a=t;if(e&&("static"===e.mapsrc||$KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9)&&(a=t.getElementsByTagName("table")[0]),a){if(!0===e.disabled||"true"===t.getAttribute("kdisabled"))(o=document.createElement("div")).style.background="#fff",o.style.bottom="0",o.style.left="0",o.style.opacity="0.5",o.style.position="absolute",o.style.right="0",o.style.top="0",o.style.zIndex="2147483647",o.className="google_map_mask",a&&!a.querySelectorAll(".google_map_mask")[0]&&(e.oldPosition=a.style.position,a.style.position="relative",a.appendChild(o));if(!1===e.disabled||"false"===t.getAttribute("kdisabled")&&a){var o=a.querySelectorAll(".google_map_mask")[0];a.style.position=!!e.oldPosition&&e.oldPosition,o&&o.parentNode.removeChild(o)}}},a=function(){if("undefined"==typeof InfoBox){var e=document.createElement("script");e.type="text/javascript",e.src="//cdn.rawgit.com/googlemaps/v3-utility-library/master/infobox/src/infobox.js",document.body.appendChild(e);var t=function(){infobox=new InfoBox};e.addEventListener?e.onload=t:e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&t()}}},o=function(e){var t=D();if(t.onclick){var a=$KU.returnEventReference(t.onclick),o=e.latLng&&e.latLng.lat(),n=e.latLng&&e.latLng.lng();a&&a.call(t,t,{lat:o,lon:n})}$KAR&&$KAR.sendRecording(t,"click",{clickData:e,eventType:"uiAction"}),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},n=function(e,t){a();var o=D();o.enablemultiplecallouts?e=new InfoBox:y(o);var n=$KU.getNodeByModel(o);(o.calloutwidth<1||o.calloutwidth>100)&&(o.calloutwidth=80);var l=o.calloutwidth&&n.offsetWidth*o.calloutwidth*.01+"px"||"280px",r=parseInt(l,10)/-2,s=0;if("bottom"!=(o.calloutPostion||"top")){e.alignBottom_=!0;var d=t.icon;"object"==typeof t.icon&&(d=t.icon.url);var p=d.slice(d.lastIndexOf("/")+1);s=-(T.pinImageSize[p]?T.pinImageSize[p].height:30)}return e.content_=i(t.coData),e.disableAutoPan_=!1,e.position_=t.position,e.maxWidth_=450,e.pixelOffset_=new google.maps.Size(r,s),e.zIndex_=10,e.boxStyle_={opacity:1,width:l,background:"none"},e.enableEventPropagation_=!0,e.closeBoxURL_="",t.data&&$KW.Utils.updateLayoutData(o,t.coData,t.data),e.infoBoxClearance_=new google.maps.Size(0,0),e},i=function(t){var a="",o=D(),n=t.template||o.callouttemplate;if("string"==typeof n&&(n=_kony.mvc.initializeSubViewController(n)),n){n.isTemplate=!0,n.formPathId=o.formPathId,$KG.allTemplates[n.id]=n,e(n,n.children,n);var i=function(e,t){for(var a=e.widgetdatamapforcallout||{},o={},n=$KU.getkeys(a),i={},l=0;l<n.length;l++)i[a[n[l]]]=n[l];for(var r=$KU.getkeys(i),s=0;s<r.length;s++){var d=t[r[s]];d&&"object"!=typeof d&&"number"!=typeof d&&-1!=d.toLowerCase().indexOf("i18n.getlocalizedstring")?o[r[s]]=$KU.getI18NValue(d):o[n[s]]=d}return o}(o,t);if(i&&$KW.Utils.updateLayoutData(o,n,i),"FlexContainer"==n.wType){var l=document.querySelectorAll("[name=map_canvas]")[0];$KG.isUILayedOut=!1,a=$KW.FlexContainer.render(n,{}),(o.calloutwidth<1||o.calloutwidth>100)&&(o.calloutwidth=80);var r=o.calloutwidth&&l.offsetWidth*o.calloutwidth*.01+"px"||"280px",s=document.createElement("DIV");s.innerHTML=a,s.style.width=r,l.appendChild(s),$KW.FlexContainer.forceLayout(n,s.children[0]),a=s.innerHTML,l.removeChild(s),$KG.isUILayedOut=!0,$KW.Utils.initializeGestures(n)}else a=$KW.HBox.render(n,{topLevelBox:!0});setTimeout(function(){$KW.Utils.initializeGestures(n)},500)}return a},l=function(e){return"object"==typeof e&&(e=e.source),$KU.getImageURL(e)},r=function(){if(!("undefined"!=typeof google&&void 0!==google.maps||T.mapScriptRequested)){T.mapScriptRequested=!0;var e=D(),t=e&&e.mapClientId,a=e.mapApiKey,o=document.createElement("script");o.type="text/javascript";var n="https:";-1!=window.location.protocol.indexOf("http")&&(n=window.location.protocol),o.src=a?n+"//maps-api-ssl.google.com/maps/api/js?sensor=false&key="+a+"&callback=$KW.Map.setUpInteractiveCanvasMap":n+"//maps-api-ssl.google.com/maps/api/js?sensor=false"+(!!t&&"&client="+t||"")+"&callback=$KW.Map.setUpInteractiveCanvasMap",document.body.appendChild(o);var i=$KU.getElementById("__MainContainer");T.isMainContaineraVailable=!!i}},s=function(e,t){var a=t.id,o=document.getElementById(t.getAttribute("kformname")+"_static_map"),n=o.getAttribute("src"),i=n.match(/center=(.*)&/)[1].split(",");if(-1!=a.indexOf("_left"))i[1]=parseFloat(i[1])-.002,o.src=n.replace(/center=(.*)&/,"center="+i[0]+","+i[1]+"&");else if(-1!=a.indexOf("_right"))i[1]=parseFloat(i[1])+.002,o.src=n.replace(/center=(.*)&/,"center="+i[0]+","+i[1]+"&");else if(-1!=a.indexOf("_up"))i[0]=parseFloat(i[0])-.002,o.src=n.replace(/center=(.*)&/,"center="+i[0]+","+i[1]+"&");else if(-1!=a.indexOf("_down"))i[0]=parseFloat(i[0])+.002,o.src=n.replace(/center=(.*)&/,"center="+i[0]+","+i[1]+"&");else if(-1!=a.indexOf("_zoomin")){var l=n.match(/zoom=(.*)&size/);l=parseInt(l[1])+1,o.src=n.replace(/zoom(.*)&size/,"zoom="+l+"&size")}else if(-1!=a.indexOf("_zoomout")){l=n.match(/zoom=(.*)&size/);l=parseInt(l[1])-1,o.src=n.replace(/zoom(.*)&size/,"zoom="+l+"&size")}},d=function(e,t){for(;!t.getAttribute("kwidgettype");)t=t.parentNode;var a=t.getAttribute("kinfoid"),o=$KU.getElementID(a),n=t.getAttribute("mappointno"),i=kony.model.getWidgetModel(T.formID,o);i||(i=D());var l=$KU.returnEventReference(i.onselection);isNaN(parseInt(n,10))?(l&&$KU.executeWidgetEventHandler(i,l,i[i.id+"navigatetoloc"]),$KAR&&$KAR.sendRecording(i,"clickOnPinCallout",{locationData:i[i.id+"navigatetoloc"],eventType:"uiAction"})):(l&&$KU.executeWidgetEventHandler(i,l,i.locationdata[parseInt(n,10)]),$KAR&&$KAR.sendRecording(i,"clickOnPinCallout",{locationData:i.locationdata[parseInt(n,10)],eventType:"uiAction"}))},p=function(e){var t=document.querySelectorAll("#"+e+" div[kwidgettype='googlemap']");if(t)for(var a=0;a<t.length;a++){var o=t[a],n=$KU.getModelByNode(o);if(!n){var i=o.getAttribute("id").split("_")[1],l=o.getAttribute("id").split("_")[0],r=o.getAttribute("ktabpaneid");n=kony.model.getWidgetModel(l,i,r)}$KU.setScrollHeight(n)}},c=function(e,t){var a=e.locationData,o=[];if(a&&a.length>0){for(var n=0;n<t.length;++n){for(var i=!0,l=0;l<a.length;++l)if(a[l].id==t[n].id){i=!1;break}i&&o.push(t[n])}o=a.concat(o)}else o=t;e.locationData=o},g=function(e,t){var a=e.locationData;if(a&&a.length>0)for(var o=0;o<a.length;o++)if(a[o].id==t)return{index:o,data:a[o]}},m=function(e,t,a){e[t+"DataMap"][a]&&(e[t+"DataMap"][a].setMap(null),delete e[t+"DataMap"][a],delete e[t+"Data"][a])},f=function(e,t){var a="#FF0000",o="white",n=2,i=!0;if(t){var l=t.centerLocation.lat,r=t.centerLocation.lon,s=1e4*t.radius;t.circleConfig&&(a=t.circleConfig.lineColor,o=t.circleConfig.fillColor,n=t.circleConfig.lineWidth),t.navigateAndZoom&&(i=t.navigateAndZoom);var d=new google.maps.LatLng(l,r);i&&T.map.panTo(d);var p=new google.maps.Circle({strokeColor:a,strokeWeight:n,fillColor:o,map:T.map,center:d,radius:s});e.circleDataMap[t.id]=p}},u=function(e,t){var a="#FF0000",o="white",n=2,i=[];if(t){var l=t.locations;if(l&&l.length>0&&l[0].lon)for(var r=0;r<l.length;r++)l[r].lng=l[r].lon,l[r].lat=parseFloat(l[r].lat),l[r].lng=parseFloat(l[r].lng),delete l[r].lon;if(i.push(l),t.polygonConfig&&(a=t.polygonConfig.lineColor,o=t.polygonConfig.fillColor,n=t.polygonConfig.lineWidth,t.polygonConfig.innerPolygons)){var s,d,p=t.polygonConfig.innerPolygons;for(d=0;d<p.length;d++)if(s=p[d],i.push(s),s&&s[0].lon)for(r=0;r<s.length;r++)s[r].lng=s[r].lon,s[r].lat=parseFloat(s[r].lat),s[r].lng=parseFloat(s[r].lng),delete s[r].lon}}var c=new google.maps.Polygon({strokeColor:a,strokeWeight:n,fillColor:o});c.setMap(T.map),c.setPaths(i),e.polygonDataMap[t.id]=c},v=function(e,t,a){if(e){var o=e[a];o&&(o.id||(o.id=e.id+"_"+a),t.push(o))}},h=function(e,t){var a="#FF0000",o=2,n=[],i=[];if(t){v(t,i,"startLocation"),v(t,i,"endLocation"),i.length>0&&_(e,i);var l=t.locations;if(l&&l.length>0&&l[0].lon)for(var r=0;r<l.length;r++)l[r].lng=l[r].lon,l[r].lat=parseFloat(l[r].lat),l[r].lng=parseFloat(l[r].lng),delete l[r].lon;n=l,t.polygonConfig&&(a=t.polygonConfig.lineColor,o=t.polygonConfig.lineWidth)}var s=new google.maps.Polyline({path:n,strokeColor:a,strokeWeight:o});s.setMap(T.map),e.polylineDataMap[t.id]=s},y=function(e){var t=e.pinInfowindow;for(var a in t)t.hasOwnProperty(a)&&k(e,a)},k=function(e,t){var a=e.pinInfowindow[t];a&&a.close(),delete e.pinInfowindow[t]},I=function(e,t,a,o){void 0===T.pinImageSize&&(T.pinImageSize={});var n=l(t),i=new Image;i.src=n;var r=n.slice(n.lastIndexOf("/")+1);a.icon=n;var s=kony.map.PIN_IMG_ANCHOR_BOTTOM_CENTER;"object"==typeof t&&t.anchor&&(s=t.anchor),s==kony.map.PIN_IMG_ANCHOR_BOTTOM_CENTER&&(o?x(e,a):b(e,a)),T.pinImageSize[r]?w(e,a,n,s,T.pinImageSize[r].height,T.pinImageSize[r].width,o):i.onload=function(){T.pinImageSize[r]={height:this.naturalHeight,width:this.naturalWidth},w(e,a,n,s,this.naturalHeight,this.naturalWidth,o)}},w=function(e,t,a,o,n,i,l){o!=kony.map.PIN_IMG_ANCHOR_BOTTOM_CENTER&&(t.icon=L(a,o,n,i),l?x(e,t):b(e,t))},L=function(e,t,a,o){switch(t){case kony.map.PIN_IMG_ANCHOR_TOP_LEFT:a+=a,o=o;break;case kony.map.PIN_IMG_ANCHOR_TOP_RIGHT:a+=a,o=0;break;case kony.map.PIN_IMG_ANCHOR_TOP_CENTER:a+=a,o=parseInt(o/2,10);break;case kony.map.PIN_IMG_ANCHOR_CENTER:a=parseInt(a/2,10)+a,o=parseInt(o/2,10);break;case kony.map.PIN_IMG_ANCHOR_BOTTOM_LEFT:a=a,o=o;break;case kony.map.PIN_IMG_ANCHOR_BOTTOM_RIGHT:a=a,o=0;break;case kony.map.PIN_IMG_ANCHOR_MIDDLE_LEFT:a=parseInt(a/2,10)+a,o=o;break;case kony.map.PIN_IMG_ANCHOR_MIDDLE_RIGHT:a=parseInt(a/2,10)+a,o=0;break;case kony.map.PIN_IMG_ANCHOR_BOTTOM_CENTER:a=a,o=parseInt(o/2,10)}return{url:e,anchor:new google.maps.Point(o,a)}},_=function(e,t){for(var a=IndexJL;a<t.length;a++){var o="",n=new google.maps.LatLng(t[a].lat,t[a].lon);void 0==t[IndexJL].lat?(o=t[a][4+IndexJL]||e.defaultpinimage,n=new google.maps.LatLng(t[a][IndexJL],t[a][1+IndexJL])):o=t[a].image||e.defaultpinimage;var i=void 0==t[IndexJL].lat?t[a][3+IndexJL]:t[a].desc,l=void 0==t[IndexJL].lat?t[a][2+IndexJL]:t[a].name,r=void 0==t[IndexJL].lat?t[a][5+IndexJL]:t[a].showcallout||t[a].showCallout,s=t[a].calloutData||t[a].calloutdata,d=t[a].id||"noPinId",p={position:n,html:i,hdrdescp:l,map:T.map,indexpoint:a,pinId:d,coData:s,showcallout:r};I(e,o,p,!1)}},b=function(e,t){var a=new google.maps.Marker(t);e.markers.push(a),delete e.pinMarkers[t.pinId],e.pinMarkers[t.pinId]=a,new google.maps.event.addListener(a,"click",function(){if(!this.eventFromNavigateTo){var a=$KU.returnEventReference(e.onpinclick);a&&a.call(e,e,e.locationdata[parseInt(this.indexpoint)]),$KAR&&$KAR.sendRecording(e,"clickOnPin",{locationData:e.locationdata[parseInt(this.indexpoint)],eventType:"uiAction"})}if(k(e,this.pinId),this.showcallout||void 0==this.showcallout||this.forceShowcallout)if(this.coData)infobox=n(infobox,t),infobox.open(this.map,this),e.pinInfowindow[this.pinId]=infobox;else{var o=new google.maps.InfoWindow({content:"holding..."}),i='<div kwidgettype="Kinfowindow" kinfoid="'+e.id+'"';o.setContent(i+' mappointno="'+this.indexpoint+'"><b kwidgettype="Kinfowindow" kinfoid="'+e.id+'" mappointno="'+this.indexpoint+'">'+this.hdrdescp+"</b> <br />"+this.html+"</div>"),o.open(this.map,this),e.autocenterpinonclick&&this.map.setCenter(this.getPosition()),e.pinInfowindow[this.pinId]=o}this.forceShowcallout=!1,this.eventFromNavigateTo=!1}),a.setMap(t.map)},x=function(e,t){var a=t.locationData;if(marker=new google.maps.Marker(t),t.visible||marker.setMap(null),e[e.id+"navigatetoloc"]=a,t.showcallout){var o=a.calloutData||a.calloutdata;if(o)t.coData=o,infobox=n(infobox,t),new google.maps.event.addListener(marker,"click",function(){e.autocenterpinonclick&&this.map.setCenter(this.getPosition()),infobox.open(this.map,infobox)}),infobox.open(this.map,infobox);else{var i=new google.maps.InfoWindow({content:'<div kwidgettype="Kinfowindow" kinfoid="'+e.id+'" mappointno="navigatetoloc"> <b>'+t.hdrdescp+"</b> <br />"+t.html+"</div>"});a&&a.showcallout&&new google.maps.event.addListener(marker,"click",function(){e.autocenterpinonclick&&this.map.setCenter(this.getPosition()),i.open(this.map,this)}),i.open(this.map,marker)}}},M=function(){var e=D();if(!e.loadedFlag&&(e.loadedFlag=!0,e.onmaploaded)){var t=$KU.returnEventReference(e.onmaploaded);t&&t.call(e,e)}new google.maps.event.removeListener(T.tilesLoadedEventListener)},C=function(){var e=D();if(e.onboundschanged){var t=$KU.returnEventReference(e.onboundschanged);if(t){var a=T.map.getBounds(),o={center:[a.getCenter().lat(),a.getCenter().lng()],northEast:[a.getNorthEast().lat(),a.getNorthEast().lng()],southWest:[a.getSouthWest().lat(),a.getSouthWest().lng()],latspan:a.toSpan().lat(),lonspan:a.toSpan().lng()};t.call(e,e,o)}}},K=function(e){for(var t=e.locationdata||e.address,a="",o=IndexJL;o<t.length;o++){var n=void 0==t[IndexJL].lat?t[o][IndexJL]:t[o].lat,i=void 0==t[IndexJL].lat?t[o][1+IndexJL]:t[o].lon;void 0!=typeof e.newPinimage&&(a+="icon:"+e.newPinimage+"%7C"),a+=n+","+i,o!=t.length&&(a+="&markers=")}return a},D=function(){return T.kmasterID?$KU.getWidgetModelByID(T.formID+"_"+T.kmasterID+"_"+T.mapID):kony.model.getWidgetModel(T.formID,T.mapID)},T={formID:null,mapID:null,kmasterID:null,map:null,navigateToArgs:null,navigateToLocationArgs:null,mapScriptRequested:!1,mapScriptLoaded:!1,currentLatitude:null,currentLongitude:null,currentZoom:15,routeToLocationArgs:null,circleData:null,polygonData:null,circleDataMap:null,polygonDataMap:null,initialize:function(){kony.events.addEvent("click","Kinfowindow",d),kony.events.addEvent("click","Kstaticmap",s),kony.events.addEvent("onorientationchange","Map",p)},initializeView:function(e){document.querySelectorAll("div[name=map_canvas]").length>0&&r(),($KG.__currentForm?$KU.getScreenLevelWidgetModel($KG.__currentForm):"")||p(e)},updateView:function(e,t,a,o){switch(t){case"address":case"locationdata":if("static"===e.mapsrc||$KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9){if(!(d=document.getElementById(e.pf+"_static_map")))return;var n=d.getAttribute("src");if("locationdata"==t){var i=K(e);if(-1!=n.indexOf("&markers")){d.src=n,d.src=d.src.replace(/center=(.*)$/,"");var s="center="+(!!a.length&&a[0].lat||0)+","+(!!a.length&&a[0].lon||0)+"&";d.src+=s,d.src+=n.match(/markers=(.*)$/)[0]+i}else d.src=n+"&markers="+i}else-1!=n.indexOf("&markers")&&(n=n.replace(/markers=(.*)$/,"").replace("&markers=","")),d.src=n.replace(/center=(.*)&/,"center="+a.location+"&markers=color:red%7C"+a.location)}else{if(!$KU.getNodeByModel(e))return;if(T.mapScriptLoaded)$KU.getElementById("__MainContainer")?this.setUpInteractiveCanvasMap():T.isMainContaineraVailable=!1;else r()}break;case"zoom":case"zoomlevel":case"mode":if($KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9){var d;if(!(d=document.getElementById(e.pf+"_static_map")))return;n=d.getAttribute("src");var p="";switch(parseInt(e.mode,10)){case 2:p="satellite";break;case 3:p="hybrid";break;case 5:p="polygon";break;case 7:p="terrain";break;default:p="normal"}"mode"==t?d.src=n.replace(/maptype=(.*)&mobile/,"maptype="+p+"&mobile"):"zoom"!=t&&"zoomlevel"!=t||(d.src=n.replace(/zoom(.*)&size/,"zoom="+parseInt(a)+"&size"))}else{(c=document.querySelectorAll("[name=map_canvas]")[0])&&this.setUpInteractiveCanvasMap()}break;case"defaultpinimage":var c=document.querySelectorAll("[name=map_canvas]")[0];if(e&&"static"===e.mapsrc||$KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9){var g=l(a);g=e.newPinimage=location.origin+"/"+g,this.setUpInteractiveCanvasMap()}else e.defaultpinimage=a,c&&this.setUpInteractiveCanvasMap()}},render:function(e,t){e.needScroller=!0,e.loadedFlag=!1,function(e){e.pinMarkers={},e.pinInfowindow={},e.circleDataMap={},e.circleData={},e.polygonDataMap={},e.polygonData={},e.polylineDataMap={},e.polylineData={}}(e),this.formID=e.pf,this.mapID=e.id;var a=$KW.skins.getWidgetSkinList(e,t),o="",n="",i=e.mapsrc||e.mapsource,r="https:";if(-1!=window.location.protocol.indexOf("http")&&(r=window.location.protocol),"static"===i||$KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9){var s=$KW.skins.getVisibilitySkin(e),d="";switch(parseInt(e.mode,10)){case 2:d="satellite";break;case 3:d="hybrid";break;case 5:d="polygon";break;case 7:d="terrain";break;default:d="normal"}var p=e.locationdata||e.address,c=0,g=0,m="";p&&p[IndexJL]&&(c=void 0==p[IndexJL].lat?p[IndexJL][IndexJL]:p[IndexJL].lat,g=void 0==p[IndexJL].lat?p[IndexJL][1+IndexJL]:p[IndexJL].lon,m=K(e));var f=l(e.upimg?e.upimg:"tupF.png"),u=l(e.downimg?e.downimg:"tdownF.png"),v=l(e.rightimg?e.rightimg:"trightF.png"),h=l(e.leftimg?e.leftimg:"tleftF.png"),y=l(e.zoomin?e.zoomin:"zoomin.png"),k=l(e.zoomout?e.zoomout:"zoomout.png");n="<table><tr><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_up_event' src = '"+f+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_down_event' src = '"+u+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_right_event' src = '"+v+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_left_event' src = '"+h+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_zoomin_event' src = '"+y+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_zoomout_event' src = '"+k+"'/></td></tr></table>",e.disabled&&(n="<table style='position:relative;'><tr><td><div style='background:#fff;bottom:0;left:0;opacity:0.5;filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);filter:alpha(opacity=50);position:absolute;right:0;top:0;z-index:2147483647' class='google_map_mask'></div><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_up_event' src = '"+f+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_down_event' src = '"+u+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_right_event' src = '"+v+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_left_event' src = '"+h+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_zoomin_event' src = '"+y+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+e.pf+"' id='"+e.id+"_zoomout_event' src = '"+k+"'/></td></tr></table>"),o="<div id='"+e.pf+"_"+e.id+"'class='"+s+"' style='"+$KW.skins.getMarginSkin(e,t)+$KW.skins.getPaddingSkin(e)+"' kwidgettype='Map' >"+n,o+="<img id='"+e.pf+"_static_map' alt='Map Widget' style='width:100%;' src='"+r+"'://maps.google.com/maps/api/staticmap?sensor=false&zoom=15&size=400x400&format=png32&maptype="+d+"&mobile=true&center="+c+","+g+"&markers="+m+"'/></div>"}else if("native"==i)e.widgetdata=r+"//maps.google.com/maps?q=17.447326,78.371358",o="<a style='text-decoration:none;' href='"+e.widgetdata+"'>Google Map Name</a>";else{var I="";"5"!==e.mapview&&"5"!=e.mode||(I=" mapview='polygon' "),e.formPathId=e.pf+"_"+e.id,o="<div kwidgettype='googlemap'  "+$KW.Utils.getBaseHtml(e,t)+"  name='map_canvas'"+I+" style='height:500px;"+$KW.skins.getMarginSkin(e,t)+$KW.skins.getPaddingSkin(e)+"' class='"+a+"' konywidgetdata='"+e.widgetdata+"'></div>",e.kmasterid&&(e.formPathId=e.pf+"_"+e.kmasterid+"_"+e.id),this.kmasterID=e.kmasterid}return o},setUpInteractiveCanvasMap:function(){if("undefined"==typeof google)return $KG.mapScriptLoaded=!1,void(T.mapScriptLoaded=!1);if(r=D())if($KG.mapScriptLoaded=!0,T.mapScriptLoaded=!0,r.markers=[],r&&"static"===r.mapsrc&&($KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9)){var e=document.getElementById(r.pf+"_static_map"),n=e.getAttribute("src"),i=K(r);n=n.replace(/markers=(.*)$/,""),e.src=n+"&markers="+i}else{var l=document.querySelectorAll("[name=map_canvas]")[0];if($KG.mapScriptLoaded="false",l){try{var r=D();switch(parseInt(r.mode,10)){case 2:var s=google.maps.MapTypeId.SATELLITE;break;case 3:s=google.maps.MapTypeId.HYBRID;break;case 7:s=google.maps.MapTypeId.TERRAIN;break;default:s=google.maps.MapTypeId.ROADMAP}}catch(e){return void(window.console&&kony.web.logger("log","google : map script has not loaded yet"))}var d,p=l.getAttribute("mapview"),c=r.locationdata||r.address,g={zoom:r.zoomlevel||15,disableDefaultUI:!0,zoomControl:!0,navigationControl:!0,mapTypeControl:r.displaymaptypecontrols,scaleControl:!0,mapTypeId:s};if(c){var m=new google.maps.Geocoder;if(c.location)d=new google.maps.Map(l,g),m.geocode({address:c.location},function(e,t){if(t==google.maps.GeocoderStatus.OK){d.setCenter(e[0].geometry.location);new google.maps.Marker({map:d,position:e[0].geometry.location})}});else if(c.length>=1+IndexJL){var v,y=c[IndexJL].lat,k=c[IndexJL].lon,I=[];if(void 0==c[IndexJL].lat&&(y=c[IndexJL][IndexJL],k=c[IndexJL][1+IndexJL]),v=new google.maps.LatLng(y,k),g.center=v,g.zoomControl=void 0,d=new google.maps.Map(l,g),T.map=d,r.map=d,a(),null==p&&"5"!=r.mode)_(r,c);else{for(var w="",L=IndexJL;L<c.length;L++)w=void 0==c[IndexJL].lat?new google.maps.LatLng(c[L][IndexJL],c[L][IndexJL]):new google.maps.LatLng(c[L].lat,c[L].lon),I.push(w);new google.maps.Polygon({paths:I,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:3,fillColor:"#FF0000",fillOpacity:.35}).setMap(d)}}else 0==c.length&&(g.center=new google.maps.LatLng(0,0),d=new google.maps.Map(l,g),T.map=d,r.map=d)}else g.center=new google.maps.LatLng(0,0),d=new google.maps.Map(l,g),T.map=d,r.map=d;t(r,l),T.navigateToArgs&&T.navigateTo(T.navigateToArgs.mapModel,T.navigateToArgs.index,T.navigateToArgs.showCallOut),T.navigateToLocationArgs&&T.navigateToLocation(T.navigateToLocationArgs.mapModel,T.navigateToLocationArgs.locationData,T.navigateToLocationArgs.showCallOut,T.navigateToLocationArgs.dropPin),T.routeToLocationArgs&&T.navigateToLocation(T.routeToLocationArgs.mapModel,T.routeToLocationArgs.startlocationData,T.routeToLocationArgs.endlocationData,T.routeToLocationArgs.waypointslocation,T.routeToLocationArgs.routeConfig),new google.maps.event.addListener(this.map,"click",o),new google.maps.event.addListener(this.map,"bounds_changed",C);var b=new google.maps.event.addListener(this.map,"tilesloaded",M);T.tilesLoadedEventListener=b,function(e){for(var t in e.circleData)f(e,e.circleData[t]);for(var a in e.polygonData)u(e,e.polygonData[a]);for(var o in e.polylineData)h(e,e.polylineData[o])}(r)}}},routeLocations:function(e,t,a,o,n){if(this.map){markers={};var i={draggable:!0,suppressMarkers:!0,polylineOptions:{strokeColor:n.lineColor,strokeOpacity:1,strokeWeight:n.lineWidth}};directionsService=new google.maps.DirectionsService,directionsDisplay=new google.maps.DirectionsRenderer(i),geocoder=new google.maps.Geocoder;var r=new google.maps.LatLng(t.lat,t.lon),s=new google.maps.LatLng(a.lat,a.lon),d=document.querySelectorAll("[name=map_canvas]")[0],p={zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP,center:r};map=new google.maps.Map(d,p),directionsDisplay.setMap(map),this.map=map,e.map=map,this.RenderTheDirection(r,s,o),function(e){$KG.__markers={};for(var t=D(),a='<div kwidgettype="Kinfowindow" kinfoid="'+document.querySelectorAll("[name=map_canvas]")[0].getAttribute("id")+'"',o=IndexJL;o<e.length-1;o++){var n=o;imageURL=e[o].image,urlt=l(imageURL);var i=new google.maps.LatLng(e[o].lat,e[o].lon),r=new google.maps.Marker({id:n,position:i,map:map,icon:urlt,html:e[o].desc,hdrdescp:e[o].name,indexpoint:o,draggable:!0});$KG.__markers[n]=r,google.maps.event.addListener(r,"dragend",function(){geocoder.geocode({latLng:r.getPosition()},function(t,a){a==google.maps.GeocoderStatus.OK&&T.RenderTheDirection($KG.__markers[0].getPosition(),$KG.__markers[1].getPosition(),e[2])})}),new google.maps.event.addListener(r,"click",function(){if(t.onpinselect&&t.onpinselect(t.locationdata[parseInt(this.indexpoint)]),this.showcallout||void 0==this.showcallout){var e=new google.maps.InfoWindow({content:a+' mappointno="0"><b>'+name+"</b> <br />"+desc+"</div>"});e.setContent(a+' mappointno="'+this.indexpoint+'"><b>'+this.hdrdescp+"</b> <br />"+this.html+"</div>"),e.open(map,this)}}),r.setMap(map)}}([t,a,o])}},navigateTo:function(e,t,a){if(this.navigateToArgs||(this.navigateToArgs={mapModel:e,index:t,showCallOut:a}),this.map){t=parseInt(t);var o=this.map,n="",i="",r=e.locationdata;if(!(t<1&&t>=r.length)){if(r[t]&&(n=r[t].lat,i=r[t].lon,void 0==r[t].lat&&(n=r[t][IndexJL],i=r[t][1+IndexJL])),o.setCenter(new google.maps.LatLng(n,i)),a){var s=function(e,t,a){if(T.map){if(a.markers.length)return c=a.markers[e];t||(t=a.locationdata);var o,n=T.map,i=void 0==t[e].lat?t[e][4+IndexJL]:t[e].image||a.defaultpinimage;o=l(i);var r=void 0==t[e].lat?t[e][IndexJL]:t[e].lat,s=void 0==t[e].lat?t[e][1+IndexJL]:t[e].lon,d=void 0==t[e].lat?t[e][3+IndexJL]:t[e].desc,p=void 0==t[e].lat?t[e][2+IndexJL]:t[e].name,c=new google.maps.Marker({position:new google.maps.LatLng(r,s),map:n,icon:o,html:d,hdrdescp:p,indexpoint:e});return c}}(t,r,e);s.forceShowcallout=!0,s.eventFromNavigateTo=!0,google.maps.event.trigger(s,"click")}this.navigateToArgs=null}}},navigateToLocation:function(e,t,a,o){if(this.navigateToLocationArgs||(this.navigateToLocationArgs={mapModel:e,locationData:t,showCallOut:a,dropPin:o}),this.map){var n=t.lat?t.lat:t[IndexJL],i=t.lon?t.lon:t[1+IndexJL],r=void 0==t.lat?t[3+IndexJL]:t.desc,s=void 0==t.lat?t[2+IndexJL]:t.name,d=void 0==t.lat?t[4+IndexJL]:t.image||e.defaultpinimage,p=o?l(d):null;p="";o?(o=!0,p=l(d)):"undefined"!=typeof marker&&marker.setMap(null),"undefined"!=typeof infowindow&&infowindow.close();var c=new google.maps.LatLng(n,i);this.map.setCenter(c);var g={position:c,html:r,icon:p,hdrdescp:s,visible:o,map:this.map,locationData:t,showcallout:a};I(e,p,g,!0),this.navigateToLocationArgs=null}},setEnabledMap:function(e,a){t(e,a)},loadMapScripts:function(){r()},setMapsHeight:function(e){p(e)},RenderTheDirection:function(e,t,a){var o=[];if(a&&void 0!=a)for(var n=0;n<a.length;n++)o[n]=new google.maps.LatLng(a[n].lat,a[n].lon),o[n]={location:o[n]+""};var i={origin:e,destination:t,waypoints:o,travelMode:google.maps.TravelMode.DRIVING};directionsService.route(i,function(e,t){t==google.maps.DirectionsStatus.OK&&directionsDisplay.setDirections(e)})},dismissCallout:function(e,t){if(e.enablemultiplecallouts){if(t){var a;a=t instanceof Array?t[0].id:t.id,k(e,a)}}else"undefined"!=typeof infobox&&infobox.close()},addPin:function(e,t){c(e,[t])},addPins:function(e,t){c(e,t)},updatePin:function(e,t){var a=g(e,t.id);if(a){var o=a.data;for(var n in this.removePin(e,t,!1),t)t.hasOwnProperty(n)&&(o[n]=t[n]);e.locationData[a.index]=o,_(e,[o])}},updatePins:function(e,t){for(var a=0;a<t.length;a++)this.updatePin(e,t[a])},removePin:function(e,t,a){var o=e.pinMarkers[t.id];if(o&&o.setMap(null),delete e.pinMarkers[t.id],a){var n=g(e,t.id);if(!n)return;e.locationData.splice(n.index,1)}},removePins:function(e,t,a){for(var o=0;o<t.length;o++)this.removePin(e,t[o],!0)},addPolygon:function(e,t){removePolygon(e,t.id),e.polygonData[t.id]=t,u(e,t)},addCircle:function(e,t){removeCircle(e,t.id),e.circleData[t.id]=t,f(e,t)},addPolyline:function(e,t){e.polylineData[t.id]&&removePolyline(e,t.id),e.polylineData[t.id]=t,h(e,t)},removePolygon:function(e,t){m(e,"polygon",t)},removeCircle:function(e,t){m(e,"circle",t)},removePolyline:function(e,t){var a=[];v(e.polylineData[t],a,"startLocation"),v(e.polylineData[t],a,"endLocation"),a.length>0&&this.removePins(e,a),m(e,"polyline",t)},setCalloutVisibility:function(e,t,a){if(e.enablemultiplecallouts)for(var o=0;o<a.length;o++)if(t){var n=e.pinMarkers[a[o].id];n&&google.maps.event.trigger(n,"click")}else k(e,a[o].id)},clear:function(e){for(var t in e.circleDataMap)removeCircle(e,t);for(var a in e.polygonDataMap)removePolygon(e,a);for(var o in e.polylineDataMap)removePolyline(e,o);e.locationData=[]}};return T}();
$KW.TabPane=function(){var e={ANIMATION_DELAY:500,initialize:function(){kony.events.addEvent("click","Tab",this.eventHandler),kony.events.addEvent("onorientationchange","TabPane",this.orientationHandler)},initializeView:function(t){this.toggleDisable(t),setTimeout(function(){e.setTabsHeight(t)},1),$KU.setScrollBoxesHeight(t,"TabPane")},orientationHandler:function(e,t){$KU.setScrollBoxesHeight(e,"TabPane")},updateView:function(e,t,i,a){var n=e.viewtype;switch(t){case"activeskin":if("tabview"===n)for(var d=0;d<e.children.length;d++){var s=$KW.Utils.getKMasterWidgetID(e[e.children[d]]),l=$KU.getElementById(s+"_Body"),r=$KU.getElementById(s+"_Li"),c=$KU.getElementById(s+"_A");l&&"1"===l.getAttribute("activebody")&&($KU.removeClassName(r,a+"li"),$KU.removeClassName(c,a+"lia"),$KU.addClassName(r,i+"li"),$KU.addClassName(c,i+"lia"))}else for(d=0;d<e.children.length;d++){s=$KW.Utils.getKMasterWidgetID(e[e.children[d]]);(o=$KU.getElementById(s+"_Header"))&&"1"===o.getAttribute("active")&&($KU.removeClassName(o,a),$KU.addClassName(o,i))}break;case"inactiveskin":if("tabview"===n)for(d=0;d<e.children.length;d++){s=$KW.Utils.getKMasterWidgetID(e[e.children[d]]),l=$KU.getElementById(s+"_Body"),r=$KU.getElementById(s+"_Li"),c=$KU.getElementById(s+"_A");l&&"0"===l.getAttribute("activebody")&&($KU.removeClassName(r,a+"li"),$KU.removeClassName(c,a+"lia"),$KU.addClassName(r,i+"li"),$KU.addClassName(c,i+"lia"))}else for(d=0;d<e.children.length;d++){var o;s=$KW.Utils.getKMasterWidgetID(e[e.children[d]]);(o=$KU.getElementById(s+"_Header"))&&"0"===o.getAttribute("active")&&($KU.removeClassName(o,a),$KU.addClassName(o,i))}break;case"activetab":var g=$KU.getElementById($KW.Utils.getKMasterWidgetID(e));i>=0&&i<e.children.length&&(e.activetab=i,e.activetabs&&(e.activetabs[IndexJL]=i),this.repaint(g,e));break;case"activetabs":case"viewconfig":g=$KU.getElementById($KW.Utils.getKMasterWidgetID(e));this.repaint(g,e);break;case"viewtype":g=$KU.getElementById($KW.Utils.getKMasterWidgetID(e));e.viewtype=i,e.viewconfig&&(e.toggletabs=e.viewconfig.collapsibleviewconfig.toggletabs),this.repaint(g,e)}},render:function(e,t){var i=e.viewtype,a="";return $KU.updateScrollFlag(e),e.containerheight&&(e.needScroller=!!(e.containerheight>=0&&e.containerheightreference)),"tabview"==i?(this.adjustActiveTabs(e),a=this.generateTabView(e,t)):!0===e.toggletabs?(this.adjustActiveTabs(e),a=this.generateAccordionView(e,t)):a=this.generateCollapsibleView(e,t),a},repaint:function(t,i){t&&("tabview"===i.viewtype||i.viewtype==constants.TABPANE_VIEW_TYPE_PAGEVIEW?(t.innerHTML=e.generateTabView(i,i.context,!0),e.adjustFlexContainers(i)):"collapsibleview"===i.viewtype&&"true"===i.toggletabs?(t.innerHTML=e.generateAccordionView(i,i.context,!0),setTimeout(function(){e.setTabsHeight(i.pf)},1)):(t.innerHTML=e.generateCollapsibleView(i,i.context,!0),setTimeout(function(){e.setTabsHeight(i.pf)},1)))},adjustFlexContainers:function(e){$KU.needOptimization=!1,$KW.Form.initializeFlexContainersInBox(e),$KU.needOptimization=!0},generateTabView:function(e,t,i){var a="",n=e,d=$KW.skins.getBaseStyle(e,t),s=$KW.skins.getPaddingSkin(e),l=$KW.skins.getVisibilitySkin(e),r=(e.id,e.pf,e.pf+"_"+e.id),c=$KW.Utils.getMasterIDObj(e);""!=c.id&&(r=c.id);var o=c.kmasterid;i||(a+="<div  id='"+r+"_scroller' class='scrollerX "+l+"' kwidgettype='KScrollBox' name='touchcontainer_KScroller' swipeDirection ='vertical' style='"+d+"' "+o+"><div id='"+r+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee' "+o+">",a+="<div id = '"+r+"' style='"+s+"' kformname='"+e.pf+"' kwidgettype='TabPane' "+o+">"),a+="<div id = '"+r+"_Header' "+o+">",a+="<ul id = '"+r+"_Ul' class='middleleftalign' style='padding-bottom: 3px;' "+o+">";for(var g=0;g<e.children.length;g++){var v=n[e.children[g]];a+=this.generateTabViewLi(e,v,g)}a+="</ul>",a+="</div>",a+="<div id = '"+r+"_Body' "+o+">";for(var b=0;b<e.children.length;b++){v=n[e.children[b]];e.context=t,a+=this.generateTabViewBody(e,v,b,t)}return a+="</div>",i||(a+="</div></div></div>"),a},generateTabViewLi:function(e,t,i){var a=e.activeskin||"",n=e.inactiveskin||"",d=" ktabpaneid='"+e.id+"' kformname='"+e.pf+"' ",s="",l=t.pf+"_"+t.id,r=$KW.Utils.getMasterIDObj(t);return""!=r.id&&(l=r.id),s+="<li id = '"+l+"_Li' index="+i+" style='display:inline' class='"+(i!=e.activetab-IndexJL?n:a)+"li' kwidgettype='Tab'"+d+" "+r.kmasterid+">",s+="<a id = '"+l+"_A' style='display:inline-block' index="+i+" kwidgettype='Tab'"+d+"href='#' class='"+(i!=e.activetab-IndexJL?n:a)+(n||a?"lia'":"'")+" "+r.kmasterid+">",t.image&&(s+="<img id = '"+l+"_Header_Image' src='"+$KU.getImageURL(t.image)+"' "+r.kmasterid+" />"),t.tabname&&(s+="<div ",t.image&&(s+=" style='float:right' "),s+=">"+t.tabname+"</div>"),s+="</a>",s+="</li>"},generateTabViewBody:function(e,t,i,a){var n="",d=" ktabpaneid='"+e.id+"' kformname='"+e.pf+"' ",s=$KW.skins.getMarginSkin(t,a)+$KW.skins.getPaddingSkin(t),l="FlexContainer"==t.wType?"":t.skin||"";tabId=t.pf+"_"+t.id;var r=$KW.Utils.getMasterIDObj(t);return""!=r.id&&(tabId=r.id),n+="<div id = '"+tabId+"_Body' kwidgettype='tabviewTabBody'"+d,i!=e.activetab-IndexJL?n+="class='hide "+l+"' activebody='0' ":n+="class='show "+l+"' activebody='1' ",n+=" style='"+s+"' "+r.kmasterid+">",n+=this.renderTab(e,t,a),n+="</div>"},generateCollapsibleView:function(e,t,i){var a=e,n="",d=$KW.skins.getMarginSkin(e,t),s=$KW.skins.getPaddingSkin(e),l=$KW.skins.getVisibilitySkin(e),r=e.pf+"_"+e.id,c=$KW.Utils.getMasterIDObj(e);""!=c.id&&(r=c.id),i||(n+="<div id='"+r+"_scroller' class='scrollerX "+l+"' kwidgettype='KScrollBox' name='touchcontainer_KScroller' swipeDirection ='vertical' style='"+d+"' "+c.kmasterid+"><div id='"+r+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee' "+c.kmasterid+">",n+="<div class='"+l+"' style='"+s+"' id = '"+r+"' kformname='"+e.pf+"' kwidgettype='TabPane' "+c.kmasterid+">"),e.context=t;for(var o=0;o<e.children.length;o++){var g=a[e.children[o]];e.context=t,n+=this.generateCollapsibleViewTab(e,g,o,t)}return i||(n+="</div></div></div>"),n},generateCollapsibleViewTab:function(e,t,i,a){var n="",d=e.activeskin||"",s=e.inactiveskin||"",l=" ktabpaneid='"+e.id+"' kformname='"+e.pf+"' ",r=e.collapsedimage?$KU.getImageURL(e.collapsedimage):"",c=e.expandedimage?$KU.getImageURL(e.expandedimage):"",o=$KW.skins.getMarginSkin(t,a)+$KW.skins.getPaddingSkin(t),g=this.isActiveTab(e,t),v=t.pf+"_"+t.id,b=$KW.Utils.getMasterIDObj(t);return""!=b.id&&(v=b.id),n+="<div id = '"+v+"_Tab' "+b.kmasterid+">",n+="<div id = '"+v+"_Header' index="+i+l+"kwidgettype='Tab' tabHeader='true' class='"+(g?d:s)+"'"+(g?" active='1'":" active='0'")+" "+b.kmasterid+">",n+="<div class = 'ktable kwt100' style='text-decoration: inherit;table-layout: auto;'>",n+="<div class = 'krow kwt100' >","left"==e.imageposition&&(n+="<div class = 'kcell kwt2 middleleftalign' >",n+="<img ",g?e.collapsedimage&&(n+="src='"+r+"'"):e.expandedimage&&(n+="src='"+c+"'"),n+=" id='"+v+"_Img' kwidgettype='Tab'"+l+" "+b.kmasterid+"/>",n+="</div>"),n+="<div class = 'kcell kwt98 middleleftalign' >",t.image&&(n+="<div style='float:left'><img id = '"+v+"_Header_Image' src='"+$KU.getImageURL(t.image)+"' "+b.kmasterid+" /></div>"),n+="<div id = '"+v+"_Div' kwidgettype='Tab' "+l,e.tabnamealignment&&(n+="style='text-align:"+e.tabnamealignment+"' "),n+=" "+b.kmasterid+">",t.tabname&&(n+=t.tabname),n+="</div>",n+="</div>","right"===e.imageposition&&(n+="<div class = 'kcell kwt2 middleleftalign' >",n+="<img style='vertical-align: middle' ",g?e.collapsedimage&&(n+="src='"+r+"'"):e.expandedimage&&(n+="src='"+c+"'"),n+=" id='"+v+"_Img' kwidgettype='Tab'"+l+" "+b.kmasterid+"/>",n+="</div>"),n+="</div></div>",n+="</div>",n+="<div id = '"+v+"_Body' class='"+(g?"tabactivebody ":"tabinactivebody ")+(t.skin||"")+"' kwidgettype='collapsibleTabBody' style='display:none;"+o+"' "+b.kmasterid+">",e.context=a,n+=this.renderTab(e,t,a),n+="</div>",n+="</div>"},isActiveTab:function(e,t){if(!e.activetabs)return!1;for(var i=0;i<e.children.length&&e.children[i]!=t.id;i++);for(var a=IndexJL;a<e.activetabs.length;a++)if(e.activetabs[a]==i+IndexJL)return!0;return!1},generateAccordionView:function(e,t,i){var a=e,n="",d=$KW.skins.getMarginSkin(e,t),s=$KW.skins.getPaddingSkin(e),l=$KW.skins.getVisibilitySkin(e),r=e.pf+"_"+e.id,c=$KW.Utils.getMasterIDObj(e);""!=c.id&&(r=c.id),i||(n+="<div  id='"+r+"_scroller' class='scrollerX "+l+"' kwidgettype='KScrollBox' name='touchcontainer_KScroller' swipeDirection ='vertical' style='"+d+"' "+c.kmasterid+"><div id='"+r+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee' "+c.kmasterid+">",n+="<div class='"+l+"' style='"+s+"' id = '"+r+"' kformname='"+e.pf+"' kwidgettype='TabPane' "+c.kmasterid+">");e.activeskin,e.inactiveskin,e.id,e.pf,e.collapsedimage&&$KU.getImageURL(e.collapsedimage),e.expandedimage&&$KU.getImageURL(e.expandedimage);e.context=t;for(var o=0;o<e.children.length;o++){var g=a[e.children[o]];n+=this.generateAccordionViewTab(e,g,o,t)}return i||(n+="</div></div></div>"),n},generateAccordionViewTab:function(e,t,i,a){var n=t.pf+"_"+t.id,d=$KW.Utils.getMasterIDObj(t);""!=d.id&&(n=d.id);var s=" ktabpaneid='"+e.id+"' kformname='"+e.pf+"' ",l=e.activeskin||"",r=e.inactiveskin||"",c=e.collapsedimage?$KU.getImageURL(e.collapsedimage):"",o=e.expandedimage?$KU.getImageURL(e.expandedimage):"",g=$KW.skins.getMarginSkin(t,a)+$KW.skins.getPaddingSkin(t),v="";return v+="<div id = '"+n+"_Tab' "+d.kmasterid+">",v+="<div id = '"+n+"_Header' index="+i+s+"kwidgettype='Tab' "+d.kmasterid+" tabHeader='true' class='"+(i==e.activetab-IndexJL?l+"' active='1'>":r+"' active='0'>"),v+="<div class = 'ktable kwt100' style='text-decoration: inherit;table-layout: auto;'>",v+="<div class = 'krow kwt100' >","left"===e.imageposition&&(v+="<div class = 'kcell kwt2 middleleftalign' >",v+="<img ",i==e.activetab-IndexJL?e.collapsedimage&&(v+="src='"+c+"'"):e.expandedimage&&(v+="src='"+o+"'"),v+=" id='"+n+"_Img' kwidgettype='Tab'"+s+" "+d.kmasterid+"/>",v+="</div>"),v+="<div class = 'kcell kwt98 middleleftalign' >",t.image&&(v+="<div style='float:left'><img id = '"+n+"_Header_Image' src='"+$KU.getImageURL(t.image)+"' "+d.kmasterid+" /></div>"),v+="<div id = '"+n+"_Div' kwidgettype='Tab'"+s,e.tabnamealignment&&(v+="style='text-align:"+e.tabnamealignment+"' "),v+=d.kmasterid+" >",t.tabname&&(v+=t.tabname),v+="</div>",v+="</div>","right"===e.imageposition&&(v+="<div class = 'kcell kwt2 middleleftalign' >",v+="<img ",i==e.activetab-IndexJL?e.collapsedimage&&(v+="src='"+c+"'"):e.expandedimage&&(v+="src='"+o+"'"),v+=" id='"+n+"_Img' kwidgettype='Tab'"+s+" "+d.kmasterid+"/>",v+="</div>"),v+="</div></div>",v+="</div>",v+="<div id = '"+n+"_Body' class='"+(i==e.activetab-IndexJL?"tabactivebody ":"tabinactivebody ")+(t.skin||"")+"' kwidgettype='collapsibleTabBody' style='display:none;"+g+"' "+d.kmasterid+">",v+=this.renderTab(e,t,a),v+="</div>",v+="</div>"},renderTab:function(e,t,i){var a="";if((i=i||{}).tabpaneID=e.id,"FlexContainer"==t.wType)a=$KW.FlexContainer.render(t,i);else if(t.children)if(t.layouttype==constants.CONTAINER_LAYOUT_GRID)a=$KW.Grid.render(t,i);else for(var n=0;n<t.children.length;n++){var d=e[t.children[n]];i.topLevelBox=!0,a+=$KW[d.wType].render(d,i),i.topLevelBox=!1}return i.tabpaneID="",a},setTabsHeight:function(t){var i,a=document.querySelectorAll("#"+t+" div[kwidgettype='tabviewTabBody']");if(a)for(var n=0;n<a.length;n++){var d=a[n];if(d.getAttribute("kmasterid")){var s=d.getAttribute("id");g=$KU.getWidgetModelByID(s.substring(0,s.lastIndexOf("_")))}else{var l=d.getAttribute("id").split("_")[1],r=d.getAttribute("ktabpaneid"),c=d.getAttribute("kformname");g=kony.model.getWidgetModel(c,l,r)}"1"===d.getAttribute("activebody")&&(i=$KU.returnEventReference(g.oninit),g.oninit&&$KU.executeWidgetEventHandler(g,i),g.oninit&&delete g.oninit)}var o=document.querySelectorAll("#"+t+" div[kwidgettype='collapsibleTabBody']");if(o)for(n=0;n<o.length;n++){var g,v=o[n];if(v.getAttribute("kmasterid")){s=v.getAttribute("id");g=$KU.getWidgetModelByID(s.substring(0,s.lastIndexOf("_")))}else{l=v.parentNode.getAttribute("id").split("_")[1],r=v.previousSibling.getAttribute("ktabpaneid"),c=v.previousSibling.getAttribute("kformname");g=kony.model.getWidgetModel(c,l,r)}"1"===v.previousSibling.getAttribute("active")?(i=$KU.returnEventReference(g.oninit),g.oninit&&$KU.executeWidgetEventHandler(g,i),e.expandTab(g,v)):e.collapseTab(g,v),"1"===v.previousSibling.getAttribute("active")&&g.oninit&&delete g.oninit}},toggleDisable:function(e){for(var t=document.querySelectorAll("#"+e+" div[kwidgettype='TabPane']"),i=0;i<t.length;i++){var a=$KU.getModelByNode(t[i]);void 0!=a.disabled&&$KW.APIUtils.setenabled(a,1!=a.disabled);var n=a.children;if(n)for(var d=0;d<n.length;d++){var s=a[n[d]];s&&void 0!=s.disabled&&$KW.APIUtils.setenabled(s,1!=s.disabled)}}},collapseTab:function(t,i){i.style.height=i.scrollHeight+"px";var a=t.transDuration?parseInt(t.transDuration):e.ANIMATION_DELAY;setTimeout(function(){i.style.overflow="hidden",i.style[$KU.transition]="height "+a+"ms ease",i.style.height="0px"},1),setTimeout(function(){$KU.addClassName(i,"hide")},a)},expandTab:function(t,i){i.style.display="block",i.style.overflow="hidden",$KU.removeClassName(i,"hide"),e.adjustFlexContainers(t.parent);var a=t.transDuration?parseInt(t.transDuration):e.ANIMATION_DELAY;i.style[$KU.transition]="height "+a+"ms ease",i.style.height=i.scrollHeight+"px",setTimeout(function(){e.setTabsHeightAuto(i)},a+100)},setTabsHeightAuto:function(e){e.style[$KU.transition]="",e.style.height="auto"},addTab:function(e,t,i,a,n,d){e.addTab(t,i,a,n,d)},addChildTab:function(e,t){var i=$KU.getNodeByModel(e),a=$KW.Utils.getKMasterWidgetID(t)+"_Li",n=$KU.getElementById(a);if(i&&!n){var d=e.children.length;this.addChildTabAt(e,t,d)}},removeTabAt:function(t,i,a){if((i=parseInt(i))>=IndexJL&&!a&&(i-=IndexJL),i>=0&&i<=t.children.length){var n=t[t.children[i]];if(n&&_konyConstNS.ContainerWidget.prototype.remove.call(t,n),"tabview"==t.viewtype||t.toggletabs&&!0===t.toggletabs){if(t.activetab==i+IndexJL)return t.activetab=IndexJL,t.activetabs[IndexJL]=t.activetab,void this.updateView(t,"activetab",t.activetab,t.activetab);t.activetab>i+IndexJL&&(t.activetab-=1,t.activetabs[IndexJL]=t.activetab)}else{var d=$KU.inArray(t.activetabs,parseInt(i)+IndexJL);if(d[0]&&t.activetabs.splice(d[1],1),t.activetabs.length==IndexJL)return IndexJL?t.activetabs=[null,1]:t.activetabs=[0],void this.updateView(t,"activetabs",t.activetabs,t.activetabs);for(var s=IndexJL;s<t.activetabs.length;s++){var l=t.activetabs[s];l>i&&(t.activetabs[s]=l-1)}}if("tabview"==t.viewtype){if($KU.getNodeByModel(t)){var r=$KU.getElementById($KW.Utils.getKMasterWidgetID(t)+"_Ul");r.children[i]&&r.removeChild(r.children[i]);var c=$KU.getElementById($KW.Utils.getKMasterWidgetID(t)+"_Body");c.children[i]&&c.removeChild(c.children[i])}}else{var o=$KU.getElementById($KW.Utils.getKMasterWidgetID(n)+"_Tab");o&&o.parentNode.removeChild(o)}this.adjustTabIndex(t),e.initializeView(t.pf)}},removeTabById:function(t,i){i&&i.id&&(i=i.id);var a="";if(t[i])if(a=$KW.Utils.getKMasterWidgetID(t[i]),"tabview"==t.viewtype){var n=$KU.getElementById(a+"_Li");if(n){var d=n.getAttribute("index");e.removeTabAt(t,d,!0)}}else{var s=$KU.getElementById(a+"_Header");if(s){d=s.getAttribute("index");e.removeTabAt(t,d,!0)}}},setTabName:function(e,t,i){var a=e[t];if(a){a.tabname=i;t=$KW.Utils.getKMasterWidgetID(a);if("tabview"==e.viewtype){var n=$KU.getElementById(t+"_A");if(n){var d=n.childNodes[0];a.image&&(d=n.childNodes[1]),d.innerText=i}}else if("collapsibleview"===e.viewtype){var s=$KU.getElementById(t+"_Div");s&&(s.innerText=i)}}},addTabAt:function(e,t,i,a,n,d){e.addTabAt(t,i,a,n,d)},addChildTabAt:function(t,i,a){a=parseInt(a);var n=$KU.getNodeByModel(t);if(a<IndexJL&&(a=IndexJL),a>=t.children.length&&(a=t.children.length-1+IndexJL),"tabview"==t.viewtype){var d=$KW.Utils.getKMasterWidgetID(i)+"_Li",s=$KU.getElementById(d);if(n&&!s){var l="",r=(t.activeskin,t.inactiveskin,t.id,t.pf,$KU.getElementById($KW.Utils.getKMasterWidgetID(t)+"_Ul")),c=$KU.getElementById($KW.Utils.getKMasterWidgetID(t)+"_Body");if(a<t.activetab)t.activetab+=1,t.activetabs[IndexJL]=t.activetab;else if(a==t.activetab&&r.childNodes.length>0){var o=r.childNodes[a],g=r.childNodes[a].childNodes[0],v=c.childNodes[a];$KU.removeClassName(o,t.activeskin+"li"),$KU.addClassName(o,t.inactiveskin+"li"),$KU.removeClassName(g,t.activeskin+"lia"),$KU.addClassName(g,t.inactiveskin+"lia"),$KU.removeClassName(v,"show"),$KU.addClassName(v,"hide"),v.setAttribute("activebody","0")}l=this.generateTabViewLi(t,i,a);var b=document.createElement("div");b.innerHTML=l,r.children[a-IndexJL]?r.insertBefore(b.children[0],r.children[a-IndexJL]):r.appendChild(b.children[0]),l=this.generateTabViewBody(t,i,a,t.context),(b=document.createElement("div")).innerHTML=l,c.children[a-IndexJL]?c.insertBefore(b.children[0],c.children[a-IndexJL]):c.appendChild(b.children[0])}}else if("collapsibleview"===t.viewtype){var m=$KU.getElementById($KW.Utils.getKMasterWidgetID(i)+"_Tab");if(n&&!m){l=!1===t.toggletabs?this.generateCollapsibleViewTab(t,i,a,t.context):this.generateAccordionViewTab(t,i,a,t.context),(b=document.createElement("div")).innerHTML=l;var p=$KU.getNodeByModel(t);p.children[a-IndexJL]?p.insertBefore(b.children[0],p.children[a-IndexJL]):p.appendChild(b.children[0]),t.toggletabs&&(m=$KU.getElementById($KW.Utils.getKMasterWidgetID(i)+"_Tab"),this.collapseTab(i,m.children[1]));for(var K=IndexJL;K<t.activetabs.length;K++){var h=t.activetabs[K];h>=a&&(t.activetabs[K]=h+1)}t.activetab=t.activetabs[IndexJL]}}this.adjustTabIndex(t),n&&$KW.Utils.initializeNewWidgets(i.ownchildrenref),e.initializeView(t.pf)},adjustTabIndex:function(e){var t=$KU.getNodeByModel(e);if(t)if("tabview"==e.viewtype)for(var i=$KU.getElementById($KW.Utils.getKMasterWidgetID(e)+"_Ul"),a=0;a<i.children.length;a++){var n=i.children[a];n.setAttribute("index",a),n.children[0].setAttribute("index",a)}else for(var d=0;d<t.children.length;d++){t.children[d].children[0].setAttribute("index",d)}},setTabImage:function(e,t,i){var a=e[t];if(a&&a.image&&!a.header){a.image=i;t=$KW.Utils.getKMasterWidgetID(a);if("tabview"==e.viewtype||"collapsibleview"===e.viewtype){var n=$KU.getElementById(t+"_Header_Image");n&&(n.src=$KU.getImageURL(i))}}},executeTabEvent:function(t,i,a){$KU.getParentByAttribute(i,"index");var n=i.getAttribute("ktabid"),d=i.getAttribute("ktabpaneid"),s=i.getAttribute("kformname"),l=(kony.model.getWidgetModel(s,n,d),kony.model.getWidgetModel(s,d));e.changeActiveTabSkin(l,n)},eventHandler:function(t,i,a,n){var d,s,l,r;if(i.getAttribute("kmasterid")){var c=i.getAttribute("id");d=$KU.getWidgetModelByID(c.substring(0,c.lastIndexOf("_"))),s=d.parent,l=d.id,r=$KW.Utils.getKMasterWidgetID(d)}else{var o=i.getAttribute("id"),g=i.getAttribute("ktabpaneid"),v=i.getAttribute("kformname"),b=o.split("_");l=b[1],r=b[0]+"_"+b[1],d=kony.model.getWidgetModel(v,l,g),s=kony.model.getWidgetModel(v,g)}var m=d.transDuration?parseInt(d.transDuration):e.ANIMATION_DELAY,p=$KU.returnEventReference(d.oninit),K=!1;d.oninit&&$KU.executeWidgetEventHandler(d,p),$KAR&&$KAR.sendRecording(s,"click",{tabID:l,target:i,eventType:"uiAction"});var h=$KU.getElementById(r+"_Body"),y=$KU.getElementById(r+"_Header"),k=$KU.getElementById(r+"_Img");$KU.getElementById(r+"_Li");if("collapsibleview"===s.viewtype&&!1===s.toggletabs)if("auto"===h.style.height){e.collapseTab(d,h),s.inactiveskin&&setTimeout(function(){s.inactiveskin&&(y.className=s.inactiveskin)},m),y.setAttribute("active","0");var u=y.getAttribute("index");s.activetabs=s.activetabs||[],(I=$KU.inArray(s.activetabs,parseInt(u)+IndexJL))[0]&&s.activetabs.splice(I[1],1),s.expandedimage&&k&&setTimeout(function(){k.src=$KU.getImageURL(s.expandedimage)},m)}else{K=!0,s.activetabs=s.activetabs||[];var I;u=y.getAttribute("index");(I=$KU.inArray(s.activeTabs,parseInt(u)+IndexJL))[0]||(s.activetabs.push(parseInt(u)+IndexJL),IndexJL?$KI.table.sort(s.activetabs):s.activetabs.sort()),h.style.display="block",e.expandTab(d,h),s.activeskin&&(y.className=s.activeskin),y.setAttribute("active","1"),s.collapsedimage&&k&&(k.src=$KU.getImageURL(s.collapsedimage))}else if("tabview"===s.viewtype)for(var f=0;f<s.children.length;f++){var $=$KW.Utils.getKMasterWidgetID(s[s.children[f]]),U=$KU.getElementById($+"_Body"),x=$KU.getElementById($+"_Li"),w=$KU.getElementById($+"_A");s.children[f]===l?(s.activetab=f+IndexJL,s.activetabs[IndexJL]=s.activetab,U.className="show "+(s[s.children[f]].skin?s[s.children[f]].skin:""),s.activeskin&&($KU.removeClassName(x,s.inactiveskin+"li"),$KU.removeClassName(w,s.inactiveskin+"lia"),$KU.addClassName(x,s.activeskin+"li"),$KU.addClassName(w,s.activeskin+"lia"),U.setAttribute("activebody","1")),$KG.isUILayedOut=!1,e.adjustFlexContainers(s),$KG.isUILayedOut=!0,s.activetab=f+IndexJL,s.activetabs[IndexJL]=s.activetab):(U.className="hide "+(s[s.children[f]].skin?s[s.children[f]].skin:""),U.setAttribute("activebody","0"),$KU.removeClassName(x,s.activeskin+"li"),$KU.removeClassName(w,s.activeskin+"lia"),$KU.addClassName(x,s.inactiveskin+"li"),$KU.addClassName(w,s.inactiveskin+"lia"))}else if("collapsibleview"===s.viewtype&&!0===s.toggletabs)for(y.getAttribute("active"),f=0;f<s.children.length;f++){$=$KW.Utils.getKMasterWidgetID(s[s.children[f]]);var T=$KU.getElementById($+"_Body"),W=$KU.getElementById($+"_Header"),A=$KU.getElementById($+"_Img");s.children[f]===l?"0px"===h.style.height?(0==s.activetab&&(s.activetab=f+IndexJL,s.activetabs[IndexJL]=s.activetab),K=!0,e.expandTab(d,h),s.activeskin&&(y.className=s.activeskin),y.setAttribute("active","1"),s.collapsedimage&&k&&(k.src=$KU.getImageURL(s.collapsedimage)),s.activetab=f+IndexJL,s.activetabs=IndexJL?[null,s.activetab]:[s.activetab]):(e.collapseTab(d,h),s.inactiveskin&&setTimeout(function(){y.className=s.inactiveskin,y.setAttribute("active","0")},m),s.expandedimage&&k&&setTimeout(function(){k.src=$KU.getImageURL(s.expandedimage)},m),s.activetab=null,s.activetabs=null):"0px"!==T.style.height&&(T.style.display="block",e.collapseTab(d,T),s.inactiveskin&&(W.className=s.inactiveskin),s.expandedimage&&k&&(A.src=$KU.getImageURL(s.expandedimage)),W.setAttribute("active","0"))}d.oninit&&delete d.oninit,$KW.Utils.reinitializeWidgets(s),spaAPM&&spaAPM.sendMsg(s,"ontabclick");var _=$KU.returnEventReference(s.onclick||s.ontabclick);1!=n&&void 0!==n||!_||($KU.executeWidgetEventHandler(d,_,s.activetab,K),$KU.onEventHandler(d)),$KW.Map&&$KW.Map.map&&google&&($KW.Map.setMapsHeight(s.pf),google.maps.event.trigger($KW.Map.map,"resize"))},adjustActiveTabs:function(e){if(e.activetabs){var t=IndexJL?[null]:[];t.push(e.activetabs[IndexJL]),e.activetabs=t}}};return e}();
$KW.Switch=function(){var t={initialize:function(){kony.events.addEvent("click","Switch",this.eventHandler),kony.events.addEvent("onorientationchange","Switch",this.adjustSwitchWidth)},initializeView:function(t,e){this.adjustSwitchWidth(t,!0,e),this.adjustSwitchHeight(t,e)},updateView:function(e,i,s,n){var a=$KU.getNodeByModel(e),o=t.isCustomSwitch(e);if(a){a=$KW.Utils.getClonedTemplateNode(a,e,i);var d=t.getNodesInSwitch(a,e);switch(i){case"selectedindex":$KU.isIOSgt6?this.adjustSwitch(e,a,"all 0.4s ease-in-out"):this.adjustSwitch(e,a,"all 0.125s ease-in-out");break;case"leftsidetext":!$KW.Utils.belongsToSegment(a)&&o?d.leftTextNode.innerHTML=$KU.escapeHTMLSpecialEntities(s):$KW.Utils.belongsToSegment(a)||(d.onNode.innerHTML=$KU.escapeHTMLSpecialEntities(s));break;case"rightsidetext":!$KW.Utils.belongsToSegment(a)&&o?d.rightTextNode.innerHTML=$KU.escapeHTMLSpecialEntities(s):$KW.Utils.belongsToSegment(a)||(d.offNode.innerHTML=$KU.escapeHTMLSpecialEntities(s));break;case"thumbwidth":case"thumbheight":case"trackwidth":case"trackheight":if(!$KW.Utils.belongsToSegment(a)&&o){var l=this.render(e,{tabpaneID:a.getAttribute("ktabpaneid")});(a=a.parentNode).innerHTML=l,this.adjustSwitch(e,a.firstElementChild,"all 0.4s ease-in-out")}break;case"thumbtext":!$KW.Utils.belongsToSegment(a)&&o&&(d.thumbTextNode.innerHTML=$KU.escapeHTMLSpecialEntities(s));break;case"thumbskin":if(t.isCustomSwitch(e)){var r=["thumbon","thumboff"][e.selectedIndex];$KU.removeClassName(d.thumbNode,n+r),$KU.addClassName(d.thumbNode,s+r)}}}},addA11YAttribute:function(t,e,i){t.accessibilityConfig&&!i||(t.leftsidetext&&0===t.selectedIndex?e.setAttribute("aria-label",t.leftsidetext):t.rightsidetext&&e.setAttribute("aria-label",t.rightsidetext))},renderIOSgt6Switch:function(t,e,i){var s=["","background-image : none","height   : 31px;","padding  : 0","position : relative","width    : 51px","-webkit-border-radius: 15.5px;","background-size:100%","display : inline-block;",""].join(";"),n=["","border     : 0","background : #FFF","height     : 28px","position   : relative","width      : 28px","top        : 1.5px","z-index    : 3","-webkit-border-radius:14px","-webkit-box-shadow:1px 1px 3px 0 rgba(0,0,0,0.3)",""].join(";"),a=["","display:none",""].join(";"),o=["","display:none",""].join(";"),d=["","background       : #FFF","background-image : none","border   : 1px solid #ccc","height   : 31px","left     : 0","margin   : 0","padding  : 0","position : absolute","top      : 0","width    : 51px","z-index  : 2","-webkit-border-radius:15.5px",""].join(";");return s+=$KW.skins.getBlurStyle(t),"<div role='option' aria-selected='"+["true","false"][t.selectedIndex]+"' "+i.substituteAccessAttr+$KW.Utils.getBaseHtml(t,e)+"class='switch "+i.computedSkin+" "+(t.skin?t.skin+"on":"")+"' style='"+i.margin+s+(t.skin?"":";background: #4FD065")+"'><div  id='"+t.id+"_on' style='"+a+"'>"+i.lText+"</div><div class='thumb' id='"+t.id+"_thumb' style='"+n+"'><span style='"+o+"'></span></div><div  id='"+t.id+"_off' style='"+d+"'>"+i.rText+"</div></div>"},renderSwitchOtherThanIOSgt6:function(t,e,i){var s=$KW.skins.getBlurStyle(t);return"<div role='option' aria-selected='"+["true","false"][t.selectedIndex]+"' "+i.substituteAccessAttr+$KW.Utils.getBaseHtml(t,e)+"class='kwt100 switch "+i.computedSkin+"' style='"+i.margin+s+"'><div aria-hidden='true' class='"+(t.skin?t.skin+"on":"on konycustomcss")+"' id='"+t.id+"_on'>"+i.lText+"</div><div aria-hidden='true' class='thumb' id='"+t.id+"_thumb'> <span></span></div><div aria-hidden='true' class=' "+(t.skin?t.skin+"off":"off konycustomcss")+"' id='"+t.id+"_off'>"+i.rText+"</div></div>"},render:function(e,i){var s=$KW.skins.getWidgetSkinList(e,i),n=$KW.skins.getMarginSkin(e,i),a=e.leftsidetext||"ON",o=e.rightsidetext||"OFF",d=t.isCustomSwitch(e),l="";void 0==e.accessibilityConfig&&(e.leftsidetext&&0===e.selectedIndex?l=" aria-label='"+e.leftsidetext+"' ":e.rightsidetext&&(l=" aria-label='"+e.rightsidetext+"' ")),$KU.isIOSgt6&&!d&&(a="",o=""),d&&(a=e.leftsidetext,o=e.rightsidetext),e.selectedindex=e.selectedindex==IndexJL?IndexJL:IndexJL+1;var r={computedSkin:s,margin:n,lText:a,rText:o,substituteAccessAttr:l};return d?t.renderCustomSwitch(e,i,r):$KU.isIOSgt6?t.renderIOSgt6Switch(e,i,r):t.renderSwitchOtherThanIOSgt6(e,i,r)},adjustSwitchWidth:function(e,i,s){for(var n=s?s.querySelectorAll("div[kwidgettype='Switch']"):document.querySelectorAll("#"+e+" div[kwidgettype='Switch'], div[class~='popupmain'] div[kwidgettype='Switch']"),a=0;a<n.length;a++){var o=$KU.getModelByNode(n[a]),d=n[a].getAttribute("kcontainerID");d&&(o=$KW.Utils.getClonedModelByContainer(o,n[a],d)),t.adjustWidth(o,n[a],i)}},adjustWidthOtherThanIOSgt6:function(e,i,s){var n=t.getNodesInSwitch(i,e);if(n.onNode.style.marginRight="-6px",n.offNode.style.marginLeft="-6px",e.cWidth=Math.floor(i.clientWidth/2),e.sWidth=e.cWidth+i.clientWidth%2+6,n.onNode.style.width=e.sWidth-2+"px",n.offNode.style.width=e.sWidth+"px",n.thumbSpan.style.width=e.cWidth+"px",t.adjustSwitch(e,i,"none"),$KU.isIE11)for(var a=0;a<i.children.length;a++)i.children[a].style.flex="none"},adjustWidth:function(e,i,s){t.isCustomSwitch(e)?t.adjustSwitch(e,i,"none"):$KU.isIOSgt6?(e.cWidth=Math.floor(i.clientWidth),e.sWidth=e.cWidth+i.clientWidth%2+6,t.adjustSwitch(e,i,"none")):t.adjustWidthOtherThanIOSgt6(e,i,s)},toggleSwitch:function(e,i){var s=i,n=s.getAttribute("kdisabled"),a=i.getAttribute("kcontainerID"),o=t.getNodesInSwitch(s,e);if(a&&(e=$KW.Utils.getClonedModelByContainer(e,i,a)),s&&"true"!=n){if(this.applyTrans(s,e,$KU.isIOSgt6?"all 0.4s ease-in-out":"all 0.125s ease-in-out"),e.selectedindex==IndexJL)e.selectedindex=IndexJL+1,t.isCustomSwitch(e)?(this.applyTrans(s,e,"all 0.4s ease-in-out"),o.thumbNode.style[$KU.transform]=translateOpen+o.onNode.offsetLeft+"px,0"+translateClose):$KU.isIOSgt6?(o.thumbNode.style[$KU.transform]=translateOpen+1.5+"px,0"+translateClose,o.offNode.style[$KU.transform]="scale(1)"):(o.onNode.style[$KU.transform]=translateOpen+-(e.cWidth+8)+"px,0"+translateClose,o.thumbNode.style[$KU.transform]=translateOpen+(2-e.cWidth)+"px,0"+translateClose,o.offNode.style[$KU.transform]=translateOpen+-e.cWidth+"px,0"+translateClose);else if(e.selectedindex=IndexJL,t.isCustomSwitch(e)){this.applyTrans(s,e,"all 0.4s ease-in-out");var d=t.getAbsoluteDimensions(e,o),l=parseInt(d.trackWidth)-parseInt(d.thumbWidth)+o.onNode.offsetLeft-o.thumbNode.offsetLeft+kony.flex.PX;o.thumbNode.style[$KU.transform]=translateOpen+l+",0"+translateClose}else o.onNode.style[$KU.transform]=translateOpen+"0,0"+translateClose,$KU.isIOSgt6?(o.thumbNode.style[$KU.transform]=translateOpen+21.5+"px,0"+translateClose,o.offNode.style[$KU.transform]="scale(0.01)"):(o.thumbNode.style[$KU.transform]=translateOpen+"0,0"+translateClose,o.offNode.style[$KU.transform]=translateOpen+"0,0"+translateClose);spaAPM&&spaAPM.sendMsg(e,"onslide");var r=$KU.returnEventReference(e.onslide||e.onslidercallback);s.setAttribute("aria-selected",[!0,!1][e.selectedIndex]),t.addA11YAttribute(e,s),t.isCustomSwitch(e)&&(t.adjustLabelsForCustomSwitch(e,s),o.onNode.className=e.skin?e.skin+["on","off"][e.selectedIndex]:["on switch","off switch"][e.selectedIndex],o.thumbNode.className=e.thumbskin?e.thumbskin+["thumbon","thumboff"][e.selectedIndex]:["on switch","off switch"][e.selectedIndex]),$KAR&&$KAR.sendRecording(e,"toggle",{target:i,eventType:"uiAction"}),$KU.callTargetEventHandler(e,i,"onslide"),r&&$KU.onEventHandler(e)}},adjustSwitch:function(e,i,s){var n=t.getNodesInSwitch(i,e);if(this.applyTrans(i,e,s),t.isCustomSwitch(e)&&(t.adjustSwitchAlignment(e,i),t.adjustLabelsForCustomSwitch(e,i)),e.selectedindex==IndexJL){if(n.onNode.style[$KU.transform]=translateOpen+n.onNode.offsetLeft+",0"+translateClose,t.isCustomSwitch(e)){var a=t.getAbsoluteDimensions(e,n),o=parseInt(a.trackWidth)-parseInt(a.thumbWidth)+n.onNode.offsetLeft-n.thumbNode.offsetLeft+kony.flex.PX;return void(n.thumbNode.style[$KU.transform]=translateOpen+o+",0"+translateClose)}$KU.isIOSgt6?(n.thumbNode.style[$KU.transform]=translateOpen+"21.5px,0"+translateClose,n.offNode.style[$KU.transform]="scale(0.01)"):(n.thumbNode.style[$KU.transform]=translateOpen+"0,0"+translateClose,n.offNode.style[$KU.transform]=translateOpen+"7px,0"+translateClose)}else{if(t.isCustomSwitch(e))return void(n.thumbNode.style[$KU.transform]=translateOpen+0+"px,0"+translateClose);n.onNode.style[$KU.transform]=translateOpen+-(e.cWidth+6)+"px,0"+translateClose,$KU.isIOSgt6?(n.thumbNode.style[$KU.transform]=translateOpen+1.5+"px,0"+translateClose,n.offNode.style[$KU.transform]="scale(1)"):(n.thumbNode.style[$KU.transform]=translateOpen+(2-e.cWidth)+"px,0"+translateClose,n.offNode.style[$KU.transform]=translateOpen+-e.cWidth+"px,0"+translateClose)}},applyTrans:function(e,i,s){var n=t.getNodesInSwitch(e,i);n.thumbNode.style[$KU.transition]=s,n.onNode.style[$KU.transition]=s,n.offNode&&(n.offNode.style[$KU.transition]=s)},eventHandler:function(e,i){var s=$KU.getModelByNode(i);t.toggleSwitch(s,i)},adjustThumbHeight:function(e,i,s){var n=t.getNodesInSwitch(e,i);s.target.naturalHeight=s.target.naturalHeight||s.target.height,n.onNode.style.height=n.offNode.style.height=s.target.naturalHeight+"px",n.thumbSpan.style.height=s.target.naturalHeight-2+"px"},adjustSwitchHeight:function(e,i){for(var s=i?i.querySelectorAll("div[kwidgettype='Switch']"):document.querySelectorAll("#"+e+" div[kwidgettype='Switch']"),n=0;n<s.length;n++){var a=$KU.getModelByNode(s[n]);t.adjustHeight(a,s[n])}},adjustHeight:function(e,i){var s=t.getNodesInSwitch(i,e);if(!t.isCustomSwitch(e)&&!$KU.isIOSgt6){if(s.onNode.style.minHeight="27px",s.offNode.style.minHeight="27px",e.skin)var n=$KU.getCSSPropertyFromRule(e.skin+"on","background-image");if(n){var a=n.replace(/url\(([^\)]*)\)/,"$1");$KU.imagePreloader(a,(o=i,function(i){kony.events.preventDefault(i),t.adjustThumbHeight(o,e,i)}))}var o}},adjustLabelsForCustomSwitch:function(e,i){var s=t.getNodesInSwitch(i,e),n=s.leftTextNode,a=s.rightTextNode,o=s.thumbTextNode;n.style.display=["block","none"][e.selectedIndex],a.style.display=["none","block"][e.selectedIndex],o.style.display="block"},getAbsoluteDimensions:function(e,i){var s=t.computeValuesForCustomSwtich(e),n={};return n.trackHeight=s.trackheight.indexOf("%")?i.onNode.offsetHeight:parseFloat(s.trackheight.replace("px","")),n.thumbHeight=s.thumbheight.indexOf("%")?i.thumbNode.offsetHeight:parseFloat(s.thumbheight.replace("px","")),n.trackWidth=s.trackwidth.indexOf("%")?i.onNode.offsetWidth:parseFloat(s.trackwidth.replace("px","")),n.thumbWidth=s.thumbwidth.indexOf("%")?i.thumbNode.offsetWidth:parseFloat(s.thumbwidth.replace("px","")),n},adjustTopMargin:function(t,e,i){var s,n;s="-"+i.trackHeight/2+"px",n="-"+i.thumbHeight/2+"px",e.onNode.style.marginTop=s,e.thumbNode.style.marginTop=n},adjustLabelAlignment:function(t,e,i){e.leftTextNode.style.lineHeight=i.trackHeight+"px",e.rightTextNode.style.lineHeight=i.trackHeight+"px",e.thumbTextNode.style.lineHeight=i.thumbHeight+"px"},adjustSwitchAlignment:function(e,i){var s=t.getNodesInSwitch(i,e),n=t.getAbsoluteDimensions(e,s);t.adjustTopMargin(e,s,n),t.adjustLabelAlignment(e,s,n)},isCustomSwitch:function(t){if(t.thumbwidth&&t.thumbheight&&t.trackwidth&&t.trackheight)return!0},renderCustomSwitch:function(e,i,s){s.thumbText=e.thumbtext;var n=t.computeValuesForCustomSwtich(e),a="background-image : none; padding  : 0; display : inline-block; background-size:100%; height : 100%; width : 100%;";a+=$KW.skins.getBlurStyle(e);var o="display: inline-block; position: absolute; height:"+n.trackheight+"; width: "+n.trackwidth+" ; top : 50%; left : 0px;",d="height : "+n.thumbheight+"; width : "+n.thumbwidth+"; position : absolute; top : 50%; z-index : 3; -webkit-box-shadow:1px 1px 3px 0 rgba(0,0,0,0.3); overflow: hidden",l='<div role="option" aria-selected="'+["true","false"][e.selectedIndex]+'" '+s.substituteAccessAttr+$KW.Utils.getBaseHtml(e,i)+' style="'+s.margin+a+(e.skin?"":";background: #4FD065")+'" class="switch '+s.computedSkin+'">';return l+='<div  id="'+e.id+'" style="'+o+'"class="  '+(e.skin?0==e.selectedindex?e.skin+'on"':e.skin+'off"':'on switch"')+'><label style="float:left; padding-left: 5px;">'+(s.lText?s.lText:" ")+'</label><label style="float:right; padding-right: 5px;">'+(s.rText?s.rText:" ")+"</label></div>",l+='<div id="'+e.id+'_thumb" style="'+d+'" class="  '+(e.thumbskin?0==e.selectedindex?e.thumbskin+'thumbon"':e.thumbskin+'thumboff"':'off switch"')+'"><label style="">'+(s.thumbText?s.thumbText:" ")+"</label></div></div>"},computeValuesForCustomSwtich:function(t){var e={};return e.trackwidth=this.getComputedCustomSwtichValue(t,t.trackwidth),e.trackheight=this.getComputedCustomSwtichValue(t,t.trackheight),e.thumbwidth=this.getComputedCustomSwtichValue(t,t.thumbwidth),e.thumbheight=this.getComputedCustomSwtichValue(t,t.thumbheight),e.height=this.getComputedCustomSwtichValue(t,t.height),e.width=this.getComputedCustomSwtichValue(t,t.width),e},getComputedCustomSwtichValue:function(t,e,i){if(!$KU.isValidCSSLength(e))return null;var s=$KW.FlexUtils.getValueAndUnit(t,e);return s.value+s.unit},getNodesInSwitch:function(e,i){var s={};return s.thumbNode=e.children[1],s.onNode=e.children[0],t.isCustomSwitch(i)?(s.leftTextNode=e.children[0].firstElementChild,s.rightTextNode=e.children[0].lastElementChild,s.thumbTextNode=e.children[1].firstElementChild):(s.thumbSpan=e.children[1].firstElementChild,s.offNode=e.children[2]),s}};return t}();
$KW.Popup=function(){var e={updateView:function(t,i,n,o){switch(i){case"ismodal":case"transparencybehindthepopup":var r=1-t.transparencybehindthepopup/100,s=document.getElementById("__popuplayer"),l=document.getElementById(t.id+"_container");s&&(s.style.opacity=r),"ismodal"==i&&l&&e.modalPopupWorker(t,l)}},render:function(t){$KG.localization&&$KI.i18n.translateFormModel(t);var i=t.id;if(!$KG.nativeScroll||t.ismodal||$KU.isWindowsPhone&&$KU.isIE9||(kony.events.addEventListener(document.body,$KU.isIDevice?$KW.touch.events.touchstart:"click",e.dismissPopup,!1),$KU.isIDevice||(kony.events.addEventListener(document.body,$KW.touch.events.touchstart,e.dismissPopup,!1),kony.events.addEventListener(window,"scroll",e.onScrollDismissPopup,!1))),t.enableScroll){$KW.Form.checkBackwardCompatibility(t),$KW.Form.render(t),!$KG.nativeScroll||t.ismodal||$KU.isWindowsPhone&&$KU.isIE9||(kony.events.addEventListener(document.body,$KU.isIDevice?$KW.touch.events.touchstart:"click",e.dismissPopup,!1),$KU.isIDevice||kony.events.addEventListener(window,"scroll",e.dismissPopup,!1));var n=t.id+"_container",o=document.getElementById(n);(t.containerheight||0===t.containerheight)&&(t.needScroller=!0,$KU.setScrollHeight(t,t.ismodal?o.childNodes[1]:o),$KG.nativeScroll?t.ismodal?o.childNodes[1].style.overflow="auto":o.style.overflow="auto":$KW.Scroller.initializeFormScroller(n));var r=document.getElementById(i);e.updateZIndex(r)}else{var s=1-t.transparencybehindthepopup/100,l=t.ismodal&&t.popupbgcolor?"background-color:"+t.popupbgcolor:"",a=$KW.skins.getMarPadAdjustedContainerWeightSkin(t),d="";if(d="<div id='__popuplayer' style='opacity:"+s+";"+l+"'"+(t.ismodal||t.ptran||t.ptranOut||!t.context?" class='popuplayer absoluteContainer'":"")+"></div>",d+="<div id='"+i+"_group' style='z-index:9;position: absolute;' class='"+a+"' kformname='"+i+"' kwidgettype='Popup'>",t.header&&(d+="<div id='header_container' kformname='"+i+"'>",d+=$KW.Form.generateHeader(t,"header"),d+="</div>"),d+="<form id='"+i+"' class='"+(t.skin||"")+"' style='"+$KW.skins.getPaddingSkin(t)+(t.skin?"":";background-color:white")+"'>",t.children)for(var c=0;c<t.children.length;c++)d+=$KW.Form.generateWidget(t,t[t.children[c]]);d+="</form>",t.footer&&(d+="<div id='footer_container' kformname='"+i+"'>",d+=$KW.Form.generateHeader(t,"footer"),d+="</div>"),d+="</div>";var m=document.createElement("div");m.id=i+"_container",m.className="popupmain popupcontainer absoluteContainer",m.style.visibility="hidden",m.innerHTML=d,e.updateZIndex(m),e.modalPopupWorker(t,m);var p=$KU.getElementById("__MainContainer");if(!p)d="<div id='__MainContainer' class='"+($KG.stickyScroll?"main_container":"")+"'></div>",document.body.innerHTML=d,p=$KU.getElementById("__MainContainer");if(p.appendChild(m),$KG.nativeScroll){if(!t.context&&1==s){var h=document.getElementById("header_container"),u=document.getElementById("footer_container"),y=document.getElementById("appmenu_container"),f=document.getElementById($KG.__currentForm.id);h&&(h.style.display="none"),u&&(u.style.display="none"),y&&(y.style.display="none"),f&&(f.style.display="none")}var g=document.getElementById("__MainContainer").clientHeight,K=m.children[0];g<(window.innerHeight||document.body.clientHeight)?(1!=s||t.context||(m.style.height=(window.innerHeight||document.body.clientHeight)+"px"),t.ismodal&&(K.style.height=(window.innerHeight||document.body.clientHeight)+"px")):(1!=s||t.context||(m.style.height=g+"px"),t.ismodal&&(K.style.height=g+"px"))}m.setAttribute("dummy",""),m.children[0].setAttribute("dummy",""),m.children[1].setAttribute("dummy","")}},updateZIndex:function(t){t&&(e.zindex=e.zindex||10,t.style.zIndex=++e.zindex)},modalPopupWorker:function(t,i){0==t.ismodal||$KU.isWindowsPhone&&$KU.isIE9?i.onclick=function(i){"__popuplayer"==((i=i||window.event).target||i.srcElement).id&&(t.ismodal||e.dismiss(t,!0))}:i.onclick=null},show:function(e){var t="";if($KG.__currentForm&&(t=document.getElementById($KG.__currentForm.id))&&t.setAttribute("aria-hidden",!0),document.activeElement){var i=document.activeElement.getAttribute("kwidgettype");"TextField"!=i&&"TextArea"!=i||document.activeElement.blur()}$KW.Calendar&&$KW.Calendar.destroyCalendar(),!kony.system.activity.hasActivity()&&$KW.skins.removeBlockUISkin(),(o=$KU.getElementById(e.id+"_container"))&&this.dismiss(e);var n=e.containerHeight||0===e.containerHeight?parseInt(e.containerheight,10):null;(e.header||e.footer)&&(n||(e.containerheight="80",n=80)),e.layouttype!=kony.flex.VBOX_LAYOUT&&(e.containerheight="80"),!n&&0!==n||!(n>=0)||$KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9?e.enableScroll=!1:e.enableScroll=!0,this.render(e),$KW.Form.initializeFlexContainers(e);var o=$KU.getElementById(e.id+"_container");if("androidtablet"==$KU.getPlatformName()&&(o.style[$KU.transform]="translate3d(0,0,0)"),$KW.TPW.renderWidget(e.id),popupelem=o.children[1],!$KG.disableTransition||$KU.isBlackBerryNTH?$KW.Form.initializeTouchWidgets(e.id):(popupelem.parentNode.style.visibility="visible",$KW.Form.initializeView(e.id)),$KW.Utils.initializeGestures(e),e.context||($KU.isWindowsPhone&&$KU.isIE9?(popupelem.style.left=Math.floor((100-Math.floor(100*popupelem.offsetWidth/popupelem.parentNode.offsetWidth))/2)+"%",o.style.top=0,window.scrollTo(0,1)):this.adjustPosition(e,popupelem)),!e.containerHeight&&0!=e.containerHeight&&!e.ismodal){var r=$KU.getElementById(e.id+"_scroller");r&&(r.style.overflow="visible"),o.style.height="auto"}$KG.disableTransition&&!$KU.isBlackBerryNTH||this.applyTransition(e,popupelem),$KW.Form.accessibilityTitleCall(e,!0),t&&window.setTimeout(function(){t.setAttribute("aria-hidden",!1)},2e3),$KW.Utils.initializeGestures(e)},dismiss:function(t,i){var n=t?$KU.getElementById(t.id+"_container"):document.querySelector("div[class~='popupmain']");if(n){var o=$KG.__currentForm;if(o){var r=o.id+"_scroller";$KG[r]&&$KW.Scroller.checkDOMChanges(r,o.header,o.footer)}var s=n.children[1];if(!t){var l=s.id.split("_")[0];t=window[l]}i?e.domremove(s.id):!t.ptranOut||"none"==t.ptranOut.toLowerCase()||$KG.disableTransition&&!$KU.isBlackBerryNTH?e.domremove(s.id):this.applyTransition(t,s,!0);var a=$KU.returnEventReference(t.onhide||t.onHide);a&&a.call(t,t)}},domremove:function(e){var t=$KU.getElementById(e);if(t){e=e.split("_")[0];var i=$KG.allforms[e];i.enableScroll&&(i.scrollerTimer&&clearInterval(i.scrollerTimer),$KW.Form.destroyTouchWidgets($KG.transitAll?i.id+"_container":$KG.needScroller?i.id+"_scroller":i.id)),t=$KU.getElementById(e+"_group"),$KW.Form.destroyTouchWidgets(i.id,!0);var n=t.parentNode,o=n.children[0].style.opacity;if(n.parentNode.removeChild(n),$KG.nativeScroll&&!i.context&&1==o){var r=document.getElementById("header_container"),s=document.getElementById("footer_container"),l=document.getElementById("appmenu_container"),a=document.getElementById($KG.__currentForm.id);r&&(r.style.display=""),s&&(s.style.display=""),l&&(l.style.display=""),a&&(a.style.display="")}}},applyTransition:function(t,i,n){var o=t.transitionduration&&t.transitionduration>=0?t.transitionduration:1,r=i.offsetHeight,s=i.offsetWidth,l=n?t.ptranOut:t.ptran;t.height=Math.floor(r+Math.abs($KU.getWindowHeight()-r)/2),t.width=Math.floor(s+(i.parentNode.offsetWidth-s)/2),"rightCenter"==l&&(t.width=i.parentNode.offsetWidth+s),"bottomCenter"==l&&(t.height=$KU.getWindowHeight()+r);var a=$KU.isOrientationSupported&&!$KU.isAndroid?"onorientationchange":"onresize";kony.events.addEvent(a,"popup",e.adjustPopupDimensions.bind(null,t,i)),i.style[$KU.animationDuration]=o+"s",this.setAnchorPosition(t,i,n);var d=$KW.skins.getKonyStyleSheetIndex(document.styleSheets),c=document.styleSheets[d];if(l){var m="AnimationEnd";m=kony.appinit.isFirefox||$KU.isIE11?m.toLowerCase():$KU.animationEnd,kony.events.addEventListener(i,m,e.animationEnd(t.id,!!n))}else t.ismodal||(i.parentNode.style.height="auto");switch(l){case"topCenter":case"bottomCenter":var p="topCenter"==l?"-"+t.height:t.height;n?(c.insertRule("@"+$KU.cssPrefix+"keyframes "+t.id+"endanimation { from { "+$KU.cssPrefix+"transform: translateY(0px); } to {"+$KU.cssPrefix+"transform: translateY( "+p+"px);} }",c.cssRules.length),i.style[$KU.animationName]=t.id+"endanimation"):(c.insertRule("@"+$KU.cssPrefix+"keyframes "+t.id+"animation { from { "+$KU.cssPrefix+"transform: translateY( "+p+"px); } to {"+$KU.cssPrefix+"transform: translateY(0px);} }",c.cssRules.length),i.style[$KU.animationName]=t.id+"animation");break;case"leftCenter":case"rightCenter":var h="leftCenter"==l?"-"+t.width:t.width;n?(c.insertRule("@"+$KU.cssPrefix+"keyframes "+t.id+"endanimation { from { "+$KU.cssPrefix+"transform: translateX( 0px); } to {"+$KU.cssPrefix+"transform: translateX("+h+"px);} }",c.cssRules.length),i.style[$KU.animationName]=t.id+"endanimation"):(c.insertRule("@"+$KU.cssPrefix+"keyframes "+t.id+"animation { from { "+$KU.cssPrefix+"transform: translateX( "+h+"px); } to {"+$KU.cssPrefix+"transform: translateX(0px);} }",c.cssRules.length),i.style[$KU.animationName]=t.id+"animation");break;case"fadeAnimation":i.style[$KU.animationName]=n?$KW.formEndTransitionsMatrix[l]:$KW.formTransitionsMatrix[l];break;case"slidedown":n?(c.insertRule("@"+$KU.cssPrefix+"keyframes "+t.id+"endanimation { from {height:"+r+"px;} to {height:0px;} }",c.cssRules.length),i.style[$KU.animationName]=t.id+"endanimation"):(i.style.overflow="hidden",c.insertRule("@"+$KU.cssPrefix+"keyframes "+t.id+"animation { from {height:0px;} to {height:"+r+"px;} }",c.cssRules.length),i.style[$KU.animationName]=t.id+"animation")}document.querySelector("#"+t.id+"_container").style.visibility="visible",l&&"None"!=l||(i.tabIndex=-1,i.focus())},setAnchorPosition:function(e,t,i){var n=e.context;if(n&&n.widget){e.enableScroll&&!e.ismodal&&(t=t.parentNode);var o,r=n.widget;if((o="Form"==r.wType?document.getElementById(r.id):$KU.getNodeByModel(r))&&"Form"!=r.wType){var s=$KU.getElementById(e.id+"_scroller"),l=e.enableScroll&&e.ismodal?s.offsetHeight:t.offsetHeight,a=t.offsetWidth,d=i?e.ptranOut:e.ptran,c=(y=$KU.getPosition(o,e)).top,m=$KU.getAnchorPosition(e,t),p=window.innerHeight,h=document.body.clientHeight,u=p||h;"number"==typeof p&&"number"==typeof h&&(u=Math.max(p,h)),"bottom"==n.anchor&&(t.style.left=m.leftPos+"px",f=c+o.clientHeight,$KG.nativeScroll?(t.style.top=f+"px",e.height="bottomCenter"==d?l+u-f:l+f):1==n.isenabled&&0==c?(t.style.top=0,e.height="bottomCenter"==d?l+u-f:l+f):u==f?(t.style.bottom="0px",e.height="bottomCenter"==d?l:l+f):u-f>l?(t.style.top=f+"px",e.height="bottomCenter"==d?l+u-f:l+f):c>l?(t.style.top=c-l+"px",e.height="bottomCenter"==d?l+u-c:l+c):(t.style.top=Math.floor((100-Math.floor(100*l/t.parentNode.offsetHeight))/2)+"%",t.style.left=Math.floor((100-Math.floor(100*a/t.parentNode.offsetWidth))/2)+"%")),"top"==n.anchor&&(t.style.left=m.leftPos+"px",c?c>l?(t.style.top=c-l+"px",e.height="bottomCenter"==d?l+u-c:l+c):(t.style.top=Math.floor((100-Math.floor(100*l/t.parentNode.offsetHeight))/2)+"%",t.style.left=Math.floor((100-Math.floor(100*a/t.parentNode.offsetWidth))/2)+"%"):t.style.top=0),"left"!=n.anchor&&"right"!=n.anchor||(t.style.top=m.topPos+"px",t.style.left=m.leftPos+"px")}else if(o&&"Form"==r.wType){if($KG.nativeScroll)y=$KU.getPosition(o);else var y=$KU.getPosition(document.getElementById(o.id+"_scroller"));var f=(c=y.top)+y.height;l=(s=$KG.nativeScroll?$KU.getElementById(e.id):$KU.getElementById(e.id+"_scroller")).offsetHeight,a=s.offsetWidth,d=i?e.ptranOut:e.ptran;"bottom"==n.anchor&&($KG.nativeScroll?t.style.top=document.body.querySelector("form").offsetHeight-l+"px":t.style.top=window.innerHeight-l+"px",t.style.left="0px",e.height="bottomCenter"==d?l+u-f:l+f),"top"==n.anchor&&(t.style.top="0px",t.style.left="0px",e.height="bottomCenter"==d?l+u-c:l+c),"left"==n.anchor&&(t.style.top="0px",t.style.left="0px"),"right"==n.anchor&&(t.style.top="0px",t.style.right="0px")}t.style.position="absolute"}if(!e.ismodal){var g=$KU.getElementById(e.id+"_container");g&&!e.containerHeight&&(g.style.height="auto")}},adjustPopupDimensions:function(t,i){if(document.getElementById(i.id)){var n=$KU.getElementById(t.id+"_container");if($KU.setScrollHeight(t,t.ismodal?n.childNodes[1]:n),t.context||e.adjustPosition(t,i),e.setAnchorPosition(t,i),$KG.nativeScroll&&t.ismodal){var o=i.previousSibling,r=document.getElementById("__MainContainer").clientHeight;r<(window.innerHeight||document.body.clientHeight)?o.style.height=(window.innerHeight||document.body.clientHeight)+"px":o.style.height=r+"px"}var s=$KG[t.id+"_scroller"];s&&s.refresh()}},adjustPosition:function(e,t){var i=e.ismodal?t:t.parentNode;$KG.nativeScroll&&(t.parentNode.style.position="fixed");var n=(e.containerheight||0==e.containerheight?$KU.getElementById(e.id+"_group"):$KU.getElementById(e.id+"_scroller"))||t,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=Math.floor((100-Math.floor(100*n.offsetHeight/o))/2)+"%",l=Math.floor((100-Math.floor(100*n.offsetWidth/r))/2)+"%";parseInt(s,10)<0?i.style.top=0:i.style.top=s,i.style.left=l},animationEnd:function(t,i){return function(){var n="AnimationEnd";n=kony.appinit.isFirefox||$KU.isIE11?n.toLowerCase():$KU.animationEnd;var o=$KU.getElementById(t),r=$KG.allforms[t];o&&(kony.events.removeEventListener(o,n,arguments.callee),i?e.domremove(t):r.ismodal||(o.parentNode.style.height="auto"),o.style[$KU.animationName]="");var s=i?t+"endanimation":t+"animation",l=$KW.skins.getKonyStyleSheetIndex(document.styleSheets),a=document.styleSheets[l],d=a.cssRules.length-1;a.cssRules[d]&&a.cssRules[d].name==s&&(a.deleteRule?a.deleteRule(d):a.removeRule(d)),i&&"None"!=i||(o.tabIndex=-1,o.focus())}},setcontext:function(e,t){e instanceof Object&&t instanceof Object&&(e.context=t)},add:function(){var e=arguments[0];if("add"in e){var t=[].slice.call(arguments,1);e.add(t)}},addAt:function(e,t,i){null!=t&&e.addAt&&e.addAt(t,i)},widgets:function(e){if(e.widgets)return e.widgets()},remove:function(e,t){e.remove&&e.remove(t)},removeAt:function(e,t){e.removeAt&&e.removeAt(t)},scrollToBeginning:function(e){if(e){var t=$KG[e.id+"_scroller"],i=$KU.isWindowsPhone&&$KU.isIE9?0:1;t?t.scrollTo(0,t.minScrollY,500):$KW.Utils.scrollToElement(document.getElementById(e.id)||null,500,null,i)}},scrollToEnd:function(e){if(e){var t=$KG[e.id+"_scroller"];if(t)t.scrollTo(0,t.maxScrollY,500);else{var i=document.body.scrollHeight-($KU.isWindowsPhone&&$KU.isIE9?0:window.innerHeight||document.body.clientHeight);$KW.Utils.scrollToElement(document.getElementById(e.id)||null,500,null,i)}}},scrollToWidget:function(e,t){$KW.APIUtils.setfocus(t,e)},handleshow:function(e){"show"in e&&e.show()},destroy:function(e){"destroy"in e&&e.destroy(e)},onScrollDismissPopup:function(t){window.pageYOffset>1&&e.dismissPopup(t)},dismissPopup:function(t){var i=t;if(t&&"object"==typeof t){var n=t.target||t.srcElement;if(t=(n=$KU.getParentByAttribute(n,kony.constants.KONY_WIDGET_TYPE))?$KU.getContainerForm(n)||n.getAttribute&&n.getAttribute("kformname"):null,i.type===$KW.touch.events.touchstart)return void(t&&window[t]&&"Popup"===window[t].wType?$KG.isPopupScrolling=!0:$KG.isPopupScrolling=!1);if($KG.isPopupScrolling)return}if(!t||window[t]&&"Popup"!=window[t].wType){var o=document.querySelector("div.popupcontainer");if(o){var r=o.id.split("_")[0];if(window[r]&&"Popup"==window[r].wType&&!window[r].ismodal)return e.dismiss(),!$KG.nativeScroll||$KU.isWindowsPhone&&$KU.isIE9||(kony.events.removeEventListener(document.body,$KU.isIDevice?$KW.touch.events.touchstart:"click",e.dismissPopup,!1),$KU.isIDevice||(kony.events.removeEventListener(document.body,$KW.touch.events.touchstart,e.dismissPopup,!1),kony.events.removeEventListener(window,"scroll",e.onScrollDismissPopup,!1)),i&&kony.touchClickNotifier&&kony.touchClickNotifier.preventDefault(i),kony.events.preventDefault(i)),!0}}return!1}};return e}();
$KW.RichText={initialize:function(){kony.events.addEvent("click","RichText",this.eventHandler)},updateView:function(e,t,i,n){var s=$KU.getNodeByModel(e);if(s)switch(s=$KW.Utils.getClonedTemplateNode(s,e,t),t){case"text":s.innerHTML=i;break;case"linkskin":this.setLinkSkin(e,s);break;case"linkfocusskin":this.setLinkFocusSkin(e,s)}},render:function(e,t){$KU.isAndroid&&(this.setLinkSkin(e),this.setLinkFocusSkin(e));var i=$KW.skins.getWidgetSkinList(e,t),n="<div"+$KW.Utils.getBaseHtml(e,t)+"class='"+i+"' style='white-space:pre-wrap;word-wrap:break-word;"+$KW.skins.getBaseStyle(e,t);return!1===t.ispercent&&(n+="display:inline-block;"+(t.layoutDir?"float:"+t.layoutDir:"")),n+=";text-align:"+$KW.skins.getContentAlignment(e)+"'>"+e.text+"</div>",$KW.Utils.isWidgetDisabled(e,t)&&(n=n.replace(/href=["'].*?["']/g,"href='javascript:void(0)'")),n},eventHandler:function(e,t,i){var n=$KU.getModelByNode(t),s=t.getAttribute("kcontainerID");if(spaAPM&&spaAPM.sendMsg(n,"onclick"),$KAR&&$KAR.sendRecording(n,"click",{data:i,target:t,eventType:"uiAction"}),s)$KW.Utils.updateContainerData(n,t,!0);else if(n.onclick){var a=$KU.returnEventReference(n.onclick);a&&(i?$KU.executeWidgetEventHandler(n,a,i[0],{href:i[1]}):$KU.executeWidgetEventHandler(n,a),$KU.onEventHandler(n))}else if(i&&i[1]){"#"==i[1].charAt(0)&&(kony.events.stopPropagation(e),kony.events.preventDefault(e));var r=i[1].substring(1,i[1].length),l=document.querySelector('a[name="'+r+'"]'),c=$KG[$KG.__currentForm.id+"_scroller"];c&&l&&c.scrollToElement(l,200)}},setLinkSkin:function(e,t){var i=e.linkskin;if(i&&t){var n="#"+t.id+" > a";$KW.skins.applyStyle(i,n)}},setLinkFocusSkin:function(e,t){var i=e.linkfocusskin;if(i&&t){var n="#"+t.id+" > a:active";$KW.skins.applyStyle(i,n)}}};
$KW.HBox=function(){var e={initialize:function(){kony.events.addEvent("click","HBox",this.eventHandler),kony.events.addEvent("onorientationchange","HBox",this.orientationHandler)},orientationHandler:function(e,t){for(var n=document.querySelectorAll("div[aspect-ratio]"),i=0;i<n.length;i++){var r=n[i],o=r.getAttribute("aspect-ratio"),d=r.clientWidth,l=Math.round(1/o*d);r.style.height=l+"px"}},updateView:function(e,t,n,i){},getExtraNodeWidth:function(e){for(var t=0,n=0;n<e.children.length;n++)t+=e[e.children[n]].containerweight;return t>100?0:100-t},render:function(e,t){e.buiskin||(e.buiskin=e.blockeduiskin);kony.model.getWidgetModel(e.pf,t.tabpaneID);var n=$KW.skins.getWidgetAlignmentSkin(e),i=t.topLevelBox,r=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(e,t)[2];r+=" "+$KW.skins.getWidgetAlignmentSkin(e);var o="";i||(o+="<div class = 'krow kwt100' >",o+="<div class = 'kcell kwt100' >"),r+=$KW.skins.getVisibilitySkin(e);var d=" table-layout:fixed;"+$KW.skins.getBaseStyle(e,t);if(o+="<div  class = 'ktable "+r+"'"+$KW.Utils.getBaseHtml(e,t)+" style='"+d+"'>",o+="<div class = 'krow "+n+" kwt100' >",e.children){for(var l=0;l<e.children.length;l++){var a=e[e.children[l]];if(t.vLine="Line"==a.wType,"HBox"===a.wType||"VBox"===a.wType)t.topLevelBox=!1,t.ispercent=e.percent,"HBox"==a.wType?o+=$KW.HBox.render(a,t):o+=$KW.VBox.render(a,t);else{if(!0===e.percent)t.ispercent=!0,o+="<div class = 'kcell "+(a.containerweight?"kwt"+a.containerweight:"auto")+" "+$KW.skins.getWidgetAlignmentSkin(a)+("TPW"==a.wType?" konycustomcss":"")+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(a)+"' >";else t.ispercent=!1;o+=$KW[a.wType].render(a,t),!0===e.percent&&(o+="</div>")}}1==$KG.appbehaviors.adherePercentageStrictly&&!0===e.percent&&(e.dummyNodeWidth=this.getExtraNodeWidth(e),o+="<div class = 'kcell kwt"+e.dummyNodeWidth+"'  ></div>")}return o+="</div></div>",i||(o+="</div></div>"),o},eventHandler:function(e,t){var n=$KU.getModelByNode(t),i=t.getAttribute("kcontainerID");if(n.blockeduiskin&&$KW.skins.applyBlockUISkin(n),spaAPM&&spaAPM.sendMsg(n,"onclick"),$KAR&&$KAR.sendRecording(n,"click",{target:t,eventType:"uiAction"}),i)$KW.Utils.updateContainerData(n,t,!0);else{var r=kony.events.executeBoxEvent(n),o=t.getAttribute("ktabid");!r&&o&&$KW.TabPane&&$KW.TabPane.executeTabEvent(n,t,!0)}},setProgressIndicator:function(e){var t=$KW.Utils.setProgressIndicator(e);e.parentNode.insertBefore(t,e)},addChild:function(t,n){var i=$KU.getNodeByModel(t);if(i&&n.length>0){$KU.updatei18nProperties(n);var r=document.createElement("div");for(r.innerHTML=e.appendChildren(t,n),"HBox"!=t.wType&&t.orientation!=constants.BOX_LAYOUT_HORIZONTAL||(i=i.children[0]);r.children.length>0;)"HBox"!=t.wType&&"ScrollBox"!=t.wType||1!=$KG.appbehaviors.adherePercentageStrictly||!0!==t.percent?i.appendChild(r.children[0]):i.insertBefore(r.children[0],i.lastChild||null);if(1==$KG.appbehaviors.adherePercentageStrictly&&t.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var o=0;o<n.length;o++)t.dummyNodeWidth-=n[o].containerweight;i.lastChild.className="kcell kwt"+t.dummyNodeWidth}kony.appinit.isIE&&"ScrollBox"==t.wType&&t.orientation==constants.BOX_LAYOUT_HORIZONTAL&&$KW.ScrollBox.adjustScrollChildrenWidth(t),$KU.layoutNewWidgets(t,n),$KW.Utils.initializeNewWidgets(n)}},addChildat:function(t,n,i){var r=$KU.getNodeByModel(t);if(r){$KU.updatei18nProperties(n);var o=document.createElement("div");if(o.innerHTML=e.appendChildren(t,n),"HBox"!=t.wType&&t.orientation!=constants.BOX_LAYOUT_HORIZONTAL||(r=r.children[0]),i=i<0?0:i,r.insertBefore(o.childNodes[0],r.childNodes[i]||null),kony.appinit.isIE&&"ScrollBox"==t.wType&&t.orientation==constants.BOX_LAYOUT_HORIZONTAL&&$KW.ScrollBox.adjustScrollChildrenWidth(t),$KU.layoutNewWidgets(t,n),$KW.Utils.initializeNewWidgets(n),1==$KG.appbehaviors.adherePercentageStrictly&&t.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var d=0;d<n.length;d++)t.dummyNodeWidth-=n[d].containerweight;r.lastChild.className="kcell kwt"+t.dummyNodeWidth}}},appendChildren:function(e,t){var n=new $KW.WidgetGenerationContext(e.pf);if("FlexContainer"==e.wType||"FlexScrollContainer"==e.wType)return $KW.FlexContainer.renderChildren(e,t,n);for(var i="",r=0;r<t.length;r++){var o=t[r];if("HBox"==o.wType||"VBox"==o.wType)n.toplevel=!1,"HBox"==o.wType?i+=$KW.HBox.render(o,n):i+=$KW.VBox.render(o,n);else if("HBox"==e.wType||e.orientation==constants.BOX_LAYOUT_HORIZONTAL){if(1==e.percent)n.ispercent=!0,i+="<div class = 'kcell "+("kwt"+o.containerweight)+" "+$KW.skins.getWidgetAlignmentSkin(o)+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(o)+"' >";else n.ispercent=!1;i+=$KW[o.wType].render(o,n),1==e.percent&&(i+="</div>")}else{var d=" krow kwt100 ";i+="<div class = '"+d+"' >",layoutDirection=$KW.skins.getWidgetAlignmentSkin(o),d="kwt100",i+="<div class = '"+(d+=" kcell "+layoutDirection)+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(o)+"' >",i+=$KW[o.wType].render(o,n),i+="</div></div>"}}return i},add:function(){var e=arguments[0];if(e&&"add"in e){var t=[].slice.call(arguments,1);e.add(t)}},addAt:function(e,t,n){null!=t&&e&&e.addAt(t,n)},remove:function(e,t){e&&e.remove(t)},removeAt:function(e,t){return e&&e.removeAt(t)},widgets:function(e){return e&&e.widgets()},DOMremove:function(e,t){var n=$KU.getNodeByModel(e);if(n&&t){("HBox"==e.wType||"ScrollBox"==e.wType&&e.orientation==constants.BOX_LAYOUT_HORIZONTAL)&&(n=n.children[0]);for(var i=0;i<e.children.length;i++)if(t.id==e.children[i]){n.removeChild(n.children[i]);break}}},DOMremoveAll:function(e){var t=$KU.getNodeByModel(e);t&&(("HBox"==e.wType||"ScrollBox"==e.wType&&e.orientation==constants.BOX_LAYOUT_HORIZONTAL)&&(t=t.children[0]),t.innerHTML="")}};return e}();
$KW.ScrollBox=function(){var e={initialize:function(){kony.events.addEvent("click","ScrollBox",this.eventHandler),kony.events.addEvent("onorientationchange","ScrollBox",this.adjustBoxDimensions)},initializeView:function(e){this.adjustBoxDimensions(e)},updateView:function(e,t,i,r){switch(t){case"heightreference":case"containerheightreference":if(i>0)e.containerheightreference=e.heightreference=i,(l=$KU.getNodeByModel(e))&&$KU.setScrollHeight(e,l);break;case"container_height":case"containerheight":e.containerheight=e.container_height=i,(l=$KU.getNodeByModel(e))&&$KU.setScrollHeight(e,l);break;case"totalWt":var l;if((l=$KU.getNodeByModel(e))&&e.orientation==constants.BOX_LAYOUT_HORIZONTAL)l.parentNode.style.width=i+"%",(g=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"])&&g.refresh();break;case"showscrollbars":if(e.scrollArrowConfig||e.scrollarrowconfig)return;var o=$KW.Utils.getKMasterWidgetID(e)+"_scroller";if(!(g=$KG[o]))return;g.hScroll&&(g.hScrollbar=i,i&&g._scrollbar("h")),g.vScroll&&(g.vScrollbar=i,i&&g._scrollbar("v"));break;case"scrollingevents":break;case"onpull":case"onpush":var n=(a=$KW.Utils.getKMasterWidgetID(e))+"_scrollee",s=a+"_scroller",a=a,d=$KU.getElementById(n);if(!d)return;var c=document.createElement("div");if("onpull"==t){if(document.querySelector("#"+a+"_pullDown"))return;c.innerHTML=$KU.getPullString(e),d.insertAdjacentElement("afterBegin",c.childNodes[0])}else{if(document.querySelector("#"+a+"_pullUp"))return;c.innerHTML=$KU.getPushString(e),d.insertAdjacentElement("afterEnd",c.childNodes[0])}case"onreachingbeginning":case"onreachingend":s=$KW.Utils.getKMasterWidgetID(e)+"_scroller";var g,h=document.getElementById(s);if(!h)return;(g=$KG[s])&&g.destroy(),$KW.Scroller.initialize([h])}},render:function(t,i){var r="";i.scrollBoxID=t.id,IndexJL&&this.setarrowconfigs(t),($KU.isBlackBerryNTH||$KU.isWindowsPhone&&$KU.isIE9)&&(t.scrollbar="arrows",t.orientation==constants.BOX_LAYOUT_HORIZONTAL?(t.leftarrowimage=t.leftarrowimage||"prvarw.png",t.rightarrowimage=t.rightarrowimage||"nxtarw.png"):(t.toparrowimage=t.toparrowimage||"toparw.png",t.bottomarrowimage=t.bottomarrowimage||"botarw.png"));var l=$KU.getAccessibilityValues(t);return l.indexOf("aria-hidden")>0&&(l=""),r=t.orientation==constants.BOX_LAYOUT_HORIZONTAL?e.renderHBox(t,i,l):e.renderVBox(t,i,l),i.scrollBoxID="",r},renderHBox:function(e,t,i){var r=kony.model.getWidgetModel(e.pf,t.tabpaneID),l="",o=$KW.skins.getWidgetAlignmentSkin(e),n=e.pf+"_"+e.id,s=e.scrollingevents,a="",d=$KW.Utils.getMasterIDObj(e);""!=d.id&&(n=d.id);var c="",g="";if(g+=$KW.skins.getBaseStyle(e,t),t.topLevelBox){var h=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(e,t);c=h[2],c+=" "+$KW.skins.getWidgetAlignmentSkin(e)}else l+="<div class = 'krow kwt100' >",l+="<div class = 'kcell kwt100' >",c=(h=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(e,t))[2],c+=" "+$KW.skins.getWidgetAlignmentSkin(e);l+="<div "+i+" id='"+n+"_parent' class ='scrollerX "+(c+=$KW.Utils.isWidgetVisible(e,t)?"":" hide")+"' style='"+g+(e.percent?"text-align: left; vertical-align:top;":"")+"' "+d.kmasterid+">","arrows"==e.scrollbar&&e.leftarrowimage&&e.rightarrowimage&&(l+=$KW.touch.fadeHImages(e));var v=$KW.stringifyScrolldirection[e.scrolldirection];e.totalWt<100&&(e.totalWt=100),l+="<div id='"+n+"_scroller' kwidgettype='KScrollBox' name='touchcontainer_KScroller' widgetType='hbox'  swipeDirection='"+v+"' class ='kwt100 scrollerX' kformname='"+e.pf+"' "+d.kmasterid+">",l+="<div style='display:inline-block;xheight:100%;width:"+e.totalWt+"%' id='"+n+"_scrollee' kwidgettype='KTouchscroller' class='scrolleeX' "+d.kmasterid+">",c="kwt100","vertical"==v&&(l+=s&&s.onpull?$KU.getPullString(e):""),l+="<div style='table-layout:fixed' class = 'ktable kwt100'"+$KW.Utils.getBaseHtml(e,t)+">",l+="<div class = 'krow "+o+" kwt100' >";for(var f=e.children?e.children.length:0,p=0;p<f;p++){var K=r[e.children[p]];if(t.vLine="Line"==K.wType,"HBox"===K.wType||"VBox"===K.wType||"ScrollBox"===K.wType)t.topLevelBox=!1,"HBox"==K.wType?l+=$KW.HBox.render(K,t):l+=$KW.VBox.render(K,t);else{if(1==e.percent){t.ispercent=!0,a=K.containerweight,e.totalWt&&kony.appinit.isIE&&(a=Math.floor(100*K.containerweight/e.totalWt));var W="kwt"+a;$KW.skins.addWidthRule(a),l+="<div class = 'kcell "+W+" "+$KW.skins.getWidgetAlignmentSkin(K)+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(K)+"' >"}else t.ispercent=!1;l+=$KW[K.wType].render(K,t),e.percent&&(l+="</div>")}}return 1==$KG.appbehaviors.adherePercentageStrictly&&!0===e.percent&&(e.dummyNodeWidth=$KW.HBox.getExtraNodeWidth(e),l+="<div class = 'kcell kwt"+e.dummyNodeWidth+"'  ></div>"),l+="</div></div>","vertical"==v&&(l+=s&&s.onpush?$KU.getPushString(e):""),l+="</div></div>",l+="</div>",t.topLevelBox||(l+="</div></div>"),l},renderVBox:function(e,t,i){var r=kony.model.getWidgetModel(e.pf,t.tabpaneID),l=t.toplevel,o=$KW.skins.getWidgetAlignmentSkin(e),n="",s=e.pf+"_"+e.id,a=$KW.skins.getWidgetSkin(e,t)+" "+$KW.skins.getWidgetWeight(e,t),d=e.scrollingevents,c=$KW.Utils.getMasterIDObj(e);""!=c.id&&(s=c.id);var g="";g+=" "+$KW.skins.getBaseStyle(e,t),n+="<div "+i+" id='"+s+"_parent' class ='scrollerX "+(a+=$KW.Utils.isWidgetVisible(e,t)?"":" hide")+"' style='"+g+"' "+c.kmasterid+">","arrows"==e.scrollbar&&e.bottomarrowimage&&e.toparrowimage&&(n+=$KW.touch.fadeVImages(e));var h=$KW.stringifyScrolldirection[e.scrolldirection];if(n+="<div id='"+s+"_scroller' kwidgettype='KScrollBox' name='touchcontainer_KScroller' widgetType='vbox' swipeDirection='"+h+"' class ='scrollerX' kformname='"+e.pf+"' "+c.kmasterid+">",n+="<div id='"+s+"_scrollee' style='xheight:100%;"+("vertical"==h?"white-space: pre-line;":"")+"' kwidgettype='KTouchscroller' class='scrolleeX' "+c.kmasterid+">","vertical"==h&&(n+=d&&d.onpull?$KU.getPullString(e):""),l)n+="<div style='table-layout:fixed' class = '"+a+"' id='"+s+"' kformname='"+e.pf+"'>";else{var v="kwt100 "+o+($KW.Utils.isWidgetVisible(e,t)?"":" hide");v=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(e,t)[2],n+="<div style='table-layout:fixed' class='ktable kwt100'"+$KW.Utils.getBaseHtml(e,t)+">"}for(var f=e.children?e.children.length:0,p=0;p<f;p++){var K=r[e.children[p]];"HBox"===K.wType||"VBox"===K.wType||"ScrollBox"===K.wType?(t.topLevelBox=!1,"HBox"==K.wType?(t.ispercent=e.percent,n+=$KW.HBox.render(K,t)):n+=$KW.VBox.render(K,t)):(n+="<div class = '"+(v=" krow kwt100 ")+"' >",o=$KW.skins.getWidgetAlignmentSkin(K),v=$KW.skins.getMarAdjustedContainerWeightSkin(K,"100"),n+="<div class = '"+(v+=" kcell "+o)+"' >",n+=$KW[K.wType].render(K,t),n+="</div></div>")}return n+="</div>",l&&(n+="</div>"),"vertical"==h&&(n+=d&&d.onpush?$KU.getPushString(e):""),n+="</div></div>",n+="</div>"},eventHandler:function(e,t,i){var r=$KU.getModelByNode(t);spaAPM&&spaAPM.sendMsg(r,"onclick");var l=$KU.returnEventReference(r.onclick);l&&$KU.executeWidgetEventHandler(r,l)},adjustBoxDimensions:function(e){$KU.setScrollBoxesHeight(e,"ScrollBox")},adjustArrowPosition:function(e){var t=document.querySelectorAll("#"+e+"_scrollFades_V > div"),i=document.querySelectorAll("#"+e+"_scrollFades_H > div");i.length>0&&(i[0].style.top=Math.floor((i[0].parentNode.offsetHeight-(i[0].childNodes[0].naturalHeight||i[0].childNodes[0].height))/2)+"px",i[1].style.top=Math.floor((i[1].parentNode.offsetHeight-(i[1].childNodes[0].naturalHeight||i[1].childNodes[0].height))/2)+"px"),t.length>0&&(t[0].style.left=Math.floor((t[0].parentNode.offsetWidth-(t[0].childNodes[0].naturalHeight||t[0].childNodes[0].height))/2)+"px",t[1].style.left=Math.floor((t[1].parentNode.offsetWidth-(t[1].childNodes[0].naturalHeight||t[0].childNodes[0].height))/2)+"px")},setarrowconfigs:function(e){var t=e.scrollarrowconfig;t&&(e.scrollbar="arrows"),t&&t.length>=4&&(e.leftarrowimage=t[IndexJL],e.toparrowimage=t[IndexJL+1],e.rightarrowimage=t[IndexJL+2],e.bottomarrowimage=t[IndexJL+3])},scrollToBeginning:function(e){var t=$KU.getNodeByModel(e);if(t)if($KG.nativeScroll){var i=document.getElementById(t.id+"_scroller");i.scrollLeft=0,i.scrollTop=0}else{var r=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"];r&&(e.orientation==constants.BOX_LAYOUT_HORIZONTAL?r.scrollTo(r.minScrollX,0,500):r.scrollTo(0,r.minScrollY,500))}},scrollToEnd:function(e){var t=$KU.getNodeByModel(e);if(t)if($KG.nativeScroll){var i=document.getElementById(t.id+"_scroller");i.scrollLeft=t.scrollWidth,i.scrollTop=t.scrollHeight}else{var r=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"];r&&(e.orientation==constants.BOX_LAYOUT_HORIZONTAL?r.scrollTo(r.maxScrollX,0,500):r.scrollTo(0,r.maxScrollY,500))}},adjustScrollChildrenWidth:function(e){var t=$KU.getNodeByModel(e);if(e.percent&&e.totalWt&&kony.appinit.isIE)for(var i=t.firstChild.childNodes,r=(e.totalWt,0);r<i.length;r++){var l=e[i[r].firstChild.id.split("_")[1]],o=Math.floor(100*l.containerweight/e.totalWt),n=kony.widgets.skins.getMarAdjustedContainerWeightSkin(l,o||"");i[r].className=i[r].className.replace(new RegExp("(^|\\s+)kwt([0-9]+)(\\s+|$)")," "),$KU.addClassName(i[r],n)}},recalculateScrollBoxWidth:function(e){if(e.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var t=e.ownchildrenref,i=0,r=0;r<t.length;r++)i+=t[r].containerweight;e.totalWt=i;var l=$KU.getNodeByModel(e);if(null!=l){l.parentNode.style.width=i+"%";var o=$KG[e.pf+"_"+e.id+"_scroller"];o&&o.refresh()}}}};return e}();
$KW.FlexContainer=function(){var e={initialize:function(){kony.events.addEvent("click","FlexContainer",this.eventHandler),kony.events.addEvent("onorientationchange","FlexContainer",this.orientationHandler)},initializeView:function(e){this.attachResizeEvent(e,"FlexContainer")},orientationHandler:function(e,t){},updateView:function(t,n,i,o){var a=$KU.getNodeByModel(t);if(a)switch(n){case"clipbounds":var r=$KW.FlexUtils.isFlexWidget(t);a=r?a.parentNode.parentNode:a;var l=r?a.parentNode.parentNode:a;0==i?(a.style.overflow="visible",l.style.overflow="visible"):(a.style.overflow="hidden",a.style.boxShadow="none",l.style.overflow="hidden");break;case"layouttype":e.adjustFlexContainer(t)}},render:function(e,t){return e.isMaster&&$KI.i18n&&$KI.i18n.translateFormModel(e),this.renderTableLayout(e,t)},renderTableLayout:function(e,t){var n=$KW.skins.getWidgetSkinList(e,t),i="";$KW.FlexUtils.isFlexContainer(e)&&1==e.clipbounds&&(i="overflow:hidden;box-shadow:none");var o=" position:relative;"+i+(e.zindex?"z-index:"+e.zindex:""),a="";a+="<div id='flexcontainer_wrapper' class=' ' style='width:100%; "+(e.parent&&"TabPane"==e.parent.wType?"":$KW.skins.getBaseStyle(e,t))+"'>",a+="<div class = 'kwt100 "+n+"'"+$KW.Utils.getBaseHtml(e,t)+" style='"+o+"'>";var r=e.widgets();return r.length>0&&(a+=this.renderChildren(e,r,t)),a+="</div></div>"},renderChildren:function(e,t,n){for(var i="",o=0;o<t.length;o++){var a=t[o],r="kcell "+("TPW"==a.wType?"konycustomcss ":"")+(a.isvisible?"":"hide "),l=$KW.FlexUtils.getFlexLayoutStyle(a),d="";"FlexContainer"!=a.wType&&"FlexScrollContainer"!=a.wType||a.clipbounds?(d=";overflow:hidden",d+="FlexContainer"!=a.wType&&"FlexScrollContainer"!=a.wType||!a.clipbounds?"":";"+$KU.cssPrefix+"box-shadow:none",r+=a.skin):d=";overflow:visible",i+="<div class = '"+r+"' style='"+l+d+("TextArea"==a.wType||"Switch"==a.wType||"Image"==a.wType?"font-size:0px":"")+"'>","HBox"!=a.wType&&"VBox"!=a.wType||(n.topLevelBox=!0),i+=$KW[a.wType].render(a,n),i+="</div>"}return i},adjustFlexContainers:function(e,t){"Segment"==e.wType&&$KW.Segment.adjustFlexContainersInSegment(e,t),"CollectionView"==e.wType&&($KW.CollectionView.adjustFlexContainersInCollectionView(e,t),e.layouttype!=kony.collectionview.LAYOUT_CUSTOM&&$KW.CollectionView.applyLineSpaceAndItemSpace(e,t))},adjustFlexContainer:function(e,t){if(t||(t="Form"==e.wType||"Popup"==e.wType?document.getElementById(e.id+"_scroller")||document.getElementById(e.id):t||$KW.Utils.getWidgetNode(e)),t){"FlexContainer"==e.wType&&e.autogrowHeight&&(e.layoutConfig.children=!0);var n=e.widgets();$KW.FlexLayoutEngine.performFlexLayout(e.layouttype,e,t,n)}},forceLayout:function(e,t){if((t="Form"==e.wType||"Popup"==e.wType?document.getElementById(e.id+"_scroller")||document.getElementById(e.id):t||$KW.Utils.getWidgetNode(e))&&e.isvisible){var n="FlexContainer"==e.wType?t.childNodes[0].getAttribute("kcontainerID"):t.getAttribute("kcontainerID");if(n&&$KW.Utils.updateContainerDataInDOM(t,n),e.parent&&!$KW.FlexUtils.isFlexWidget(e)&&"Form"!=e.wType||"FlexContainer"==e.wType&&!e.parent){var i=t.dataObj&&t.dataObj.containerModel;if(i&&"CollectionView"==i.wType&&i.layouttype==kony.collectionview.LAYOUT_CUSTOM){e.finalFrame={},$KW.FlexLayoutEngine.computeLayoutValues(e,t,i.frame),$KW.FlexLayoutEngine.determineSize($KU.getNodeByModel(i),e,t);var o=$KW.FlexUtils.getWidgetDimensions(e,t);$KW.FlexLayoutEngine.determineX(e,o,t,i.frame),$KW.FlexLayoutEngine.determineY(e,o,t,i.frame),$KW.FlexUtils.setWidgetPosition(e,e.finalFrame,t),e.frame=$KW.FlexLayoutEngine.getWidgetFrame(e,o,e.finalFrame)}else $KW.FlexUtils.setFlexContainerStyle(e,t),e.frame=$KW.FlexUtils.getWidgetFrame(e,t);e.dolayout&&$KU.executeWidgetEventHandler(e,e.dolayout)}if("Form"==e.wType&&(e.frame=$KW.FlexUtils.getWidgetFrame(e,t)),"FlexContainer"==e.wType){var a=$KU.getComputedStyle(t);a&&(e.hBorder=parseInt(a["border-left-width"],10)+parseInt(a["border-right-width"],10),e.vBorder=parseInt(a["border-top-width"],10)+parseInt(a["border-bottom-width"],10))}this.adjustFlexContainer(e,t)}},eventHandler:function(e,t){var n=$KU.getModelByNode(t),i=t.getAttribute("kcontainerID");if((n=$KW.Utils.getActualWidgetModel(n)).blockeduiskin&&$KW.skins.applyBlockUISkin(n),$KAR&&$KAR.sendRecording(n,"click",{target:t,eventType:"uiAction"}),spaAPM&&spaAPM.sendMsg(n,"onclick"),i)$KW.Utils.updateContainerData(n,t,!0);else{var o=kony.events.executeBoxEvent(n),a=t.getAttribute("ktabid");!o&&a&&$KW.TabPane&&$KW.TabPane.executeTabEvent(n,t,!0)}},attachResizeEvent:function(e,t){for(var n=document.querySelectorAll("#"+e+" div[kwidgettype='"+t+"']"),i=0;i<n.length;i++){var o=$KU.getModelByNode(n[i]),a=n[i];o.onDrag&&new $KW.touch.Drag(o,a,a,"",this.dragEvent,a);for(var r=o.children,l=0;r&&l<r.length;l++){var d=o[r[l]];this.attachDragEvent(d)}}},attachDragEvent:function(e){if(e.onDrag){var t=$KU.getNodeByModel(e);t=t.parentNode,new $KW.touch.Drag(e,t,t,"",this.dragEvent,t)}},dragEvent:function(e,t,n,i){e=e.getAttribute("kwidgettype")?e:e.childNodes[0];var o=$KU.getModelByNode(e);o.onDrag&&o.onDrag(o,t,n,i)},executeOnParent:function(e,t,n){if(e._konyControllerName){var i=$KG.__currentForm;if($KU.checkHeaderFooterTemplate(i,e))var o=i;else{var a=$KU.getWidgetModelByID(e.formPathId);if(!a)return void kony.web.logger("warn","widgetModel is not available");for(o=a;o&&!(o=o.parent)._konyControllerName;);}_kony.mvc.executeInJsContext(o,t,n)}}};return e}();
$KW.FlexScrollContainer=function(){var e={initialize:function(){kony.events.addEvent("click","FlexScrollContainer",this.eventHandler),kony.events.addEvent("onorientationchange","FlexScrollContainer",this.orientationHandler)},initializeView:function(e){$KW.FlexContainer.attachResizeEvent(e,"FlexScrollContainer"),$KW.Scroller.initializeFlexScrollContainers(e);var l=document.querySelectorAll("#"+e+" div[kwidgettype='FlexScrollContainer']");$KW.Utils.initializeScrollEvents(l),$KW.APIUtils.getModelForContentOffset(e,"FlexScrollContainer"),setTimeout(function(){for(var e=0;e<l.length;e++){var t=$KU.getModelByNode(l[e]);t.reverselayoutdirection&&t.scrollToEnd()}},0)},orientationHandler:function(e,l){},adjustFlexContainer:function(e){$KW.FlexContainer.adjustFlexContainer(e)},renderChildren:function(e,l,t){return $KW.FlexContainer.renderChildren(e,l,t)},updateView:function(l,t,r,o){var n=$KU.getNodeByModel(l);if(n){var i;if(!$KG.nativeScroll){if(!(g=$KW.Utils.getScrollerInstance(l)))return;i=g.options;var c=$KW.Utils.getKMasterWidgetID(l),a=c+"_scrollee",s=c+"_scroller",d=$KU.getElementById(a),u=document.getElementById(s)}switch(t){case"clipbounds":n=n.parentNode.parentNode,0==r?(n.style.overflow="visible",n.parentElement.style.overflow="visible"):(n.style.overflow="hidden",n.parentElement.style.overflow="hidden");break;case"enableScrolling":$KG.nativeScroll?$KW.Scroller.initializeNativeScroller(l,n):(i.disableUserScroll=!l.enablescrolling,i.disableUserScroll?(i.vScroll=!1,i.hScroll=!1):(i.vScroll=!0,i.hScroll=!0));break;case"scrollDirection":if($KG.nativeScroll)return void $KW.Scroller.initializeNativeScroller(l,n);var v=$KW.stringifyScrolldirection[l.scrolldirection];"Form"==l.wType&&(v="vertical"),"vertical"==v?(i.vScroll=!0,i.scrollbox=!0,i.hScroll=!1):"horizontal"==v?(i.hScroll=!0,i.scrollbox=!0,i.vScroll=!1):"both"==v?(i.vScroll=!0,i.hScroll=!0,i.scrollbox=!0):(i.scrollbox=!1,i.vScroll=!1,i.hScroll=!1,g.options.disableUserScroll=!0),g.updatedDirection=!0,g._checkDOMChanges(),g.updatedDirection=!1;break;case"bounces":case"allowHorizontalBounce":case"allowVerticalBounce":i&&(i.bounce=l.bounce,i.hBounce=!!l.bounce&&l.allowhorizontalbounce,i.vBounce=!!l.bounce&&l.allowverticalbounce);break;case"horizontalScrollIndicator":i&&(i.hScrollbar=l.horizontalscrollindicator);break;case"verticalScrollIndicator":i&&(i.vScrollbar=l.verticalscrollindicator);break;case"onDecelerationStarted":break;case"contentOffset":e.setContentOffSet(l,l.contentOffset,!0,g);break;case"scrollingevents":if(!$KG.nativeScroll&&r){var f=document.createElement("div");if(l.scrollingevents.onpull)(S=u.querySelector("#"+c+"_pullDown"))||(f.innerHTML=$KU.getFSCPullString(l),d.insertAdjacentElement("afterBegin",f.childNodes[0]));if(l.scrollingevents.onpush)(h=u.querySelector("#"+c+"_pullUp"))||(f.innerHTML=$KU.getFSCPushString(l),d.insertAdjacentElement("beforeend",f.childNodes[0]))}else{var S=u.querySelector("#"+c+"_pullDown");(h=u.querySelector("#"+c+"_pullUp"))&&d.removeChild(d.childNodes[2]),S&&d.removeChild(d.childNodes[0])}(g=$KG[s])&&g.destroy(),$KW.Scroller.initialize([u],"FlexScrollContainer");break;case"pullkey":case"releasepullkey":case"pullicon":case"pullskin":if(!$KG.nativeScroll&&l.scrollingevents&&l.scrollingevents.onpull)(S=u.querySelector("#"+c+"_pullDown"))&&d.removeChild(d.childNodes[0]),(f=document.createElement("div")).innerHTML=$KU.getFSCPullString(l),d.insertAdjacentElement("afterBegin",f.childNodes[0]),(g=$KG[s])&&g.destroy(),$KW.Scroller.initialize([u],"FlexScrollContainer");break;case"pushkey":case"releasepushkey":case"pushicon":case"pushskin":var g;if(!$KG.nativeScroll&&l.scrollingevents&&l.scrollingevents.onpush)(h=u.querySelector("#"+c+"_pullUp"))&&d.removeChild(d.childNodes[2]),(f=document.createElement("div")).innerHTML=$KU.getFSCPushString(l),d.insertAdjacentElement("beforeend",f.childNodes[0]),(g=$KG[s])&&g.destroy(),$KW.Scroller.initialize([u],"FlexScrollContainer");break;case"animateicons":if(l.scrollingevents){S=u.querySelector("#"+c+"_pullDown");var h=u.querySelector("#"+c+"_pullUp");l.animateicons?(S&&S.setAttribute("name","pullDownAnimate"),h&&h.setAttribute("name","pullUpAnimate")):(S&&S.setAttribute("name","pullDown"),h&&h.setAttribute("name","pullUp"))}}g&&g.refresh()}},render:function(e,l){return this.renderTableLayout(e,l)},renderTableLayout:function(e,l){l.topLevelBox;$KW.skins.getWidgetAlignmentSkin(e);var t=(e.skin||"")+$KW.skins.getVisibilitySkin(e),r=e.clipbounds?"overflow:hidden;boxShadow:none":"overflow:visible",o="",n=e.pf+"_"+e.id,i=$KW.Utils.getMasterIDObj(e);""!=i.id&&(n=i.id);var c=$KW.stringifyScrolldirection[e.scrolldirection],a=e.scrollingevents;o+="<div id='"+n+"_scroller' kwidgettype='KFlexScrollContainer' name='touchcontainer_KScroller' widgetType='hbox'  swipeDirection='"+c+"' class =' scrollerX "+t+"' style='"+$KW.skins.getBaseStyle(e,l)+";"+r+";width:100%;height:100%;' "+i.kmasterid+" >";var s="height:100%;";("Form"!=e.parent.wType||e.parent.layoutType!=kony.flex.FLOW_VERTICAL&&e.parent.layoutType!=kony.flex.FREE_FORM)&&"FlexScrollContainer"!==e.parent.wType&&"FlexContainer"!==e.parent.wType||(s="height:100%;");var d="display: inline-block;";"horizontal"==c&&(d="display: inline-flex;"),o+="<div style='width:100%;"+d+s+";' id='"+n+"_scrollee' kwidgettype='KTouchscroller' class='' "+i.kmasterid+">",o+=a&&a.onpull?$KU.getFSCPullString(e):"",o+="<div  kformname='"+e.pf+"' class = 'kwt100'"+$KW.Utils.getBaseHtml(e,l)+" style=' table-layout:fixed;position:relative;height:100%'>";var u=e.widgets();return u.length>0&&(o+=$KW.FlexContainer.renderChildren(e,u,l)),o+="</div>",o+=a&&a.onpush?$KU.getFSCPushString(e):"",o+="</div></div>"},forceLayout:function(e,l){$KW.FlexContainer.forceLayout(e,l);var t=$KW.Utils.getScrollerInstance(e);t&&!t.dragging&&t.refresh()},eventHandler:function(e,l){$KW.FlexContainer.eventHandler(e,l)},getContentSizeMeasured:function(e){var l={width:0,height:0};if($KG.nativeScroll){var t=$KU.getNodeByModel(e);t&&(l.width=t.scrollWidth,l.height=t.scrollHeight)}else{var r=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"];r&&(l.width=r.scrollerW,l.height=r.scrollerH)}return l},setContentOffSet:function(e,l,t,r){if($KG.nativeScroll){var o=$KU.getNodeByModel(e);if(o){$KW.APIUtils.setfocus(e);var n=$KW.FlexUtils.getValueByParentFrame(e,$KW.FlexUtils.getValueAndUnit(e,l.x),"x",e.frame),i=$KW.FlexUtils.getValueByParentFrame(e,$KW.FlexUtils.getValueAndUnit(e,l.y),"y",e.frame);o.scrollLeft=n,o.scrollTop=i}}else{if(void 0===l||null===l||void 0===l.x||void 0===l.y)return;r||(r=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"]);var c=r,a={left:-$KW.FlexUtils.getValueByParentFrame(e,$KW.FlexUtils.getValueAndUnit(e,l.x),"x",e.frame),top:-$KW.FlexUtils.getValueByParentFrame(e,$KW.FlexUtils.getValueAndUnit(e,l.y),"y",e.frame)};a.left=a.left>=c.minScrollX?c.minScrollX:a.left<=c.maxScrollX?c.maxScrollX:a.left,a.top=a.top>=c.minScrollY?c.minScrollY:a.top<=c.maxScrollY?c.maxScrollY:a.top,r.contentoffsetmove=!0,r.scrollTo(a.left,a.top,t?1e3:0),r.moved=!1,r.contentoffsetmove=!1}},scrollToWidget:function(e,l,t){if(l.parent===e)if($KG.nativeScroll){var r=$KU.getNodeByModel(e);if(r){$KW.APIUtils.setfocus(e);var o=l.frame;r.scrollLeft=o.x,r.scrollTop=o.y}}else{var n=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"],i=$KW.Utils.getWidgetNode(l);if(!i)return;n.contentoffsetmove=!0;n.scrollToElement(i.parentNode,t?1e3:0);n.moved=!1,n.contentoffsetmove=!1}},scrollToEnd:function(e,l){var t=$KU.getNodeByModel(e);if(t)if($KW.APIUtils.setfocus(e),$KG.nativeScroll)switch(e.scrolldirection){case kony.flex.SCROLL_HORIZONTAL:t.scrollLeft=t.scrollWidth;break;case kony.flex.SCROLL_VERTICAL:t.scrollTop=t.scrollHeight;break;case kony.flex.SCROLL_BOTH:t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight}else{var r=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"];if(r.contentoffsetmove=!0,r)switch(e.scrolldirection){case kony.flex.SCROLL_HORIZONTAL:r.scrollTo(r.maxScrollX,0,500);break;case kony.flex.SCROLL_VERTICAL:r.scrollTo(0,r.maxScrollY,500);break;case kony.flex.SCROLL_BOTH:r.scrollTo(r.maxScrollX,r.maxScrollY,500)}r.moved=!1,r.contentoffsetmove=!1}}};return e}();
$KW.Video=$KW.Audio=$KW.Media={initializeView:function(e){if($KU.isAndroid)for(var t=document.querySelectorAll("#"+e+" video"),n=0;n<t.length;n++){var o=t[n];kony.events.addEventListener(o,"click",function(e){if("true"==(e=e||window.event).srcElement.getAttribute("kdisabled"))return kony.events.stopPropagation(e),void kony.events.preventDefault(e);e.srcElement.play()},!1),kony.events.addEventListener(o,"playing",function(e){(e=e||window.event).srcElement.playing=!0},!1)}},updateView:function(e,t,n,o){var i=$KU.getNodeByModel(e);if(i)switch(t){case"source":var r=this.getSrc(e),a=$KW.skins.getWidgetSkinList(e,{formID:e.pf});i.setAttribute("class",a+r[1]),i.innerHTML=r[0]}},render:function(e,t){var n=$KW.skins.getWidgetSkinList(e,t),o=$KW.Utils.getBaseHtml(e,t),i=t.tabpaneID?" ktabpaneid="+t.tabpaneID:"",r=e.autoplay?" autoplay='autoplay'":"",a=e.poster?" poster="+$KU.getImageURL(e.poster):"",s=" style='"+$KW.skins.getMarginSkin(e,t)+";"+$KW.skins.getPaddingSkin(e)+"'",d=e.loop?" loop='loop'":"",u=e.controls||void 0==e.controls?" controls='controls'":"",l=e.heightwidth;l&&(l=("0"!=(l=l.split(","))[1]?" width="+l[1]+"px ":"")+("0"!=l[0]?"height="+l[0]+"px ":""));var c="";c="Video"==e.wType?"<video"+o+u+l+r+a+d+i:"<audio"+o+" controls='controls'"+r+d+i,c+=s;var p=this.getSrc(e);return c+=" class = '"+n+p[1]+"'>","Video"==e.wType?c+=p[0]+(e.text||"")+"</video>":c+=p[0]+(e.text||"")+"</audio>",c},getSrc:function(e){var t=!1,n=$KU.getPlatform();"android"==n.name&&n.version<=2.2&&(t=!0);var o=e.wType.toLowerCase(),i=skin="",r=count=0,a=e.source;if($KU.isArray(a))for(var s=1;s<a.length;s++)if(r++,a[s][2]){var d=o+"/"+a[s][1];i+="<source src='"+a[s][2]+"'"+("mp4"==a[s][1]&&t?"":" type='"+d+"'")+"/>"}else count++;else for(var u in a)r++,a[u]?(d=o+"/"+u,i+="<source src='"+a[u]+"'"+("mp4"==u&&t?"":" type='"+d+"'")+"/>"):count++;return r==count&&e.isvisible&&(skin=" hide"),[i,skin]},eventHandler:function(e,t){},play:function(e){var t=$KU.getNodeByModel(e);t&&(t.currentTime=0,t.play())},pause:function(e){var t=$KU.getNodeByModel(e);t&&t.pause()},resume:function(e){var t=$KU.getNodeByModel(e);t&&t.play()},stop:function(e){var t=$KU.getNodeByModel(e);t&&(t.pause(),t.currentTime=0)},isPlaying:function(e){var t=$KU.getNodeByModel(e),n=!1;return t&&(n=!t.paused&&!t.ended),n},getCurrentPosition:function(e){var t=$KU.getNodeByModel(e);return t?t.currentTime:0},getDuration:function(e){var t=$KU.getNodeByModel(e);return t?t.duration:0},getBufferPercentage:function(e){var t=$KU.getNodeByModel(e),n=0;if(t){var o=t.duration,r=0;for(i=0;i<t.buffered.length;i++)r=r+t.buffered.end(i)-t.buffered.start(i);n=100*r/o}return n},seekTo:function(e,t){var n=$KU.getNodeByModel(e);n&&(n.pause(),n.currentTime=t,n.play())}};
$KW.Calendar=function(){var DD="dd",MM="MM",mm="mm",yyyy="yyyy",yy="yy",separator_="-",seperator="/",cseperator="/",dateformat="MM/dd/yyyy",calendarDaysValue,calendarMonthsValues,active,activeCalendarPopUp,_addClass=function(e,t){_hasClass(e,t)||(e.className=""===e.className?t:e.className+" "+t)},_applySkins=function(e){var t,a,n,i,l,r,d,o,s,c=e.viewconfig.gridconfig||e.viewconfig.gridConfig||{},y=e.datesGroupSimplified,u=_getGridTheme(e.gridTheme),g=e.specialDates,p=function(e,t,a,n,i){var l,r=new Date,d=1*e.getAttribute("weekday"),o=i==constants.CALENDAR_SELECTION_TYPE_RANGE_SELECT;t&&(l=t.indexOf(a.setHours(0,0,0,0))),h(e,n,o),l>-1?(u==kony.calendar.MODERN&&a.setHours(0,0,0,0)==r.setHours(0,0,0,0)?_addClass(e,n.gridCellSelectedTodaySkin):_addClass(e,n.gridCellSelectedSkin),i==constants.CALENDAR_SELECTION_TYPE_RANGE_SELECT&&(0==l?_addClass(e,n.gridCellFromDateSkin):l==t.length-1&&_addClass(e,n.gridCellToDateSkin))):a.setHours(0,0,0,0)==r.setHours(0,0,0,0)?_addClass(e,n.gridCellTodaySkin):_addClass(e,0==d||6==d?n.gridCellWeekendSkin:n.gridCellSkin)},m=function(e,t){var a,n,i=0;return e.validstartdate&&(a=new Date(e.validstartdate[2],e.validstartdate[1]-1,e.validstartdate[0]).setHours(0,0,0,0)),e.validenddate&&(n=new Date(e.validenddate[2],e.validenddate[1]-1,e.validenddate[0]).setHours(0,0,0,0)),a&&0!==a&&n&&0!==n?(t<a||t>n)&&(i=1):!a&&n?t>n&&(i=1):!n&&a&&t<a&&(i=1),i},h=function(e,t,a){_removeClass(e,t.gridCellSkin),_removeClass(e,t.gridCellSelectedSkin),_removeClass(e,t.gridCellWeekendSkin),u==kony.calendar.MODERN&&_removeClass(e,t.gridCellSelectedTodaySkin),a&&(_removeClass(e,t.gridCellFromDateSkin),_removeClass(e,t.gridCellToDateSkin))},v=function(e){n.setAttribute("kwidgettype","DisabledCal"),n.className=e,n.removeAttribute("kwidgettype"),n.removeAttribute("k-w-c-hold-day")};for(l=document.querySelectorAll("#"+module.active+" [k-w-c-hold-day]"),module.isMultiRangeCalendar(e)?a=function(e,t){var a,n=[];for(a=0;a<t.length;a++)n[a]=new Date(t[a][2],t[a][1]-1,t[a][0]).setHours(0,0,0,0);return n}(0,e.displayDates):0!=e.day&&(a=[new Date(e.year,e.month-1,e.day).setHours(0,0,0,0)]),i=0;i<l.length;i++)if(t=l[i].getAttribute("k-w-c-hold-day").split(","),n=l[i],t=new Date(t[2],t[1]-1,t[0]),p(n,a,t,c,e.selectiontype),1==m(e,r=t.setHours(0,0,0,0))&&v(c.gridCellInactiveDaysSkin),y&&(0==e.datesState&&y.length>0&&y.indexOf(r)>-1&&v(c.gridCellInactiveDaysSkin),1==e.datesState&&y.length>0&&(y.indexOf(r)<=-1?(1,v(c.gridCellInactiveDaysSkin)):(_removeClass(n,c.gridCellWeekendSkin),_removeClass(n,c.gridCellSkin),_hasClass(n,c.gridCellSelectedSkin)||_hasClass(n,c.gridCellTodaySkin)||u==kony.calendar.MODERN&&_hasClass(n,c.gridCellSelectedTodaySkin)||_addClass(n,e.datesGroupSkin)))),g)for(s in r=n.getAttribute("k-w-c-hold-day").split(","),g)if(d=e.specialDates[s])for(o=0;o<d.length;o++)d[o]&&(dateNN=new Date(d[o][2],d[o][1]-1,d[o][0]).setHours(0,0,0,0),new Date(r[2],r[1]-1,r[0]).setHours(0,0,0,0)==dateNN&&(_removeClass(n,c.gridCellWeekendSkin),_removeClass(n,c.gridCellSkin),_removeClass(n,e.datesGroupSkin),_hasClass(n,c.gridCellSelectedSkin)||_hasClass(n,c.gridCellTodaySkin)||u==kony.calendar.MODERN&&_hasClass(n,c.gridCellSelectedTodaySkin)||_addClass(n,s)))},_between=function(e,t){for(var a,n,i=new Array,l=e;l<=t;)i.push(new Date(l).setHours(0,0,0,0)),a=1,n=void 0,(n=new Date(l.valueOf())).setDate(n.getDate()+a),l=n;return i},_chunks=function(e,t){for(var a=[];e.length;)a.push(e.splice(0,t));return a},_convertToModelDate=function(e,t){var a,n=null,i=null,l=new Array,r={},d=0,o=1;return null!=t&&e&&(n=t.split(seperator),a=(i=e instanceof Array?e:e.split(seperator))[2],"dd"!==n[0]&&(o=0,d=1,("yyyy"!==n[2]||n[2].length>3)&&(a=i[2].substring(2,4))),l[d]=i[0],r.day=i[0],l[o]=i[1],r.month=i[1],l[2]=a,r.year=i[2]),r.date=l,r.dateText=l[0]+seperator+l[1]+seperator+l[2],r.selectdate=r.month+seperator+r.day+seperator+r.year,r.pagedate=r.month+seperator+r.year,r},_dateFormatter=function(e,t,a,i){var l,r,d,o,s,c,y,u,g,p,h,v,f,k,w,C,b,_,A=function(e){return e.replace(/ +(?= )/g,"").replace(/^\s+|\s+$/g,"").replace(/[^a-zA-Z0-9]/g,"_").replace(/_+(?=_)/g,"").split("_")},S=["January","February","March","April","May","June","July","August","September","October","November","December"],D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N={};if(a&&e){if(a=A(a),(u=A(e.toLowerCase())).length!=a.length)return!1;for(m=0,n=u.length;m<n;m++)N[u[m]]=a[m];for(_ in N)if(N.hasOwnProperty(_))switch(_){case"mmm":if(0==(r=D.indexOf(N[_])+1))return!1;break;case"mmmm":if(0==(r=S.indexOf(N[_])+1))return!1;break;case"mm":if((r=1*N[_])<1||r>12)return!1;break;case"dd":if((l=1*N[_])<=0)return!1;break;case"do":if((l=parseInt(N[_],10))<=0)return!1;break;case"yy":case"yyyy":if((y=""!=N[_]?(""+N[_]).length>2?1*N[_]:1*N[_]+(100*Math.floor(i/100)||2e3):(""+N[_]).length>2?1*N[_]:1*N[_]+(new Date).getFullYear())>2099||y<1900)return!1}if(d=1,s=new Date(y,r-1,l||d),"[object Date]"===Object.prototype.toString.call(s)){if(s.getFullYear()!=y||s.getMonth()+1!=r||s.getDate()!=(l||d))return!1;t=[l||d,r,y]}}else if(t)try{for(c=0;c<3;c++)t[c]=+t[c]}catch(e){kony.web.logger("error",e)}return!(!e||!t)&&(e=""+e.toLowerCase().replace(/ +(?= )/g,"").replace(/^\s+|\s+$/g,""),o=new Date(t[2],t[1]-1,t[0]),g=t[1]<=9?"0"+t[1].toString():t[1],p=D[t[1]-1],h=S[t[1]-1],v=(t[2]+"").substring(2,4),f=t[2],k=t[0]>=1&&t[0]<10?"0"+t[0].toString():t[0],w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][o.getDay()],C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o.getDay()],b=t[0]+(t[0]<=20&&t[0]>=10?"th":["st","nd","rd"][t[0]%10-1]||"th"),{date:t,string:e.replace("dddd",C).replace("mmmm",h).replace("mmm",p).replace("mm",g).replace("ddd",w).replace("dd",k).replace("yyyy",f).replace("yy",v).replace("do",b)})},_dayTextAlignmentInCell=function(e){var t={};return e=e.toLowerCase().split("_"),t["vertical-align"]=(e[2]&&"center"==e[2]?"middle":e[2])||"middle",t["text-align"]=e[3]||"center",t},_eventDateSelectedMultiSelect=function(e,t,a,n){var i,l;0!=a&&(l=module.setTimeInDateComponents([a.date.slice(0)])[0],(i=$KU.inArray(e.displayDates,l))[0]?e.displayDates.splice(i[1],1):e.displayDates.push(l),e.displayDates.length>0?n.style.visibility="visible":n.style.visibility="hidden",_applySkins(e))},_eventDateSelectedRangeSelect=function(e,t,a,n){var i,l,r;0!=a&&(r=module.setTimeInDateComponents([a.date.slice(0)])[0],i=e.displayDates.length,l=$KU.inArray(e.displayDates,r),1!=i||l[0]?(e.displayDates=[r],n.style.visibility="hidden"):(e.displayDates=_getDatesInRange(e,[e.displayDates[0],r]),n.style.visibility="visible"),_applySkins(e))},_eventDateSelectedSingleSelect=function(e,t,a){var n,i,l,r,d=module.activeCalendarNode,o=new Date,s=d.getAttribute("kcontainerID");d.className=d.className.replace("konyplaceholder",""),0!=a&&(e.dateComponents=a.date,d&&((n=d.childNodes[0]).value=a.string,$KU.removeClassName(n,"konyplaceholder"))),s&&(e.datecomponents=e.date=a.date.slice(0,3)),$KAR&&$KAR.sendRecording(e,"selectDate",{selection:a.date.slice(0,3),target:d,eventType:"uiAction"}),e._startG=[0,e.datecomponents[1],e.datecomponents[2]],e.month=e.datecomponents[1],e.day=e.datecomponents[0],e.year=e.datecomponents[2],e.minutes=o.getMinutes(),e.hour=o.getHours(),e.seconds=o.getSeconds(),spaAPM&&spaAPM.sendMsg(e,"onselection"),e.accessibilityconfig?(i=e.accessibilityconfig.a11yLabel?e.accessibilityconfig.a11yLabel:"",i+=" "+e.date):i="Calendar "+e.date,d.setAttribute("aria-label",i),(l=document.getElementById(e.pf))&&l.setAttribute("aria-hidden",!1),module.destroyCalendar(void 0,d.id),r=$KU.returnEventReference(e.onselection),$KU.callTargetEventHandler(e,d,"onselection"),r&&$KU.onEventHandler(e),d.focus()},_eventHandler=function(e,t){var a,n,i,l,r,d,o,s,c,y={},u=document.getElementById("calendar-close-link"),g=document.getElementById("calendar-apply-link"),p=document.getElementById("-k-w-c-cal-title");if(module.activeCalendarNode||(module.activeCalendarNode=("INPUT"!==(c=t).tagName&&"IMG"!==c.tagName||(c=c.parentNode),c)),r=module.activeCalendarNode,null==u&&void 0==u||(u.style.visibility="visible"),p&&(p.style.visibility="visible"),i=module.activeCalendarNode.getAttribute("id"),d=module.activeCalendarNode.getAttribute("kcontainerid"),(l=_getCalendarModelFormCalendarNode(module.activeCalendarNode,d)).title,l.viewconfig||(l.viewconfig={gridconfig:{}}),l.validstartdate,l.validenddate,s=l.viewconfig.gridconfig||l.viewconfig.gridConfig||{},l){if(t.className.indexOf("-kony-w-c-yemo")>-1)return _eventHandlerSaveCurrentSelection(l,t),_eventHandlerYemoSelected(l,t,u,p);if(t.className.indexOf("-kony-w-c-next-nav")>-1)return _eventHandlerGoToNextMonth(l,t,2099);if(t.className.indexOf("-kony-w-c-prev-nav")>-1)return _eventHandlerGoToPreviousMonth(l,t,1900);if(t.getAttribute("k-w-c-hold-day"))return _eventHandlerSelectedHoldDay(l,t,g);if(t.className.indexOf("-kony-w-c-navigator-month")>-1)return _eventHandlerMonthSelected(l,t,u,p);if(t.className.indexOf("-kony-w-c-navigator-year")>-1)return _eventHandlerYearSelected(t,u,p);if(t.className.indexOf("-kony-w-c-cancel-nav")>-1)return _eventHandlerCancelSelected(t,u,p);if(t.className.indexOf(s.doneButtonSkin)>-1)return _eventHandlerApplySelected(l,t);if(t.className.indexOf("-kony-w-c-go-nav")>-1)return _eventHandlerOkSelected(l,u,p);if(t.className.indexOf("-kony-w-c-left-ym-p")>-1)return _eventHandlerYearLeftArrowSelected(u,p,1900);if(t.className.indexOf("-kony-w-c-right-ym-p")>-1)return _eventHandlerYearRightArrowSelected(u,p,2099);if(t.className.indexOf(s.cancelButtonSkin)>-1)return _eventHandlerCloseSelected(l);if(i===l.id)return!1;_reAssignData(l),module.isMultiRangeCalendar(l)&&((o=l.selectedDates||[]).length>0?(y={yyyy:o[0][2],mm:o[0][1]},l.selectiontype==constants.CALENDAR_SELECTION_TYPE_MULTI_SELECT?l.displayDates=o.slice(0):l.displayDates=_getDatesInRange(l,o)):(o=new Date,y.yyyy=o.getFullYear(),y.mm=o.getMonth()+1,l.displayDates=[]),y&&(a=_series(y.yyyy,y.mm,l.noOfMonths),n=!0)),module.destroyCalendar(null,null,t),module.activeCalendarNode=r,_show(l,t,a,n),l.displayDates&&l.displayDates.length>0&&((g=document.getElementById("calendar-apply-link")).style.visibility="visible"),_eventHandlerSetFocus(t)}},_eventHandlerApplySelected=function(e,t,a){var n,i,l,r=module.activeCalendarNode,d=r.getAttribute("kcontainerID"),o=e.displayDates;e.selectiontype==constants.CALENDAR_SELECTION_TYPE_MULTI_SELECT?e.selectedDates=o.length>0?o.slice(0):[]:e.selectiontype==constants.CALENDAR_SELECTION_TYPE_RANGE_SELECT&&(o.length>=2?e.selectedDates=[o[0],o[o.length-1]]:e.selectedDates=[]),e.displayDates=[],d&&(e.selecteddates=module.setTimeInDateComponents(e.selectedDates)),n=_getDisplayDate(e),r.childNodes[0].value=n,e.formatteddate=n,e.accessibilityconfig?(l=e.accessibilityconfig.a11yLabel?e.accessibilityconfig.a11yLabel:"",l+=" "+n):l="Calendar "+n,r.setAttribute("aria-label",l),(i=document.getElementById(e.pf))&&i.setAttribute("aria-hidden",!1),spaAPM&&spaAPM.sendMsg(e,"onselection"),module.destroyCalendar(void 0,r.id),calenEventref=$KU.returnEventReference(e.onselection),$KU.callTargetEventHandler(e,r,"onselection"),calenEventref&&$KU.onEventHandler(e),r.focus()},_eventHandlerCancelSelected=function(e,t,a){var n,i=module.activeCalendarNode.getAttribute("id"),l=document.querySelector("#"+i+"-k-w-c-datepicker .-kony-w-c-navigator-month-selected"),r=document.querySelector("#"+i+"-k-w-c-datepicker .-kony-w-c-navigator-year-selected");return l&&_removeClass(l,"-kony-w-c-navigator-month-selected"),r&&_removeClass(r,"-kony-w-c-navigator-year-selected"),l||r?(t.style.visibility="hidden",a&&(a.style.visibility="hidden"),document.querySelectorAll("#"+i+"-k-w-c-datepicker .-k-w-c-nav-selected-ym")[0].innerHTML=""):((n=document.getElementById(i+"-k-w-c-navigator-scrim")).parentNode.removeChild(n),_removeTabIndexs(),document.activeElement.blur(),document.querySelectorAll(".-kony-w-c-popup-container")[0].setAttribute("aria-hidden",!1),_eventHandlerSetFocus(void 0,!0)),!1},_eventHandlerCloseSelected=function(e){var t,a=module.activeCalendarNode.getAttribute("id"),n=document.getElementById(a+"-k-w-c-datepicker"),i=module.activeCalendarNode;i&&""==(i=i.childNodes[0]).value&&module.clear(e),n.parentNode.removeChild(n),null!=(t=document.getElementById(e.pf))&&t.setAttribute("aria-hidden",!1),module.destroyCalendar(void 0,i.id),e.displayDates=[]},_eventHandlerGoToNextMonth=function(e,t,a){var n,i=document.getElementById(module.activeCalendarNode.getAttribute("id")+"-k-w-c-datepicker"),l=document.querySelectorAll("#"+i.id+" .-kony-w-c-popup-container")[0],r=l.getAttribute("month"),d=l.getAttribute("year");if(Number(d)<a)(n=_series(d,r,1*(e.noofmonths||1)+1)).splice(0,1);else if(Number(d)==a){if(!(Number(r)<12))return;(n=_series(d,r,1*(e.noofmonths||1)+1)).splice(0,1)}_show(e,module.activeCalendarNode,n),_eventHandlerSetFocus(module.activeCalendarNode)},_eventHandlerGoToPreviousMonth=function(e,t,a){var n,i=document.getElementById(module.activeCalendarNode.getAttribute("id")+"-k-w-c-datepicker"),l=document.querySelectorAll("#"+i.id+" .-kony-w-c-popup-container")[0],r=l.getAttribute("month"),d=l.getAttribute("year");if(1==r?(r=12,d-=1):r-=1,Number(d)>a)n=_series(d,r,e.noofmonths||1);else{if(Number(d)!=a)return;Number(r)>0&&(n=_series(d,r,e.noofmonths||1))}_show(e,module.activeCalendarNode,n),_eventHandlerSetFocus(module.activeCalendarNode)},_eventHandlerMonthSelected=function(e,t,a,n){var i,l,r,d,o,s,c=module.activeCalendarNode.getAttribute("id"),y=document.querySelectorAll("#"+c+"-k-w-c-datepicker  .-kony-w-c-navigator-month-selected");for(a.style.visibility="hidden",n&&(n.style.visibility="hidden"),s=0;s<y.length;s++)y[s]!=t&&(_removeClass(y[s],"-kony-w-c-navigator-month-selected"),_addClass(y[s],"-kony-w-c-navigator-month"));return _addClass(t,"-kony-w-c-navigator-month-selected"),l=document.querySelectorAll("#"+c+"-k-w-c-datepicker .-k-w-c-nav-selected-ym")[0],(r=document.querySelectorAll("#"+c+"-k-w-c-datepicker .-kony-w-c-navigator-year-selected")[0])&&(d=1*r.getAttribute("k-w-c-hold")),(i=document.querySelectorAll("#"+c+"-k-w-c-datepicker  .-kony-w-c-navigator-month-selected")[0])&&(o=calendarMonthsValues[1*i.getAttribute("k-w-c-hold")-1]),l.innerHTML=(d||"")+" "+(o||""),!1},_eventHandlerOkSelected=function(e,t,a){var n,i,l,r,d,o,s=module.activeCalendarNode.getAttribute("id"),c=document.querySelectorAll("#"+s+"-k-w-c-datepicker .-kony-w-c-navigator-year-selected")[0],y=function(e,t,a){t.style.visibility="hidden",a&&(a.style.visibility="hidden"),alert(e.navigatorAlert)};return c&&(d=1*c.getAttribute("k-w-c-hold")),(n=document.querySelectorAll("#"+s+"-k-w-c-datepicker .-kony-w-c-navigator-month-selected")[0])&&(o=1*n.getAttribute("k-w-c-hold")),l=d||e.currentSelectedyearMonth[1].trim(),(r=o||e.currentSelectedMonth+1)>0&&!(r>=1&&r<=12)?(y(e,t,a),!1):(number=parseInt(l,10),l||r?((i=document.getElementById(s+"-k-w-c-navigator-scrim")).parentNode.removeChild(i),series=_series(l||model.year||(new Date).getFullYear(),r||e.month||(new Date).getMonth()+1,1*(e.noofmonths||1)+1),_show(e,module.activeCalendarNode,series),_removeTabIndexs(),document.activeElement.blur(),document.querySelectorAll(".-kony-w-c-popup-container")[0].setAttribute("aria-hidden",!1),_eventHandlerSetFocus(void 0,!0),!1):(y(e,t,a),!1))},_eventHandlerSaveCurrentSelection=function(e,t){var a;for(e.currentSelectedyearMonth=t.innerHTML.split(","),a=0;a<calendarMonthsValues.length;a++)if(e.currentSelectedyearMonth[0]==calendarMonthsValues[a]){e.currentSelectedMonth=a;break}},_eventHandlerSelectedHoldDay=function(e,t,a){var n;n=_dateFormatter(e.dateformat,t.getAttribute("k-w-c-hold-day").split(",")),e.selectiontype==constants.CALENDAR_SELECTION_TYPE_RANGE_SELECT?_eventDateSelectedRangeSelect(e,t,n,a):e.selectiontype==constants.CALENDAR_SELECTION_TYPE_MULTI_SELECT?_eventDateSelectedMultiSelect(e,t,n,a):_eventDateSelectedSingleSelect(e,t,n)},_eventHandlerSetFocus=function(e,t){var a;e&&e.blur(),(a=document.querySelector(".-kony-w-c-yemo"))&&(t&&a.setAttribute("tabindex",1),a.focus())},_eventHandlerYearRightArrowSelected=function(e,t,a){var n,i,l,r=module.activeCalendarNode.getAttribute("id"),d=document.querySelectorAll("#"+r+"-k-w-c-navigator-scrim .-kony-w-c-navigator-year");for(e.style.visibility="hidden",t&&(t.style.visibility="hidden"),n=0;n<d.length;n++)if(""==d[n].innerHTML&&0==this.cellVisibility)d[n].style.visibility="visible",void 0!=d[n-1]&&""!=d[n-1].innerHTML?(d[n].innerHTML=Number(d[n-1].innerHTML)+1,d[n].setAttribute("k-w-c-hold",Number(d[n].innerHTML))):(d[n].innerHTML=Number(d[d.length-1].innerHTML)+1,d[n].setAttribute("k-w-c-hold",Number(d[d.length-1].innerHTML)+1)),_removeClass(d[n],"-kony-w-c-navigator-year-selected");else if((i=1*d[n].getAttribute("k-w-c-hold"))+16<=a)if(d[n].innerHTML=i+16,d[n].setAttribute("k-w-c-hold",i+16),Number(d[n].innerHTML)==a)for(l=n+1;l<16;l++)d[l].innerHTML="",d[l].style.visibility="hidden";else d[n].style.visibility="visible",this.cellVisibility=!0,d[n].setAttribute("k-w-c-hold",i+16),_removeClass(d[n],"-kony-w-c-navigator-year-selected");return!1},_eventHandlerYearLeftArrowSelected=function(e,t,a){var n,i,l,r=module.activeCalendarNode.getAttribute("id"),d=document.querySelectorAll("#"+r+"-k-w-c-navigator-scrim .-kony-w-c-navigator-year");for(e.style.visibility="hidden",t&&(t.style.visibility="hidden"),l=0;l<d.length;l++)if(""==d[d.length-1].innerHTML)d[l].style.visibility="visible",this.cellVisibility=!0,void 0!=d[l-1]&&""!=d[l-1].innerHTML?(d[l].innerHTML=Number(d[l-1].innerHTML)+1,d[l].setAttribute("k-w-c-hold",Number(d[l].innerHTML))):(d[l].innerHTML=Number(d[l].innerHTML)-16,d[l].setAttribute("k-w-c-hold",Number(d[l].innerHTML))),_removeClass(d[l],"-kony-w-c-navigator-year-selected");else if((n=1*d[l].getAttribute("k-w-c-hold"))-16>=a)if(d[l].innerHTML=n-16,d[l].setAttribute("k-w-c-hold",n-16),n-a<=16)for(i=l-1;i>=0;i--)d[i].innerHTML="",d[i].style.visibility="hidden",this.cellVisibility=!1;else d[l].style.visibility="visible",d[l].setAttribute("k-w-c-hold",n-16),_removeClass(d[l],"-kony-w-c-navigator-year-selected");return!1},_eventHandlerYearSelected=function(e,t,a){var n,i,l,r,d,o,s=module.activeCalendarNode.getAttribute("id"),c=document.querySelectorAll("#"+s+"-k-w-c-datepicker .-kony-w-c-navigator-year-selected");for(t.style.visibility="hidden",a&&(a.style.visibility="hidden"),n=0;n<c.length;n++)c[n]!=e&&(_removeClass(c[n],"-kony-w-c-navigator-year-selected"),_addClass(c[n],"-kony-w-c-navigator-year"));return _addClass(e,"-kony-w-c-navigator-year-selected"),i=document.querySelectorAll("#"+s+"-k-w-c-datepicker .-k-w-c-nav-selected-ym")[0],(l=document.querySelectorAll("#"+s+"-k-w-c-datepicker .-kony-w-c-navigator-year-selected")[0])&&(d=1*l.getAttribute("k-w-c-hold")),(r=document.querySelectorAll("#"+s+"-k-w-c-datepicker .-kony-w-c-navigator-month-selected")[0])&&(o=calendarMonthsValues[1*r.getAttribute("k-w-c-hold")-1]),i.innerHTML=(o||"")+" "+(d||""),!1},_eventHandlerYemoSelected=function(e,t,a,n){var i,l,r=document.createElement("div"),d=module.activeCalendarNode.getAttribute("id"),o=document.getElementById(d+"-k-w-c-datepicker");a.style.visibility="hidden",n&&(n.style.visibility="hidden"),l=(void 0==t.innerText?t.textContent.split(","):t.innerText.split(","))[1].trim(),i=_navigatorTemplate(e,module.activeCalendarNode,l),r.innerHTML=i,r.style.position="absolute",r.style.height=r.style.width="100%",r.className="-k-w-c-navigator-scrim",r.style["background-color"]="White",r.id=d+"-k-w-c-navigator-scrim",r.setAttribute("w-type","Calendar"),r.firstChild.position="absolute",r.firstChild.style["background-color"]="white",o.appendChild(r);var s=r.clientHeight,c=r.firstChild.clientHeight,y=r.clientWidth,u=r.firstChild.clientWidth;return r.firstChild.position="absolute",r.firstChild.style.top=(s-c)/2+"px",r.firstChild.style.left=(y-u)/2+"px",r.style.top=r.style.left="0px",_removeTabIndexs(),document.activeElement.blur(),document.querySelectorAll(".-kony-w-c-popup-container")[0].setAttribute("aria-hidden",!0),r.querySelectorAll("[w-type-inactive]")[0].setAttribute("tabindex",1),r.querySelectorAll("[w-type-inactive]")[0].focus(),!1},_isValidDateComponents=function(e){return module.isMultiRangeCalendar(e)?module.isSelectedDatesValid(e,e.selecteddates):module.isSelectedDatesValid(e,[e.datecomponents])},_generateCalendarTemplate=function(e,t,a){var n=" kformname='"+e.pf+"'",i=$KG.i18nArray&&$KG.i18nArray["platform.calendar.previousMonthLink"]?$KG.i18nArray["platform.calendar.previousMonthLink"]:"Previous Month",l=$KG.i18nArray&&$KG.i18nArray["platform.calendar.nextMonthLink"]?$KG.i18nArray["platform.calendar.nextMonthLink"]:"Next Month";return e.tabpaneId&&(n=" ktabpaneid='"+e.tabpaneId+"' "),e.kmasterid&&(n=" kmasterid='"+e.kmasterid+"' "),'<div w-type="Calendar"  style="display:inline-block;" class="-kony-w-c-popup-container" id="{{id}}" style="height:'+t+";width:"+a+';"><div w-type="Calendar"  class="-kony-w-c-topSection" ><div w-type="Calendar"  class="-kony-w-c-table" style=";width:100%;height:70%;">'+_generateHeaderRow(n,i,l)+'</div><div w-type="Calendar"  class="-kony-w-c-table -kony-w-c-daysHeader" style="width:100%;height:30%;">'+_generateDaysRow(n,e.cellWidths)+'</div></div><div w-type="Calendar" class="kony-w-c-actualDates">'+_generateDateCells(n,e.cellWidths)+"</div></div>"},_generateDateCells=function(e,t){var a,n,i="";for(a=8;a<=49;a+=7){for(i+='<div w-type="Calendar"  class="-kony-w-c-table -kony-w-c-day-table" style=""><div w-type="Calendar"  class="-kony-w-c-row -kony-w-c-day-row">',n=a;n<=a+6;n++)i+='<div w-type="Calendar" '+e+' kwidgettype="Calendar" class="" id="-kony-w-c-cell-'+n+'"  style="width:'+t[a-1]+';display:table-cell; vertical-align:middle; text-align:center; height:100%;font-size:smaller; position:relative;"></div>';i+="</div></div>"}return i},_generateDaysRow=function(e,t){var a,n="";for(n+='<div w-type="Calendar"  class="-kony-w-c-row">',a=1;a<=7;a++)n+="<div "+e+' w-type = "Calendar" class="" id="-kony-w-c-cell-'+a+'" style="width:'+t[a-1]+';display:table-cell; vertical-align:middle; text-align:center; height:100%;font-size:smaller"></div>';return n+="</div>"},_generateHeaderRow=function(e,t,a){return'<div w-type="Calendar"  class="-kony-w-c-row"><div w-type="Calendar" '+e+' class="-kony-w-c-cell -kony-w-c-prev-nav" style="width:20%;text-align:left;display:table-cell"><img w-type="Calendar" class="-kony-w-c-prev-nav-left-link" alt="'+t+'" style="height:15px;width:25px;display:inline-block" /></div><div w-type="Calendar" '+e+' kwidgettype="Calendar" class="-kony-w-c-cell -kony-w-c-yemo" style="width:60%;display:table-cell;text-align:center;outline-color:#FFFFFF;" tabindex="1"></div><div w-type="Calendar" '+e+' class="-kony-w-c-cell -kony-w-c-next-nav" style="width:20%;text-align:right;display:table-cell;"><img w-type="Calendar" class="-kony-w-c-next-nav-right-link" alt="'+a+'" style="height:15px;width:25px;display:inline-block" /></div></div>'},_generateImageTagString=function(e,t){e.accessibilityconfig&&e.accessibilityconfig.hint&&e.accessibilityconfig.hint;var a,n=e.Image?$KU.getImageURL(e.Image):$KU.getImageURL("calbtn.gif");return a="<img id='"+e.id+"_img' type='image' src='"+n+"' style='float:right;vertical-align:middle' xalign='right' onload='$KW.Calendar.setCalElementStyle(this,false)'",e.kmasterid&&(a+="kmasterid = '"+e.kmasterid+"'"),a+=e.title?" title='"+e.title+"'":"",a+=" />"},_generateInputTagString=function(e,t){var a,n=$KW.Utils.isWidgetDisabled(e,t)||!1;return a="<input id='"+e.id+"' style='"+$KU.cssPrefix+"appearance: none; text-align: inherit; vertical-align: middle;background:transparent;width:50%;text-decoration:inherit;' name='calBody'",kony.appinit.isWindowsPhone||kony.appinit.isBlackBerry10?(kony.appinit.isWindowsPhone||kony.appinit.isBlackBerry10)&&(a+=" disabled='disabled'"):a+=" readonly",a+=e.placeholder?" placeholder='"+e.placeholder+"'":"",a+=e.title?" title='"+e.title+"'":"",a+=e.disabled?" disabled='true'":"",e.kmasterid&&(a+=" kmasterid = '"+e.kmasterid+"'"),a+=e.formatteddate?" value='"+e.formatteddate+"'":"",a+=n?" kdisabled='true' disabled='true'":"",a+=" type='text' />"},_getByClass=function(e,t){return document.querySelectorAll("#"+e.id+" ."+t)},_getBySele=function(e,t){return document.querySelectorAll("#"+e.id+" "+t)},_getCalendarModelFormCalendarNode=function(e,t){var a,n=e.getAttribute("id");return a=e.getAttribute("kmasterid")?$KU.getWidgetModelByID(n):kony.model.getWidgetModel(e.getAttribute("kformname"),$KU.getElementID(n),e.getAttribute("ktabpaneid")),t&&(a=$KW.Utils.getClonedModelByContainer(a,e,t)),a},_getDatesInRange=function(e,t){var a,n,i,l,r,d,o=[],s=function(e,t){var a=new Date(e.valueOf());return a.setDate(a.getDate()+t),a};if(t&&t.length>=2)for(r=t[0],d=t[1],l=_isToGtFromDate(r,d)?[r,d]:[d,r],a=new Date(l[0][1]+"/"+l[0][0]+"/"+l[0][2]),o.push(l[0]),n=new Date(l[1][1]+"/"+l[1][0]+"/"+l[1][2]);a<n;)a=s(a,1),l=[(i=new Date(a)).getDate(),i.getMonth()+1,i.getFullYear()],_isDateEnabled(e,[l])&&o.push(l);return o},_getDisplayDate=function(e){var t="",a=e.selecteddates||[],n=e.dateformat,i=function(e,t,a){var n,i,l="";for(n=0;n<e.length;n++)0!=(i=_dateFormatter(t,e[n]))&&(l+=i.string+a);return e.length>0&&(l=l.slice(0,-1*a.length)),l};return e.selectiontype==constants.CALENDAR_SELECTION_TYPE_RANGE_SELECT?2==a.length&&(t=i([a[0],a[1]],n," - ")):e.selectiontype==constants.CALENDAR_SELECTION_TYPE_MULTI_SELECT&&a.length>0&&(t=i(a,n,",")),t},_getGridTheme=function(e){return e||($KG.appbehaviors[constants.API_LEVEL]>=constants.API_LEVEL_8200?kony.calendar.MODERN:kony.calendar.LEGACY)},_getOffset=function(e){var t=$KU.getPosition(e);return[t.left,t.top]},_hasClass=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},_ideDateToString=function(date){if(date)try{date instanceof Array&&(date=eval(date),date=date[0]+"/"+date[1]+"/"+date[2])}catch(e){date=""}return date},_initializeCalendarModel=function(e){var t,a;e.placeholder=e.placeholder||e.dateformat||e.format,module.isMultiRangeCalendar(e)?module.isSelectedDatesValid(e,e.selecteddates)?(formattedDate=_getDisplayDate(e),e.formatteddate=formattedDate,e.selectedDates=module.setTimeInDateComponents(e.selecteddates)):(e.selecteddates=[],kony.web.logger("error","Invalid date selection")):e.date instanceof Array?(e.entereddate=e.date,e.date&&e.date.length>0?(t=[e.date[0],e.date[1],e.date[2]],0!=(a=_dateFormatter(e.dateformat,t))&&(e.dateComponents=a.date,e.formatteddate=a.string),e.day=a.date[0],e.month=a.date[1],e.year=a.date[2]):(e.day=null,e.month=null,e.year=null),e.hour=e.minutes=e.seconds=0):e.formatteddate=e.date},_isDateEnabled=function(e,t){var a,n,i,l,r,d,o=e.datesGroupSimplified;for(e.validstartdate&&(i=new Date(e.validstartdate[2],e.validstartdate[1]-1,e.validstartdate[0]).setHours(0,0,0,0)),e.validenddate&&(l=new Date(e.validenddate[2],e.validenddate[1]-1,e.validenddate[0]).setHours(0,0,0,0)),r=new Date(1900,0,1).setHours(0,0,0,0),d=new Date(2099,11,31).setHours(0,0,0,0),a=0;a<t.length;a++){if(!(r<=(n=new Date(t[a][2],t[a][1]-1,t[a][0]).setHours(0,0,0,0))&&n<=d))return!1;if(i&&!(i<=n)||l&&!(n<=l))return!1;if(o&&(0==e.datesState&&o.length>0&&o.indexOf(n)>-1||1==e.datesState&&o.length>0&&o.indexOf(n)<=-1))return!1}return!0},_isToGtFromDate=function(e,t){return!(new Date(e[2],e[1],e[0])>new Date(t[2],t[1],t[0]))},_month=function(e,t,a,n){var i,l,r,d,o,s=new Date(t,e-1,1).getDay(),c=[],y=1,u=new Date(t,e,0).getDate(),g={},p={},m=0;for(o=1==e?_series(t-1,12,3):_series(t,e-1,3),g.month=o[0][0],g.year=o[0][1],p.month=o[2][0],p.year=o[2][1],l=new Date(g.year,g.month,0).getDate(),new Date(p.year,p.month,0).getDate(),(a=a||0)>s&&(a-=7),d=0;d<=6;d++)c.push(calendarDaysValue[(d+a+7)%7]);for(d=0;d<6;d++)for(r=0;r<=6;r++)y<=u&&(d>0||r+a>=s)?(c.push([y,{d:y,y:t,m:e},new Date(t,e-1,y).getDay()]),y++,i=1):i?(c.push(0),1):(c.push(-1),m+=1);for(d=0;d<c.length;d++)0==c[d]?(c[d]=i,i++):-1==c[d]&&(c[d]=l-m+1,m--);return c},_navigatorTemplate=function(e,t,a){var n=e.tabpaneId,i=" kformname='"+e.pf+"' "+(n&&" ktabpaneid='"+n+"' ")+(e.kmasterid&&" kmasterid='"+e.kmasterid+"' "),l="";return l="<div w-type='Calendar' id='"+e.id+"-k-w-c-navigator-' class='-k-w-c-datepicker-navigator' kwidgettype='Calendar' "+i+" style='height:"+e.popupHeight+";width:"+e.popupWidth+";position:absolute;background-color:White'>",l+=function(e,t){var a=$KG.i18nArray&&$KG.i18nArray?$KG.i18nArray["platform.calendar.cancelImage"]:"Cancel Selection",n=$KG.i18nArray&&$KG.i18nArray?$KG.i18nArray["platform.calendar.selectedImage"]:"Done Selecting";return"<div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:15%;width:100%;'><div w-type='Calendar'  style='display:table-row;width:100%;height:100%'><div w-type='Calendar'  style='display:table-cell;width:15%;text-align:left;vertical-align:middle' class='-kony-w-c-cancel-nav' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" ><img w-type='Calendar' alt='"+a+"' class='-kony-w-c-cancel-nav' style='height:50%;width:50%;' src='"+$KU.getImageURL("k-cancel.png")+"' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" ></div><div w-type='Calendar' w-type-inactive='true' style='display:table-cell;width:70%;text-align:center;vertical-align:middle' class='-k-w-c-nav-selected-ym'></div><div w-type='Calendar'  style='display:table-cell;width:15%;text-align:right;vertical-align:middle' class='-kony-w-c-go-nav' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" ><img w-type='Calendar'  alt='"+n+"'class='-kony-w-c-go-nav' style='height:50%;width:50%;' src='"+$KU.getImageURL("k-go.png")+"' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" ></div></div></div>"}(i,t),l+=function(e,t){var a,n,i,l="",r=calendarMonthsValues.slice(0);for(l+="<div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:30%;width:100%;border-bottom:1px solid #FAFAFA'>",r=_chunks(r,6),n=0;n<r.length;n++){for(a=r[n],l+="<div w-type='Calendar'   style='display:table-row;width:100%;height:50%'>",i=0;i<a.length;i++)l+="<div w-type='Calendar' role='option' aria-label='"+a[i]+"' style='display:table-cell;width:15%;text-align:center;vertical-align:middle;font-size:smaller' class='-kony-w-c-navigator-month' k-w-c-hold='"+(6*n+(i+1))+"' k-w-c-id='"+t+"' kwidgettype='Calendar'"+e+" >"+a[i].substring(0,3)+"</div>";l+="</div>"}return l+="</div>"}(i,t),l+=function(e,t){var a=$KU.getImageURL("left-arrow.png"),n=$KU.getImageURL("right-arrow.png");return"<div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:15%;width:100%'><div w-type='Calendar'   style='display:table-row;width:100%;height:100%'><div w-type='Calendar' style='display:table-cell;width:15%;text-align:left;vertical-align:middle' class='-kony-w-c-left-ym-p' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" ><img class='-kony-w-c-left-ym-p' src = '"+a+"' alt='"+($KG.i18nArray&&$KG.i18nArray?$KG.i18nArray["platform.calendar.previousYearLink"]:"Previous set of Years")+"' style='height:15px;width:25px;display:inline-block' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" /></div><div w-type-inactive='true'  w-type='Calendar' style='display:table-cell;width:70%;text-align:center;vertical-align:middle' class='-k-w-c-nav-yr-range'></div><div w-type='Calendar'  style='display:table-cell;width:15%;text-align:right;vertical-align:middle' class='-kony-w-c-right-ym-p' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" ><img w-type='Calendar'  class='-kony-w-c-right-ym-p' src = '"+n+"' alt='"+($KG.i18nArray&&$KG.i18nArray?$KG.i18nArray["platform.calendar.nextYearLink"]:"Next set of Years")+"'style='height:15px;width:25px;display:inline-block' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" /></div></div></div>"}(i,t),l+="<div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:40%;width:100%'>",l+=function(e,t){var n,i,l="";for(i=function(e){var t,a,n=2001;if(null!=(e=e?Number(e):null))if(e>n)for(t=Math.floor((e-2001)/16),a=0;a<t;a++)n+=16;else for(t=Math.ceil((2001-e)/16),a=0;a<t;a++)n-=16;return n}(a),n=1;n<=4;n++){for(l+="<div w-type='Calendar'   style='display:table-row;width:100%;height:25%'>",j=1;j<=4;j++)l+=i>1900&&i<2099||2099==i||1900==i?"<div w-type='Calendar' role='option' aria-label = '"+i+"' style='display:table-cell;width:25%;text-align:center;vertical-align:middle;font-size:smaller;visibility:visible;' class='-kony-w-c-navigator-year' k-w-c-hold='"+i+"' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" >"+i+"</div>":"<div w-type='Calendar' role='option' aria-label = '"+i+"' style='display:table-cell;width:25%;text-align:center;vertical-align:middle;font-size:smaller;visibility:hidden;' class='-kony-w-c-navigator-year' k-w-c-hold='"+i+"' k-w-c-id='"+t+"' kwidgettype='Calendar' "+e+" >"+i+"</div>",i++;l+="</div>"}return l}(i,t),l+="</div></div>"},_reAssignData=function(e){var t,a,n,i,l,r,d=_getGridTheme(e.gridTheme);e.datecomponents||(_setCurrentDate(e),e.minutes=0,e.hour=0,e.seconds=0),(e.noofmonths<1||isNaN(1*e.noofmonths))&&(e.noofmonths=1),e.datesGroup=[],e.datesState=e.datesState||0,e.dateformat=e.dateformat||e.format||"dd/mm/yyyy",e.popupHeight=e.popupHeight||Math.min.apply(Math,[300,window.innerHeight||document.documentElement.clientHeight])+"px",e.popupWidth=e.popupWidth||Math.min.apply(Math,[300,window.innerWidth||document.documentElement.clientWidth])+"px",e.startDay=e.startDay||0,e.viewconfig||(e.viewconfig={gridConfig:{},gridconfig:{}}),(t=e.viewconfig.gridconfig||e.viewconfig.gridConfig||{}).gridCellWeekendSkin=t.gridCellWeekendSkin||t.gridcellweekendskin||"-kony-w-c-weekend-",t.gridCellInactiveDaysSkin=t.gridCellInactiveDaysSkin||t.gridcellinactivedaysskin||"-k-w-c-inactive",t.gridCellSkin=t.gridCellSkin||t.gridcellskin||"-kony-w-c-day-skin",e.selectiontype==constants.CALENDAR_SELECTION_TYPE_RANGE_SELECT?(i="-kony-w-c-selected-inrange",l="-k-w-c-today-selected-inrange"):(i="-kony-w-c-selected-",l="-k-w-c-today-selected"),t.gridCellSelectedSkin=t.gridCellSelectedSkin||t.gridcellselectedskin||i,t.gridCellTodaySkin=t.gridCellTodaySkin||t.gridcelltodayskin||"-kony-w-c-today-",d==kony.calendar.LEGACY&&(l=""),t.gridCellSelectedTodaySkin=t.gridCellSelectedTodaySkin||t.gridcellselectedtodayskin||l,t.gridCellFromDateSkin=t.gridCellFromDateSkin||t.gridcellfromdateskin||"-k-w-c-cal-from-date",t.gridCellToDateSkin=t.gridCellToDateSkin||t.gridcelltodateskin||"-k-w-c-cal-to-date",t.doneButtonSkin=t.doneButtonSkin||"-k-w-c-apply-picker",t.cancelButtonSkin=t.cancelButtonSkin||"-k-w-c-close-picker",t.monthHeaderSkin=t.monthHeaderSkin||" -kony-w-c-yemo-skin",t.dayHeaderSkin=t.dayHeaderSkin||" -kony-w-c-day-label-cell",void 0==t.allowWeekendSelectable&&(t.allowWeekendSelectable=t.allowweekendselectable),e.validStartDate&&(a=e.validStartDate[2],r=e.validStartDate[1]),r=e.year||r||(new Date).getFullYear(),a=e.month||a||(new Date).getMonth()+1,e.displayedMonths=e.displayedMonths||[a,r],e.dayTextAlignmentInCell=e.dayTextAlignmentInCell||"CONTENT_ALIGN_CENTER",e.year&&(n=e.year.toString()).length>4&&(e.year=1*n.substr(n.length-4)),e.navigatorAlert=$KG.i18nArray&&$KG.i18nArray.gridCalAlertI18Nkey?kony.i18n.getLocalizedString("gridCalAlertI18Nkey"):e.navigatorAlert||"Invalid Selection"},_removeClass=function(e,t){e.className=_trim((" "+e.className+" ").replace(" "+t+" "," "))},_removeTabIndexs=function(){var e,t=document.querySelectorAll("[tabindex]");for(e=0;e<t.length;e++)"Calendar"===t[e].getAttribute("kwidgettype")&&t[e].removeAttribute("tabindex")},_reposition=function(e){var t,a,n,i,l=document.querySelector("div[id$='-k-w-c-datepicker']");l&&(t=l.clientHeight,a=window.innerWidth||document.documentElement.clientWidth,n=window.pageYOffset+(window.innerHeight-t)/2,l.style.left="0px",2*(i=(a-l.clientWidth)/2)+l.clientWidth>a&&(i=0),l.style.top=(n>0?n:0)+"px",l.style.left=i+"px",1!=e&&(l.innerHTML=l.innerHTML))},_series=function(e,t,a){var n,i=[[t,e]];for(e=parseInt(e,10),t=parseInt(t,10),n=0;n<a-1;n++)t+1>12?(t=1,e+=1,i.push([t,e])):(t+=1,i.push([t,e]));return i},_setCurrentDate=function(e){var t=new Date;e.datecomponents=[],e.datecomponents=[0,0,0,0,0,0],e.datecomponents[1]=t.getMonth()+1,e.datecomponents[2]=t.getFullYear()},_adjustFlexLayoutInCellTemplate=function(e){var t=document.querySelectorAll("div[kcelltemplate]"),a=t.length,n=0,i=null,l=null;for(n=0;n<a;n++)i=t[n].parentNode,_adjustStyleDivForTemplateInGridCell(i.childNodes[1]),e.celltemplate.layoutConfig={self:!0,children:!0},l=i.childNodes[1].firstElementChild,$KW.FlexContainer.forceLayout(e.celltemplate,l)},_show=function(e,t,a,n){var i,l,r,d,o,s,c,y,u,g,p,m,h,v,f,k,w=new Date,C=e.popupHeight||"300px",b=e.popupWidth||"300px",_=document.getElementById("__MainContainer"),A=function(e,t,a){return a===e.id?t:$KW.Utils.getContainerNodeByparent(t,e.pf).parentNode.querySelector("div[id='"+e.pf+"_"+a+"']")};for(this.invoked=this.invoked||{},this.invoked[t.id]=this.invoked[t.id]||{d:t,i:t.firstChild.id,s:""},e.validStartDate&&(e.validStartDate[0],r=e.validStartDate[1],l=e.validStartDate[2]),l=e.year||l||w.getFullYear(),r=e.month||r||w.getMonth()+1,i=e.noofmonths,a&&a[0]&&!n&&(g=!0),e.showcurrentdate&&(l=w.getFullYear(),r=w.getMonth()+1),a=a||_series(l,r,i),e.cellWidths=e.cellWidths||["14.2857%;","14.2857%;","14.2857%;","14.2857%;","14.2857%;","14.2857%;","14.2857%;"],d=_generateCalendarTemplate(e,C,b),""==(u=document.getElementById(t.id+"-k-w-c-datepicker")||document.createElement("div")).id&&(e.title&&u.appendChild(function(e){var t=document.createElement("div");return t.className="-k-w-c-cal-title",t.id="-k-w-c-cal-title",t.setAttribute("w-type","Calendar"),t.innerHTML=e.title,t}(e)),u.id=t.id+"-k-w-c-datepicker"),u.setAttribute("w-type","Calendar"),this.invoked[t.id].s="active",s=_getByClass(u,"-kony-w-c-popup-container"),e.displayedMonths=[a[0][0],a[0][1]],h=0;h<Number(e.noofmonths);h++)c=[1,1],y=_month(a[h][0],a[h][1],e.startDay),m="-k-w-c-month-cmp-"+a[h][0]+"-"+a[h][1],s[h]&&(s[h].id=m),d=d.replace("{{id}}",m),0!=(p=_updateMonthData(y,e,d,a[h],c,s[h]||0,t.id))&&u.appendChild(p);1!=g?(u.className="-k-w-c-datepicker-holder-main "+_getGridTheme(e.gridTheme),u.style.position="absolute",u.style.border="1px solid #CCC",u.appendChild(function(e,t){var a=document.createElement("div"),n=e.tabpaneId,i=$KG.i18nArray&&$KG.i18nArray.gridCalCloseI18Nkey?kony.i18n.getLocalizedString("gridCalCloseI18Nkey"):"Close",l=e.viewconfig.gridconfig||e.viewconfig.gridConfig||{};return a.innerHTML="<a href='#' class="+l.cancelButtonSkin+" id='calendar-close-link' kformname='"+e.pf+"' kwidgettype='Calendar' "+(e.kmasterid?" kmasterid='"+e.kmasterid+"' ":"")+ +(n?"ktabpaneid='"+n+"' ":"")+" style='float:right;'>"+i+"</a>",a.setAttribute("w-type","Calendar"),a.firstChild.setAttribute("k-w-c-id",t),a}(e,t.id)),module.isMultiRangeCalendar(e)&&u.appendChild(function(e,t){var a=document.createElement("div"),n=e.tabpaneId,i=$KG.i18nArray&&$KG.i18nArray.gridCalApplyI18Nkey?kony.i18n.getLocalizedString("gridCalApplyI18Nkey"):"Apply",l=e.viewconfig.gridconfig||e.viewconfig.gridConfig||{};return a.innerHTML="<a href='#' class="+l.doneButtonSkin+" id='calendar-apply-link' kformname='"+e.pf+"' kwidgettype='Calendar' "+(e.kmasterid?" kmasterid='"+e.kmasterid+"' ":"")+ +(n?"ktabpaneid='"+n+"' ":"")+" style='float:right;margin-right:20px;visibility:hidden'>"+i+"</a>",a.setAttribute("w-type","Calendar"),a.firstChild.setAttribute("k-w-c-id",t),a}(e,t.id)),u.style.zIndex="1234",$KU.isMobile()||$KU.isTablet?(u.setAttribute("dummy","a"),u.style.display="none",_.appendChild(u),u.style.display="inline-block",_reposition(1),(k=document.createElement("div")).className="k-w-c-scrim-for-popup",v=document.body,f=void 0!=document.height?document.height:void 0!=v.scrollHeight&&void 0!=v.offsetHeight?kony.appinit.isWindowsPhone?100:Math.max(v.scrollHeight,v.offsetHeight):v.scrollHeight||v.offsetHeight,kony.appinit.isWindowsPhone?(k.innerHTML="<div style='height:"+f+"%;width:100%;opacity:0;line-height:100%'>&nbsp;</div>",k.style.height="100%"):k.innerHTML="<div style='height:"+f+"px;width:100%;opacity:0;line-height:100%'>&nbsp;</div>",k.style.position="absolute",k.style.top=k.style.left="0px",k.style.height="100%",k.style.width="100%",k.style.zIndex="1230",$KU.isIE11&&(k.style.transform="translateZ(0px)"),document.getElementById("__MainContainer").appendChild(k),null!=(o=document.getElementById(e.pf))&&o.setAttribute("aria-hidden",!0),e.context&&function(e,t,a){var n,i;"string"==typeof e.context.widget?i=A(e,a,e.context.widget):e.context.widget.isCloned&&(i=A(e,a,e.context.widget.id)),n=$KU.getAnchorPosition(e,t,i),t.style.top=n.topPos+"px",t.style.left=n.leftPos+"px"}(e,u,module.activeCalendarNode)):(_.appendChild(u),u.style.display="inline-block",function(e,t){var a=_getOffset(e);t.style.top=a[1]+e.offsetHeight+"px",t.style.left=((window.innerWidth||document.documentElement.clientWidth)-t.clientWidth)/2+"px"}(t,u)),module.active=t.id+"-k-w-c-datepicker",_applySkins(e),_adjustFlexLayoutInCellTemplate(e)):_applySkins(e)},_trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},_checkTemplateDefinedForGridCell=function(e,t){var a,n,i,l=0;for(e.data,a=_dateFormatter(e.dateformat,[t.date[0],t.date[1],t.date[2]]),n=Object.keys(e.data),l=0;l<n.length;l++)if(i=n[l].split("/"),_dateFormatter(e.dateformat,[i[0],i[1],i[2]]).string==a.string)return l;return-1},_convertDataMaptoData=function(e,t,a){var n,i=e.widgetdatamapforcell||{},l={},r=$KU.getkeys(i),d={},o=0,s=0,c="";for(o=0;o<r.length;o++)d[i[r[o]]]=r[o];for(n=$KU.getkeys(d),s=0;s<n.length;s++)(c=t[a][n[s]])&&"object"!=typeof c&&"number"!=typeof c&&-1!=c.toLowerCase().indexOf("i18n.getlocalizedstring")?l[n[s]]=$KU.getI18NValue(c):l[r[s]]=c;return l},_renderGridCalendarCellTemplate=function(e,t,a,n,i){var l=document.createElement("div");a.appendChild(l),l.setAttribute("kcellTemplate",!0),1==i&&_adjustStyleDivForTemplateInGridCell(a.childNodes[1]),calCellTemplate=_createClonedTemplateUsingMasterData(e,n),_renderAndAdjustCellTemplateDimensions(calCellTemplate,a,e)},_renderAndAdjustCellTemplateDimensions=function(e,t,a){var n,i=$KW.FlexContainer.render(e,{});t.childNodes[1].innerHTML=i,n=t.childNodes[1].firstElementChild,e.layoutConfig={self:!0,children:!0},$KW.FlexContainer.forceLayout(e,n),n.style.height=t.childNodes[1].style.height},_createClonedTemplateUsingMasterData=function(e,t){var a=owl.deepCopy(e.celltemplate,null,!1);return"string"==typeof a&&(a=_kony.mvc.initializeSubViewController(a)),_getMasterDataAndUpdateWidgetData(e,t,a),a},_getMasterDataAndUpdateWidgetData=function(e,t,a){var n=[],i="";e.data&&(i=Object.keys(e.data)[t],n=_convertDataMaptoData(e,e.data,i),_updateTemplateWidgetDataWithMasterData(a,n))},_updateTemplateWidgetDataWithMasterData=function(e,t){var a,n,i,l,r=0;for(a=(l=e.widgets()).length,r=0;r<a;r++)i=t[(n=l[r]).id],$KW.Utils.updateChildModel(n,i)},_adjustStyleDivForTemplateInGridCell=function(e){e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.height="100%",e.style.width="100%"},_updateMonthData=function(e,t,a,n,i,l,r){var d,o,s,c,y,u,g,p,m,h,v,f,k=t.viewconfig.gridconfig||t.viewconfig.gridConfig||{},w=k.allowWeekendSelectable,C=0,b=function(e,t,a,n){0==n?(e.className=" -k-w-c-lastMonth "+t.gridCellInactiveDaysSkin,e.setAttribute("title","Previous month"),e.setAttribute("aria-label",a)):1==n&&(e.className=" -k-w-c-nextMonth "+t.gridCellInactiveDaysSkin,e.setAttribute("title","Next month"),e.setAttribute("aria-label",a)),e.removeAttribute("kwidgettype"),e.removeAttribute("k-w-c-hold-day"),e.innerHTML=a},_=function(e,t,a){e.innerHTML=a,e.setAttribute("role","option"),"MON"==a||"SUN"==a?e.setAttribute("aria-label",a.toLowerCase()+"day"):"TUE"==a?e.setAttribute("aria-label","Tuesday"):"WED"==a?e.setAttribute("aria-label","Wednesday"):"THU"==a?e.setAttribute("aria-label","Thursday"):"FRI"==a?e.setAttribute("aria-label","Friday"):"SAT"==a&&e.setAttribute("aria-label","Saturday"),e.className+=" "+t.dayHeaderSkin},A=function(e,t,a,n,i){a?(t.firstChild.src=$KU.getImageURL(a),t.firstChild.style.cssText="max-width:60px;max-height:40px;",t.firstChild.setAttribute("kformname",e.pf)):t.firstChild.setAttribute("src",i),t.setAttribute("k-w-c-id",n),t.firstChild.setAttribute("k-w-c-id",n),t.setAttribute("kwidgettype","Calendar")};for(0==l&&((l=document.createElement("div")).innerHTML=a,l=l.firstChild,document.body.appendChild(l),d=0),_addClass(l,k.gridSkin),o=_getBySele(l,".-kony-w-c-yemo")[0],1==t.hideMonthsHeader&&(o.style.display="none"),v=_getBySele(l,".-kony-w-c-daysHeader")[0],1==t.hideDaysHeader&&(v.style.display="none"),l.setAttribute("month",n[0]),l.setAttribute("year",n[1]),o.innerHTML=calendarMonthsValues[n[0]-1]+", "+n[1],_addClass(o,k.monthHeaderSkin),o.setAttribute("k-w-c-id",r),m=0;m<e.length;m++)h=e[m],(f=_getBySele(l,"#-kony-w-c-cell-"+(m+1))[0]).className="",p=_dayTextAlignmentInCell(t.dayTextAlignmentInCell),f.style.textAlign=p["text-align"],f.style.verticalAlign=p["vertical-align"],"number"==typeof h?b(f,k,h,C):"string"==typeof h?_(f,k,h):(C=1,0!=h[2]&&6!=h[2]||0!=w?(f.setAttribute("k-w-c-id",r),f.setAttribute("kwidgettype","Calendar"),f.setAttribute("weekday",h[2]),f.className+=" -k-w-c-weekday-"+h[2]+" -kony-w-c-day-",f.setAttribute("k-w-c-hold-day",h[1].d+","+h[1].m+","+h[1].y),f.innerHTML=$KG.i18nArray&&$KG.i18nArray["platform.calendar."+h[0]]?$KG.i18nArray["platform.calendar."+h[0]]:h[0],g=_dateFormatter("dddd, do mmmm yyyy",[h[1].d,h[1].m,h[1].y]),f.setAttribute("role","option"),y=g.string.split(",")[1],f.setAttribute("aria-label",y),t.celltemplate&&(templateIndex=_checkTemplateDefinedForGridCell(t,g),templateFlag=0,templateIndex>=0&&(0!=document.querySelectorAll("div[id$='-k-w-c-datepicker']").length&&(templateFlag=1),t.celltemplate.pf=t.celltemplate.id,_renderGridCalendarCellTemplate(t,g,f,templateIndex,templateFlag)))):(f.className=" "+k.gridCellInactiveDaysSkin,f.innerHTML=$KG.i18nArray&&$KG.i18nArray["platform.calendar."+h[0]]?$KG.i18nArray["platform.calendar."+h[0]]:h[0],f.removeAttribute("kwidgettype")));return $KU.getImageURL("sprite.png"),1==i[0]&&(navigatorElement=_getByClass(l,"-kony-w-c-prev-nav")[0],u=k.leftNavigationImage?k.leftNavigationImage:k.leftnavigationimage,s=$KU.getImageURL("left-arrow.png"),A(t,navigatorElement,u,r,s)),1==i[1]&&(navigatorElement=_getByClass(l,"-kony-w-c-next-nav")[0],u=k.rightNavigationImage?k.rightNavigationImage:k.rightnavigationimage,c=$KU.getImageURL("right-arrow.png"),A(t,navigatorElement,u,r,c)),0==d?l:0},module={initialize:function(){kony.events.addEvent("click","Calendar",_eventHandler),kony.events.addEvent("onorientationchange","Calendar",_reposition)},initializeView:function(){var e,t,a,n,i,l,r,d,o;d=["SUN","MON","TUE","WED","THU","FRI","SAT"],o=[],calendarDaysValue=$KG.i18nArray&&$KG.i18nArray.weekdayI18Nkey?(o=kony.i18n.getLocalizedString("weekdayI18Nkey"))?o.split(","):d:($KG.i18nArray&&(e=$KG.i18nArray["platform.calendar.sunday"]?kony.i18n.getLocalizedString("platform.calendar.sunday"):d[0],o.push(e),t=$KG.i18nArray["platform.calendar.monday"]?kony.i18n.getLocalizedString("platform.calendar.monday"):d[1],o.push(t),a=$KG.i18nArray["platform.calendar.tuesday"]?kony.i18n.getLocalizedString("platform.calendar.tuesday"):d[2],o.push(a),n=$KG.i18nArray["platform.calendar.wednesday"]?kony.i18n.getLocalizedString("platform.calendar.wednesday"):d[3],o.push(n),i=$KG.i18nArray["platform.calendar.thursday"]?kony.i18n.getLocalizedString("platform.calendar.thursday"):d[4],o.push(i),l=$KG.i18nArray["platform.calendar.friday"]?kony.i18n.getLocalizedString("platform.calendar.friday"):d[5],o.push(l),r=$KG.i18nArray["platform.calendar.saturday"]?kony.i18n.getLocalizedString("platform.calendar.saturday"):d[6],o.push(r)),o.length>0?o:d),calendarMonthsValues=function(){var e,t,a,n,i,l,r,d,o,s,c,y,u=[],g=["January","February","March","April","May","June","July","August","September","October","November","December"];return $KG.i18nArray&&$KG.i18nArray.monthI18Nkey?(u=kony.i18n.getLocalizedString("monthI18Nkey"))?u.split(","):g:($KG.i18nArray&&(e=$KG.i18nArray["platform.calendar.january"]?kony.i18n.getLocalizedString("platform.calendar.january"):g[0],u.push(e),t=$KG.i18nArray["platform.calendar.february"]?kony.i18n.getLocalizedString("platform.calendar.february"):g[1],u.push(t),a=$KG.i18nArray["platform.calendar.march"]?kony.i18n.getLocalizedString("platform.calendar.march"):g[2],u.push(a),n=$KG.i18nArray["platform.calendar.april"]?kony.i18n.getLocalizedString("platform.calendar.april"):g[3],u.push(n),i=$KG.i18nArray["platform.calendar.may"]?kony.i18n.getLocalizedString("platform.calendar.may"):g[4],u.push(i),l=$KG.i18nArray["platform.calendar.june"]?kony.i18n.getLocalizedString("platform.calendar.june"):g[5],u.push(l),r=$KG.i18nArray["platform.calendar.july"]?kony.i18n.getLocalizedString("platform.calendar.july"):g[6],u.push(r),d=$KG.i18nArray["platform.calendar.august"]?kony.i18n.getLocalizedString("platform.calendar.august"):g[7],u.push(d),o=$KG.i18nArray["platform.calendar.september"]?kony.i18n.getLocalizedString("platform.calendar.september"):g[8],u.push(o),s=$KG.i18nArray["platform.calendar.october"]?kony.i18n.getLocalizedString("platform.calendar.october"):g[9],u.push(s),c=$KG.i18nArray["platform.calendar.november"]?kony.i18n.getLocalizedString("platform.calendar.november"):g[10],u.push(c),y=$KG.i18nArray["platform.calendar.december"]?kony.i18n.getLocalizedString("platform.calendar.december"):g[11],u.push(y)),u.length>0?u:g)}()},updateView:function(e,t,a,n){var i,l,r=$KU.getNodeByModel(e);switch(r=$KW.Utils.getClonedTemplateNode(r,e,t),t){case"date":if(!(i=_ideDateToString(e.date)))break;e.entereddate=i,$KU.isValidDate(i,"dd/mm/yyyy")&&(e.day=a[0],e.month=a[1],e.year=a[2],this.updateCalDOMNode(e,r));break;case"datecomponents":e.day=a[0],e.month=a[1],e.year=a[2],e.hour=0,e.minutes=0,e.seconds=0,this.updateCalDOMNode(e,r);break;case"placeholder":if((l=document.getElementById(e.id))&&(l.value.indexOf("/")>-1||l.value.indexOf("-")>-1))return!1;a=a||e.dateformat||e.format,e.placeholder!=a&&(e.placeholder=a),l&&l.setAttribute("placeholder",e.placeholder);break;case"calendaricon":r&&(r.childNodes[1].src=$KU.getImageURL(a)),e.Image=a;break;case"dateformat":this.updateCalDOMNode(e,r);break;case"validstartdate":case"startdate":_isValidDateComponents(e)||module.clear(e);break;case"validenddate":case"enddate":_isValidDateComponents(e)||module.clear(e);break;case"titleonpopup":e.title=a;break;case"selecteddates":this.updateCalDOMNode(e,r);break;case"selectiontype":module.destroyCalendar(),module.clear(e);break;case"gridtheme":module.destroyCalendar()}},render:function(e,t){var a=$KW.skins.getWidgetSkinList(e,t),n="",i=$KW.skins.getBaseStyle(e,t),l=$KW.Utils.getMasterIDObj(e),r=""!=l.id?l.id:e.pf+"_"+e.id;return e.viewtype!==constants.CALENDAR_VIEW_TYPE_GRID_POPUP&&"default"!==e.viewtype||(_initializeCalendarModel(e),module.updateCalDOMNode(e),!1===t.ispercent&&(i+=" display: inline-block;"),n="<div kwidgetid='"+r+"' "+$KW.Utils.getBaseHtml(e,t)+" class='"+a+"'",n+=" style='text-align:"+$KW.skins.getContentAlignment(e)+"; vertical-align: middle;"+i,n+=($KU.isAndroid?"position:relative;":"")+(!1===t.ispercent?"display:inline-block":"")+";overflow:hidden'",(kony.appinit.isAndroid||kony.appinit.isiPhone)&&(n+=" role='option' "),n+=">",n+=_generateInputTagString(e,t),n+=_generateImageTagString(e,t),$KU.isAndroid&&(n+="<div style='position:absolute;width:100%;height:100%;background:transparent;top:0;left:0'><div style='width:100%;height:100%;background:transparent;'></div></div>"),n+="</div>"),n},adjustCalendars:function(e){for(var t=document.querySelectorAll("#"+e.pf+"_"+e.id+" input[name='calBody']"),a=0;a<t.length;a++){var n=t[a];module.setCalElementStyle(n,!0)}},clear:function(e){var t=$KU.getNodeByModel(e);e.datecomponents=[null,null,null],e.entereddate=null,e.date=null,e.formatteddate=null,e.day=null,e.month=null,e.year=null,e.seconds=null,e.minutes=null,e.hour=null,e.selecteddates=[],(t=module.isMultiRangeCalendar(e)?$KW.Utils.getClonedTemplateNode(t,e,"selecteddates"):$KW.Utils.getClonedTemplateNode(t,e,"datecomponents"))&&((t=t.childNodes[0]).value=""),!kony.utils.placeholderSupported&&t&&(e.placeholder=e.placeholder||e.dateformat||e.format,t.value=e.placeholder,$KU.addClassName(t,"konyplaceholder"))},destroyCalendar:function(e,t,a){var n,i,r,d;if(_removeTabIndexs(),e)n=document.querySelectorAll(".k-w-c-scrim-for-popup")[0],(i=document.getElementById(module.active))&&i.parentNode.removeChild(i),n&&n.parentNode.removeChild(n);else for(n=document.querySelectorAll("div[id$='-k-w-c-datepicker'],.k-w-c-scrim-for-popup"),r=0,l=n.length;r<l;r++)n[r].parentNode.removeChild(n[r]),$KU.isIE&&a&&("CalendarText"!=a.getAttribute("kwidgettype")&&"TextField"!=a.getAttribute("kwidgettype")||a.focus());module.activeCalendarNode&&((d=module.activeCalendarNode.childNodes[0]).setAttribute("tabindex",1),d.focus()),module.activeCalendarNode=null},dismiss:function(e){_dismissCalendar()},displayedMonth:function(e,t,a){var n=_series(a,t,1*(e.noofmonths||1)+1),i=$KU.getNodeByModel(e);if(!(i=$KW.Utils.getClonedTemplateNode(i,e)))return!1;module.destroyCalendar(1),e.displayedMonths=[t,a],_reAssignData(e),_show(e,i,n,1)},getDat:function(e,t){var a,n;if(e){for(a=(t.dateformat||t.format).toLowerCase().replace(/^\s+|\s+$/g,"").split("/"),result={},e=e.split("/"),n=0;n<a.length;n++)result[a[n]]=e[n];return result}},isMultiRangeCalendar:function(e){return!(e.viewtype!==constants.CALENDAR_VIEW_TYPE_GRID_POPUP&&"default"!==e.viewtype||e.selectiontype!=constants.CALENDAR_SELECTION_TYPE_RANGE_SELECT&&e.selectiontype!=constants.CALENDAR_SELECTION_TYPE_MULTI_SELECT)},navigateToNextMonth:function(e){var t,a=e.displayedMonths[0],n=e.displayedMonths[1];_reAssignData(e),12==a?(a=1,n+=1):a+=1,t=_series(n,a,e.noofmonths||1),module.displayedMonth(e,t[0][0],t[0][1])},navigateToPreviousMonth:function(e){var t,a=e.displayedMonths[0],n=e.displayedMonths[1];_reAssignData(e),1==a?(a=12,n-=1):a-=1,t=_series(n,a,e.noofmonths||1),module.displayedMonth(e,t[0][0],t[0][1])},open:function(e){var t=$KU.getNodeByModel(e);t=$KW.Utils.getClonedTemplateNode(t,e),_eventHandler(null,t)},setCalElementStyle:function(e,t){var a,n,i,l,r,d,o,s,c;if(l=e,t||(l=e.previousSibling),l&&(a=l.parentNode,n=$KU.getModelByNode(a),"inline-block"!=a.style.display)){if(r=l.nextSibling,i=a.parentNode,d=$KU.getComputedStyle(a),l.style.fontFamily=d["font-family"],l.style.fontSize=d["font-size"],l.style.color=d.color,l.style.fontWeight=d["font-weight"],l.style.fontStyle=d["font-style"],n&&n.calimgheight?r.style.height=n.calimgheight:r.style.height=l.clientHeight+"px",r.style.width="auto",c=function(e,t,a){var n,i,l,r,d,o;return e["border-top-left-radius"]&&(n=parseInt(e["border-top-left-radius"].substring(0,e["border-top-left-radius"].indexOf("p")))),e["border-bottom-left-radius"]&&(i=parseInt(e["border-bottom-left-radius"].substring(0,e["border-bottom-left-radius"].indexOf("p")))),e["border-top-right-radius"]&&(l=parseInt(e["border-top-right-radius"].substring(0,e["border-top-right-radius"].indexOf("p")))),e["border-bottom-right-radius"]&&(r=parseInt(e["border-bottom-right-radius"].substring(0,e["border-bottom-right-radius"].indexOf("p")))),n<=i?(o=parseInt(i/2),t.style.marginLeft=o+"px"):(o=parseInt(n/2),t.style.marginLeft=o+"px"),l<=r?(d=parseInt(r/2),a.style.marginRight=d+"px"):(d=parseInt(l/2),a.style.marginRight=d+"px"),{right:d,left:o}}(d,l,r),!i)return;"100%"==(s=$KU.getComputedStyle(i).width)&&(s=i.clientWidth+"px"),s=parseInt(s.substring(0,s.indexOf("p"))),"auto"==(o=$KU.getComputedStyle(r).width)?o=r.clientWidth+"px":(o=parseInt(o.substring(0,o.indexOf("p"))),l.style.width=(s-2*o-c.left-c.right)/s*100+"%")}},setcontext:function(e,t){e instanceof Object&&t instanceof Object&&(e.context=t)},setDateSkin:function(e,t,a){var n;for(n=0,l=t.length;n<l;n++)e.specialDates=e.specialDates?e.specialDates:{},e.specialDates[a]?e.specialDates[a].push.apply(e.specialDates[a],t):e.specialDates[a]=t},setEnableAll:function(e){e.datesGroup="",e.datesGroupSimplified=""},setEnabled:function(e,t,a,n,i){var l,r,d,o,s,c;if(e.datesState=1==i?1:0,e.datesGroupSkin=n,d=[],t&&t.length>0&&t[0]instanceof Array)for(e.datesGroup=t,o=e.datesGroup,l=0;l<o.length;l++)(r=o[l]).length==r.length&&d.push(new Date(r[2],r[1]-1,r[0]).setHours(0,0,0,0));else s=new Date(t[2],t[1]-1,t[0]),c=new Date(a[2],a[1]-1,a[0]),d.push.apply(d,_between(s,c));e.datesGroupSimplified=d},isSelectedDatesValid:function(e,t){var a=!1;return t instanceof Array&&t.length>0?e.selectiontype==constants.CALENDAR_SELECTION_TYPE_RANGE_SELECT?2==t.length&&(a=_isToGtFromDate(t[0],t[1])&&_isDateEnabled(e,t)):a=_isDateEnabled(e,t):void 0!=t&&0!=t.length||(a=!0),a},setTimeInDateComponents:function(e){var t;if(e instanceof Array){for(t=0;t<e.length;t++)e[t][3]||(e[t][3]=0),e[t][4]||(e[t][4]=0),e[t][5]||(e[t][5]=0);return e}},updateCalDOMNode:function(e,t){var a,n="";if(module.isMultiRangeCalendar(e))n=_getDisplayDate(e),e.formatteddate=n,t&&(t.childNodes[0].value=n);else{if(!e.datecomponents)return!1;e.day=e.datecomponents[0],e.month=e.datecomponents[1],e.year=e.datecomponents[2],e.day&&e.month&&e.year?(0!=(a=_dateFormatter(e.dateformat,[e.day,e.month,e.year]))&&(n=a.string),t&&(t.childNodes[0].value=n),e.formatteddate=n,e.selectdate="//"+e.year,e.pagedate="/"+e.year):e.formatteddate=n}}};return module}();
$KW.Slider=function(){var e={initialize:function(){kony.events.addEvent("onorientationchange","Slider",e.changeOrientation)},initializeView:function(t,i){for(var l=i?i.querySelectorAll("img[kwttype ='kSlider']"):document.querySelectorAll("#"+t+" img[kwttype ='kSlider']"),n=0;n<l.length;n++)this.attachSliderEvents(l[n]);var s=i?i.querySelectorAll("div[kwttype ='kSlider']"):document.querySelectorAll("#"+t+" div[kwttype ='kSlider']");for(n=0;n<s.length;n++)kony.events.addEventListener(s[n],"click",e.slideClick)},attachSliderEvents:function(t){kony.events.addEventListener(t,"touchstart",e.sliderStart),kony.events.addEventListener(t,"mousedown",e.sliderStart)},updateView:function(t,i,l,n){var s=$KU.getNodeByModel(t);if(s)switch(i){case"text":case"isvisible":s.value=l;break;case"leftskin":t.leftskin=l,$KU.removeClassName(s,n),$KU.addClassName(s,l);break;case"rightskin":t.rightskin=l,$KU.removeClassName(s.parentNode,n),$KU.addClassName(s.parentNode,l);break;case"thumbimage":s.childNodes[0].src=$KU.getImageURL(l),s.childNodes[0].setAttribute("thumbimage",$KU.getImageURL(l));break;case"focusthumbimage":s.childNodes[0].setAttribute("focusimage",$KU.getImageURL(l));break;case"selectedvalue":e.sliderUpdate(s,l);break;case"containerweight":this.imgLoad(s.firstChild);break;case"minlabel":(a=document.getElementById(s.id+"_minLabel"))&&(a.innerHTML=l);break;case"maxlabel":(o=document.getElementById(s.id+"_maxLabel"))&&(o.innerHTML=l);break;case"minlabelskin":var a=document.getElementById(s.id+"_minLabel");$KU.removeClassName(a,n),$KU.addClassName(a,l);break;case"maxlabelskin":var o=document.getElementById(s.id+"_maxLabel");$KU.removeClassName(o,n),$KU.addClassName(o,l)}},validateSelectedValue:function(e){e.selectedValue<e.min&&(e.selectedValue=e.min),e.selectedValue>e.max&&(e.selectedValue=e.max)},render:function(t,i){t.buiskin||(t.buiskin=t.blockeduiskin);var l="",n=t.pf+"_"+t.id,s=$KW.Utils.getMasterIDObj(t);""!=s.id&&(n=s.id),e.validateSelectedValue(t),t.thickness=t.thickness||$KU.isIDevice&&2||5;var a=t.leftskin||t.leftSkin||"konysliderleft",o=t.rightskin||t.rightSkin||"konysliderright",d=$KW.skins.getVisibilitySkin(t),r=t.max-t.min,m=$KU.getImageURL(t.thumbimage)||$KU.getImageURL("slider.png"),c=$KU.getImageURL(t.focusthumbimage)||$KU.getImageURL("sliderfocus.png"),g=t.minlabel||"",v=t.maxlabel||"";t.view=t.view||"default",t.orientation=t.orientation||"horizontal";var p="";return $KW.FlexUtils.isFlexWidget(t)&&(p="height:0px;"),"horizontal"==t.orientation?(l+="<div tabindex='0'style=\" "+$KW.skins.getMarginSkin(t,i)+'" class = "'+$KW.skins.getMarAdjustedContainerWeightSkin(t,100)+d+'">',l+='<div min= "'+t.min+'" max="'+t.max+'" diff ="'+r+'" step ="'+t.step+'" kwttype ="kSlider" ',l+='id="'+n+'_outer" class="'+o+'"  style=" height: '+t.thickness+'px;"',l+=' kformname="'+t.pf+'" '+s.kmasterid+">",l+='<div role="slider" aria-valuenow="'+t.selectedvalue+'"  align="left"'+$KW.Utils.getBaseHtml(t,i)+' class="'+a+'"',l+='style= "vertical-align:middle;  position: relative;'+p+' ">',l+='<img onload = "$KW.Slider.imgLoad(this, false)" kwttype ="kSlider" kformname="'+t.pf+'" id ="'+n+'_image" src ="'+m+'" thumbimage="'+m+'" focusimage ="'+c+'" style="  position: relative;  vertical-align:top;" '+s.kmasterid+"></img>",l+="</div></div>",l+='<div style="overflow:auto;position:relative;">',l+='<label id="'+n+'_minLabel" style="float: left; "class="'+t.minlabelskin+'" '+s.kmasterid+">"+g+"</label>",l+='<label id="'+n+'_maxLabel" style="float: right; "class="'+t.maxlabelskin+'" '+s.kmasterid+">"+v+"</label>",l+="</div>",l+="</div>"):(l+='<div style="margin: 5%; width:90%;" class="'+d+'">',l+='<div style="margin-bottom: 2px;" >',l+='<label id="'+n+'_maxLabel" class="'+t.maxlabelskin+'" '+s.kmasterid+">"+v+"</label>",l+="</div>",l+='<div min= "'+t.min+'" max="'+t.max+'" diff ="'+r+'" step ="'+t.step+'" kwttype ="kSlider" ',l+='id="'+n+'_outer" class="'+o+'"  style="height: 150px; width: '+t.thickness+'px;"',l+=' kformname="'+t.pf+'" '+s.kmasterid+">",l+='<div  align="left"'+$KW.Utils.getBaseHtml(t,i)+' class="'+a+'"',l+='style= "vertical-align:middle;  position: relative; ">',l+='<img onload = "$KW.Slider.imgLoad(this, false)" kwttype ="kSlider" kformname="'+t.pf+'" id ="'+n+'_image" src ="'+m+'" thumbimage="'+m+'" focusimage ="'+c+'"style="  position: relative;  vertical-align:top;" '+s.kmasterid+"></img>",l+="</div></div>",l+='<div style="margin-top: 2px;" >',l+='<label id="'+n+'_minLabel" class="'+t.minlabelskin+'" '+s.kmasterid+">"+g+"</label>",l+="</div>",l+="</div>"),t.context=i,l},completeMove:function(e){e||(e=window.event),kony.events.preventDefault(e);var t=kony.globals.__activeSlider;if(t&&$KW.Utils.isWidgetInteractable(t)){var i=$KU.getModelByNode(t),l=t.getAttribute("kcontainerID");if(!l||(i=$KW.Utils.getClonedModelByContainer(i,t,l))){var n=e.touches&&e.touches[0]||e,s=t.firstChild,a=t.parentNode;if(s.src=s.getAttribute("focusimage"),"horizontal"==i.orientation){var o=s.offsetWidth/2,d=(n.pageX||n.clientX)-o,r=a.offsetWidth;if(d<(v=$KW.Utils.getPosition(a).left-o)&&(d=v),d>=r+v&&(d=r+v),(p=Math.round((d-v)/i.stepwidth))*i.step<=i.max-i.min){i.selectedvalue=i.min+p*i.step;var m=Math.round(p*i.stepwidth);t.style.width=o+m+"px";var c=t.parentNode.offsetWidth,g=o+m;t.style.width=(g>c?c:g)+"px",s.style.left=m-o+"px"}else i.selectedvalue=i.max,t.style.width=r+o+"px",s.style.left=r+o+"px"}else{var v,p;o=s.offsetHeight/2,d=(n.pageY||n.clientY)-o,r=a.offsetHeight;if(d<(v=$KW.Utils.getOffset(a).top-o)&&(d=v),d>=r+v&&(d=r+v),(p=Math.round((d-v)/i.stepwidth))*i.step<=i.max-i.min){i.selectedvalue=i.min+p*i.step;m=Math.round(p*i.stepwidth);t.style.height=o+m+"px",s.style.top=m-o+"px"}}"progress"!=i.view&&(spaAPM&&spaAPM.sendMsg(i,"onslide"),$KAR&&$KAR.sendRecording(i,"slide",{selectedValue:i.selectedValue,target:t,eventType:"uiAction"}),$KU.callTargetEventHandler(i,t,"onslide"))}}},sliderStart:function(t){t||(t=window.event);var i=t.target||t.srcElement;kony.globals.__activeSlider=i.parentNode;$KU.getModelByNode(i.parentNode);$KW.Utils.isWidgetInteractable(i.parentNode,!0)&&(kony.events.addEventListener(document,"mousemove",e.completeMove),kony.events.addEventListener(document,"mouseup",e.completeEnd),kony.events.addEventListener(document,"touchmove",e.completeMove),kony.events.addEventListener(document,"touchend",e.completeEnd),kony.events.preventDefault(t))},completeEnd:function(t){t||(t=window.event);t.target||t.srcElement;kony.events.removeEventListener(document,"mousemove",e.completeMove),kony.events.removeEventListener(document,"touchmove",e.completeMove),e.sliderEnd(t)},slideClick:function(t){t||(t=window.event);var i=t.target||t.srcElement;if(kony.globals.__activeSlider=t.currentTarget.childNodes[0],i.firstChild){var l=$KU.getModelByNode(i.firstChild)||$KU.getModelByNode(i);$KW.Utils.isWidgetInteractable(i.parentNode,!0)&&l&&"progress"!=l.view&&kony.events.addEventListener(i,"click",e.completeMove)}},sliderEnd:function(t){t||(t=window.event);var i=kony.globals.__activeSlider;if(i){kony.events.removeEventListener(document,"mouseup",e.completeEnd),kony.events.removeEventListener(document,"touchend",e.completeEnd);var l=$KU.getModelByNode(i),n=i.getAttribute("kcontainerID");if(!n||(l=$KW.Utils.getClonedModelByContainer(l,i,n))){if("progress"!=l.view){spaAPM&&spaAPM.sendMsg(l,"onselection");var s=$KU.returnEventReference(l.onselection);$KU.callTargetEventHandler(l,i,"onselection"),s&&$KU.onEventHandler(l)}var a=i.firstChild;a.src=a.getAttribute("thumbimage"),kony.globals.__activeSlider=""}}},changeOrientation:function(t){for(var i=document.querySelectorAll("img[kwttype ='kSlider']"),l=0;l<i.length;l++)e.imgLoad(i[l])},imgLoad:function(t){if(t.complete){var i=t.parentNode.parentNode,l=t.parentNode,n=$KU.getModelByNode(l),s=l.getAttribute("kcontainerID");if(s&&(n=$KW.Utils.getClonedModelByContainer(n,l,s)),n&&(!$KU.isAndroid||!window.event||"load"!=window.event.type||0!=i.offsetWidth)){"progress"==n.view&&(t.style.display="none");var a=(n.max-n.min)/n.step;if("horizontal"==n.orientation){var o=t.offsetHeight-n.thickness,d=t.width;t.style.top=-o/2+"px","progress"==n.view?t.parentNode.style.width="0px":t.parentNode.style.width=d/2+"px",t.parentNode.style.height=n.thickness+"px";var r=i.offsetWidth,m=i.parentNode,c=m.offsetHeight;if($KW.FlexUtils.isFlexWidget(n)&&c>o){i.style.position="relative";var g=0;(n.minlabel||n.maxlabel)&&(g=i.nextSibling.offsetHeight);var v=(c-g-i.offsetHeight/2)/2;i.style.top=v+"px",i.style.marginTop=i.style.marginBottom="",(n.minlabel||n.maxlabel)&&(i.nextSibling.style.top=v+3+"px")}else o>0&&(i.style.marginTop=o/2+"px",i.style.marginBottom=o/2+"px");m.style.paddingLeft=d/2+"px",m.style.paddingRight=d/2+"px",r=m.childNodes[0].offsetWidth}else{o=t.height,d=t.offsetWidth-n.thickness;t.style.left=-d/2+"px","progress"==n.view?t.parentNode.style.height="0px":t.parentNode.style.height=o/2+"px",t.parentNode.style.width=n.thickness+"px";r=i.offsetHeight}var p=r/a;n.noofsteps=a,n.stepwidth=p,n.imgwt=d,e.sliderLoad(n,t.parentNode)}}},sliderLoad:function(e,t){var i=t.firstChild;if("horizontal"==e.orientation){var l=i.offsetWidth/2,n=((s=t.parentNode).offsetWidth,$KW.Utils.getOffset(s).left,(e.selectedvalue-e.min)*e.stepwidth/e.step);"progress"==e.view?kony.appinit.useTransition?(t.style[$KU.transition]="width 500ms ease",t.style.width=n+l+"px"):$(t).animate({width:n+l+"px"},500):t.style.width=n+"px",i.style.left=n-l+"px"}else{var s;l=i.offsetHeight/2,(s=t.parentNode).offsetHeight,$KW.Utils.getOffset(s).top,n=(e.selectedvalue-e.min)*e.stepwidth/e.step;"progress"==e.view?kony.appinit.useTransition?(t.style[$KU.transition]="height 500ms ease",t.style.height=n+l+"px"):$(t).animate({height:n+l+"px"},500):t.style.height=n+l+"px",i.style.top=n-l+"px"}},sliderUpdate:function(t,i,l){var n=l||$KU.getModelByNode(t);i>=n.max&&(i=n.max),i<=n.min&&(i=n.min),0!=i%n.step&&(i=n.step*Math.round(i/n.step)),n.selectedvalue=i,e.sliderLoad(n,t)},adjustSliders:function(t){document.querySelectorAll("#"+formId+" img[kwttype ='kSlider']");for(var i=0;i<sliderElements.length;i++){var l=sliderElements[i];e.imgLoad(l)}},animSlider:function(e,t,i){if(!e)return 0;var l=$KU.getNodeByModel(t).childNodes[0].naturalWidth,n={value:parseFloat(e),unit:$KW.FlexUtils.getUnit(e)},s=(e=$KW.FlexUtils.getValueByParentFrame(t,n,"x"),e=parseInt(e,10),t.selectedvalue);e=(e-l)/100;var a=(s-t.min)*e/t.step;return"width"==i?a+l/2+"px":a-l/2+"px"}};return e}();
_kony.mvc={Form2:function(o,n,r){var e;if(o._konyControllerName)return(e=arguments.length<3?new kony.ui.Form2(o):new kony.ui.Form2(o,n,r)).destroy=void 0,e;kony.web.logger("warn","This API is applicable only for MVC projects")},showForm:function(o){o._konyControllerName?o._show():kony.web.logger("warn","This API is applicable only for MVC projects")},destroyForm:function(o){$KU.logExecuting("kony.application.destroyForm"),o._konyControllerName&&o?($KU.logExecutingWithParams("kony.application.destroyForm",o),o._destroy({isMVC:!0}),$KU.logExecutingFinished("kony.application.destroyForm")):$KU.logWarnMessage("This API is applicable only for MVC projects")}};
$KW.KComponent=function(){var n={registerComponent:function(e){if(!e)return 100;if("object"!=typeof e)return 101;var t=e.classname,r=e.name,o=e.namespace;if(null==t||t.length<=0)return 102;if(null==r||r.length<=0)return 102;var a=window;if(null!=o&&""!=o)for(var u=o.split("."),i=0;i<u.length;i++)a=n.getNSObj(a,u[i]);return a[t]?103:(a[t]=function(n,e,t){var o;return(o=n.masterType==constants.MASTER_TYPE_USERWIDGET?kony.ui.KComponentTemplate(n,e,t,r):kony.ui.KMasterTemplate(n,e,t,r)).instancename=r,o},0)},getNSObj:function(n,e){return n[e]||(n[e]=new Object),n[e]},render:function(n,e){var t=n.userWidgetProxyObject;return t.parent=n.parent,$KW[t.wType].render(t,e)},forceLayout:function(n){$KW.FlexContainer.forceLayout(n.parent)}};return n}();
$KW.CollectionView=function(){var e={CollectionViewCounter:0,initialize:function(){kony.events.addEvent("click","CollectionView",e.eventHandler),kony.events.addEvent("onorientationchange","CollectionView",e.orientationHandler)},initializeView:function(e){$KW.Scroller.initializeCollectionViewContainers(e),$KW.APIUtils.getModelForContentOffset(e,"CollectionView")},initializeNewWidgets:function(e){$KW.Slider&&$KW.Slider.initializeView(null,e),$KW.Switch&&$KW.Switch.initializeView(null,e)},orientationHandler:function(e,t){$KU.setScrollBoxesHeight(e,"CollectionView")},updateView:function(t,i,n,a){var l;if(m=$KU.getNodeByModel(t)){if(!$KG.nativeScroll){var o=$KW.Utils.getScrollerInstance(t);if(!o)return;l=o.options}switch(i){case"itemskin":e.Skin.updateTemplateSkin(t,m,n,a,"itemBox");break;case"itemselectedskin":e.Skin.setSelectedItemSkins(t,!0,n,a);break;case"skin":m=$KW.Utils.getWidgetNode(t),$KU.removeClassName(m,a),$KU.addClassName(m,n);break;case"sectionheaderskin":t.hasSections&&e.Skin.updateTemplateSkin(t,m,n,a,"HeaderBox");break;case"sectionfooterskin":t.hasSections&&e.Skin.updateTemplateSkin(t,m,n,a,"FooterBox");break;case"selecteditemindex":if(n&&e.Data.isSelectionOutOfBound(t,n))return;var r=null;if(t._items=t._items?t._items:[],n)if(r=[n],t.selectionbehavior==kony.collectionview.SINGLE_SELECT)-1!=(h=$KU.arrayIndex(t._items,n))?r=null:t._items=r;else if(t.selectionbehavior==kony.collectionview.MULTI_SELECT){-1!=(h=$KU.arrayIndex(t._items,n))?t._items.splice(h,1):t._items.push(n)}r=r&&r.length>0?r:null,e.Skin.adjustGridSkins(t,r),n&&m&&e.Utils.setFocus(t,m,n);break;case"selecteditemindices":if(n){r=[];for(var s=0;s<n.length;s++)for(var d=parseInt(n[s][0],10),c=n[s][1],f=0;f<c.length;f++){var u=[d,c[f]];if(!e.Data.isSelectionOutOfBound(t,u)){var h=$KU.arrayIndex(t._items,n);r.push(u),t.selectionbehavior==kony.collectionview.MULTI_SELECT?-1!=h?t._items.splice(h,1):t._items.push(u):t.selectionbehavior==kony.collectionview.SINGLE_SELECT&&(-1!=h?r=null:t._items.push(n))}}t.selectionbehavior!=kony.collectionview.MULTI_SELECT&&(r=[r[r.length-1]]),r=r.length>0?r:null}else r=null;e.Skin.adjustGridSkins(t,r);break;case"data":$KU.isArray(n)?e.Data.setData(t,n):null===n&&(t._items=t.data=null,e.setSelectedItemsAndIndices(t));break;case"layouttype":if(m=$KW.Utils.getWidgetNode(t),n!=a&&m)m.parentNode.innerHTML=e.generateCollectionView(t,t.context),m=$KW.Utils.getContentNodeFromNodeByModel(t),e.Utils.setCollectionViewHeightAndWidth(t),e.Data.adjustFlexContainers(t,"setdata"),e.applyLineSpaceAndItemSpace(t,m),$KW.FlexUtils.isFlexContainer(t.parent)&&(t.layoutConfig.self=!0),e.Utils.reInitializeScrollerInstace(t);break;case"selectionbehavior":n!=a&&e.Data.setData(t,t.data);break;case"retainselection":t.retainSelection?e.Skin.adjustGridSkins(t,t._items):e.Skin.resetItemSkins(t);break;case"bounces":if((m=$KU.getNodeByModel(t))&&t.needScroller){var g=$KG[m.id+"_scroller"];g&&(g.options.bounce=t.scrollbounce,g.options.hBounce=t.scrollbounce,g.options.vBounce=t.scrollbounce)}break;case"minLineSpace":case"minItemSpace":e.applyLineSpaceAndItemSpace(t,$KW.Utils.getContentNodeFromNodeByModel(t)),e.Utils.refreshScrollerInstance(t);break;case"reachingBeginningOffset":case"reachingEndOffset":e.Utils.updateReachingOffsetValuesInPx(t);break;case"scrollDirection":var p=t.scrolldirection;if($KG.nativeScroll)return void $KW.Scroller.initializeNativeScroller(t,m);"vertical"==p?(l.vScroll=!0,l.scrollbox=!0,l.hScroll=!1):"horizontal"==p?(l.hScroll=!0,l.scrollbox=!0,l.vScroll=!1):"both"==p?(l.vScroll=!0,l.hScroll=!0,l.scrollbox=!0):(l.scrollbox=!1,l.vScroll=!1,l.hScroll=!1,o.options.disableUserScroll=!0),o.updatedDirection=!0,o._checkDOMChanges(),o.updatedDirection=!1;break;case"pulltorefreshview":case"releasetopullrefreshview":case"pushtorefreshview":case"releasetopushrefreshview":var m;(m=$KU.getNodeByModel(t))&&e.updatePushPullView(t,i)}}},render:function(t,i){var n,a,l,o,r;t.buiskin||(t.buiskin=t.blockeduiskin),t.selecteditemindex=t.selecteditemindex||null,t.selecteditems=t.selecteditems||null,t.selecteditemindices=t.selecteditemindices||null,t.selecteditemindex&&setTimeout(function(){e.Utils.setFocus(t,$KW.Utils.getContentNodeFromNodeByModel(t),t.selecteditemindex)},500),$KU.updateScrollFlag(t),t.context=i,t.selectedState=!1;var s=t.parent;$KW.FlexUtils.isFlexContainer(s)&&(t.layoutConfig.self=!0);var d=e.generateCollectionView(t,i);if(!t.selecteditemindices&&t.selecteditemindex)t._items=[t.selecteditemindex],e.setSelectedItemsAndIndices(t);else if(!t.selecteditemindex&&t.selecteditemindices){for(t._items=t._items?t._items:[],n=0;n<t.selecteditemindices.length;n++)for(a=parseInt(t.selecteditemindices[n][0],10),l=t.selecteditemindices[n][1],j=0;j<l.length;j++)o=[a,l[j]],e.Data.isSelectionOutOfBound(t,o)||(r=$KU.arrayIndex(t._items,t.selecteditemindices),t.selectionbehavior===kony.collectionview.MULTI_SELECT?-1!==r?t._items.splice(r,1):t._items.push(o):t.selectionbehavior===kony.collectionview.SINGLE_SELECT&&-1===r&&(t._items.push(t.selecteditemindices),t.selecteditemindex=o));t.selectionbehavior===kony.collectionview.MULTI_SELECT&&(t.selecteditemindex=o),e.setSelectedItemsAndIndices(t)}return t.retainselection&&t.selecteditemindex&&setTimeout(function(){e.Skin.setSelectedItemSkins(t,!1)},100),d},getGridStyle:function(e){return e.layouttype==kony.collectionview.LAYOUT_HORIZONTAL?" display: flex; flex-direction: row; justify-content: space-between; flex-wrap: wrap;align-content: flex-start;":e.layouttype==kony.collectionview.LAYOUT_VERTICAL?" display: flex; flex-direction: column; justify-content: space-between; flex-wrap: wrap; align-content: flex-start;":" position: relative; table-layout:fixed;"},getScrollDirection:function(e){switch(e.layouttype){case kony.collectionview.LAYOUT_VERTICAL:return"horizontal";case kony.collectionview.LAYOUT_HORIZONTAL:return"vertical";case kony.collectionview.LAYOUT_CUSTOM:return e.scrollDirection}},generateCollectionView:function(t,i){var n="",a=t.data||[];t._secindex=null;var l=$KW.FlexUtils.isFlexWidget(t)||t.isvisible&&!(a.length<=0)?"":"hide",o=t.skin?t.skin:"",r=$KW.skins.getBaseStyle(t,i),s=$KW.skins.getPaddingSkin(t),d=t.scrollingEvents,c=t.pf+"_"+t.id,f=$KW.Utils.getMasterIDObj(t);""!=f.id&&(c=f.id),t.clonedTemplates=[],a.length>0&&(t.hasSections=$KU.isArray(a[0]));var u=e.getGridStyle(t),h=e.getScrollDirection(t);return e.Skin.applyItemFocusSkin(t),n+="<div"+$KW.Utils.getBaseHtml(t,i)+" style='"+s+"' class='"+o+"'>",n+="<div  id='"+c+"_scroller' class='scrollerX "+l+"' kwidgettype='KCollectionView' name='touchcontainer_KScroller' swipeDirection ='"+h+"' style='"+r+"height:100%;width:100%;' "+f.kmasterid+">",n+="<div id='"+c+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee' "+f.kmasterid+">",n+="<div style='' class='pullDown' id= "+c+"_pullDown>",t.layouttype!=kony.collectionview.LAYOUT_CUSTOM&&(n+=d&&d.onPull?e.generatePullOrPushViews(t,"pull",c):""),n+="</div>",n+="<div style ='"+u+"'>",a.length>0&&(n+=e.generateItems(t,i,a,!1,0,0)),n+="</div>",n+="<div style='' class='pullUp' id= "+c+"_pullUp>",t.layouttype!=kony.collectionview.LAYOUT_CUSTOM&&(n+=d&&d.onPush?e.generatePullOrPushViews(t,"push",c):""),n+="</div></div></div>",n+="</div>"},generateGridHeader:function(t,i,n,a,l,o,r,s,d){var c="",f="",u="",h="";if(r||""===r){if(r instanceof Object){"string"==typeof a&&(a=_kony.mvc.initializeSubViewController(a)),$KG.allTemplates[a.id]=a,$KU.getAccessibilityValues(t,r.accessibilityConfig,null,l);l=-1;"Header"==d?u="HeaderBox":"Footer"==d&&(u="FooterBox",l=-2),a&&$KU.getkeys(r).length>0&&(i.container=t,a.pf||_konyConstNS.Form2.addHeaderorFooter.call(a,a),a.isTemplate=!0,kony.enableGettersSetters=!0,clonedTemplate=owl.deepCopy(a,null,!1),kony.enableGettersSetters=!1,$KW.FlexUtils.setRTLtoTemplates(clonedTemplate),clonedTemplate.isHeaderOrFooter=!0,clonedTemplate.parent=t,sectionHtml="FlexContainer"==clonedTemplate.wType?e.renderFlexContainer(clonedTemplate,i,r,t,l,o):"",""===sectionHtml&&(sectionHtml=" "),delete i.container,clonedTemplate.transform&&(f=$KW.animUtils.applyTransform(clonedTemplate,clonedTemplate.transform)),t.layouttype==kony.collectionview.LAYOUT_CUSTOM&&(h="position: absolute; "),h+=f?$KU.cssPrefix+"transform:"+f:";"+$KW.Utils.getAnchorPoint(clonedTemplate))}sectionHtml&&(c+="<div kwidgettype='GridNode' type ='"+u+"' style='"+h+"' class='"+e.Skin.getSectionSkin(clonedTemplate,t,d)+" middleleftalign'  index='"+o+","+l+"' secindex='"+o+","+l+"' kcontainerID = "+t.id+">"+sectionHtml+"</div>"),"Header"==d?t.clonedTemplates.splice(o,s,[clonedTemplate||r,[]]):t.clonedTemplates[o].push(clonedTemplate||r)}return c},generateItems:function(t,i,n,a,l,o,r){var s,d,c,f="",u=(t.separatorcolor,0),h=null,g="";t.itemskin;n=e.Utils.invertMapAndData(t,n),t.counter=l;for(var p=0==r?1:0,m=0;m<n.length;m++){if(u=t.hasSections?n[m].sectionLabel?0:u+1:m-0,n[m].template||t.itemtemplate){var v=i.tabpaneID;i.tabpaneID=""}t.seccounter=o,t.rowcounter=l,t.hasSections&&(n[m].gridHeader?(s=n[m].gridHeader.template||t.sectionheadertemplate)&&(h=n[m].gridHeader)&&(0!=m&&(o++,l=0),headerString=e.generateGridHeader(t,i,n,s,l,o,h,p,"Header"),f+=headerString):void 0!==n[m].gridHeader&&(0!=m&&(o++,l=0),t.clonedTemplates.splice(o,p,[null,[]]))),i.topLevelBox=!0,i.container=t,trasform="","string"==typeof(c=n[m].template||t.itemtemplate)&&(c=_kony.mvc.initializeSubViewController(c)),c.formPathId=t.formPathId,$KG.allTemplates[c.id]=c,c&&!c.pf&&_konyConstNS.Form2.addHeaderorFooter.call(c,c),c.isTemplate=!0,kony.enableGettersSetters=!0;var y=owl.deepCopy(c,null,!1);if(kony.enableGettersSetters=!1,$KW.FlexUtils.setRTLtoTemplates(y),y.isHeaderOrFooter=!1,y.parent=t,accessAttr=$KU.getAccessibilityValues(t,n[m].accessibilityConfig,null,l),g="FlexContainer"==y.wType?e.renderFlexContainer(y,i,n[m],t,l,o):"",(n[m].template||t.itemtemplate)&&(i.tabpaneID=v),t.hasSections?t.clonedTemplates[o][1].splice(l,p,y):t.clonedTemplates.splice(l,p,y),delete i.container,y.transform&&(trasform=$KW.animUtils.applyTransform(y,y.transform)),g){e.Skin.getItemSkin(t,y,o,l);var x="";t.layouttype==kony.collectionview.LAYOUT_CUSTOM&&(x="position: absolute; "),f+="<div  kwidgettype='GridNode' type ='itemBox' id='flexcontainer_wrapper' style='"+($KW.Utils.getAnchorPoint(y)+" "+(trasform?$KU.cssPrefix+"transform:"+trasform:"")+x)+"' index="+l+(t.hasSections?" secindex='"+o+","+l+"'":"")+" kcontainerID = "+t.id,f+=">"}f+=g,g&&(f+="</div>"),t.hasSections&&(n[m].gridFooter?(d=n[m].gridFooter.template||t.sectionfootertemplate)&&(h=n[m].gridFooter)&&(f+=e.generateGridHeader(t,i,n,d,l,o,h,2,"Footer")):void 0!==n[m].gridFooter&&t.clonedTemplates[o].push(null)),l++,t.counter++}return f},renderFlexContainer:function(t,i,n,a,l,o){var r,s="",d=0,c="",f="",u=n[t.id];if($KW.Utils.updateChildModel(t,u),t.pf===t.id&&(e.Utils.cleanupLayoutProps(t,a.layouttype),e.updateTemplateContext(t,l,o)),e.Skin.applyWidgetFocusSkin(u,t,a),!t.isvisible)return"";var h=$KW.skins.getWidgetSkin(t,i),g=" position:relative;"+(1==t.clipbounds?"overflow:hidden;":"")+(t.zindex?"z-index:"+t.zindex:"")+$KW.skins.getBaseStyle(t,i);t.pf!==t.id&&(s+="<div id='flexcontainer_wrapper'  style='"+$KW.skins.getMarginSkin(t,i)+"'>"),s+="<div class = 'kwt100 "+h+"'"+$KW.Utils.getBaseHtml(t,i)+" style='"+g+"'>";var p=t.widgets();r=p.length;for(var m=0;m<r;m++){var v=p[m];u=n[v.id];if($KW.Utils.updateChildModel(v,u),e.Skin.applyWidgetFocusSkin(u,v,a),v.isvisible){var y="";c="<div class = '"+("kcell "+$KW.skins.getWidgetAlignmentSkin(v)+("TPW"==v.wType?"  konycustomcss ":""))+"' style='"+$KW.FlexUtils.getFlexLayoutStyle(v)+";overflow:hidden'>",f="</div>","FlexContainer"==v.wType?(y=e.renderFlexContainer(v,i,n,a,l,o))?s+=c+y+f:d++:void 0!==u&&""!=u?s+=c+$KW[v.wType].render(v,i)+f:d++}}return r==d?"":(s+="</div>",t.pf!==t.id&&(s+="</div>"),s)},updateTemplateContext:function(t,i,n){var a,l,o=t.children;if(t.rowContext={itemIndex:i,sectionIndex:n},o)for(l=0;l<o.length;l++)a=t[o[l]],(a=$KW.Utils.getActualWidgetModel(a))&&a.children&&0!=a.children.length?e.updateTemplateContext(a,i,n):a.rowContext={itemIndex:i,sectionIndex:n}},updateTemplateContextAfterModifyData:function(t){var i,n,a,l,o;if(t.hasSections)for(l=t.data.length,n=0;n<l;n++){for((t.data[n]?t.data[n][0]:[])&&(i=t.clonedTemplates[n][0],e.updateTemplateContext(i,-1,n)),o=t.data[n][1].length,a=0;a<o;a++)i=t.clonedTemplates[n][1][a],e.updateTemplateContext(i,a,n);t.data[n][2]&&(i=t.clonedTemplates[n][2],e.updateTemplateContext(i,-2,n))}else for(o=t.data.length,n=0;n<o;n++)i=t.clonedTemplates[n],e.updateTemplateContext(i,n,0)},generatePullOrPushViews:function(t,i,n){var a="";return"pull"==i?t.pulltorefreshview&&t.releasetopullrefreshview&&(a+=e.renderPushPullView(t,"pulltorefreshview",n),a+=e.renderPushPullView(t,"releasetopullrefreshview",n)):"push"==i&&t.pushToRefreshView&&t.releaseToPushRefreshView&&(a+=e.renderPushPullView(t,"pushtorefreshview",n),a+=e.renderPushPullView(t,"releasetopushrefreshview",n)),a},renderPushPullView:function(e,t,i){var n="";return function(e,t,i){kony.enableGettersSetters=!0;var n=owl.deepCopy(e[t],null,i.replace(/_+/g,""));kony.enableGettersSetters=!1,e[t]=n,$KG.allTemplates[e[t].id]=e[t]}(e,t,i),e[t].pf=i,e.layout==kony.collectionview.LAYOUT_HORIZONTAL&&(e[t].width="100%",e[t].height||(e[t].height="50dp")),e.layout==kony.collectionview.LAYOUT_VERTICAL&&(e[t].height="100%",e[t].width||(e[t].width="50dp")),n+=$KW.FlexContainer.render(e[t],{})},updatePushPullView:function(t,i){var n=document.createElement("div"),a=$KW.Utils.getContentNodeFromNodeByModel(t),l=a.id,o=l.lastIndexOf("scrollee"),r=l.slice(0,o-1),s=null;n.innerHTML=e.renderPushPullView(t,i,r);var d=a.children[0],c=a.children[2];switch(i){case"pulltorefreshview":d.replaceChild(n.firstChild,d.children[0]),s=d.children[0];break;case"releasetopullrefreshview":d.replaceChild(n.firstChild,d.children[1]),s=d.children[1];break;case"pushtorefreshview":c.replaceChild(n.firstChild,d.children[0]),s=c.children[0];break;case"releasetopushrefreshview":c.replaceChild(n.firstChild,d.children[1]),s=c.children[1]}t[i].parent=t,$KW.FlexContainer.forceLayout(t[i],s),-1!=["releasetopullrefreshview","releasetopushrefreshview"].indexOf(i)&&$KU.addClassName(s,"hide"),-1!=["releasetopullrefreshview","pulltorefreshview"].indexOf(i)?(d.style.width=(t.pulltorefreshview&&t.pulltorefreshview.frame.width||0)+"px",d.style.height=(t.pulltorefreshview&&t.pulltorefreshview.frame.height||0)+"px"):(c.style.width=(t.pushtorefreshview&&t.pushtorefreshview.frame.width||0)+"px",c.style.height=(t.pushtorefreshview&&t.pushtorefreshview.frame.height||0)+"px")},updateData:function(t,i,n,a,l,o){if(n&&a){var r=e.Utils.getContextByNode(n,a),s=r.itemIndex,d=r.sectionIndex?r.sectionIndex:0,c=n.data,f=null,u=0;if(n.selectionbehavior==kony.collectionview.SINGLE_SELECT&&(n.hasSections?n._secindex==d&&n._focusedindex==s:n._focusedindex==s)&&(u=1),n._secindex=d,-1!=s&&-2!=s&&(n._focusedindex=s,n.selecteditemindex=[d,s]),n.currentIndex=[d,s],n.hasSections)if(-1==s)f=c[d][0];else if(-2==s)f=c[d][2];else{f=c[d][1][s]}else f=n.data[s];f&&(f.metainfo=f.metaInfo||f.metainfo);var h=!f||!f.metainfo||f.metainfo.clickable;$KW.Utils.updateContainerMasterData(n,f,t,i,o),u||-1==s||-2==s||e.toggleRowSelection(n,a.parentNode);var g=e.Data.getRowDataByIndex(n,[d,s]),p=g?$KU.returnEventReference(g.onitemselect||g.onItemSelect||n.onitemselect):null;if(h&&l){if(n.onitemselect&&!i.getAttribute("kcontainerID"))n.blockeduiskin&&$KW.skins.applyBlockUISkin(n),p&&$KU.executeWidgetEventHandler(n,p,d,s);else{var m=kony.events.executeBoxEvent(t,g,n);-1!=s&&-2!=s&&!m&&p&&(n.blockeduiskin&&$KW.skins.applyBlockUISkin(n),$KU.executeWidgetEventHandler(n,p,d,s),$KU.onEventHandler(n))}kony.system.activity.hasActivity()||$KW.unLoadWidget()}var v=f[t.id];if(v&&"object"==typeof v&&!1===v.enable)return!1}return!0},toggleRowSelection:function(t,i){if(void 0===t.selecteditemindex)var n=0,a=t._focusedindex;else if(t.selecteditemindex)n=t.selecteditemindex[0],a=t.selecteditemindex[1];else n=t.selecteditemindices[0][0],a=t.selecteditemindices[0][1][0];t._items=t._items?t._items:[];var l=[n,a],o=[],r=$KU.arrayIndex(t._items,l);if(-1!=r){var s=!1;t._items.splice(r,1)}else{s=!0;t.selectionbehavior==kony.collectionview.MULTI_SELECT?t._items.push(l):t._items=[l]}o.push(l),t._items=t._items&&t._items.length>0?t._items:null,e.Skin.adjustGridSkins(t,o),t.onselect&&t.onselect(t,t.selectedItemIndex,s),t.selectedState=s},eventHandler:function(e,t,i){var n=$KU.getModelByNode(t);"CollectionView"!=t.getAttribute("kwidgettype")&&$KW.Utils.updateContainerData(n,t,!0)},setSelectedItemsAndIndices:function(e,t){if(e._items){e.selecteditems=[];for(var i={},n=0;n<e._items.length;n++){var a=e._items[n][0],l=e._items[n][1];if(t||(i[a]||(i[a]=[]),i[a].push(l)),e.hasSections)var o=e.data[a][1][l];else o=e.data[l];e.selecteditems.push(o)}if(!t)for(var r in e.selecteditemindices=[],i){var s=[];s.push(parseInt(r,10)),s.push(i[r]),e.selecteditemindices.push(s)}}else e._secindex=e._focusedindex=null,e.selecteditems=null,e.selecteditemindex=null,t||(e.selecteditemindices=null)},applyLineSpaceAndItemSpace:function(t,i){var n=t.data,a=[],l=function(e,t,i){var n=$KU.getNodeByModel(e);if(e.layouttype==kony.collectionview.LAYOUT_HORIZONTAL){var a=parseInt($KU.getStyle(n,"border-left-width"),10)+parseInt($KU.getStyle(n,"border-right-width"),10),l=e.frame.width-a;w.flexNode.style.marginRight=l-t+"px"}else if(e.layouttype==kony.collectionview.LAYOUT_VERTICAL){var o=parseInt($KU.getStyle(n,"border-top-width"),10)+parseInt($KU.getStyle(n,"border-bottom-width"),10),r=e.frame.height-o;w.flexNode.style.marginBottom=r-i+"px"}},o=function(e,t,i){return e+t>i},r=function(e,t,i){return e+t>i},s=function(i){var n,a=i.querySelector('div[kwidgettype="FlexContainer"]');if(a){rowIndex=i.getAttribute("index"),t.hasSections&&(n=i.getAttribute("secindex").split(",")[0]);var l=e.Utils.getClonedModel(t,rowIndex,n);return{flexNode:a=a.parentNode,flexModel:l}}};if(n&&n.length>0){var d=!1,c=!1,f=t.frame.width,u=t.frame.height,h=0,g=0,p=!0,m=e.Utils.getValueInPxBasedOnLayoutType("minItemSpace",t),v=e.Utils.getValueInPxBasedOnLayoutType("minLineSpace",t),y=0,x=-1,w=void 0;for(m=m<0?0:m,v=v<0?0:v,a=e.getCollectionViewBaseNode(t,i).children,g=0;g<a.length;g++){var I=a[g];if(I){if(t.hasSections){var U=I.getAttribute("secindex").split(",")[0];x!=U&&(w&&l(t,y,h),w=void 0,d=c=0,h=y=0,p=!0,x=U)}if(-1!=["HeaderBox","FooterBox"].indexOf(I.getAttribute("type")))continue;var S=s(I);if(S.flexNode.style.removeProperty("margin"),t.layouttype==kony.collectionview.LAYOUT_HORIZONTAL){var C=S.flexModel.frame.width;if(w&&o(C,y+m,f)){if(y=0,d=!0,p){var k=w.flexModel.frame.width;w.flexNode.style.marginLeft=(f-k)/2+"px",w.flexNode.style.marginRight=(f-k)/2+"px"}p=!0}else w&&(w.flexNode.style.marginRight=m+"px",y+=m,p=!1);y+=C,d&&(S.flexNode.style.marginTop=v+"px")}else if(t.layouttype==kony.collectionview.LAYOUT_VERTICAL){var K=S.flexModel.frame.height;if(w&&r(K,h+m,u)){if(h=0,c=!0,p){var $=w.flexModel.frame.height;w.flexNode.style.marginTop=(u-$)/2+"px",w.flexNode.style.marginBottom=(u-$)/2+"px"}p=!0}else w&&(w.flexNode.style.marginBottom=m+"px",h+=m,p=!1);h+=K,c&&(S.flexNode.style.marginLeft=v+"px")}w=S}}w&&l(t,y,h)}},getCollectionViewBaseNode:function(e,t){return t=(t=t||$KW.Utils.getContentNodeFromNodeByModel(e)).children[1]},adjustPullPushViewsInCollectionView:function(e,t){var i=t.children[0],n=(t.children[1],t.children[2]),a=e.layouttype;i.children.length&&(e.pulltorefreshview.parent=e,e.releasetopullrefreshview.parent=e,$KW.FlexContainer.forceLayout(e.pulltorefreshview,i.children[0]),$KW.FlexContainer.forceLayout(e.releasetopullrefreshview,i.children[1]),$KU.addClassName(i.children[1],"hide")),n.children.length&&(e.pushtorefreshview.parent=e,e.releasetopushrefreshview.parent=e,$KW.FlexContainer.forceLayout(e.pushtorefreshview,n.children[0]),$KW.FlexContainer.forceLayout(e.releasetopushrefreshview,n.children[1]),$KU.addClassName(n.children[1],"hide")),a==kony.collectionview.LAYOUT_HORIZONTAL?t.style.display="block":t.style.display="flex",n.style.display="inline-block",i.style.display="inline-block",i.style.width=(e.pulltorefreshview&&e.pulltorefreshview.frame.width||0)+"px",i.style.height=(e.pulltorefreshview&&e.pulltorefreshview.frame.height||0)+"px",n.style.width=(e.pushtorefreshview&&e.pushtorefreshview.frame.width||0)+"px",n.style.height=(e.pushtorefreshview&&e.pushtorefreshview.frame.height||0)+"px"},adjustFlexContainersInCollectionView:function(t,i){var n=t.data;if(n&&n.length>0){itemNodes=e.getCollectionViewBaseNode(t,i).children;for(var a=0;a<itemNodes.length;a++){var l,o,r,s=itemNodes[a],d=s.querySelector('div[kwidgettype="FlexContainer"]');if(t.hasSections)l=(r=s.getAttribute("secindex").split(","))[0],o=r[1];else o=s.getAttribute("index"),l=-1;var c=s.getAttribute("type");if(d){if("HeaderBox"==c)var f=e.Utils.getClonedModel(t,"header",l);else if("FooterBox"==c)f=e.Utils.getClonedModel(t,"footer",l);else f=e.Utils.getClonedModel(t,o,l);$KW.FlexContainer.forceLayout(f,d.parentNode)}}}t.layouttype!=kony.collectionview.LAYOUT_CUSTOM&&e.adjustPullPushViewsInCollectionView(t,i)},scrollToItemAtIndex:function(e,t,i){var n,a=$KU.getNodeByModel(e),l=t.itemIndex,o=t.sectionIndex,r=null;a&&l>=0&&(!e.hasSections||o>=0)&&(r=e.hasSections?a.querySelector('[secindex="'+o+","+l+'"]'):a.querySelector('[index="'+l+'"]'),$KG.nativeScroll?(n=document.getElementById(a.id+"_scroller"),r&&function(e,t,i,n){$KW.APIUtils.setfocus(e),t.scrollLeft=i,t.scrollTop=n}(e,n,r.offsetLeft,r.offsetTop)):(n=$KG[a.id+"_scroller"],r&&n.scrollTo(-r.offsetLeft,-r.offsetTop,i?1e3:0)))}};return e.Skin={applyItemFocusSkin:function(e){var t=e.itemtemplate.focusskin||e.itemselectedskin,i=$KW.Utils.getKMasterWidgetID(e);if(t){var n;n="#"+i+" [index]:active",$KW.skins.applyStyle(t,n,"FlexContainer")}},applyWidgetFocusSkin:function(e,t,i){var n=$KW.Utils.getKMasterWidgetID(i),a=$KW.Utils.getKMasterWidgetID(t),l=t.focusskin;if(e&&e.focusSkin&&(l=e.focusSkin),l||t.id!==t.pf||(l=i.itemselectedskin),l){var o="";o=i.hasSections?"#"+n+" div[secindex='"+t.rowContext.sectionIndex+","+t.rowContext.itemIndex+"'] #"+a+":active":"#"+n+" div[index='"+t.rowContext.itemIndex+"'] #"+a+":active",$KW.skins.applyStyle(l,o,i.wType)}},setSelectedItemSkins:function(t,i,n,a){var l=$KU.getNodeByModel(t),o=t.selecteditemindices;if(o)for(var r=0;r<o.length;r++)for(var s=o[r][1].length,d=o[r][1],c=o[r][0],f=0;f<s;f++){var u;if(u=t.hasSections?l.querySelector("div[type = 'itemBox'][index='"+d[f]+"'][secindex='"+c+","+d[f]+"']"):l.querySelector("div[type = 'itemBox'][index='"+d[f]+"']")){var h=e.Utils.getItemTemplateByNode(t,u);if(i)h.skin||($KU.removeClassName(u,a),$KU.addClassName(u,n));else{var g=e.Skin.getItemSkin(t,h),p=e.Skin.getItemFocusSkins(t,h);$KU.removeClassName(u,g),$KU.addClassName(u,p)}}}},updateTemplateSkin:function(t,i,n,a,l){if(i)for(var o=i.querySelectorAll("div[type = '"+l+"']"),r=0;r<o.length;r++){if($KU.hasClassName(o[r],a))e.Utils.getItemTemplateByNode(t,o[r]).skin!=a&&($KU.removeClassName(o[r],a),$KU.addClassName(o[r],n))}},getItemSkin:function(e,t){return t.skin||e.itemskin},getItemFocusSkins:function(e,t){return t.focusskin||t.focusSkin||e.itemselectedskin},getSectionSkin:function(e,t,i){var n="";return e.skin?n=e.skin:"Header"==i&&t.sectionheaderskin?n=t.sectionheaderskin:"Footer"==i&&t.sectionfooterskin&&(n=t.sectionfooterskin),n},resetItemSkins:function(t){for(var i=$KU.getNodeByModel(t).querySelectorAll("div[type = 'itemBox']"),n=0;n<i.length;n++){var a=e.Utils.getItemTemplateByNode(t,i[n]),l=e.Skin.getItemSkin(t,a),o=e.Skin.getItemFocusSkins(t,a);$KU.removeClassName(i[n],o),$KU.addClassName(i[n],l)}},adjustGridSkins:function(t,i){var n=$KU.getNodeByModel(t);if(t.retainselection&&n&&i)for(var a=i.length,l=0;l<a;l++){var o,r,s,d,c=i[l][0],f=i[l][1];o=t.hasSections?n.querySelector("div[type = 'itemBox'][secindex='"+c+","+f+"']"):n.querySelector("div[type = 'itemBox'][index='"+f+"']");for(var u=n.querySelectorAll("div[type = 'itemBox']"),h=0;h<u.length;h++)if(u[h]==o){r=e.Utils.getItemTemplateByNode(t,u[h]);break}s=e.Skin.getItemSkin(t,r),d=e.Skin.getItemFocusSkins(t,r),t.selectionbehavior==kony.collectionview.SINGLE_SELECT?(e.Skin.resetItemSkins(t),$KU.removeClassName(o,s),$KU.addClassName(o,d)):$KU.hasClassName(o,s)?($KU.removeClassName(o,s),$KU.addClassName(o,d)):($KU.removeClassName(o,d),$KU.addClassName(o,s))}e.setSelectedItemsAndIndices(t)}},e.Data={setData:function(t,i){if(!$KU.isArray(i))throw new KonyError(102,"Error","Invalid input.");i.length>0?(t.hasSections=$KU.isArray(i[0]),e.Data.modifyContent(t,i,"setdata",null,null)):e.Data.removeAll(t)},addAll:function(t,i){if(!$KU.isArray(i))throw new KonyError(102,"Error","Invalid input.");$KU.isArray(t.data)||(t.data=[]),"boolean"!=typeof t.hasSections&&(t.hasSections=$KU.isArray(i[0])),e.Data.modifyContent(t,i,"addall",null,null)},removeAll:function(t){e.Data.modifyContent(t,[],"removeall",null,null)},removeDataAt:function(t,i,n,a){if(isNaN(i)&&(!n||isNaN(n)))throw new KonyError(102,"Error","Invalid input.");e.Utils.isIndexAndCountValid(t,i,n,a,!1)&&0!=a&&(a=null==a||void 0==a?1:a,$KU.isArray(t.data)&&t.data.length>0&&e.Data.modifyContent(t,[],"removedataat",i,n,a))},setDataAt:function(t,i,n,a){if(!$KU.isArray(i)||isNaN(n)&&(!a||isNaN(a)))throw new KonyError(102,"Error","Invalid input.");e.Utils.isIndexAndCountValid(t,n,a,null,!1)&&$KU.isArray(t.data)&&t.data.length>0&&e.Data.modifyContent(t,i,"setdataat",n,a)},addAt:function(t,i,n,a){if(!$KU.isArray(i)||isNaN(n)&&(!a||isNaN(a)))throw new KonyError(102,"Error","Invalid input.");e.Utils.isIndexAndCountValid(t,n,a,null,!1)&&($KU.isArray(t.data)||(t.data=[]),"boolean"!=typeof t.hasSections&&(t.hasSections=$KU.isArray(i[0])),e.Data.modifyContent(t,i,"addat",n,a))},addDataAt:function(t,i,n,a){if(!$KU.isArray(i)||isNaN(n)&&(!a||isNaN(a)))throw new KonyError(102,"Error","Invalid input.");e.Utils.isIndexAndCountValid(t,n,a,null,!1,"adddataat")&&($KU.isArray(t.data)||(t.data=[]),"boolean"!=typeof t.hasSections&&(t.hasSections=$KU.isArray(i[0])),e.Data.modifyContent(t,i,"adddataat",n,a))},setDataWithSections:function(t,i){if(!$KU.isArray(i)||!$KU.isArray(i[0]))throw new KonyError(102,"Error","Invalid input.");e.Data.setData(t,i)},addSectionAt:function(t,i,n){if("boolean"!=typeof t.hasSections&&$KU.isArray(i[0])&&(t.hasSections=!0),!1===t.hasSections)throw new KonyError(103,"Error","Invalid operation.");if(!$KU.isArray(i[0]))throw new KonyError(102,"Error","Invalid input.");e.Utils.isIndexAndCountValid(t,null,n,null,!1,"addsectionat")&&!0===t.hasSections&&($KU.isArray(t.data)||(t.data=[]),e.Data.modifyContent(t,i,"addsectionat",0,n))},setSectionAt:function(t,i,n){if(!t.hasSections)throw new KonyError(103,"Error","Invalid operation.");if(!$KU.isArray(i)||isNaN(n))throw new KonyError(102,"Error","Invalid input.");if(e.Utils.isIndexAndCountValid(t,null,n,null,!1)){var a=i.length;$KU.isArray(t.data)&&e.Data.modifyContent(t,i,"setsectionat",0,n,a)}},removeSectionAt:function(t,i,n){if(!t.hasSections)throw new KonyError(103,"Error","Invalid operation.");if(isNaN(i))throw new KonyError(102,"Error","Invalid input.");e.Utils.isIndexAndCountValid(t,null,i,n,!0)&&0!=n&&(n=null==n||void 0==n?1:n,$KU.isArray(t.data)&&e.Data.modifyContent(t,null,"removesectionat",0,i,n))},modifyContent:function(t,i,n,a,l,o){var r,s,d,c,f=function(t,i,n,a,l,o){t.canUpdateUI=!1,$KW.Utils.updateContent(t,"data",i,n,a,l,o),e.Data.adjustAlreadySelectedProperties(t,n,l,a),t.canUpdateUI=!0},u=[0,0],h=!1;if("addat"==n||"adddataat"==n||"addsectionat"==n?h=!0:"setdata"==n||"removeall"==n?h=u:"addall"==n&&(h=t.hasSections?[t.data.length,0]:[0,t.data.length]),u=e.Data.calculateSectionRowIndex(t,a,l,h),t&&!1!==u){l=u[0],a=u[1];var g=$KU.getNodeByModel(t);if(g){if(t.context=t.context?t.context:{},t.context.tabpaneID=g.getAttribute("ktabpaneid")||"",$KW.FlexUtils.isFlexWidget(t)||$KU.toggleVisibilty(g.parentNode.parentNode,t.data,t),!1===t.hasSections&&!g.firstChild){var p=e.getGridStyle(t);g.innerHTML="<div style ='"+p+"'></div>"}g=e.getCollectionViewBaseNode(t);var m,v=null,y=null,x=0,w=0,I=0,U=0;switch(t.hasSections&&(w=0==l?0:e.Utils.getElementsCountTillSections(t.data,l),U="removedataat"===n?l+1:o?l+o:l+1,I=Object.keys(t.data).length>l?e.Utils.getElementsCountTillSections(t.data,U):w,y=e.Utils.spliceObjectBasedOnIndex(g.childNodes,w,I)),f(t,i,n,a,l,o),"setdata"==n&&(t.clonedTemplates=[]),n){case"setdata":t.hasSections?g.innerHTML=e.generateItems(t,t.context,t.data,!1,a,l):(g.innerHTML=e.generateItems(t,t.context,t.data,!1,a,l),e.Utils.refreshScrollerInstance(t));break;case"removeall":g.innerHTML="",e.Utils.refreshScrollerInstance(t);break;case"setsectionat":($=document.createElement("div")).innerHTML=e.generateItems(t,t.context,i,!1,a,l,!1);for(var S=$.children,C=0;C<y.length;C++)g.removeChild(y[C]);for(var k=g.childNodes[w];S.length>0;)g.insertBefore(S[0],k);x=o;break;case"removesectionat":for(C=0;C<y.length;C++)g.removeChild(y[C]);t.clonedTemplates.splice(l,o);break;case"addsectionat":($=document.createElement("div")).innerHTML=e.generateItems(t,t.context,i,!1,a,l),x=$.children;for(var K=0;$.children.length>0;)g.insertBefore($.childNodes[0],g.childNodes[w+K]),K++;x=i.length;break;case"addall":var $=document.createElement("div");if(t.hasSections){x=i.length;var T=l;for(C=0;C<i.length;C++){for($.innerHTML=e.generateItems(t,t.context,[i[C]],!1,a,T);$.children.length>0;)g.appendChild($.childNodes[0]);T++}}else for($.innerHTML=e.generateItems(t,t.context,i,!1,a,l);$.children.length>0;)g.appendChild($.childNodes[0]);break;case"setdataat":$=document.createElement("div");if(t.hasSections){var N=null!==t.data[l][0]?1:0;v=y.splice(a+N,i.length);$.innerHTML=e.generateItems(t,t.context,i,!0,a,l,!1)}else{var v=e.Utils.spliceObjectBasedOnIndex(g.childNodes,a,a+i.length);$.innerHTML=e.generateItems(t,t.context,i,!0,a,l,!1)}for(var b=0;$.children.length>0;)v[b].replaceWith($.childNodes[0]),$KU.addAriatoElement(v[b++],i.accessibilityConfig,t);x=i.length;break;case"removedataat":if(t.hasSections){for(A=0,N=null!==t.data[l][0]?1:0;A<o;)g.removeChild(y[a+N+A]),A++;t.clonedTemplates[l][1].splice(a,o)}else{for(var A=0;A<o;)g.removeChild(g.childNodes[a+A]),A++;t.clonedTemplates.splice(a,o)}break;case"addat":case"adddataat":for(C=0;C<i.length;C++){var L,W=e.generateItems(t,t.context,[i[C]],!1,a+C,l),B=document.createElement("div");if(W)if(B.innerHTML=W,t.hasSections){if(g){N=null!==t.data[l][0]?1:0;g.insertBefore(B.childNodes[0],y[a+N])}}else"none"===g.style.display&&(g.style.display=""),"none"===g.parentNode.style.display&&(g.parentNode.style.display=""),L=g.childNodes[a+C]||null,g.insertBefore(B.childNodes[0],L)}x=i.length}if("addat"!=n&&"adddataat"!=n&&"removedataat"!=n&&"addall"!=n&&"addsectionat"!=n&&"removesectionat"!=n||(t.hasSections?e.Data.adjustSectionIndex(t,g):$KU.adjustNodeIndex(g,a,"index")),t.context.tabpaneID="",t.isvisible&&e.Data.adjustFlexContainers(t,n,l,a,x),e.updateTemplateContextAfterModifyData(t),t.hasSections)for(r="addsectionat"===n||"setsectionat"===n?l+i.length:"adddataat"===n||"setdataat"===n?l+1:"addall"===n||"setdata"===n?l+i.length:l,C=l;C<r;C++)for(c=t.clonedTemplates[C],["addsectionat","setsectionat","addall","setdata"].indexOf(n)>=0&&(c[0]&&(m=c[0],v=e.Utils.getNodeByContext(t,m.rowContext,m),$KW.Utils.processContainerGestures(m,v)),c[2]&&(m=c[2],(v=e.Utils.getNodeByContext(t,m.rowContext,m))&&$KW.Utils.processContainerGestures(m,v))),s="adddataat"===n||"setdataat"===n?a+i.length:c[1].length,d=a;d<s;d++)m=c[1][d],v=e.Utils.getNodeByContext(t,m.rowContext,m),$KW.Utils.processContainerGestures(m,v);else for(r="addall"===n||"setdata"===n?i.length+a:"adddataat"===n||"setdataat"===n?a+i.length:a,C=a;C<r;C++)m=t.clonedTemplates[C],v=e.Utils.getNodeByContext(t,m.rowContext,m),$KW.Utils.processContainerGestures(m,v);e.Animation.handleOnItemDisplay(t),e.applyLineSpaceAndItemSpace(t,$KW.Utils.getContentNodeFromNodeByModel(t)),"removeall"==n&&(t.clonedTemplates=[]),$KW.FlexUtils.updateAutoGrowFlexConfig(t)}else f(t,i,n,a,l,o)}},adjustFlexContainers:function(t,i,n,a,l){$KU.needOptimization=!1;var o=$KW.Utils.getContentNodeFromNodeByModel(t),r="FlexContainer";switch(i){case"setdata":e.adjustFlexContainersInCollectionView(t,o),e.initializeNewWidgets(o);break;case"setdataat":case"addat":case"adddataat":for(var s=e.getCollectionViewBaseNode(t,o).childNodes,d=0===n?a:e.Utils.getElementsCountTillSections(t.data,n)+a,c=t.data[n][0]?1:0,f=0;f<l;f++){if(p=(g=s[t.hasSections?d+c+f:d+f]).querySelector("div[kwidgettype='"+r+"']")){var u=e.Utils.getClonedModel(t,a+f,n);$KW.FlexContainer.forceLayout(u,p.parentNode)}e.initializeNewWidgets(g)}break;case"addall":if(t.hasSections)this.adjustFlexContainerInSection(t,o,n,a,l);else{var h=(s=o.childNodes[n]).childNodes;for(f=a;f<h.length;f++){var g,p;if(p=(g=h[f]).querySelector("div[kwidgettype='"+r+"']")){u=e.Utils.getClonedModel(t,f,n);$KW.FlexContainer.forceLayout(u,p.parentNode)}e.initializeNewWidgets(g)}}break;case"addsectionat":case"setsectionat":this.adjustFlexContainerInSection(t,o,n,a,l)}($KU.needOptimization=!0,$KW.FlexUtils.isFlexWidget(t)&&!t.needScroller&&t.autogrowMode==kony.flex.AUTOGROW_HEIGHT&&t.viewtype==constants.SEGUI_VIEW_TYPE_TABLEVIEW)&&(t.parent.layoutConfig.children=!0)},adjustFlexContainerInSection:function(t,i,n,a,l){for(var o=i.childNodes[1].childNodes,r=t.data,s=n,d=e.Utils.getElementsCountTillSections(r,n),c=0;c<l;c++)for(var f=r[s+c][1].length+(null!==r[n+c][0]?null!==r[n+c][2]?2:1:null!==r[n+c][2]?1:0),u=0;u<f;u++){var h=o[d],g=h.querySelector('div[kwidgettype="FlexContainer"]');if(g){var p=e.Utils.getItemTemplateByNode(t,h);$KW.FlexContainer.forceLayout(p,g.parentNode)}e.initializeNewWidgets(h),d++}},getAutoGrowSegmentHeight:function(t,i){var n=t.data,a=$KU.getNodeByModel(t);if(n&&n.length>0){if(t.hasSections)for(var l=n.length,o=a.childNodes,r=0;r<l;r++){var s=o[r].childNodes[0];if(s){var d=s.querySelector('div[kwidgettype="FlexContainer"]');if(d){var c=$KU.getModelByNode(d);d=d.parentNode,e.Data.setFlexitemtemplateHeight(c,d)}}e.adjustFlexContainersInRows(t,o[r],n[r][1],r,!0)}else e.adjustFlexContainersInRows(t,a,n,void 0,!0);return i.offsetHeight}},setFlexitemtemplateHeight:function(e,t){var i=t.childNodes[0].getAttribute("kcontainerID");i&&$KW.Utils.updateContainerDataInDOM(t,i),$KW.FlexUtils.setFlexContainerStyle(e,t)},adjustSectionIndex:function(e,t){var i,n,a=e.data,l=t.childNodes,o=0,r=0;for(o=0;o<a.length;o++){if(null!=a[o][0]&&(n=o+",-1",l[r].setAttribute("index",n),l[r].setAttribute("secindex",n),r++),null!=a[o][1])for(var s=0;s<a[o][1].length;s++)i=o+","+s,n=s,l[r].setAttribute("index",n),l[r].setAttribute("secindex",i),r++;null!=a[o][2]&&(n=o+",-2",l[r].setAttribute("index",n),l[r].setAttribute("secindex",n),r++)}},adjustAlreadySelectedProperties:function(t,i,n,a){"addall"!=i&&("setdata"!=i&&"removeall"!=i||(t._items=null),t._items&&(t._items=e.Data.adjustSelectedRows(t._items,i,n,a),t._items&&(t.selecteditemindex=t._items[t._items.length-1])),t.selectedrowindices&&(t.selectedrowindices=e.Data.adjustSelectedRowIndices(t.selectedrowindices,i,n,a)),e.setSelectedItemsAndIndices(t))},adjustSelectedRowIndices:function(e,t,i,n){var a;switch(t){case"addat":case"adddataat":for(var l=0;l<e.length;l++)if(a=e[l][1],e[l][0]==i){for(var o=0;o<a.length;o++)a[o]>=n&&(a[o]=a[o]+1);e[l][1]=a}break;case"setdataat":case"removedataat":for(l=0;l<e.length;l++)if(a=e[l][1],e[l][0]==i){var r=$KU.arrayIndex(a,0+n);if(-1!=r&&a.splice(r,1),"removedataat"===t)for(o=0;o<a.length;o++)a[o]>n&&(a[o]=a[o]-1);e[l][1]=a}break;case"addsectionat":for(l=0;l<e.length;l++)e[l][0]>=i&&(e[l][0]=e[l][0]+1);break;case"removesectionat":case"setsectionat":var s=[];for(l=0;l<e.length;l++)e[l][0]==i&&s.push(l);for(l=0;l<s.length;l++)e.splice(s[l],1);if("removesectionat"==t)for(l=0;l<e.length;l++)e[l][0]>i&&(e[l][0]=e[l][0]-1)}return e.length>0?e:null},adjustSelectedRows:function(e,t,i,n){switch(t){case"addat":case"adddataat":for(var a=0;a<e.length;a++)e[a][0]==i&&e[a][1]>=n&&(e[a][1]=e[a][1]+1);break;case"setdataat":-1!=(l=$KU.arrayIndex(e,[i,n]))&&e.splice(l,1);break;case"removedataat":var l;-1!=(l=$KU.arrayIndex(e,[i,n]))&&e.splice(l,1);for(a=0;a<e.length;a++)e[a][0]==i&&e[a][1]>n&&(e[a][1]=e[a][1]-1);break;case"addsectionat":for(a=0;a<e.length;a++)e[a][0]>=i&&(e[a][0]=e[a][0]+1);break;case"removesectionat":case"setsectionat":var o=[];for(a=0;a<e.length;a++)e[a][0]==i&&o.push(a);for(a=0;a<o.length;a++)e.splice(o[a],1);if("removesectionat"==t)for(a=0;a<e.length;a++)e[a][0]>i&&(e[a][0]=e[a][0]-1)}return e.length>0?e:null},calculateSectionRowIndex:function(e,t,i,n){if("boolean"!=typeof n)return n;var a=!1;if(t=n&&t<0?0:t,e.hasSections)if("number"!=typeof i){for(var l=null,o=0,r=(i=0,t),s=0;s<e.data.length&&r>=(o+=(l=e.data[s][1]).length-0)+0;s++)i++,t=r-o;i>=e.data.length?n&&(i=e.data.length-1,a=e.data[i]?e.data[i][1].length:0,a=[i,t]):(l=e.data[i][1],t<0?n&&(a=[i,0]):t>=l.length?n&&(a=[i,l.length]):a=[i,t])}else if(i<0||i>=e.data.length){if(n){if(i<0)if(i=0,e.data[i]){l=e.data[i][1];(t<0||t>=l.length)&&n&&(t=t<0?0:t>=e.data.length?e.data.length:t)}else t=0;else i>=e.data.length&&(i=e.data.length-0,t=e.data[i]?e.data[i][1].length:0);a=[i,t]}}else{l=e.data[i][1];t<0||t>=l.length?n&&(a=[i,t=t<0?0:t>=l.length?l.length:t]):a=[i,t]}else t<0||t>=e.data.length?n&&(a=[i=0,t=t<0?0:t>=e.data.length?e.data.length:t]):a=[i=0,t];return a},updateSectionContent:function(e,t,i,n,a,l){switch(i){case"setsectionat":for(var o=0;o<t.length;o++)e.splice(a++,1,t[o]);return;case"addsectionat":for(o=0;o<t.length;o++)e.splice(a++,0,t[o]);return;case"removesectionat":return void e.splice(a,l)}if("addall"==i)t[0]instanceof Array&&$KU.addArray(e,t);else{var r=e[a],s=r&&r[1];if(s)switch(i){case"setdataat":for(o=0;o<t.length;o++)s.splice(n++,1,t[o]);break;case"addat":case"adddataat":if($KU.isArray(t))for(o=0;o<t.length;o++)s.splice(n++,0,t[o]);else s.splice(n,0,t);break;case"removedataat":s.splice(n,l)}}},isSelectionOutOfBound:function(e,t){var i=!1,n=t[0],a=t[1];e.hasSections?n>=e.data.length?i=!0:a>e.data[n][1].length&&(i=!0):a>=e.data.length&&(i=!0);return i},getRowDataByIndex:function(e,t){if(e.data.length>0)return $KU.isArray(e.data[0])?-1==t[1]?e.data[t[0]][0]:-2==t[1]?e.data[t[0]][2]:e.data[t[0]][1][t[1]]:e.data[t[1]]},appendLayoutDataAt:function(t,i,n,a){var l=null,o=!1,r=t.layoutConfig.self,s=$KU.getNodeByModel(t);if(i&&$KU.isArray(i)){i=e.Utils.invertMapAndData(t,i);for(var d=0;d<i.length;d++)if(l=e.Utils.getClonedModel(t,n+d,a))for(var c in i[d])if(l[c])for(var f in i[d][c])-1!=["left","right","centerX","width","minWidth","maxWidth","top","bottom","centerY","height","minHeight","maxHeight","zindex"].indexOf(f)&&(o=!0,l[c][f]=i[d][c][f],$KW.Utils.updateClonedModelData(l[c],t,f),s&&e.Data.adjustFlexContainers(t,"adddataat",a,n+d,1));!r&o&&(t.layoutConfig={self:!1,children:!1})}}},e.Utils={isIndexAndCountValid:function(e,t,i,n,a,l){var o=0,r=e.data?e.data.length:0,s="adddataat"==l||"addsectionat"==l?r+1:r;return i&&(parseInt(i)<0||parseInt(i)>=s)?(kony.web.logger("warn","Invalid section index"),!1):t&&(o=e.hasSections?e.data?e.data[i][1].length:e.data.length:e.data?e.data:0,parseInt(t)<0||parseInt(t)>=o)?(kony.web.logger("warn","Invalid item index"),!1):!n||!(n<0||a&&n+i>e.data.length||n+t>(e.hasSections?e.data[i][1].length:e.data.length))||(kony.web.logger("warn","Invalid count"),!1)},setFocus:function(e,t,i){var n=e.hasSections?"secindex='"+i[0]+","+i[1]+"'":"index='"+i[1]+"'";(t=document.querySelector("#"+t.id+" li["+n+"]"))&&$KW.Widget.setfocus(e,null,t)},refreshScrollerInstance:function(e){var t=$KU.getNodeByModel(e);if(t&&e.needScroller){var i=$KG[t.id+"_scroller"];if(!i)return;i.refresh()}},reInitializeScrollerInstace:function(e){var t=$KU.getNodeByModel(e);if(t&&e.needScroller){var i=document.getElementById(t.id+"_scroller");i&&$KW.Scroller.initialize([i],"CollectionView")}},getClonedModel:function(e,t,i){return e.hasSections?"header"==t||-1==t||void 0===t?e.clonedTemplates[i][0]:"footer"==t||-2==t?e.clonedTemplates[i][2]:e.clonedTemplates[i][1][t]:e.clonedTemplates[t]},getContextByNode:function(e,t){var i=$KU.getParentByAttribute(t,"index");if(e.hasSections){var n=i.getAttribute("secindex").split(",");return{sectionIndex:parseInt(n[0]),itemIndex:parseInt(n[1])}}return{itemIndex:parseInt(i.getAttribute("index"))}},getClonedModelOfWidget:function(t,i,n){var a=$KW.Utils.getContainerModelById(i,n);if(a)return e.Utils.getItemTemplateByNode(a,i)[t.id]},getNodeByContext:function(e,t,i){var n=$KU.getNodeByModel(e);if(n&&t){var a,l=t.sectionIndex,o=t.itemIndex;if(e.hasSections?$KU.isDefined(l)&&$KU.isDefined(o)?a="secindex='"+l+","+o+"'":$KU.isDefined(l)&&(a="secindex='"+l+",-1'"):$KU.isDefined(o)&&(a="index='"+o+"'"),a){var r=n.querySelector("["+a+"]");if(r)return i?$KW.Utils.getWidgetNode(i,r):r}}},updateDataByContext:function(e,t){var i=e.containerModel;if(i&&e&&t){var n=i.data;if(n&&n.length>0){var a,l=e.sectionIndex,o=e.itemIndex;if(i.hasSections?$KU.isDefined(l)&&$KU.isDefined(o)?a=n[l][1][o]:$KU.isDefined(l)&&(a=n[l][0]):$KU.isDefined(o)&&(a=n[o]),a){var r=e.widgetModel;if(r){var s=i.widgetdatamap,d=a[s?s[r.id]:r.id];if(!(d instanceof Object))return;for(var c in t)$KU.isDefined(t[c])&&(d[c]=t[c])}}}}},setCollectionViewHeightAndWidth:function(t){var i=e.getCollectionViewBaseNode(t),n=$KU.getNodeByModel(t),a=parseInt($KU.getStyle(n,"border-left-width"),10)+parseInt($KU.getStyle(n,"border-right-width"),10),l=parseInt($KU.getStyle(n,"border-top-width"),10)+parseInt($KU.getStyle(n,"border-bottom-width"),10);i.style.height=t.frame.height-l+"px",i.style.width=t.frame.width-a+"px"},getItemTemplateByNode:function(t,i){var n=e.Utils.getContextByNode(t,i),a=n.itemIndex,l=i.getAttribute("type");return"HeaderBox"==l||-1==a?a="header":"FooterBox"!=l&&-2!=a||(a="footer"),e.Utils.getClonedModel(t,a,n.sectionIndex)},getElementsCountTillSections:function(e,t){for(var i=0,n=0;n<t;n++)i=i+(null!==e[n][0]?null!==e[n][2]?2:1:null!==e[n][2]?1:0)+e[n][1].length;return i},spliceObjectBasedOnIndex:function(e,t,i){for(var n=[],a=t;a<i;a++)n.push(e[a]);return n},invertMapAndData:function(e,t){function i(e,t){for(var i in t||(t={}),e)if(l[i]){var n=e[i];n&&"string"==typeof n&&-1!=n.toLowerCase().indexOf("i18n.getlocalizedstring")?t[l[i]]=$KU.getI18NValue(n):t[l[i]]=n}return e.template&&(t.template=e.template),e.accessibilityConfig&&(t.accessibilityConfig=e.accessibilityConfig),t}var n=e.widgetdatamap;if(n){n=$KU.isArray(n)?n[0]:n;for(var a=$KU.getkeys(n),l={},o=[],r=0;r<a.length;r++)l[n[a[r]]]=a[r];var s=$KU.getkeys(l);if(t[0]instanceof Array){var d,c,f=0;for(r=0;r<t.length;r++){var u=t[r][1];o[f]={},d=t[r][0],c=t[r][2];var h=f;d&&"string"==typeof d&&-1!=d.toLowerCase().indexOf("i18n.getlocalizedstring")?o[f].gridHeader=$KU.getI18NValue(d):d instanceof Object?o[f].gridHeader=i(d):o[f].gridHeader=d;for(var g=0;g<u.length;g++){o[f]=o[f]||{};for(var p=0;p<s.length;p++){(m=u[g][s[p]])&&"string"==typeof m&&-1!=m.toLowerCase().indexOf("i18n.getlocalizedstring")?o[f][l[s[p]]]=$KU.getI18NValue(m):o[f][l[s[p]]]=m}(v=u[g].metainfo||u[g].metaInfo)&&(o[f].metainfo=v),u[g].template&&(o[f].template=u[g].template),u[g].accessibilityConfig&&(o[f].accessibilityConfig=u[g].accessibilityConfig),f++}f=h==f?f:f-1,c&&"string"==typeof c&&-1!=c.toLowerCase().indexOf("i18n.getlocalizedstring")?o[f].gridFooter=$KU.getI18NValue(c):c instanceof Object?o[f].gridFooter=i(c):o[f].gridFooter=c,f++,0==u.length&&f++}}else for(r=0;r<t.length;r++){o[r]={};for(g=0;g<s.length;g++){var m;(m=t[r][s[g]])&&"string"==typeof varlue&&-1!=m.toLowerCase().indexOf("i18n.getlocalizedstring")?o[r][l[s[g]]]=$KU.getI18NValue(m):o[r][l[s[g]]]=m}var v;if(v=t[r].metainfo||t[r].metaInfo){o[r].metainfo=$KU.cloneObj(v);for(g=0;g<s.length;g++)o[r].metainfo[s[g]]&&(o[r].metainfo[l[s[g]]]=v[s[g]],l[s[g]]!=s[g]&&delete o[r].metainfo[s[g]])}t[r].template&&(o[r].template=t[r].template),t[r].accessibilityConfig&&(o[r].accessibilityConfig=t[r].accessibilityConfig)}return o}return t},cleanupLayoutProps:function(e,t){t!=kony.collectionview.LAYOUT_CUSTOM&&(e.left=e.right=0,e.centerX=e.centerY=void 0,e.top=e.bottom=0,e.isHeaderOrFooter&&(t==kony.collectionview.LAYOUT_VERTICAL?e.height="100%":e.width="100%"))},getValueInPxBasedOnLayoutType:function(e,t,i){var n=$KW.FlexUtils.getValueAndUnit(t,t[e]),a=n.value,l=void 0!=i?i:t.layouttype;if(n.unit==kony.flex.PERCENTAGE)if(l==kony.collectionview.LAYOUT_VERTICAL)a=a*t.frame.width/100;else if(l==kony.collectionview.LAYOUT_HORIZONTAL){a=a*t.frame.height/100}return a||0},updateReachingOffsetValuesInPx:function(t){switch(t.layouttype){case kony.collectionview.LAYOUT_VERTICAL:case kony.collectionview.LAYOUT_HORIZONTAL:t.reachingbeginningoffsetinPX=0,t.reachingendoffsetinPX=0,t.reachingbeginningoffset&&(t.reachingbeginningoffsetinPX=e.Utils.getValueInPxBasedOnLayoutType("reachingbeginningoffset",t)),t.reachingendoffset&&(t.reachingendoffsetinPX=e.Utils.getValueInPxBasedOnLayoutType("reachingendoffset",t));break;case kony.collectionview.LAYOUT_CUSTOM:t.reachingbeginningoffsetV=0,t.reachingbeginningoffsetH=0,t.reachingendoffsetV=0,t.reachingendoffsetH=0,t.reachingbeginningoffset&&(t.reachingbeginningoffsetV=e.Utils.getValueInPxBasedOnLayoutType("reachingbeginningoffset",t,kony.collectionview.LAYOUT_VERTICAL),t.reachingbeginningoffsetH=e.Utils.getValueInPxBasedOnLayoutType("reachingbeginningoffset",t,kony.collectionview.LAYOUT_HORIZONTAL)),t.reachingendoffset&&(t.reachingendoffsetV=e.Utils.getValueInPxBasedOnLayoutType("reachingendoffset",t,kony.collectionview.LAYOUT_VERTICAL),t.reachingendoffsetH=e.Utils.getValueInPxBasedOnLayoutType("reachingendoffset",t,kony.collectionview.LAYOUT_HORIZONTAL))}}},e.Animation={getVisibleItems:function(t){var i=$KU.getNodeByModel(t),n=[];if(!i||!t.data||0==t.data.length)return null;for(var a=this.iterateAllItems(t,i,{needVisible:!0,needHeaderFooter:!1}),l=0;l<a.length;l++){var o=e.Utils.getItemTemplateByNode(t,a[l]);if(t.hasSections){var r=a[l].getAttribute("secindex").split(",");o.sectionIndex=parseInt(r[0]),o.itemIndex=parseInt(r[1])}else o.itemIndex=parseInt(a[l].getAttribute("index"));o.containerType="CollectionView",o.cvModel=t,n.push(o)}return n},getIndicesForVisibleItems:function(t){var i=$KU.getNodeByModel(t),n=[];if(!i||!t.data||0==t.data.length)return null;for(var a=this.iterateAllItems(t,i,{needVisible:!0,needHeaderFooter:!1}),l=0;l<a.length;l++){var o=e.Utils.getContextByNode(t,a[l]);n.push(o)}return n},iterateAllItems:function(t,i,n){var a=$KG[i.id+"_scroller"],l=0,o=0,r=0,s=0,d=function(e,t,i){return e>=t&&e<=i},c=function(t,i){var n=e.Utils.getContextByNode(t,i);return-1==n.itemIndex||-2==n.itemIndex};a?(o=(l=Math.abs(a.y))+a.wrapperH,s=(r=Math.abs(a.x))+a.wrapperW):(o=(l=i.scrollTop)+i.offsetHeight,r=i.scrollLeft,s+=i.offsetWidth);for(var f=e.getCollectionViewBaseNode(t).children,u=[],h=0;h<f.length;h++){var g=f[h],p=g.offsetTop,m=p+g.offsetHeight,v=g.offsetLeft,y=v+g.offsetWidth;if(n.needVisible){if(!n.needHeaderFooter&&c(t,g))continue;(d(p,l,o)||d(m,l,o))&&(d(v,r,s)||d(y,r,s))&&u.push(g)}n.needAll&&u.push(g)}if(n.needVisible||n.needAll)return u},handleOnItemDisplay:function(t){var i=$KU.getNodeByModel(t);if(i){var n=e.Animation.getVisibleItems(t),a=e.Animation.getIndicesForVisibleItems(t),l=this.iterateAllItems(t,i,{needAll:!0,needHeaderFooter:!1}),o=0;if(n)for(o=0;o<n.length;o++)n[o].onItemDisplayExecuted||(t.onitemdisplay&&t.onitemdisplay(t,a[o].sectionIndex,a[o].itemIndex,n[o]),n[o].onItemDisplayExecuted=!0),o++;if(l)for(o=0;o<l.length;o++){var r=e.Utils.getItemTemplateByNode(t,l[o]);-1==n.indexOf(r)&&(r.onItemDisplayExecuted=!1)}}},applyItemAnimation:function(t,i,n,a,l){var o=e.Utils.getNodeByContext(t.cvModel,{itemIndex:t.itemIndex,sectionIndex:t.sectionIndex},l);o.wModel=t,o.context={sectionIndex:t.sectionIndex,itemIndex:t.itemIndex,containerModel:t.cvModel,widgetModel:t,instance:t,animType:"collectionViewItem"},i.applyRowAnimation&&i.applyRowAnimation(o,n,a)},getAnimationContext:function(t){var i,n=$KW.Utils.getWidgetNode(t),a=n&&n.getAttribute("kcontainerID"),l=$KW.Utils.getContainerModelById(n,a),o={itemIndex:t.rowContext.itemIndex,sectionIndex:t.rowContext.sectionIndex},r=t.parent;return t.isTemplate&&"CollectionView"==t.containerType?(i=e.getCollectionViewBaseNode(l),n=e.Utils.getNodeByContext(l,o)):(i=e.Utils.getNodeByContext(l,o,r),n=$KW.Utils.getWidgetNode(t,i)),{node:n,flexNode:i,containerModel:l,widgetModel:t,itemIndex:t.rowContext.itemIndex,sectionIndex:t.rowContext.sectionIndex}}},e}();
kony.nosql=function(){var module={},_validTypes=[],_validOrders=[],_validOperators=[],_deleteAllByIndex=function(e,n,o){return new Promise(function(t,r){var a,i,s,u,l=[],c=0;u=function(e){++c===l.length&&t()},(a=n.openCursor(o)).onsuccess=function(n){var o,a=n.target.result;if(a)kony.appinit.isSafari?(s=a.primaryKey,l.push(s)):((o=a.delete()).onsuccess=function(e){},o.onerror=function(e){r(e)}),a.continue();else if(0==l.length)t();else for(i=0;i<l.length;i++)(o=e.delete(l[i])).onsuccess=u.bind(this,c,l),o.onerror=function(e){r(e)}},a.onerror=function(e){r(e)}})},_evaluate=function(e,n){var o=!1,t=e[n.column],r=n.value;switch(n.operator){case module.ENDS_WITH:o=t.indexOf(r)===t.length-r.length;break;case module.EQ:o=t===r;break;case module.GT:o=t>r;break;case module.GTE:o=t>=r;break;case module.CONTAINS:o=t.indexOf(r)>=0;break;case module.LT:o=t<r;break;case module.LTE:o=t<=r;break;case module.NEQ:o=t!==r;break;case module.NOT_CONTAINS:o=!(t.indexOf(r)>=0);break;case module.NOT_ENDS_WITH:o=t.indexOf(r)!==t.length-r.length;break;case module.NOT_STARTS_WITH:o=0!==t.indexOf(r);break;case module.STARTS_WITH:o=0===t.indexOf(r)}return o},_expression=function(e,n){var o="",t=0,r=n.length;for(t=0;t<r;t++)n[t]instanceof Array?o+=_expression(e,n[t]):"string"==typeof n[t]?o+=" "+n[t]+" ":"object"==typeof n[t]&&n[t]&&(o+=_evaluate(e,n[t]));return"("+o+")"},_filterRecords=function(e,n){return e.filter(function(e){return _isConditionMatched(e,n)})},_getAll=function(e){var n=[];return new Promise(function(o,t){var r=e.openCursor();r.onsuccess=function(e){var t,r=e.target.result;r?(t=r.value,n.push(t),r.continue()):o(n)},r.onerror=function(e){t(e)}})},_getAllByIndex=function(e,n){var o=[];return new Promise(function(t,r){var a=e.openCursor(n);a.onsuccess=function(e){var n,r=e.target.result;r?(n=r.value,o.push(n),r.continue()):t(o)},a.onerror=function(e){r(e)}})},_getDataBaseName=function(e){return kony.globals.appid+"_"+e},_getKeyRangeValue=function(e){var n;switch(e.operator){case module.EQ:n=IDBKeyRange.only(e.value);break;case module.GT:n=IDBKeyRange.lowerBound(e.value,!0);break;case module.GTE:n=IDBKeyRange.lowerBound(e.value);break;case module.LT:n=IDBKeyRange.upperBound(e.value,!0);break;case module.LTE:n=IDBKeyRange.upperBound(e.value)}return n},_getObjectValues=function(e){var n,o=[];for(n in e)e.hasOwnProperty(n)&&o.push(e[n]);return o},_isConditionOptimizable=function(e,n){var o,t,r,a,i;return e instanceof kony.nosql.Condition&&1===e.data.length&&(t=e.data[0].column,a=e.data[0].operator,r=n.indexNames.contains(t),o=a!==module.NEQ,i="boolean"==typeof e.data[0].value,r&&o&&!i)},_isConditionMatched=function(record,condition){return eval(_expression(record,condition))},_notSupported=function(){kony.web.logger("error","Your browser doesn't support a stable version of IndexedDB.")},_replaceRecordValues=function(e,n,o){var t;for(t in n)o instanceof Array?-1!=o.indexOf(t)&&(e[t]=n[t]):e[t]=n[t];return e},_updateAllByIndex=function(e,n,o,t){return new Promise(function(r,a){var i,s,u,l=0,c=[];u=function(e){++l===c.length&&r()},(i=n.openCursor(o)).onsuccess=function(n){var o,i,d=n.target.result;if(d)o=d.value,o=_replaceRecordValues(o,t),kony.appinit.isSafari?c.push(o):((i=d.update(o)).onsuccess=function(e){},i.onerror=function(e){a()}),d.continue();else if(0==c.length)r();else for(s=0;s<c.length;s++)(i=e.put(c[s])).onsuccess=u.bind(this,l,c),i.onerror=function(e){a(e)}},i.onerror=function(e){a(e)}})},Condition=function(e){var n=[];this instanceof Condition&&(Object.defineProperty(this,"data",{configurable:!0,enumerable:!1,get:function(){return this.passReference?n:n.slice(0)}}),Object.defineProperty(this,"data",{configurable:!1,enumerable:!1,set:function(e){}}),e instanceof Rule?n.push({column:e.column,operator:e.operator,value:e.value}):e instanceof Condition&&n.push(e.data))};Object.defineProperty(Condition.prototype,"addCondition",{configurable:!1,enumerable:!1,writable:!1,value:function(e,n){return _validTypes.indexOf(e)>=0&&n instanceof Condition&&(this.passReference=!0,this.data.push(e),this.data.push(n.data),delete this.passReference),this}}),Object.defineProperty(Condition.prototype,"addRule",{configurable:!1,enumerable:!1,writable:!1,value:function(e,n){return _validTypes.indexOf(e)>=0&&n instanceof Rule&&(this.passReference=!0,this.data.push(e),this.data.push({column:n.column,operator:n.operator,value:n.value}),delete this.passReference),this}}),Object.defineProperty(Condition.prototype,"toString",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e=function(o){var t="",r=0,a=o.length;for(r=0;r<a;r++)o[r]instanceof Array?t+=e(o[r]):"string"==typeof o[r]?t+=" "+o[r]+" ":"object"==typeof o[r]&&o[r]&&(t+=n(o[r]));return"("+t+")"},n=function(e){var n=e.column+" "+e.operator+" ";return"string"==typeof e.value?n+='"'+e.value+'"':n+=e.value,n};return e(this.data)}});var DataBase=function(e,n){Object.defineProperty(this,"db",{configurable:!1,enumerable:!1,writable:!1,value:e}),Object.defineProperty(this,"dbType",{configurable:!1,enumerable:!1,writable:!1,value:n})},Transaction=function(e){Object.defineProperty(this,"tx",{configurable:!1,enumerable:!1,writable:!1,value:e})},Result=function(e){var n=-1,o=-1;e=e instanceof Array?e:[],Object.defineProperty(this,"data",{configurable:!0,enumerable:!1,get:function(){return this.passReference?e:e.slice(0)}}),Object.defineProperty(this,"data",{configurable:!1,enumerable:!1,set:function(e){}}),Object.defineProperty(this,"length",{configurable:!0,enumerable:!1,get:function(){return-1===o&&(o=e.length),o}}),Object.defineProperty(this,"length",{configurable:!1,enumerable:!1,set:function(e){}}),Object.defineProperty(this,"next",{configurable:!0,enumerable:!1,get:function(){return++n>=0&&n<e.length}}),Object.defineProperty(this,"next",{configurable:!1,enumerable:!1,set:function(e){}}),Object.defineProperty(this,"record",{configurable:!0,enumerable:!1,get:function(){return n>=0&&n<e.length?e[n]:null}}),Object.defineProperty(this,"record",{configurable:!1,enumerable:!1,set:function(e){}})};Object.defineProperty(Result.prototype,"groupBy",{configurable:!1,enumerable:!1,writable:!1,value:function(e,n){var o=null;this.passReference=!0,o=this.data,delete this.passReference;var t={};if(e instanceof Array)try{return function(){var n,r,a,i;for(a=0;a<o.length;a++){for(n=o[a],r="",i=0;i<e.length;i++)r+=n[e[i]],i<e.length-1&&(r+="&_");r in t?t[r].push(n):t[r]=[n]}}(),function(){var e,o,r=[],a=[];for(o in t)r.push(t[o]);if("number"==typeof n){for(e=0;e<r.length;e++)n>=0?a.push(r[e][n]):(o=r[e].length+n,a.push(r[e][o]));return a}return r}()}catch(e){throw e}}}),Object.defineProperty(Result.prototype,"limit",{configurable:!1,enumerable:!1,writable:!1,value:function(e,n){var o=null,t=null,r=0,a=0;if("number"==typeof e&&"number"==typeof n&&e>=0&&n>=0)for(this.passReference=!0,o=this.data,delete this.passReference,a=(t=o.splice(0)).length,r=e;r<=n&&r<a;r++)o.push(t[r]);return this}}),Object.defineProperty(Result.prototype,"sort",{configurable:!1,enumerable:!1,writable:!1,value:function(e,n){var o=null;if(this.passReference=!0,o=this.data,delete this.passReference,"function"==typeof e)o.sort(e);else if("string"==typeof e&&_validOrders.indexOf(n)>=0)o.sort(function(o,t){return o=o[e],t=t[e],n===kony.nosql.ASCENDING?o>t?1:o<t?-1:0:o>t?-1:o<t?1:0});else if(e instanceof Array&&_validOrders.indexOf(n)>=0){var t,r=[];for(r=function n(o,t,r){var a,i=[],s=[];if(t>=e.length)return o;for(function(e,n,o){e.sort(function(e,t){return e=e[n],t=t[n],o===kony.nosql.ASCENDING?e>t?1:e<t?-1:0:e>t?-1:e<t?1:0})}(o,e[t],r),i=function(e,n){var o,t,r=[],a=[];for(a.push(e[0]),t=e[0][n],o=1;o<e.length;o++)e[o][n]==t?a.push(e[o]):(1==a.length?r.push(a[0]):r.push(a),a=[],t=e[o][n],a.push(e[o]));return r.push(a),r}(o,e[t]),a=0;a<i.length;a++)i[a]instanceof Array&&(s=n(i[a],t+1,r),i[a]=s);return i=function(e){var n,o,t=[];for(n=0;n<e.length;n++)if(e[n]instanceof Array)for(o=0;o<e[n].length;o++)t.push(e[n][o]);else t.push(e[n]);return t}(i)}(r=this.data,0,n),o.splice(0,o.length),t=0;t<r.length;t++)o.push(r[t])}return this}});var Rule=function(e,n,o){this instanceof Rule&&3===arguments.length&&"string"==typeof e&&e&&_validOperators.indexOf(n)>=0&&(Object.defineProperty(this,"column",{configurable:!0,enumerable:!0,get:function(){return e}}),Object.defineProperty(this,"column",{configurable:!1,enumerable:!0,set:function(n){e=n}}),Object.defineProperty(this,"operator",{configurable:!0,enumerable:!0,get:function(){return n}}),Object.defineProperty(this,"operator",{configurable:!1,enumerable:!0,set:function(e){n=e}}),Object.defineProperty(this,"value",{configurable:!0,enumerable:!0,get:function(){return o}}),Object.defineProperty(this,"value",{configurable:!1,enumerable:!0,set:function(e){o=e}}))},iDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,indexedDB={openDB:function(e,n,o){return $KU.logExecuting("kony.nosql.openDatabase"),$KU.logExecutingWithParams("kony.nosql.openDatabase",e,n,o),new Promise(function(t,r){var a,i;(a=n?iDB.open(_getDataBaseName(e),n):iDB.open(_getDataBaseName(e))).onerror=function(e){r(e.target.error)},a.onsuccess=function(e){var n=a.result;i=i||new DataBase(n,"indexedDB"),$KU.logExecutingFinished("kony.nosql.openDatabase"),t(i)},a.onupgradeneeded=function(e){var n=e.target.result;i=new DataBase(n,"indexedDB"),o&&o(i)}})},createTable:function(e,n,o){$KU.logExecuting("kony.nosql.createTable"),$KU.logExecutingWithParams("kony.nosql.createTable",e,n,o);var t,r=o.indexes||{},a=e.db,i=o.primaryKey,s=!$KU.isArray(i)&&o.autoIncrement,u=a.createObjectStore(n,{keyPath:i,autoIncrement:s});for(t in r)u.createIndex(t,t,r[t]);$KU.logExecutingFinished("kony.nosql.createTable")},openTransaction:function(e,n,o,t){return $KU.logExecuting("kony.nosql.openTransaction"),$KU.logExecutingWithParams("kony.nosql.openTransaction",e,n,o,t),new Promise(function(r,a){var i=e.db.transaction(n,o),s=new Transaction(i);t(s),i.oncomplete=function(e){$KU.logExecutingFinished("kony.nosql.openTransaction"),r(s)},i.onerror=function(e){$KU.logErrorMessage("unknown error"+e),a(e.target.error)},i.onabort=function(e){$KU.logErrorMessage("unknown error"+e),a(e.target.error)}})},addRecords:function(e,n,o){return $KU.logExecuting("kony.nosql.addRecords"),$KU.logExecutingWithParams("kony.nosql.addRecords",e,n,o),new Promise(function(t,r){var a=0,i=null,s=e.tx.objectStore(n),u=function(e){$KU.logErrorMessage("unknown error"+e.target.error),r(e.target.error)},l=function(){a<o.length?((i=s.add(o[a])).onsuccess=l,i.onerror=u,++a):($KU.logExecutingFinished("kony.nosql.addRecords"),t())};l()})},fetchRecords:function(e,n,o){return $KU.logExecuting("kony.nosql.fetchRecords"),$KU.logExecutingWithParams("kony.nosql.fetchRecords",e,n,o),new Promise(function(t,r){var a,i,s,u,l=null,c=function(e){o instanceof kony.nosql.Condition&&(e=_filterRecords(e,o.data)),l=new Result(e),$KU.logExecutingFinished("kony.nosql.fetchRecords"),t(l)},d=function(e){kony.web.logger("error","unknown error"+e.target.error),r(e.target.error)};!e instanceof Transaction&&($KU.logErrorMessage("Pass  proper transaction object"),r({errorMsg:"Pass  proper transaction object"})),a=e.tx.objectStore(n),_isConditionOptimizable(o,a)?(i=o.data[0],s=_getKeyRangeValue(i),u=a.index(i.column),s&&_getAllByIndex(u,s).then(function(e){l=new Result(e),t(l)}).catch(function(e){r(e.target.error)})):(a.getAll?a=a.getAll():_getAll(a).then(function(e){c(e)}).catch(function(e){d(e)}),a.onsuccess=function(e){c(e.target.result)},a.onerror=d)})},updateRecords:function(e,n,o,t){return $KU.logExecuting("kony.nosql.updateRecords"),$KU.logExecutingWithParams("kony.nosql.updateRecords",e,n,o,t),new Promise(function(r,a){var i,s,u,l;!e instanceof Transaction&&($KU.logErrorMessage("Pass  proper transaction object"),a({errorMsg:"Pass  proper transaction object"})),s=e.tx.objectStore(n),_isConditionOptimizable(t,s)?(u=t.data[0],i=s.index(u.column),(l=_getKeyRangeValue(u))&&_updateAllByIndex(s,i,l,o).then(function(){$KU.logExecutingFinished("kony.nosql.updateRecords"),r()}).catch(function(e){$KU.logErrorMessage("unknown"+e.message),a({errorMsg:e.message})})):s.openCursor().onsuccess=function(e){var n,i,s=e.target.result;s?(n=s.value,t&&!_isConditionMatched(n,t.data)||(n=_replaceRecordValues(n,o),(i=s.update(n)).onsuccess=function(e){},i.onerror=function(e){a()}),s.continue()):r()}})},deleteRecords:function(e,n,o){return $KU.logExecuting("kony.nosql.deleteRecords"),$KU.logExecutingWithParams("kony.nosql.deleteRecords",e,n,o),new Promise(function(t,r){var a,i,s,u;!e instanceof Transaction&&($KU.logErrorMessage("Pass  proper transaction object"),r({errorMsg:"Pass  proper transaction object"})),a=e.tx.objectStore(n),_isConditionOptimizable(o,a)?(i=o.data[0],s=_getKeyRangeValue(i),u=a.index(i.column),s&&_deleteAllByIndex(a,u,s).then(function(){$KU.logExecutingFinished("kony.nosql.deleteRecords"),t()}).catch(function(e){$KU.logErrorMessage("unknown error"+e.message),r({errorMsg:e.message})})):a.openCursor().onsuccess=function(e){var n,a=e.target.result;a?(o&&!_isConditionMatched(a.value,o.data)||((n=a.delete()).onsuccess=function(e){},n.onerror=function(e){r(e.target.error)}),a.continue()):t()}})},databaseExists:function(e){return $KU.logExecuting("kony.nosql.databaseExists"),$KU.logExecutingWithParams("kony.nosql.databaseExists",e),new Promise(function(n,o){var t=iDB.open(_getDataBaseName(e));t.onupgradeneeded=function(e){e.target.transaction.abort(),$KU.logExecutingFinished("kony.nosql.databaseExists VIA from request.upgradeneeded "),n(!1)},t.onsuccess=function(e){var o=e.target.result;$KU.logExecutingFinished("kony.nosql.databaseExists VIA from request.onsuccess"),n(!0),o.close()},t.onerror=function(e){$KU.logErrorMessage("unknown error"+e.target.error),o(e.target.error)}})},databaseVersion:function(e){return new Promise(function(n,o){var t=iDB.open(_getDataBaseName(e));t.onupgradeneeded=function(e){e.target.transaction.abort(),n(0)},t.onsuccess=function(e){var o=e.target.result;n(o.version),o.close()},t.onerror=function(e){o(e.target.error)}})},closeDatabase:function(e){return $KU.logExecuting("kony.nosql.closeDatabase"),$KU.logExecutingWithParams("kony.nosql.closeDatabase",e),new Promise(function(n,o){var t;if(e instanceof DataBase){t=e.db;try{t.close(),$KU.logExecutingFinished("kony.nosql.closeDatabase"),n()}catch(e){$KU.logErrorMessage("unknown error"+e),o(e)}}else $KU.logErrorMessage("Pass proper database object."),o({errorMsg:"Pass proper database object."})})},getTables:function(e){return $KU.logExecuting("kony.nosql.getTables"),$KU.logExecutingWithParams("kony.nosql.getTables",e),new Promise(function(n,o){var t;e instanceof DataBase?(t=e.db,$KU.logExecutingFinished("kony.nosql.getTables"),n(_getObjectValues(t.objectStoreNames))):($KU.logErrorMessage("Pass proper database object."),o({errorMsg:"Pass proper database object."}))})},tableExists:function(e,n){return $KU.logExecuting("kony.nosql.tableExists"),$KU.logExecutingWithParams("kony.nosql.tableExists",e,n),new Promise(function(o,t){var r;e instanceof DataBase?kony.nosql.getTables(e).then(function(e){r=-1!=e.indexOf(n),$KU.logExecutingFinished("kony.nosql.tableExists"),o(r)}).catch(function(e){t(e)}):($KU.logErrorMessage("Pass proper database object."),t({errorMsg:"Pass proper database object."}))})},getPrimaryKeys:function(e,n,o){return $KU.logExecuting("kony.nosql.getPrimaryKeys"),$KU.logExecutingWithParams("kony.nosql.getPrimaryKeys",e,n,o),new Promise(function(t,r){var a,i,s=function(e){return e=e.tx,"string"==typeof(i=e.objectStore(n)).keyPath?[i.keyPath]:i.keyPath};kony.nosql.tableExists(e,n).then(function(i){i?o?($KU.logExecutingFinished("kony.nosql.getPrimaryKeys VIA !transaction is false"),t(s(o))):kony.nosql.openTransaction(e,[n],kony.nosql.READ_WRITE,function(e){a=s(e)}).then(function(){$KU.logExecutingFinished("kony.nosql.getPrimaryKeys VIA if !transaction is true"),t(a)}).catch(function(e){r(e)}):($KU.logErrorMessage("Table doesn't exists."),r({errorMsg:"Table doesn't exists."}))}).catch(function(e){r(e)})})},deleteDatabase:function(e){return $KU.logExecuting("kony.nosql.deleteDatabase"),$KU.logExecutingWithParams("kony.nosql.deleteDatabase",e),new Promise(function(n,o){var t=iDB.deleteDatabase(_getDataBaseName(e));t.onsuccess=function(e){$KU.logExecutingFinished("kony.nosql.deleteDatabase"),n()},t.onerror=function(e){$KU.logErrorMessage("unknown error"+e.target.error),o(e.target.error)}})},deleteTable:function(e,n){return $KU.logExecuting("kony.nosql.deleteTable"),$KU.logExecutingWithParams("kony.nosql.deleteTable",e,n),new Promise(function(o,t){e instanceof DataBase?(e.db.deleteObjectStore(n),$KU.logExecutingFinished("kony.nosql.deleteTable"),o()):($KU.logErrorMessage("Pass proper database object."),t({errorMsg:"Pass proper database object."}))})},clearTable:function(e,n){return $KU.logExecuting("kony.nosql.clearTable"),$KU.logExecutingWithParams("kony.nosql.clearTable",e,n),new Promise(function(o,t){var r;e instanceof Transaction?((r=e.tx.objectStore(n).clear()).onsuccess=function(e){$KU.logExecutingFinished("kony.nosql.clearTable"),o()},r.onerror=function(e){t(e.target.error)}):($KU.logErrorMessage("Pass proper transaction object."),t({errorMsg:"Pass proper transaction object."}))})},addOrReplaceRecords:function(e,n,o){return $KU.logExecuting("kony.nosql.addOrReplaceRecords"),$KU.logExecutingWithParams("kony.nosql.addOrReplaceRecords",e,n,o),new Promise(function(t,r){var a,i,s=0,u=null,l=function(e){r(e.target.error)},c=function(){s<o.length?((u=i.put(o[s])).onsuccess=c,u.onerror=l,++s):($KU.logExecutingFinished("kony.nosql.addOrReplaceRecords"),t())};!e instanceof Transaction&&($KU.logErrorMessage("Pass proper transaction object."),r({errorMsg:"Pass proper transaction object."})),a=e.tx,i=a.objectStore(n),c()})},replaceRecords:function(e,n,o,t){return $KU.logExecuting("kony.nosql.replaceRecords"),$KU.logExecutingWithParams("kony.nosql.replaceRecords",e,n,o,t),new Promise(function(r,a){kony.nosql.fetchRecords(e,n,t).then(function(t){var i,s,u=0,l=null,c=t.data,d=function(e){a(e.target.error)},f=function(){var e,n;u<c.length?(e=c[u],n="string"==typeof s.keyPath?[s.keyPath]:s.keyPath,e=_replaceRecordValues(o,e,n),(l=s.put(e)).onsuccess=f,l.onerror=d,++u):($KU.logExecutingFinished("kony.nosql.replaceRecords"),r())};!e instanceof Transaction&&($KU.logErrorMessage("Pass proper transaction object."),a({errorMsg:"Pass proper transaction object."})),i=e.tx,s=i.objectStore(n),f()}).catch(function(e){kony.web.logger("error","unknown error"+e),a(e)})})}};return Object.defineProperty(module,"Condition",{configurable:!1,enumerable:!1,writable:!1,value:Condition}),Object.defineProperty(module,"Rule",{configurable:!1,enumerable:!1,writable:!1,value:Rule}),Object.defineProperty(module,"AND",{configurable:!1,enumerable:!1,writable:!1,value:"&&"}),Object.defineProperty(module,"ASCENDING",{configurable:!1,enumerable:!1,writable:!1,value:"ASC"}),Object.defineProperty(module,"DESCENDING",{configurable:!1,enumerable:!1,writable:!1,value:"DESC"}),Object.defineProperty(module,"EQ",{configurable:!1,enumerable:!1,writable:!1,value:"="}),Object.defineProperty(module,"GT",{configurable:!1,enumerable:!1,writable:!1,value:">"}),Object.defineProperty(module,"GTE",{configurable:!1,enumerable:!1,writable:!1,value:">="}),Object.defineProperty(module,"LT",{configurable:!1,enumerable:!1,writable:!1,value:"<"}),Object.defineProperty(module,"LTE",{configurable:!1,enumerable:!1,writable:!1,value:"<="}),Object.defineProperty(module,"NEQ",{configurable:!1,enumerable:!1,writable:!1,value:"!="}),Object.defineProperty(module,"OR",{configurable:!1,enumerable:!1,writable:!1,value:"||"}),Object.defineProperty(module,"READ",{configurable:!1,enumerable:!1,writable:!1,value:"read"}),Object.defineProperty(module,"READ_WRITE",{configurable:!1,enumerable:!1,writable:!1,value:"readwrite"}),_validTypes.push(module.AND),_validTypes.push(module.OR),_validOrders.push(module.ASCENDING),_validOrders.push(module.DESCENDING),_validOperators.push(module.EQ),_validOperators.push(module.GT),_validOperators.push(module.GTE),_validOperators.push(module.LT),_validOperators.push(module.LTE),_validOperators.push(module.NEQ),module.openDatabase=iDB?indexedDB.openDB:_notSupported,module.createTable=iDB?indexedDB.createTable:_notSupported,module.openTransaction=iDB?indexedDB.openTransaction:_notSupported,module.addRecords=iDB?indexedDB.addRecords:_notSupported,module.fetchRecords=iDB?indexedDB.fetchRecords:_notSupported,module.updateRecords=iDB?indexedDB.updateRecords:_notSupported,module.deleteRecords=iDB?indexedDB.deleteRecords:_notSupported,module.databaseExists=iDB?indexedDB.databaseExists:_notSupported,module.databaseVersion=iDB?indexedDB.databaseVersion:_notSupported,module.closeDatabase=iDB?indexedDB.closeDatabase:_notSupported,module.getTables=iDB?indexedDB.getTables:_notSupported,module.tableExists=iDB?indexedDB.tableExists:_notSupported,module.getPrimaryKeys=iDB?indexedDB.getPrimaryKeys:_notSupported,module.deleteDatabase=iDB?indexedDB.deleteDatabase:_notSupported,module.deleteTable=iDB?indexedDB.deleteTable:_notSupported,module.clearTable=iDB?indexedDB.clearTable:_notSupported,module.addOrReplaceRecords=iDB?indexedDB.addOrReplaceRecords:_notSupported,module.replaceRecords=iDB?indexedDB.replaceRecords:_notSupported,module}();
var getJasmineRequireObj=function(e){var t;function n(){return t}return"undefined"!=typeof module&&module.exports&&"undefined"!=typeof exports?(e="undefined"!=typeof global?global:{},t=exports):("undefined"!=typeof window&&"function"==typeof window.toString&&"[object GjsGlobal]"===window.toString()&&(e=window),t=e.jasmineRequire={}),n().core=function(t){var n={};return t.base(n,e),n.util=t.util(n),n.errors=t.errors(),n.formatErrorMsg=t.formatErrorMsg(),n.Any=t.Any(n),n.Anything=t.Anything(n),n.CallTracker=t.CallTracker(n),n.MockDate=t.MockDate(),n.getClearStack=t.clearStack(n),n.Clock=t.Clock(),n.DelayedFunctionScheduler=t.DelayedFunctionScheduler(n),n.Env=t.Env(n),n.StackTrace=t.StackTrace(n),n.ExceptionFormatter=t.ExceptionFormatter(n),n.Expectation=t.Expectation(),n.buildExpectationResult=t.buildExpectationResult(),n.JsApiReporter=t.JsApiReporter(),n.matchersUtil=t.matchersUtil(n),n.ObjectContaining=t.ObjectContaining(n),n.ArrayContaining=t.ArrayContaining(n),n.ArrayWithExactContents=t.ArrayWithExactContents(n),n.pp=t.pp(n),n.QueueRunner=t.QueueRunner(n),n.ReportDispatcher=t.ReportDispatcher(n),n.Spec=t.Spec(n),n.Spy=t.Spy(n),n.SpyFactory=t.SpyFactory(n),n.SpyRegistry=t.SpyRegistry(n),n.SpyStrategy=t.SpyStrategy(n),n.StringMatching=t.StringMatching(n),n.UserContext=t.UserContext(n),n.Suite=t.Suite(n),n.Timer=t.Timer(),n.TreeProcessor=t.TreeProcessor(),n.version=t.version(),n.Order=t.Order(),n.DiffBuilder=t.DiffBuilder(n),n.NullDiffBuilder=t.NullDiffBuilder(n),n.ObjectPath=t.ObjectPath(n),n.GlobalErrors=t.GlobalErrors(n),n.Truthy=t.Truthy(n),n.Falsy=t.Falsy(n),n.Empty=t.Empty(n),n.NotEmpty=t.NotEmpty(n),n.matchers=t.requireMatchers(t,n),n},n}(this);getJasmineRequireObj().requireMatchers=function(e,t){for(var n=["nothing","toBe","toBeCloseTo","toBeDefined","toBeFalsy","toBeGreaterThan","toBeGreaterThanOrEqual","toBeLessThan","toBeLessThanOrEqual","toBeNaN","toBeNegativeInfinity","toBeNull","toBePositiveInfinity","toBeTruthy","toBeUndefined","toContain","toEqual","toHaveBeenCalled","toHaveBeenCalledBefore","toHaveBeenCalledTimes","toHaveBeenCalledWith","toHaveClass","toMatch","toThrow","toThrowError","toThrowMatching"],r={},i=0;i<n.length;i++){var o=n[i];r[o]=e[o](t)}return r},getJasmineRequireObj().base=function(e,t){e.unimplementedMethod_=function(){throw new Error("unimplemented method")},e.MAX_PRETTY_PRINT_DEPTH=8,e.MAX_PRETTY_PRINT_ARRAY_LENGTH=50,e.MAX_PRETTY_PRINT_CHARS=1e3,e.DEFAULT_TIMEOUT_INTERVAL=2e4,e.getGlobal=function(){return t},e.getEnv=function(t){return e.currentEnv_=e.currentEnv_||new e.Env(t)},e.isArray_=function(t){return e.isA_("Array",t)},e.isObject_=function(t){return!e.util.isUndefined(t)&&null!==t&&e.isA_("Object",t)},e.isString_=function(t){return e.isA_("String",t)},e.isNumber_=function(t){return e.isA_("Number",t)},e.isFunction_=function(t){return e.isA_("Function",t)},e.isAsyncFunction_=function(t){return e.isA_("AsyncFunction",t)},e.isTypedArray_=function(t){return e.isA_("Float32Array",t)||e.isA_("Float64Array",t)||e.isA_("Int16Array",t)||e.isA_("Int32Array",t)||e.isA_("Int8Array",t)||e.isA_("Uint16Array",t)||e.isA_("Uint32Array",t)||e.isA_("Uint8Array",t)||e.isA_("Uint8ClampedArray",t)},e.isA_=function(t,n){return e.getType_(n)==="[object "+t+"]"},e.isError_=function(e){return e instanceof Error||!!(e&&e.constructor&&e.constructor.constructor&&e instanceof e.constructor.constructor("return this")().Error)},e.getType_=function(e){return Object.prototype.toString.apply(e)},e.isDomNode=function(e){return e.nodeType>0},e.isMap=function(e){return void 0!==t.Map&&e.constructor===t.Map},e.isSet=function(e){return void 0!==t.Set&&e.constructor===t.Set},e.isPromise=function(e){return void 0!==t.Promise&&e.constructor===t.Promise},e.fnNameFor=function(e){if(e.name)return e.name;var t=e.toString().match(/^\s*function\s*(\w+)\s*\(/)||e.toString().match(/^\s*\[object\s*(\w+)Constructor\]/);return t?t[1]:"<anonymous>"},e.any=function(t){return new e.Any(t)},e.anything=function(){return new e.Anything},e.truthy=function(){return new e.Truthy},e.falsy=function(){return new e.Falsy},e.empty=function(){return new e.Empty},e.notEmpty=function(){return new e.NotEmpty},e.objectContaining=function(t){return new e.ObjectContaining(t)},e.stringMatching=function(t){return new e.StringMatching(t)},e.arrayContaining=function(t){return new e.ArrayContaining(t)},e.arrayWithExactContents=function(t){return new e.ArrayWithExactContents(t)},e.isSpy=function(t){return!!t&&(t.and instanceof e.SpyStrategy&&t.calls instanceof e.CallTracker)}},getJasmineRequireObj().util=function(e){var t,n={};function r(){return new e.StackTrace(function(){var e=new Error;if(e.stack)return e;try{throw new Error}catch(e){return e}}().stack).frames[2].file}return n.inherit=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.htmlEscape=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},n.argsToArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},n.isUndefined=function(e){return void 0===e},n.arrayContains=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},n.clone=function(e){if("[object Array]"===Object.prototype.toString.apply(e))return e.slice();var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},n.cloneArgs=function(t){for(var n=[],r=e.util.argsToArray(t),i=0;i<r.length;i++){var o=Object.prototype.toString.apply(r[i]);!r[i]||o.match(/^\[object (Boolean|String|RegExp|Number)/)?n.push(r[i]):n.push(e.util.clone(r[i]))}return n},n.getPropertyDescriptor=function(e,t){var n,r=e;do{n=Object.getOwnPropertyDescriptor(r,t),r=Object.getPrototypeOf(r)}while(!n&&r);return n},n.objectDifference=function(e,t){var r={};for(var i in e)n.has(e,i)&&!n.has(t,i)&&(r[i]=e[i]);return r},n.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.jasmineFile=function(){return t||(t=r()),t},n},getJasmineRequireObj().Spec=function(e){function t(e){this.expectationFactory=e.expectationFactory,this.resultCallback=e.resultCallback||function(){},this.id=e.id,this.description=e.description||"",this.queueableFn=e.queueableFn,this.beforeAndAfterFns=e.beforeAndAfterFns||function(){return{befores:[],afters:[]}},this.userContext=e.userContext||function(){return{}},this.onStart=e.onStart||function(){},this.getSpecName=e.getSpecName||function(){return""},this.expectationResultFactory=e.expectationResultFactory||function(){},this.queueRunnerFactory=e.queueRunnerFactory||function(){},this.catchingExceptions=e.catchingExceptions||function(){return!0},this.throwOnExpectationFailure=!!e.throwOnExpectationFailure,this.queueableFn.fn||this.pend(),this.result={id:this.id,description:this.description,fullName:this.getFullName(),failedExpectations:[],passedExpectations:[],deprecationWarnings:[],pendingReason:""}}t.prototype.addExpectationResult=function(t,n,r){var i=this.expectationResultFactory(n);if(t)this.result.passedExpectations.push(i);else if(this.result.failedExpectations.push(i),this.throwOnExpectationFailure&&!r)throw new e.errors.ExpectationFailed},t.prototype.expect=function(e){return this.expectationFactory(e,this)},t.prototype.execute=function(t,n){var r=this,i={fn:function(e){r.onStart(r,e)}},o={fn:function(e){r.queueableFn.fn=null,r.result.status=r.status(n),r.resultCallback(r.result,e)}},a=this.beforeAndAfterFns(),s={isLeaf:!0,queueableFns:a.befores.concat(this.queueableFn),cleanupFns:a.afters,onException:function(){r.onException.apply(r,arguments)},onComplete:function(){t("failed"===r.result.status&&new e.StopExecutionError("spec failed"))},userContext:this.userContext()};(this.markedPending||!0===n)&&(s.queueableFns=[],s.cleanupFns=[]),s.queueableFns.unshift(i),s.cleanupFns.push(o),this.queueRunnerFactory(s)},t.prototype.onException=function(r){t.isPendingSpecException(r)?this.pend(n(r)):r instanceof e.errors.ExpectationFailed||this.addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",error:r},!0)},t.prototype.pend=function(e){this.markedPending=!0,e&&(this.result.pendingReason=e)},t.prototype.getResult=function(){return this.result.status=this.status(),this.result},t.prototype.status=function(e){return!0===e?"excluded":this.markedPending?"pending":this.result.failedExpectations.length>0?"failed":"passed"},t.prototype.getFullName=function(){return this.getSpecName(this)},t.prototype.addDeprecationWarning=function(e){"string"==typeof e&&(e={message:e}),this.result.deprecationWarnings.push(this.expectationResultFactory(e))};var n=function(e){var n=e.toString(),r=n.indexOf(t.pendingSpecExceptionMessage)+t.pendingSpecExceptionMessage.length;return n.substr(r)};return t.pendingSpecExceptionMessage="=> marked Pending",t.isPendingSpecException=function(e){return!(!e||!e.toString||-1===e.toString().indexOf(t.pendingSpecExceptionMessage))},t},void 0==typeof window&&"object"==typeof exports&&(exports.Spec=jasmineRequire.Spec),getJasmineRequireObj().Order=function(){return function(e){this.random=!("random"in e)||e.random;var t=this.seed=e.seed||String(Math.random()).slice(-5);function n(e){var t,n;for(t=n=0;n<e.length;++n)t+=e.charCodeAt(n),t+=t<<10,t^=t>>6;return t+=t<<3,t^=t>>11,t+=t<<15}this.sort=this.random?function(e){var r=e.slice();return r.sort(function(e,r){return n(t+e.id)-n(t+r.id)}),r}:function(e){return e}}},getJasmineRequireObj().Env=function(e){return function(t){var n=this,r=(t=t||{}).global||e.getGlobal(),i=0,o=e.getGlobal().setTimeout,a=e.getGlobal().clearTimeout,s=e.getClearStack(e.getGlobal());this.clock=new e.Clock(r,function(){return new e.DelayedFunctionScheduler},new e.MockDate(r));var u={},c=null,l=[],p=null,f=!1,h=!1,d=!0,m=null,y=!1,g=function(){return l[l.length-1]},v=function(){return c||g()},b=null,E=function(){b||(b=new e.GlobalErrors).install()};t.suppressLoadErrors||(E(),b.pushListener(function(e,t,n){N.result.failedExpectations.push({passed:!1,globalErrorType:"load",message:e,filename:t,lineno:n})})),this.specFilter=function(){return!0},this.addSpyStrategy=function(e,t){if(!v())throw new Error("Custom spy strategies must be added in a before function or a spec");u[v().id].customSpyStrategies[e]=t},this.addCustomEqualityTester=function(e){if(!v())throw new Error("Custom Equalities must be added in a before function or a spec");u[v().id].customEqualityTesters.push(e)},this.addMatchers=function(e){if(!v())throw new Error("Matchers must be added in a before function or a spec");var t=u[v().id].customMatchers;for(var n in e)t[n]=e[n]},e.Expectation.addCoreMatchers(e.matchers);var w=0,x=0,j=function(){return"suite"+x++},S=function(t,n){return e.Expectation.Factory({util:e.matchersUtil,customEqualityTesters:u[n.id].customEqualityTesters,customMatchers:u[n.id].customMatchers,actual:t,addExpectationResult:function(e,t){return n.addExpectationResult(e,t)}})},T=function(t,n){var r={spies:[],customEqualityTesters:[],customMatchers:{},customSpyStrategies:{}};u[n]&&(r.customEqualityTesters=e.util.clone(u[n].customEqualityTesters),r.customMatchers=e.util.clone(u[n].customMatchers)),u[t]=r},R=function(e){M.clearSpies(),delete u[e]},F=e.buildExpectationResult,O=new e.ExceptionFormatter,A=function(e){return e.messageFormatter=O.message,e.stackFormatter=O.stack,F(e)};this.throwOnExpectationFailure=function(e){f=!!e},this.throwingExpectationFailures=function(){return f},this.stopOnSpecFailure=function(e){h=!!e},this.stoppingOnSpecFailure=function(){return h},this.randomizeTests=function(e){d=!!e},this.randomTests=function(){return d},this.seed=function(e){return e&&(m=e),m},this.deprecated=function(e){(v()||N).addDeprecationWarning(e),"undefined"!=typeof console&&"function"==typeof console.error&&console.error("DEPRECATION:",e)};var C=function(t,r){var i=!1;t.isLeaf?i=f:t.isReporter||(i=h),t.clearStack=t.clearStack||s,t.timeout={setTimeout:o,clearTimeout:a},t.fail=n.fail,t.globalErrors=b,t.completeOnFirstError=i,t.onException=t.onException||function(e){(v()||N).onException(e)},t.deprecated=n.deprecated,new e.QueueRunner(t).execute(r)},N=new e.Suite({env:this,id:j(),description:"Jasmine__TopLevel__Suite",expectationFactory:S,expectationResultFactory:A});T(N.id),p=N,this.topSuite=function(){return N};var _=new e.ReportDispatcher(["jasmineStarted","jasmineDone","suiteStarted","suiteDone","specStarted","specDone"],C);this.execute=function(t){var n=this;E(),t||(t=J.length?J:[N.id]);var r=new e.Order({random:d,seed:m}),o=new e.TreeProcessor({tree:N,runnableIds:t,queueRunnerFactory:C,nodeStart:function(e,t){l.push(e),T(e.id,e.parentSuite.id),_.suiteStarted(e.result,t)},nodeComplete:function(e,t,n){if(e!==g())throw new Error("Tried to complete the wrong suite");R(e.id),l.pop(),"failed"===t.status&&(y=!0),_.suiteDone(t,n)},orderChildren:function(e){return r.sort(e.children)},excludeNode:function(e){return!n.specFilter(e)}});if(!o.processTree().valid)throw new Error("Invalid order: would cause a beforeAll or afterAll to be run multiple times");_.jasmineStarted({totalSpecsDefined:i,order:r},function(){l.push(N),o.execute(function(){var e,t;R(N.id),l.pop(),y||N.result.failedExpectations.length>0?e="failed":J.length>0?(e="incomplete",t="fit() or fdescribe() was found"):0===i?(e="incomplete",t="No specs found"):e="passed",_.jasmineDone({overallStatus:e,incompleteReason:t,order:r,failedExpectations:N.result.failedExpectations,deprecationWarnings:N.result.deprecationWarnings},function(){})})})},this.addReporter=function(e){_.addReporter(e)},this.provideFallbackReporter=function(e){_.provideFallbackReporter(e)},this.clearReporters=function(){_.clearReporters()};var q=new e.SpyFactory(function(){var e=v();return e?u[e.id].customSpyStrategies:{}}),M=new e.SpyRegistry({currentSpies:function(){if(!v())throw new Error("Spies must be created in a before function or a spec");return u[v().id].spies},createSpy:function(e,t){return n.createSpy(e,t)}});this.allowRespy=function(e){M.allowRespy(e)},this.spyOn=function(){return M.spyOn.apply(M,arguments)},this.spyOnProperty=function(){return M.spyOnProperty.apply(M,arguments)},this.createSpy=function(e,t){return q.createSpy(e,t)},this.createSpyObj=function(e,t){return q.createSpyObj(e,t)};var P=function(t,n){if(!e.isFunction_(t))throw new Error(n+" expects a function argument; received "+e.getType_(t))},k=function(t,n){if(!e.isFunction_(t)&&!e.isAsyncFunction_(t))throw new Error(n+" expects a function argument; received "+e.getType_(t))};function I(e){var t=v();if(null!==t&&void 0!==t)throw new Error("'"+e+"' should only be used in 'describe' function")}var D=function(t){return new e.Suite({env:n,id:j(),description:t,parentSuite:p,expectationFactory:S,expectationResultFactory:A,throwOnExpectationFailure:f})};this.describe=function(e,t){I("describe"),P(t,"describe");var n=D(e);if(t.length>0)throw new Error("describe does not expect any arguments");return p.markedPending&&n.pend(),L(n,t),n},this.xdescribe=function(e,t){I("xdescribe"),P(t,"xdescribe");var n=D(e);return n.pend(),L(n,t),n};var J=[];function L(e,t){var n=p;n.addChild(e),p=e;var r=null;try{t.call(e)}catch(e){r=e}r&&e.onException(r),p=n}function B(){var e=function(e){for(;e;){if(e.isFocused)return e.id;e=e.parentSuite}return null}(p);if(e)for(var t=0;t<J.length;t++)if(J[t]===e){J.splice(t,1);break}}this.fdescribe=function(e,t){I("fdescribe"),P(t,"fdescribe");var n=D(e);return n.isFocused=!0,J.push(n.id),B(),L(n,t),n};var U=function(t,n,r,o){i++;var a=new e.Spec({id:"spec"+w++,beforeAndAfterFns:function(e){return function(){for(var t=[],n=[];e;)t=t.concat(e.beforeFns),n=n.concat(e.afterFns),e=e.parentSuite;return{befores:t.reverse(),afters:n}}}(r),expectationFactory:S,resultCallback:function(e,t){R(a.id),c=null,"failed"===e.status&&(y=!0),_.specDone(e,t)},getSpecName:function(e){return function(e,t){var n=[e.description],r=t.getFullName();return""!==r&&n.unshift(r),n.join(" ")}(e,r)},onStart:function(e,t){c=e,T(e.id,r.id),_.specStarted(e.result,t)},description:t,expectationResultFactory:A,queueRunnerFactory:C,userContext:function(){return r.clonedSharedUserContext()},queueableFn:{fn:n,timeout:function(){return o||e.DEFAULT_TIMEOUT_INTERVAL}},throwOnExpectationFailure:f});return a};this.it=function(e,t,n){I("it"),arguments.length>1&&void 0!==t&&k(t,"it");var r=U(e,t,p,n);return p.markedPending&&r.pend(),p.addChild(r),r},this.xit=function(e,t,n){I("xit"),arguments.length>1&&void 0!==t&&k(t,"xit");var r=this.it.apply(this,arguments);return r.pend("Temporarily disabled with xit"),r},this.fit=function(e,t,n){I("fit"),k(t,"fit");var r=U(e,t,p,n);return p.addChild(r),J.push(r.id),B(),r},this.expect=function(e){if(!v())throw new Error("'expect' was used when there was no current spec, this could be because an asynchronous test timed out");return v().expect(e)},this.beforeEach=function(t,n){I("beforeEach"),k(t,"beforeEach"),p.beforeEach({fn:t,timeout:function(){return n||e.DEFAULT_TIMEOUT_INTERVAL}})},this.beforeAll=function(t,n){I("beforeAll"),k(t,"beforeAll"),p.beforeAll({fn:t,timeout:function(){return n||e.DEFAULT_TIMEOUT_INTERVAL}})},this.afterEach=function(t,n){I("afterEach"),k(t,"afterEach"),t.isCleanup=!0,p.afterEach({fn:t,timeout:function(){return n||e.DEFAULT_TIMEOUT_INTERVAL}})},this.afterAll=function(t,n){I("afterAll"),k(t,"afterAll"),p.afterAll({fn:t,timeout:function(){return n||e.DEFAULT_TIMEOUT_INTERVAL}})},this.pending=function(t){var n=e.Spec.pendingSpecExceptionMessage;throw t&&(n+=t),n},this.fail=function(e){if(!v())throw new Error("'fail' was used when there was no current spec, this could be because an asynchronous test timed out");var t="Failed";if(e&&(t+=": ",e.message?t+=e.message:jasmine.isString_(e)?t+=e:t+=jasmine.pp(e)),v().addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",message:t,error:e&&e.message?e:null}),n.throwingExpectationFailures())throw new Error(t)}}},getJasmineRequireObj().JsApiReporter=function(){var e={start:function(){},elapsed:function(){return 0}};return function(t){var n,r=t.timer||e,i="loaded";this.started=!1,this.finished=!1,this.runDetails={},this.jasmineStarted=function(){this.started=!0,i="started",r.start()},this.jasmineDone=function(e){this.finished=!0,this.runDetails=e,n=r.elapsed(),i="done"},this.status=function(){return i};var o=[],a={};this.suiteStarted=function(e){a[e.id]=e},this.suiteDone=function(e){!function(e){o.push(e),a[e.id]=e}(e)},this.suiteResults=function(e,t){return o.slice(e,e+t)},this.suites=function(){return a};var s=[];this.specDone=function(e){s.push(e)},this.specResults=function(e,t){return s.slice(e,e+t)},this.specs=function(){return s},this.executionTime=function(){return n}}},getJasmineRequireObj().Any=function(e){function t(e){if(void 0===e)throw new TypeError("jasmine.any() expects to be passed a constructor function. Please pass one or use jasmine.anything() to match any object.");this.expectedObject=e}return t.prototype.asymmetricMatch=function(e){return this.expectedObject==String?"string"==typeof e||e instanceof String:this.expectedObject==Number?"number"==typeof e||e instanceof Number:this.expectedObject==Function?"function"==typeof e||e instanceof Function:this.expectedObject==Object?null!==e&&"object"==typeof e:this.expectedObject==Boolean?"boolean"==typeof e:"undefined"!=typeof Symbol&&this.expectedObject==Symbol?"symbol"==typeof e:e instanceof this.expectedObject},t.prototype.jasmineToString=function(){return"<jasmine.any("+e.fnNameFor(this.expectedObject)+")>"},t},getJasmineRequireObj().Anything=function(e){function t(){}return t.prototype.asymmetricMatch=function(t){return!e.util.isUndefined(t)&&null!==t},t.prototype.jasmineToString=function(){return"<jasmine.anything>"},t},getJasmineRequireObj().ArrayContaining=function(e){function t(e){this.sample=e}return t.prototype.asymmetricMatch=function(t,n){if(!e.isArray_(this.sample))throw new Error("You must provide an array to arrayContaining, not "+e.pp(this.sample)+".");for(var r=0;r<this.sample.length;r++){var i=this.sample[r];if(!e.matchersUtil.contains(t,i,n))return!1}return!0},t.prototype.jasmineToString=function(){return"<jasmine.arrayContaining("+jasmine.pp(this.sample)+")>"},t},getJasmineRequireObj().ArrayWithExactContents=function(e){function t(e){this.sample=e}return t.prototype.asymmetricMatch=function(t,n){if(!e.isArray_(this.sample))throw new Error("You must provide an array to arrayWithExactContents, not "+e.pp(this.sample)+".");if(this.sample.length!==t.length)return!1;for(var r=0;r<this.sample.length;r++){var i=this.sample[r];if(!e.matchersUtil.contains(t,i,n))return!1}return!0},t.prototype.jasmineToString=function(){return"<jasmine.arrayWithExactContents "+e.pp(this.sample)+">"},t},getJasmineRequireObj().Empty=function(e){function t(){}return t.prototype.asymmetricMatch=function(t){return e.isString_(t)||e.isArray_(t)||e.isTypedArray_(t)?0===t.length:e.isMap(t)||e.isSet(t)?0===t.size:!!e.isObject_(t)&&0===Object.keys(t).length},t.prototype.jasmineToString=function(){return"<jasmine.empty>"},t},getJasmineRequireObj().Falsy=function(e){function t(){}return t.prototype.asymmetricMatch=function(e){return!e},t.prototype.jasmineToString=function(){return"<jasmine.falsy>"},t},getJasmineRequireObj().NotEmpty=function(e){function t(){}return t.prototype.asymmetricMatch=function(t){return e.isString_(t)||e.isArray_(t)||e.isTypedArray_(t)?0!==t.length:e.isMap(t)||e.isSet(t)?0!==t.size:!!e.isObject_(t)&&0!==Object.keys(t).length},t.prototype.jasmineToString=function(){return"<jasmine.notEmpty>"},t},getJasmineRequireObj().ObjectContaining=function(e){function t(e){this.sample=e}function n(e,t){return!!e&&(!!Object.prototype.hasOwnProperty.call(e,t)||n(function(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.constructor.prototype==e?null:e.constructor.prototype}(e),t))}return t.prototype.asymmetricMatch=function(t,r){if("object"!=typeof this.sample)throw new Error("You must provide an object to objectContaining, not '"+this.sample+"'.");for(var i in this.sample)if(!n(t,i)||!e.matchersUtil.equals(this.sample[i],t[i],r))return!1;return!0},t.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+e.pp(this.sample)+")>"},t},getJasmineRequireObj().StringMatching=function(e){function t(t){if(!e.isString_(t)&&!e.isA_("RegExp",t))throw new Error("Expected is not a String or a RegExp");this.regexp=new RegExp(t)}return t.prototype.asymmetricMatch=function(e){return this.regexp.test(e)},t.prototype.jasmineToString=function(){return"<jasmine.stringMatching("+this.regexp+")>"},t},getJasmineRequireObj().Truthy=function(e){function t(){}return t.prototype.asymmetricMatch=function(e){return!!e},t.prototype.jasmineToString=function(){return"<jasmine.truthy>"},t},getJasmineRequireObj().CallTracker=function(e){return function(){var t=[],n={};this.track=function(r){n.cloneArgs&&(r.args=e.util.cloneArgs(r.args)),t.push(r)},this.any=function(){return!!t.length},this.count=function(){return t.length},this.argsFor=function(e){var n=t[e];return n?n.args:[]},this.all=function(){return t},this.allArgs=function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].args);return e},this.first=function(){return t[0]},this.mostRecent=function(){return t[t.length-1]},this.reset=function(){t=[]},this.saveArgumentsByValue=function(){n.cloneArgs=!0}}},getJasmineRequireObj().clearStack=function(e){var t=10;return function(n){var r=0,i=n.setTimeout,o=function(e){Function.prototype.apply.apply(i,[n,[e,0]])};if(e.isFunction_(n.setImmediate)){var a=n.setImmediate;return function(e){++r<t?a(e):(r=0,o(e))}}return e.util.isUndefined(n.MessageChannel)?o:function(e,n){var r=new e.MessageChannel,i={},o=i,a=!1;r.port1.onmessage=function(){var t=(i=i.next).task;if(delete i.task,a)e.setTimeout(t,0);else try{a=!0,t()}finally{a=!1}};var s=0;return function(e){++s<t?(o=o.next={task:e},r.port2.postMessage(0)):(s=0,n(e))}}(n,o)}},getJasmineRequireObj().Clock=function(){var e="undefined"!=typeof process&&process.versions&&"string"==typeof process.versions.node;function t(){}return t.prototype.ref=function(){return this},t.prototype.unref=function(){return this},function(n,r,i){var o,a,s=this,u={setTimeout:n.setTimeout,clearTimeout:n.clearTimeout,setInterval:n.setInterval,clearInterval:n.clearInterval},c={setTimeout:function(n,r){if(!e)return o.scheduleFunction(n,r,f(arguments,2));var i=new t;return o.scheduleFunction(n,r,f(arguments,2),!1,i),i},clearTimeout:function(e){return o.removeFunctionWithId(e)},setInterval:function(n,r){if(!e)return o.scheduleFunction(n,r,f(arguments,2),!0);var i=new t;return o.scheduleFunction(n,r,f(arguments,2),!0,i),i},clearInterval:function(e){return o.removeFunctionWithId(e)}},l=!1;return s.FakeTimeout=t,s.install=function(){if(n.setTimeout!==u.setTimeout||n.clearTimeout!==u.clearTimeout||n.setInterval!==u.setInterval||n.clearInterval!==u.clearInterval)throw new Error("Jasmine Clock was unable to install over custom global timer functions. Is the clock already installed?");return p(n,c),a=c,o=r(),l=!0,s},s.uninstall=function(){o=null,i.uninstall(),p(n,u),a=u,l=!1},s.withMock=function(e){this.install();try{e()}finally{this.uninstall()}},s.mockDate=function(e){i.install(e)},s.setTimeout=function(e,t,r){return Function.prototype.apply.apply(a.setTimeout,[n,arguments])},s.setInterval=function(e,t,r){return Function.prototype.apply.apply(a.setInterval,[n,arguments])},s.clearTimeout=function(e){return Function.prototype.call.apply(a.clearTimeout,[n,e])},s.clearInterval=function(e){return Function.prototype.call.apply(a.clearInterval,[n,e])},s.tick=function(e){if(!l)throw new Error("Mock clock is not installed, use jasmine.clock().install()");o.tick(e,function(e){i.tick(e)})},s;function p(e,t){for(var n in t)e[n]=t[n]}function f(e,t){return Array.prototype.slice.call(e,t)}}},getJasmineRequireObj().DelayedFunctionScheduler=function(j$){function DelayedFunctionScheduler(){var self=this,scheduledLookup=[],scheduledFunctions={},currentTime=0,delayedFnCount=0,deletedKeys=[];return self.tick=function(e,t){var n=currentTime+(e=e||0);runScheduledFunctions(n,t),currentTime=n},self.scheduleFunction=function(funcToCall,millis,params,recurring,timeoutKey,runAtMillis){var f;f="string"==typeof funcToCall?function(){return eval(funcToCall)}:funcToCall,millis=millis||0,timeoutKey=timeoutKey||++delayedFnCount,runAtMillis=runAtMillis||currentTime+millis;var funcToSchedule={runAtMillis:runAtMillis,funcToCall:f,recurring:recurring,params:params,timeoutKey:timeoutKey,millis:millis};return runAtMillis in scheduledFunctions?scheduledFunctions[runAtMillis].push(funcToSchedule):(scheduledFunctions[runAtMillis]=[funcToSchedule],scheduledLookup.push(runAtMillis),scheduledLookup.sort(function(e,t){return e-t})),timeoutKey},self.removeFunctionWithId=function(e){for(var t in deletedKeys.push(e),scheduledFunctions){var n=scheduledFunctions[t],r=indexOfFirstToPass(n,function(t){return t.timeoutKey===e});if(r>-1){1===n.length?(delete scheduledFunctions[t],deleteFromLookup(t)):n.splice(r,1);break}}},self;function indexOfFirstToPass(e,t){for(var n=-1,r=0;r<e.length;++r)if(t(e[r])){n=r;break}return n}function deleteFromLookup(e){var t=Number(e),n=indexOfFirstToPass(scheduledLookup,function(e){return e===t});n>-1&&scheduledLookup.splice(n,1)}function reschedule(e){self.scheduleFunction(e.funcToCall,e.millis,e.params,!0,e.timeoutKey,e.runAtMillis+e.millis)}function forEachFunction(e,t){for(var n=0;n<e.length;++n)t(e[n])}function runScheduledFunctions(e,t){if(t=t||function(){},0===scheduledLookup.length||scheduledLookup[0]>e)t(e-currentTime);else{do{deletedKeys=[];var n=scheduledLookup.shift();t(n-currentTime);var r=scheduledFunctions[currentTime=n];delete scheduledFunctions[currentTime],forEachFunction(r,function(e){e.recurring&&reschedule(e)}),forEachFunction(r,function(e){j$.util.arrayContains(deletedKeys,e.timeoutKey)||e.funcToCall.apply(null,e.params||[])}),deletedKeys=[]}while(scheduledLookup.length>0&&currentTime!==e&&scheduledLookup[0]<=e);currentTime!==e&&t(e-currentTime)}}}return DelayedFunctionScheduler},getJasmineRequireObj().errors=function(){function e(){}return e.prototype=new Error,e.prototype.constructor=e,{ExpectationFailed:e}},getJasmineRequireObj().ExceptionFormatter=function(e){return function(t){var n=t&&t.jasmineFile||e.util.jasmineFile();this.message=function(e){var t="";return e.name&&e.message?t+=e.name+": "+e.message:t+=e.toString()+" thrown",(e.fileName||e.sourceURL)&&(t+=" in "+(e.fileName||e.sourceURL)),(e.line||e.lineNumber)&&(t+=" (line "+(e.line||e.lineNumber)+")"),t},this.stack=function(t){if(!t||!t.stack)return null;var r=new e.StackTrace(t.stack),i=function(e){var t=[],r="webkit"===e.style?"<Jasmine>":"    at <Jasmine>";return e.frames.forEach(function(e){e.file&&e.file!==n?t.push(e.raw):t[t.length-1]!==r&&t.push(r)}),t}(r),o="";return r.message&&i.unshift(r.message),o+=function(t){if(t instanceof Object){var n=["name","message","stack","fileName","sourceURL","line","lineNumber","column","description"],r={},i=!0;for(var o in t)e.util.arrayContains(n,o)||(r[o]=t[o],i=!1);return i?"":"error properties: "+e.pp(r)+"\n"}}(t),o+=i.join("\n")}}},getJasmineRequireObj().Expectation=function(){function e(t){this.util=t.util||{buildFailureMessage:function(){}},this.customEqualityTesters=t.customEqualityTesters||[],this.actual=t.actual,this.addExpectationResult=t.addExpectationResult||function(){},this.isNot=t.isNot;var n=t.customMatchers||{};for(var r in n)this[r]=e.prototype.wrapCompare(r,n[r])}return e.prototype.wrapCompare=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0),r=n.slice(0),i="";n.unshift(this.actual);var o=t(this.util,this.customEqualityTesters),a=o.compare;this.isNot&&(a=o.negativeCompare||function(){var e=o.compare.apply(null,n);return e.pass=!e.pass,e});var s=a.apply(null,n);s.pass||(s.message?i="[object Function]"===Object.prototype.toString.apply(s.message)?s.message():s.message:(n.unshift(this.isNot),n.unshift(e),i=this.util.buildFailureMessage.apply(null,n))),1==r.length&&(r=r[0]),this.addExpectationResult(s.pass,{matcherName:e,passed:s.pass,message:i,error:s.error,actual:this.actual,expected:r})}},e.addCoreMatchers=function(t){var n=e.prototype;for(var r in t){var i=t[r];n[r]=n.wrapCompare(r,i)}},e.Factory=function(t){var n=new e(t=t||{});return t.isNot=!0,n.not=new e(t),n},e},getJasmineRequireObj().buildExpectationResult=function(){return function(e){var t=e.messageFormatter||function(){},n=e.stackFormatter||function(){},r={matcherName:e.matcherName,message:i(),stack:function(){if(e.passed)return"";var t=e.error;if(!t)if(e.stack)t=e;else try{throw new Error(i())}catch(e){t=e}return n(t)}(),passed:e.passed};return r.passed||(r.expected=e.expected,r.actual=e.actual),r;function i(){return e.passed?"Passed.":e.message?e.message:e.error?t(e.error):""}}},getJasmineRequireObj().formatErrorMsg=function(){return function(e,t){var n=t?"\nUsage: "+t:"";return function(t){return e+" : "+t+n}}},getJasmineRequireObj().GlobalErrors=function(e){return function(t){var n=[];t=t||e.getGlobal();var r=function(){var e=n[n.length-1];if(!e)throw arguments[0];e.apply(null,Array.prototype.slice.call(arguments,0))};this.install=function(){if(t.process&&t.process.listeners&&e.isFunction_(t.process.on)){var n=t.process.listeners("uncaughtException");t.process.removeAllListeners("uncaughtException"),t.process.on("uncaughtException",r),this.uninstall=function(){t.process.removeListener("uncaughtException",r);for(var e=0;e<n.length;e++)t.process.on("uncaughtException",n[e])}}else{var i=t.onerror;this.uninstall=function(){t.onerror=i}}},this.pushListener=function(e){n.push(e)},this.popListener=function(){n.pop()}}},getJasmineRequireObj().DiffBuilder=function(e){return function(){var t=new e.ObjectPath,n=[];return{record:function(e,i,o){o=o||r,n.push(o(e,i,t))},getMessage:function(){return n.join("\n")},withPath:function(e,n){var r=t;t=t.add(e),n(),t=r}};function r(t,n,r){return"Expected "+r+(r.depth()?" = ":"")+e.pp(t)+" to equal "+e.pp(n)+"."}}},getJasmineRequireObj().matchersUtil=function(e){return{equals:n,contains:function(e,t,r){if(r=r||[],"[object Set]"===Object.prototype.toString.apply(e))return e.has(t);if("[object Array]"===Object.prototype.toString.apply(e)||e&&!e.indexOf){for(var i=0;i<e.length;i++)if(n(e[i],t,r))return!0;return!1}return!!e&&e.indexOf(t)>=0},buildFailureMessage:function(){var t=Array.prototype.slice.call(arguments,0),n=t[0],r=t[1],i=t[2],o=t.slice(3),a=n.replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}),s="Expected "+e.pp(i)+(r?" not ":" ")+a;if(o.length>0)for(var u=0;u<o.length;u++)u>0&&(s+=","),s+=" "+e.pp(o[u]);return s+"."}};function t(t){return t&&e.isA_("Function",t.asymmetricMatch)}function n(n,s,u,c){return function n(s,u,c,l,p,f){var h,d=!0;var m=function(e,n,r,i){var o,a=t(e),s=t(n);if(!a||!s)return a?((o=e.asymmetricMatch(n,r))||i.record(e,n),o):s?((o=n.asymmetricMatch(e,r))||i.record(e,n),o):void 0}(s,u,p,f);if(!e.util.isUndefined(m))return m;for(h=0;h<p.length;h++){var y=p[h](s,u);if(!e.util.isUndefined(y))return y||f.record(s,u),y}if(s instanceof Error&&u instanceof Error)return(d=s.message==u.message)||f.record(s,u),d;if(s===u)return(d=0!==s||1/s==1/u)||f.record(s,u),d;if(null===s||null===u)return(d=s===u)||f.record(s,u),d;var g=Object.prototype.toString.call(s);if(g!=Object.prototype.toString.call(u))return f.record(s,u),!1;switch(g){case"[object String]":return(d=s==String(u))||f.record(s,u),d;case"[object Number]":return(d=s!=+s?u!=+u:0===s?1/s==1/u:s==+u)||f.record(s,u),d;case"[object Date]":case"[object Boolean]":return(d=+s==+u)||f.record(s,u),d;case"[object RegExp]":return s.source==u.source&&s.global==u.global&&s.multiline==u.multiline&&s.ignoreCase==u.ignoreCase}if("object"!=typeof s||"object"!=typeof u)return f.record(s,u),!1;var v=e.isDomNode(s);var b=e.isDomNode(u);if(v&&b)return(d=s.isEqualNode(u))||f.record(s,u),d;if(v||b)return f.record(s,u),!1;var E=e.isPromise(s);var w=e.isPromise(u);if(E&&w)return s===u;var x=c.length;for(;x--;)if(c[x]==s)return l[x]==u;c.push(s);l.push(u);var j=0;if("[object Array]"==g){var S=s.length,T=u.length;for(f.withPath("length",function(){S!==T&&(f.record(S,T),d=!1)}),h=0;h<S||h<T;h++)f.withPath(h,function(){d=n(h<S?s[h]:void 0,h<T?u[h]:void 0,c,l,p,f)&&d});if(!d)return!1}else if(e.isMap(s)&&e.isMap(u)){if(s.size!=u.size)return f.record(s,u),!1;var R=[],F=[];s.forEach(function(e,t){R.push(t)}),u.forEach(function(e,t){F.push(t)});var O,A,C,N,_,q,M=[R,F],P=[F,R];for(h=0;d&&h<M.length;h++){O=M[h],_=P[h];for(var k=0;d&&k<O.length;k++)A=O[k],q=_[k],C=s.get(A),N=t(A)||t(q)&&n(A,q,c,l,p,e.NullDiffBuilder())?u.get(q):u.get(A),d=n(C,N,c,l,p,e.NullDiffBuilder())}if(!d)return f.record(s,u),!1}else if(e.isSet(s)&&e.isSet(u)){if(s.size!=u.size)return f.record(s,u),!1;var I=[];s.forEach(function(e){I.push(e)});var D=[];u.forEach(function(e){D.push(e)});var J,L,B,U,H,W,G,Y,z=[[I,D],[D,I]],X=[[c,l],[l,c]];for(h=0;d&&h<z.length;h++){J=z[h][0],U=z[h][1],B=X[h][0],W=X[h][1];for(var $=0;d&&$<J.length;$++){L=J[$],G=!1;for(var K=0;!G&&K<U.length;K++)H=U[K],Y=B.length,(G=n(L,H,B,W,p,e.NullDiffBuilder()))||Y===B.length||(B.splice(Y),W.splice(Y));d=d&&G}}if(!d)return f.record(s,u),!1}else{var V=s.constructor,Q=u.constructor;if(V!==Q&&i(V)&&i(Q)&&s instanceof V&&u instanceof Q&&!(V instanceof V&&Q instanceof Q))return f.record(s,u,a),!1}var Z,ee=r(s,"[object Array]"==g);j=ee.length;if(r(u,"[object Array]"==g).length!==j)return f.record(s,u,o),!1;for(h=0;h<j;h++)Z=ee[h],e.util.has(u,Z)?f.withPath(Z,function(){n(s[Z],u[Z],c,l,p,f)||(d=!1)}):(f.record(s,u,o),d=!1);if(!d)return!1;c.pop();l.pop();return d}(n,s,[],[],u=u||[],c=c||e.NullDiffBuilder())}function r(t,n){var r=Object.keys?Object.keys(t):function(t){var n=[];for(var r in t)e.util.has(t,r)&&n.push(r);return n}(t);if(!n)return r;if(0===r.length)return r;for(var i=[],o=0;o<r.length;o++)/^[0-9]+$/.test(r[o])||i.push(r[o]);return i}function i(e){return"function"==typeof e}function o(t,n,r){var i=e.util.objectDifference(n,t),o=e.util.objectDifference(t,n),a=s(i),u=s(o),c=[];return r.depth()||(r="object"),a.length&&c.push("Expected "+r+" to have properties"+a),u.length&&c.push("Expected "+r+" not to have properties"+u),c.join("\n")}function a(t,n,r){return r.depth()||(r="object"),"Expected "+r+" to be a kind of "+e.fnNameFor(n.constructor)+", but was "+e.pp(t)+"."}function s(t){var n="";for(var r in t)n+="\n    "+r+": "+e.pp(t[r]);return n}},getJasmineRequireObj().nothing=function(){return function(){return{compare:function(){return{pass:!0}}}}},getJasmineRequireObj().NullDiffBuilder=function(e){return function(){return{withPath:function(e,t){t()},record:function(){}}}},getJasmineRequireObj().ObjectPath=function(e){function t(e){this.components=e||[]}function n(e){return"number"==typeof e?"["+e+"]":/^[A-Za-z\$_][A-Za-z0-9\$_]*$/.test(e)?"."+e:"['"+e+"']"}return t.prototype.toString=function(){return this.components.length?"$"+function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return n}(this.components,n).join(""):""},t.prototype.add=function(e){return new t(this.components.concat([e]))},t.prototype.depth=function(){return this.components.length},t},getJasmineRequireObj().toBe=function(){return function(){return{compare:function(e,t){return{pass:e===t}}}}},getJasmineRequireObj().toBeCloseTo=function(){return function(){return{compare:function(e,t,n){if(0!==n&&(n=n||2),null===t||null===e)throw new Error("Cannot use toBeCloseTo with null. Arguments evaluated to: expect("+e+").toBeCloseTo("+t+").");var r=Math.pow(10,n+1),i=Math.abs(t-e),o=Math.pow(10,-n)/2;return{pass:Math.round(i*r)/r<=o}}}}},getJasmineRequireObj().toBeDefined=function(){return function(){return{compare:function(e){return{pass:void 0!==e}}}}},getJasmineRequireObj().toBeFalsy=function(){return function(){return{compare:function(e){return{pass:!e}}}}},getJasmineRequireObj().toBeGreaterThan=function(){return function(){return{compare:function(e,t){return{pass:e>t}}}}},getJasmineRequireObj().toBeGreaterThanOrEqual=function(){return function(){return{compare:function(e,t){return{pass:e>=t}}}}},getJasmineRequireObj().toBeLessThan=function(){return function(){return{compare:function(e,t){return{pass:e<t}}}}},getJasmineRequireObj().toBeLessThanOrEqual=function(){return function(){return{compare:function(e,t){return{pass:e<=t}}}}},getJasmineRequireObj().toBeNaN=function(e){return function(){return{compare:function(t){var n={pass:t!=t};return n.pass?n.message="Expected actual not to be NaN.":n.message=function(){return"Expected "+e.pp(t)+" to be NaN."},n}}}},getJasmineRequireObj().toBeNegativeInfinity=function(e){return function(){return{compare:function(t){var n={pass:t===Number.NEGATIVE_INFINITY};return n.pass?n.message="Expected actual to be -Infinity.":n.message=function(){return"Expected "+e.pp(t)+" not to be -Infinity."},n}}}},getJasmineRequireObj().toBeNull=function(){return function(){return{compare:function(e){return{pass:null===e}}}}},getJasmineRequireObj().toBePositiveInfinity=function(e){return function(){return{compare:function(t){var n={pass:t===Number.POSITIVE_INFINITY};return n.pass?n.message="Expected actual to be Infinity.":n.message=function(){return"Expected "+e.pp(t)+" not to be Infinity."},n}}}},getJasmineRequireObj().toBeTruthy=function(){return function(){return{compare:function(e){return{pass:!!e}}}}},getJasmineRequireObj().toBeUndefined=function(){return function(){return{compare:function(e){return{pass:void 0===e}}}}},getJasmineRequireObj().toContain=function(){return function(e,t){return t=t||[],{compare:function(n,r){return{pass:e.contains(n,r,t)}}}}},getJasmineRequireObj().toEqual=function(e){return function(t,n){return n=n||[],{compare:function(r,i){var o={pass:!1},a=e.DiffBuilder();return o.pass=t.equals(r,i,n,a),o.message=a.getMessage(),o}}}},getJasmineRequireObj().toHaveBeenCalled=function(e){var t=e.formatErrorMsg("<toHaveBeenCalled>","expect(<spyObj>).toHaveBeenCalled()");return function(){return{compare:function(n){var r={};if(!e.isSpy(n))throw new Error(t("Expected a spy, but got "+e.pp(n)+"."));if(arguments.length>1)throw new Error(t("Does not take arguments, use toHaveBeenCalledWith"));return r.pass=n.calls.any(),r.message=r.pass?"Expected spy "+n.and.identity+" not to have been called.":"Expected spy "+n.and.identity+" to have been called.",r}}}},getJasmineRequireObj().toHaveBeenCalledBefore=function(e){var t=e.formatErrorMsg("<toHaveBeenCalledBefore>","expect(<spyObj>).toHaveBeenCalledBefore(<spyObj>)");return function(){return{compare:function(n,r){if(!e.isSpy(n))throw new Error(t("Expected a spy, but got "+e.pp(n)+"."));if(!e.isSpy(r))throw new Error(t("Expected a spy, but got "+e.pp(r)+"."));var i={pass:!1};if(!n.calls.count())return i.message="Expected spy "+n.and.identity+" to have been called.",i;if(!r.calls.count())return i.message="Expected spy "+r.and.identity+" to have been called.",i;var o=n.calls.mostRecent().invocationOrder,a=r.calls.first().invocationOrder;if(i.pass=o<a,i.pass)i.message="Expected spy "+n.and.identity+" to not have been called before spy "+r.and.identity+", but it was";else{var s=n.calls.first().invocationOrder,u=r.calls.mostRecent().invocationOrder;i.message=s<a?"Expected latest call to spy "+n.and.identity+" to have been called before first call to spy "+r.and.identity+" (no interleaved calls)":u>o?"Expected first call to spy "+r.and.identity+" to have been called after latest call to spy "+n.and.identity+" (no interleaved calls)":"Expected spy "+n.and.identity+" to have been called before spy "+r.and.identity}return i}}}},getJasmineRequireObj().toHaveBeenCalledTimes=function(e){var t=e.formatErrorMsg("<toHaveBeenCalledTimes>","expect(<spyObj>).toHaveBeenCalledTimes(<Number>)");return function(){return{compare:function(n,r){if(!e.isSpy(n))throw new Error(t("Expected a spy, but got "+e.pp(n)+"."));var i=Array.prototype.slice.call(arguments,0),o={pass:!1};if(!e.isNumber_(r))throw new Error(t("The expected times failed is a required argument and must be a number."));var a=(n=i[0]).calls.count(),s=1===r?"once":r+" times";return o.pass=a===r,o.message=o.pass?"Expected spy "+n.and.identity+" not to have been called "+s+". It was called "+a+" times.":"Expected spy "+n.and.identity+" to have been called "+s+". It was called "+a+" times.",o}}}},getJasmineRequireObj().toHaveBeenCalledWith=function(e){var t=e.formatErrorMsg("<toHaveBeenCalledWith>","expect(<spyObj>).toHaveBeenCalledWith(...arguments)");return function(n,r){return{compare:function(){var i=Array.prototype.slice.call(arguments,0),o=i[0],a=i.slice(1),s={pass:!1};if(!e.isSpy(o))throw new Error(t("Expected a spy, but got "+e.pp(o)+"."));return o.calls.any()?(n.contains(o.calls.allArgs(),a,r)?(s.pass=!0,s.message=function(){return"Expected spy "+o.and.identity+" not to have been called with "+e.pp(a)+" but it was."}):s.message=function(){return"Expected spy "+o.and.identity+" to have been called with "+e.pp(a)+" but actual calls were "+e.pp(o.calls.allArgs()).replace(/^\[ | \]$/g,"")+"."},s):(s.message=function(){return"Expected spy "+o.and.identity+" to have been called with "+e.pp(a)+" but it was never called."},s)}}}},getJasmineRequireObj().toHaveClass=function(e){return function(t,n){return{compare:function(t,n){if(!((r=t)&&r.classList&&e.isFunction_(r.classList.contains)))throw new Error(e.pp(t)+" is not a DOM element");var r;return{pass:t.classList.contains(n)}}}}},getJasmineRequireObj().toMatch=function(e){var t=e.formatErrorMsg("<toMatch>","expect(<expectation>).toMatch(<string> || <regexp>)");return function(){return{compare:function(n,r){if(!e.isString_(r)&&!e.isA_("RegExp",r))throw new Error(t("Expected is not a String or a RegExp"));return{pass:new RegExp(r).test(n)}}}}},getJasmineRequireObj().toThrow=function(e){var t=e.formatErrorMsg("<toThrow>","expect(function() {<expectation>}).toThrow()");return function(n){return{compare:function(r,i){var o,a={pass:!1},s=!1;if("function"!=typeof r)throw new Error(t("Actual is not a Function"));try{r()}catch(e){s=!0,o=e}return s?1==arguments.length?(a.pass=!0,a.message=function(){return"Expected function not to throw, but it threw "+e.pp(o)+"."},a):(n.equals(o,i)?(a.pass=!0,a.message=function(){return"Expected function not to throw "+e.pp(i)+"."}):a.message=function(){return"Expected function to throw "+e.pp(i)+", but it threw "+e.pp(o)+"."},a):(a.message="Expected function to throw an exception.",a)}}}},getJasmineRequireObj().toThrowError=function(e){var t=e.formatErrorMsg("<toThrowError>","expect(function() {<expectation>}).toThrowError(<ErrorConstructor>, <message>)");function n(e){return{pass:!0,message:e}}function r(e){return{pass:!1,message:e}}return function(){return{compare:function(a){var s,u=function(){var r,a;if(arguments[2]){if(a=arguments[1],r=arguments[2],!o(a))throw new Error(t("Expected error type is not an Error."));return i(r,a)}return arguments[1]?(r=arguments[1],o(arguments[1])?i(null,arguments[1]):i(arguments[1],null)):{match:function(t){return n("Expected function not to throw an Error, but it threw "+e.fnNameFor(t)+".")}}}.apply(null,arguments);if("function"!=typeof a)throw new Error(t("Actual is not a Function"));try{return a(),r("Expected function to throw an Error.")}catch(e){s=e}return e.isError_(s)?u.match(s):r(function(){return"Expected function to throw an Error, but it threw "+e.pp(s)+"."})}};function i(i,o){if(i&&!((a=i)instanceof RegExp||"string"==typeof a))throw o?new Error(t("Expected error message is not a string or RegExp.")):new Error(t("Expected is not an Error, string, or RegExp."));var a,s=o?e.fnNameFor(o):"an exception";function u(){return null===i?"":i instanceof RegExp?" with a message matching "+e.pp(i):" with message "+e.pp(i)}function c(e){return(null===o||e instanceof o)&&(null===i||(t=e.message,"string"==typeof i?i==t:i.test(t)));var t}return{match:function(t){return c(t)?n(function(){return"Expected function not to throw "+s+u()+"."}):r(function(){return"Expected function to throw "+s+u()+", but it threw "+function(t){var n=o?e.fnNameFor(t.constructor):"an exception",r="";return i&&(r=" with message "+e.pp(t.message)),n+r}(t)+"."})}}}function o(t){if("function"!=typeof t)return!1;var n=function(){};return n.prototype=t.prototype,e.isError_(new n)}}},getJasmineRequireObj().toThrowMatching=function(e){var t=e.formatErrorMsg("<toThrowMatching>","expect(function() {<expectation>}).toThrowMatching(<Predicate>)");function n(e){return{pass:!1,message:e}}return function(){return{compare:function(r,i){var o;if("function"!=typeof r)throw new Error(t("Actual is not a Function"));if("function"!=typeof i)throw new Error(t("Predicate is not a Function"));try{return r(),n("Expected function to throw an exception.")}catch(e){o=e}return i(o)?{pass:!0,message:"Expected function not to throw an exception matching a predicate."}:n(function(){return"Expected function to throw an exception matching a predicate, but it threw "+function(t){return t&&t.constructor?e.fnNameFor(t.constructor)+" with message "+e.pp(t.message):e.pp(t)}(o)+"."})}}}},getJasmineRequireObj().MockDate=function(){return function(e){var t=0;if(!e||!e.Date)return this.install=function(){},this.tick=function(){},this.uninstall=function(){},this;var n=e.Date;return this.install=function(i){t=i instanceof n?i.getTime():(new n).getTime(),e.Date=r},this.tick=function(e){t+=e=e||0},this.uninstall=function(){t=0,e.Date=n},r.prototype=n.prototype,r.now=function(){if(n.now)return t;throw new Error("Browser does not support Date.now()")},r.toSource=n.toSource,r.toString=n.toString,r.parse=n.parse,r.UTC=n.UTC,this;function r(){switch(arguments.length){case 0:return new n(t);case 1:return new n(arguments[0]);case 2:return new n(arguments[0],arguments[1]);case 3:return new n(arguments[0],arguments[1],arguments[2]);case 4:return new n(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return new n(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return new n(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:return new n(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}}}},getJasmineRequireObj().pp=function(e){function t(){this.ppNestLevel_=0,this.seen=[],this.length=0,this.stringParts=[]}function n(){this.message="Exceeded "+e.MAX_PRETTY_PRINT_CHARS+" characters while pretty-printing a value"}return t.prototype.format=function(t){this.ppNestLevel_++;try{e.util.isUndefined(t)?this.emitScalar("undefined"):null===t?this.emitScalar("null"):0===t&&1/t==-1/0?this.emitScalar("-0"):t===e.getGlobal()?this.emitScalar("<global>"):t.jasmineToString?this.emitScalar(t.jasmineToString()):"string"==typeof t?this.emitString(t):e.isSpy(t)?this.emitScalar("spy on "+t.and.identity):t instanceof RegExp?this.emitScalar(t.toString()):"function"==typeof t?this.emitScalar("Function"):1===t.nodeType?this.emitDomElement(t):"number"==typeof t.nodeType?this.emitScalar("HTMLNode"):t instanceof Date?this.emitScalar("Date("+t+")"):e.isSet(t)?this.emitSet(t):e.isMap(t)?this.emitMap(t):e.isTypedArray_(t)?this.emitTypedArray(t):t.toString&&"object"==typeof t&&!e.isArray_(t)&&function(t){return e.isFunction_(t.toString)&&t.toString!==Object.prototype.toString&&t.toString()!==Object.prototype.toString.call(t)}(t)?this.emitScalar(t.toString()):e.util.arrayContains(this.seen,t)?this.emitScalar("<circular reference: "+(e.isArray_(t)?"Array":"Object")+">"):e.isArray_(t)||e.isA_("Object",t)?(this.seen.push(t),e.isArray_(t)?this.emitArray(t):this.emitObject(t),this.seen.pop()):this.emitScalar(t.toString())}catch(e){if(this.ppNestLevel_>1||!(e instanceof n))throw e}finally{this.ppNestLevel_--}},t.prototype.iterateObject=function(t,n){var r=function(t,n){var r=Object.keys?Object.keys(t):function(t){var n=[];for(var r in t)e.util.has(t,r)&&n.push(r);return n}(t);if(!n)return r;if(0===r.length)return r;for(var i=[],o=0;o<r.length;o++)/^[0-9]+$/.test(r[o])||i.push(r[o]);return i}(t,e.isArray_(t)),i=function(e){};t.__lookupGetter__&&(i=function(n){var r=t.__lookupGetter__(n);return!e.util.isUndefined(r)&&null!==r});for(var o=Math.min(r.length,e.MAX_PRETTY_PRINT_ARRAY_LENGTH),a=0;a<o;a++){var s=r[a];n(s,i(s))}return r.length>o},t.prototype.emitScalar=function(e){this.append(e)},t.prototype.emitString=function(e){this.append("'"+e+"'")},t.prototype.emitArray=function(t){if(this.ppNestLevel_>e.MAX_PRETTY_PRINT_DEPTH)this.append("Array");else{var n=Math.min(t.length,e.MAX_PRETTY_PRINT_ARRAY_LENGTH);this.append("[ ");for(var r=0;r<n;r++)r>0&&this.append(", "),this.format(t[r]);t.length>n&&this.append(", ...");var i=this,o=0===t.length;this.iterateObject(t,function(e,n){o?o=!1:i.append(", "),i.formatProperty(t,e,n)})&&this.append(", ..."),this.append(" ]")}},t.prototype.emitSet=function(t){if(this.ppNestLevel_>e.MAX_PRETTY_PRINT_DEPTH)this.append("Set");else{this.append("Set( ");var n=Math.min(t.size,e.MAX_PRETTY_PRINT_ARRAY_LENGTH),r=0;t.forEach(function(e,t){r>=n||(r>0&&this.append(", "),this.format(e),r++)},this),t.size>n&&this.append(", ..."),this.append(" )")}},t.prototype.emitMap=function(t){if(this.ppNestLevel_>e.MAX_PRETTY_PRINT_DEPTH)this.append("Map");else{this.append("Map( ");var n=Math.min(t.size,e.MAX_PRETTY_PRINT_ARRAY_LENGTH),r=0;t.forEach(function(e,t){r>=n||(r>0&&this.append(", "),this.format([t,e]),r++)},this),t.size>n&&this.append(", ..."),this.append(" )")}},t.prototype.emitObject=function(t){var n,r=t.constructor;if(n="function"==typeof r&&t instanceof r?e.fnNameFor(t.constructor):"null",this.append(n),!(this.ppNestLevel_>e.MAX_PRETTY_PRINT_DEPTH)){var i=this;this.append("({ ");var o=!0;this.iterateObject(t,function(e,n){o?o=!1:i.append(", "),i.formatProperty(t,e,n)})&&this.append(", ..."),this.append(" })")}},t.prototype.emitTypedArray=function(t){var n=e.fnNameFor(t.constructor),r=Array.prototype.slice.call(t,0,e.MAX_PRETTY_PRINT_ARRAY_LENGTH),i=Array.prototype.join.call(r,", ");r.length!==t.length&&(i+=", ..."),this.append(n+" [ "+i+" ]")},t.prototype.emitDomElement=function(e){var t="</"+e.tagName.toLowerCase()+">";if(""===e.innerHTML)this.append(e.outerHTML.replace(t,""));else{var n=e.outerHTML.indexOf(e.innerHTML);this.append(e.outerHTML.substring(0,n)),this.append("..."+t)}},t.prototype.formatProperty=function(e,t,n){this.append(t),this.append(": "),n?this.append("<getter>"):this.format(e[t])},t.prototype.append=function(t){var r=function(e,t){if(e.length<=t)return{value:e,truncated:!1};return{value:e=e.substring(0,t-4)+" ...",truncated:!0}}(t,e.MAX_PRETTY_PRINT_CHARS-this.length);if(this.length+=r.value.length,this.stringParts.push(r.value),r.truncated)throw new n},n.prototype=new Error,function(e){var n=new t;return n.format(e),n.stringParts.join("")}},getJasmineRequireObj().QueueRunner=function(e){function t(){}function n(e){var t=!1;return function(){return t||(t=!0,e.apply(null,arguments)),null}}function r(t){var n=t.queueableFns||[];if(this.queueableFns=n.concat(t.cleanupFns||[]),this.firstCleanupIx=n.length,this.onComplete=t.onComplete||function(){},this.clearStack=t.clearStack||function(e){e()},this.onException=t.onException||function(){},this.userContext=t.userContext||new e.UserContext,this.timeout=t.timeout||{setTimeout:setTimeout,clearTimeout:clearTimeout},this.fail=t.fail||function(){},this.globalErrors=t.globalErrors||{pushListener:function(){},popListener:function(){}},this.completeOnFirstError=!!t.completeOnFirstError,this.errored=!1,window.jasmineOnError=this.onException,"function"!=typeof this.onComplete)throw new Error("invalid onComplete "+JSON.stringify(this.onComplete));this.deprecated=t.deprecated}return t.prototype=new Error,e.StopExecutionError=t,r.prototype.execute=function(){var e=this;this.handleFinalError=function(t){e.onException(t)},this.globalErrors.pushListener(this.handleFinalError),this.run(0)},r.prototype.skipToCleanup=function(e){e<this.firstCleanupIx?this.run(this.firstCleanupIx):this.run(e+1)},r.prototype.clearTimeout=function(t){Function.prototype.apply.apply(this.timeout.clearTimeout,[e.getGlobal(),[t]])},r.prototype.setTimeout=function(t,n){return Function.prototype.apply.apply(this.timeout.setTimeout,[e.getGlobal(),[t,n]])},r.prototype.attempt=function(r){var i,o=this,a=!0,s=function(e){h(e),c(e)},u=n(function(){o.clearTimeout(i),o.globalErrors.popListener(s)}),c=n(function(n){function i(){o.completeOnFirstError&&l?o.skipToCleanup(r):o.run(r+1)}u(),e.isError_(n)&&(n instanceof t||o.fail(n),o.errored=l=!0),a?o.setTimeout(i):i()}),l=!1,p=o.queueableFns[r];c.fail=function(){o.fail.apply(null,arguments),o.errored=l=!0,c()},o.globalErrors.pushListener(s),p.timeout&&(i=o.setTimeout(function(){h(new Error("Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.")),c()},p.timeout()));try{if(0!==p.fn.length)return p.fn.call(o.userContext,c),a=!1,{completedSynchronously:!1};var f=p.fn.call(o.userContext);if(f&&e.isFunction_(f.then))return f.then(c,function(e){h(e),c()}),a=!1,{completedSynchronously:!1}}catch(e){h(e),o.errored=l=!0}return u(),{completedSynchronously:!0,errored:l};function h(e){o.onException(e),o.errored=l=!0}},r.prototype.run=function(e){var n,r=this.queueableFns.length,i=this;for(n=e;n<r;n++){var o=this.attempt(n);if(!o.completedSynchronously)return;if(i.errored=o.errored,this.completeOnFirstError&&o.errored)return void this.skipToCleanup(n)}this.clearStack(function(){i.globalErrors.popListener(i.handleFinalError),i.onComplete(i.errored&&new t)})},r},getJasmineRequireObj().ReportDispatcher=function(e){return function(t,n){for(var r=t||[],i=0;i<r.length;i++){var o=r[i];this[o]=function(e){return function(){u(e,arguments)}}(o)}var a=[],s=null;return this.addReporter=function(e){a.push(e)},this.provideFallbackReporter=function(e){s=e},this.clearReporters=function(){a=[]},this;function u(t,r){0===a.length&&null!==s&&a.push(s);var i=r[r.length-1];r=e.util.argsToArray(r).splice(0,r.length-1);for(var o=[],u=0;u<a.length;u++)c(o,a[u],t,r);n({queueableFns:o,onComplete:i,isReporter:!0})}function c(t,n,r,i){var o=n[r];if(o){var a=e.util.cloneArgs(i);o.length<=1?t.push({fn:function(){return o.apply(n,a)}}):t.push({fn:function(e){return o.apply(n,a.concat([e]))}})}}}},getJasmineRequireObj().interface=function(e,t){var n={describe:function(e,n){return t.describe(e,n)},xdescribe:function(e,n){return t.xdescribe(e,n)},fdescribe:function(e,n){return t.fdescribe(e,n)},it:function(){return t.it.apply(t,arguments)},xit:function(){return t.xit.apply(t,arguments)},fit:function(){return t.fit.apply(t,arguments)},beforeEach:function(){return t.beforeEach.apply(t,arguments)},afterEach:function(){return t.afterEach.apply(t,arguments)},beforeAll:function(){return t.beforeAll.apply(t,arguments)},afterAll:function(){return t.afterAll.apply(t,arguments)},expect:function(e){return t.expect(e)},pending:function(){return t.pending.apply(t,arguments)},fail:function(){return t.fail.apply(t,arguments)},spyOn:function(e,n){return t.spyOn(e,n)},spyOnProperty:function(e,n,r){return t.spyOnProperty(e,n,r)},jsApiReporter:new e.JsApiReporter({timer:new e.Timer}),jasmine:e};return e.addCustomEqualityTester=function(e){t.addCustomEqualityTester(e)},e.addMatchers=function(e){return t.addMatchers(e)},e.clock=function(){return t.clock},e.createSpy=function(e,n){return t.createSpy(e,n)},e.createSpyObj=function(e,n){return t.createSpyObj(e,n)},e.addSpyStrategy=function(e,n){return t.addSpyStrategy(e,n)},n},getJasmineRequireObj().Spy=function(e){var t,n=(t=0,function(){return t++});function r(e){this.strategies=[],this.strategyFactory=e}return r.prototype.any=function(){return this.strategies.length>0},r.prototype.getOrCreate=function(e){var t=this.get(e);return t||(t=this.strategyFactory(),this.strategies.push({args:e,strategy:t})),t},r.prototype.get=function(t){var n;for(n=0;n<this.strategies.length;n++)if(e.matchersUtil.equals(t,this.strategies[n].args))return this.strategies[n].strategy},function(t,i,o){var a=function(e,t){switch(e){case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,s,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,s,u,c){return t.apply(this,arguments)};default:return function(){return t.apply(this,arguments)}}}("function"==typeof i?i.length:0,function(){return c.apply(this,Array.prototype.slice.call(arguments))}),s=new function(t){var n=new e.SpyStrategy(t),i=new r(function(){return new e.SpyStrategy(t)});this.and=n,this.exec=function(r,o){var a=i.get(o);if(!a){if(i.any()&&!n.isConfigured())throw new Error("Spy '"+t.name+"' receieved a call with arguments "+e.pp(Array.prototype.slice.call(o))+" but all configured strategies specify other arguments.");a=n}return a.exec(r,o)},this.withArgs=function(){return{and:i.getOrCreate(arguments)}}}({name:t,fn:i,getSpy:function(){return a},customStrategies:o}),u=new e.CallTracker,c=function(){var e={object:this,invocationOrder:n(),args:Array.prototype.slice.apply(arguments)};u.track(e);var t=s.exec(this,arguments);return e.returnValue=t,t};for(var l in i){if("and"===l||"calls"===l)throw new Error("Jasmine spies would overwrite the 'and' and 'calls' properties on the object being spied upon");a[l]=i[l]}return a.and=s.and,a.withArgs=function(){return s.withArgs.apply(s,arguments)},a.calls=u,a}},getJasmineRequireObj().SpyFactory=function(e){return function(t){var n=this;this.createSpy=function(n,r){return e.Spy(n,r,t())},this.createSpyObj=function(t,r){(e.isObject_(t)||e.isArray_(t))&&e.util.isUndefined(r)&&(r=t,t="unknown");var i={},o=!1;if(e.isArray_(r))for(var a=0;a<r.length;a++)i[r[a]]=n.createSpy(t+"."+r[a]),o=!0;else if(e.isObject_(r))for(var s in r)r.hasOwnProperty(s)&&(i[s]=n.createSpy(t+"."+s),i[s].and.returnValue(r[s]),o=!0);if(!o)throw"createSpyObj requires a non-empty array or object of method names to create spies for";return i}}},getJasmineRequireObj().SpyRegistry=function(e){var t=e.formatErrorMsg("<spyOn>","spyOn(<object>, <methodName>)");return function(n){var r=(n=n||{}).global||e.getGlobal(),i=n.createSpy,o=n.currentSpies||function(){return[]};this.allowRespy=function(e){this.respy=e},this.spyOn=function(n,a){if(e.util.isUndefined(n)||null===n)throw new Error(t("could not find an object to spy upon for "+a+"()"));if(e.util.isUndefined(a)||null===a)throw new Error(t("No method name supplied"));if(e.util.isUndefined(n[a]))throw new Error(t(a+"() method does not exist"));if(n[a]&&e.isSpy(n[a])){if(this.respy)return n[a];throw new Error(t(a+" has already been spied upon"))}var s=Object.getOwnPropertyDescriptor(n,a);if(s&&!s.writable&&!s.set)throw new Error(t(a+" is not declared writable or has no setter"));var u,c=n[a],l=i(a,c);return u=Object.prototype.hasOwnProperty.call(n,a)||n===r&&"onerror"===a?function(){n[a]=c}:function(){delete n[a]||(n[a]=c)},o().push({restoreObjectToOriginalState:u}),n[a]=l,l},this.spyOnProperty=function(t,n,r){if(r=r||"get",e.util.isUndefined(t))throw new Error("spyOn could not find an object to spy upon for "+n);if(e.util.isUndefined(n))throw new Error("No property name supplied");var a=e.util.getPropertyDescriptor(t,n);if(!a)throw new Error(n+" property does not exist");if(!a.configurable)throw new Error(n+" is not declared configurable");if(!a[r])throw new Error("Property "+n+" does not have access type "+r);if(e.isSpy(a[r]))throw new Error(n+" has already been spied upon");var s,u=e.util.clone(a),c=i(n,a[r]);return s=Object.prototype.hasOwnProperty.call(t,n)?function(){Object.defineProperty(t,n,u)}:function(){delete t[n]},o().push({restoreObjectToOriginalState:s}),a[r]=c,Object.defineProperty(t,n,a),c},this.clearSpies=function(){for(var e=o(),t=e.length-1;t>=0;t--)e[t].restoreObjectToOriginalState()}}},getJasmineRequireObj().SpyStrategy=function(e){function t(t){t=t||{},this.identity=t.name||"unknown",this.originalFn=t.fn||function(){},this.getSpy=t.getSpy||function(){},this.plan=this._defaultPlan=function(){};var r,i=t.customStrategies||{};for(r in i)e.util.has(i,r)&&!this[r]&&(this[r]=n(i[r]))}function n(t){return function(){var n=t.apply(null,arguments);if(!e.isFunction_(n))throw new Error("Spy strategy must return a function");return this.plan=n,this.getSpy()}}return t.prototype.exec=function(e,t){return this.plan.apply(e,t)},t.prototype.callThrough=function(){return this.plan=this.originalFn,this.getSpy()},t.prototype.returnValue=function(e){return this.plan=function(){return e},this.getSpy()},t.prototype.returnValues=function(){var e=Array.prototype.slice.call(arguments);return this.plan=function(){return e.shift()},this.getSpy()},t.prototype.throwError=function(e){var t=e instanceof Error?e:new Error(e);return this.plan=function(){throw t},this.getSpy()},t.prototype.callFake=function(t){if(!e.isFunction_(t)&&!e.isAsyncFunction_(t))throw new Error("Argument passed to callFake should be a function, got "+t);return this.plan=t,this.getSpy()},t.prototype.stub=function(e){return this.plan=function(){},this.getSpy()},t.prototype.isConfigured=function(){return this.plan!==this._defaultPlan},t},getJasmineRequireObj().StackTrace=function(e){var t=[{re:/^\s*at ([^\)]+) \(([^\)]+)\)$/,fnIx:1,fileLineColIx:2,style:"v8"},{re:/\s*at (.+)$/,fileLineColIx:1,style:"v8"},{re:/^(([^@\s]+)@)?([^\s]+)$/,fnIx:2,fileLineColIx:3,style:"webkit"}];return function(e){var n=e.split("\n").filter(function(e){return""!==e});n[0].match(/^Error/)?this.message=n.shift():this.message=void 0;var r=function(e){var n=null,r=e.map(function(e){var r=function(e,t){var n,r;for(n=0;n<e.length;n++)if(r=t(e[n]))return r}(t,function(t){var r,i=e.match(t.re);return i&&(r=i[t.fileLineColIx].match(/^(.*):(\d+):\d+$/))?(n=n||t.style,{raw:e,file:r[1],line:parseInt(r[2],10),func:i[t.fnIx]}):null});return r||{raw:e}});return{style:n,frames:r}}(n);this.frames=r.frames,this.style=r.style}},getJasmineRequireObj().Suite=function(e){function t(e){this.env=e.env,this.id=e.id,this.parentSuite=e.parentSuite,this.description=e.description,this.expectationFactory=e.expectationFactory,this.expectationResultFactory=e.expectationResultFactory,this.throwOnExpectationFailure=!!e.throwOnExpectationFailure,this.beforeFns=[],this.afterFns=[],this.beforeAllFns=[],this.afterAllFns=[],this.children=[],this.result={id:this.id,description:this.description,fullName:this.getFullName(),failedExpectations:[],deprecationWarnings:[]}}function n(e){for(var t=0;t<e.length;t++)e[t].fn=null}return t.prototype.expect=function(e){return this.expectationFactory(e,this)},t.prototype.getFullName=function(){for(var e=[],t=this;t;t=t.parentSuite)t.parentSuite&&e.unshift(t.description);return e.join(" ")},t.prototype.pend=function(){this.markedPending=!0},t.prototype.beforeEach=function(e){this.beforeFns.unshift(e)},t.prototype.beforeAll=function(e){this.beforeAllFns.push(e)},t.prototype.afterEach=function(e){this.afterFns.unshift(e)},t.prototype.afterAll=function(e){this.afterAllFns.unshift(e)},t.prototype.cleanupBeforeAfter=function(){n(this.beforeAllFns),n(this.afterAllFns),n(this.beforeFns),n(this.afterFns)},t.prototype.addChild=function(e){this.children.push(e)},t.prototype.status=function(){return this.markedPending?"pending":this.result.failedExpectations.length>0?"failed":"passed"},t.prototype.canBeReentered=function(){return 0===this.beforeAllFns.length&&0===this.afterAllFns.length},t.prototype.getResult=function(){return this.result.status=this.status(),this.result},t.prototype.sharedUserContext=function(){return this.sharedContext||(this.sharedContext=this.parentSuite?this.parentSuite.clonedSharedUserContext():new e.UserContext),this.sharedContext},t.prototype.clonedSharedUserContext=function(){return e.UserContext.fromExisting(this.sharedUserContext())},t.prototype.onException=function(){if(!(arguments[0]instanceof e.errors.ExpectationFailed)){var t={matcherName:"",passed:!1,expected:"",actual:"",error:arguments[0]},n=this.expectationResultFactory(t);this.parentSuite||(n.globalErrorType="afterAll"),this.result.failedExpectations.push(n)}},t.prototype.addExpectationResult=function(){if(!arguments[0]){var t=arguments[1];if(this.result.failedExpectations.push(this.expectationResultFactory(t)),this.throwOnExpectationFailure)throw new e.errors.ExpectationFailed}},t.prototype.addDeprecationWarning=function(e){"string"==typeof e&&(e={message:e}),this.result.deprecationWarnings.push(this.expectationResultFactory(e))},t},void 0==typeof window&&"object"==typeof exports&&(exports.Suite=jasmineRequire.Suite),getJasmineRequireObj().Timer=function(){var e=function(e){return function(){return(new e).getTime()}}(Date);return function(t){var n,r=(t=t||{}).now||e;this.start=function(){n=r()},this.elapsed=function(){return r()-n}}},getJasmineRequireObj().TreeProcessor=function(){return function(e){var t=e.tree,n=e.runnableIds,r=e.queueRunnerFactory,i=e.nodeStart||function(){},o=e.nodeComplete||function(){},a=e.orderChildren||function(e){return e.children},s=e.excludeNode||function(e){return!1},u={valid:!0},c=!1,l=1/0,p=-1/0;function f(e){return void 0===e?l:e}function h(e){return void 0===e?p:e}function d(e,t){return e.children?{fn:function(n){r({onComplete:function(){e.cleanupBeforeAfter(),o(e,e.getResult(),n)},queueableFns:[{fn:function(t){i(e,t)}}].concat(m(e,t)),userContext:e.sharedUserContext(),onException:function(){e.onException.apply(e,arguments)}})}}:{fn:function(t){e.execute(t,u[e.id].excluded)}}}function m(e,t){for(var n=[],r=u[e.id].segments[t].nodes,i=0;i<r.length;i++)n.push(d(r[i].owner,r[i].index));return u[e.id].willExecute?e.beforeAllFns.concat(n).concat(e.afterAllFns):n}this.processTree=function(){return function e(t,r){var i=function(e){for(var t=0;t<n.length;t++)if(n[t]===e)return t}(t.id);if(void 0!==i&&(r=!1),t.children){for(var o=!1,c=a(t),d=0;d<c.length;d++){var m=c[d];if(e(m,r),!u.valid)return;var y=u[m.id];o=o||y.willExecute}u[t.id]={excluded:r,willExecute:o},function(e,t,n,r){var i={index:0,owner:e,nodes:[],min:f(r),max:h(r)},o=[i],a=p,s=function(e){for(var t=[],n=[],r=0;r<e.length;r++)for(var i=e[r],o=u[i.id].segments,a=0;a<o.length;a++){var s=o[a];s.min===l?n.push(s):t.push(s)}return t.sort(function(e,t){return e.min-t.min}),t.concat(n)}(t);function c(e){return a!==p&&e!==l&&a<e-1}for(var d=0;d<s.length;d++){var m=s[d],y=m.max,g=m.min;c(g)&&(i={index:o.length,owner:e,nodes:[],min:l,max:p},o.push(i)),i.nodes.push(m),i.min=Math.min(i.min,g),i.max=Math.max(i.max,y),a=y}n.segments=o}(t,c,u[t.id],i),!t.canBeReentered()&&u[t.id].segments.length>1&&(u={valid:!1})}else{var g=r||s(t);u[t.id]={excluded:g,willExecute:!g&&!t.markedPending,segments:[{index:0,owner:t,nodes:[t],min:f(i),max:h(i)}]}}}(t,!0),c=!0,u},this.execute=function(e){if(c||this.processTree(),!u.valid)throw"invalid order";var n=m(t,0);r({queueableFns:n,userContext:t.sharedUserContext(),onException:function(){t.onException.apply(t,arguments)},onComplete:e})}}},getJasmineRequireObj().UserContext=function(e){function t(){}return t.fromExisting=function(e){var n=new t;for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},t},getJasmineRequireObj().version=function(){return"3.1.0"},jasmineRequire.html=function(e){e.ResultsNode=jasmineRequire.ResultsNode(),e.HtmlReporter=jasmineRequire.HtmlReporter(e),e.QueryString=jasmineRequire.QueryString(),e.HtmlSpecFilter=jasmineRequire.HtmlSpecFilter()},jasmineRequire.HtmlReporter=function(e){var t={start:function(){},elapsed:function(){return 0}};function n(){this.topResults=new e.ResultsNode({},"",null),this.currentParent=this.topResults,this.specsExecuted=0,this.failureCount=0,this.pendingSpecCount=0}return n.prototype.suiteStarted=function(e){this.currentParent.addChild(e,"suite"),this.currentParent=this.currentParent.last()},n.prototype.suiteDone=function(e){this.currentParent.updateResult(e),this.currentParent!==this.topResults&&(this.currentParent=this.currentParent.parent),"failed"===e.status&&this.failureCount++},n.prototype.specStarted=function(e){},n.prototype.specDone=function(e){this.currentParent.addChild(e,"spec"),"excluded"!==e.status&&this.specsExecuted++,"failed"===e.status&&this.failureCount++,"pending"==e.status&&this.pendingSpecCount++},function(r){var o,a,s,u=r.env||{},c=r.getContainer,l=r.createElement,p=r.createTextNode,f=r.navigateWithNewParam||function(){},h=r.addToExistingQueryString||function(e,t){return"?"+e+"="+t},d=r.filterSpecs,m=r.timer||t,y=[];this.initialize=function(){var t;(t=j(""))&&c().removeChild(t),o=S("div",{className:"jasmine_html-reporter"},S("div",{className:"jasmine-banner"},S("a",{className:"jasmine-title",href:"http://jasmine.github.io/",target:"_blank"}),S("span",{className:"jasmine-version"},e.version)),S("ul",{className:"jasmine-symbol-summary"}),S("div",{className:"jasmine-alert"}),S("div",{className:"jasmine-results"},S("div",{className:"jasmine-failures"}))),c().appendChild(o)},this.jasmineStarted=function(e){s=e.totalSpecsDefined||0,m.start()};var g=S("div",{className:"jasmine-summary"}),v=new n;this.suiteStarted=function(e){v.suiteStarted(e)},this.suiteDone=function(e){v.suiteDone(e),"failed"===e.status&&b.push(E(e)),x(e)},this.specStarted=function(e){v.specStarted(e)};var b=[];return this.specDone=function(e){v.specDone(e),O(e)&&"undefined"!=typeof console&&void 0!==console.error&&console.error("Spec '"+e.fullName+"' has no expectations."),a||(a=j(".jasmine-symbol-summary")),a.appendChild(S("li",{className:O(e)?"jasmine-empty":"jasmine-"+e.status,id:"spec_"+e.id,title:e.fullName})),"failed"===e.status&&b.push(E(e)),x(e)},this.jasmineDone=function(e){var t=j(".jasmine-banner"),n=j(".jasmine-alert"),r=e&&e.order;if(n.appendChild(S("span",{className:"jasmine-duration"},"finished in "+m.elapsed()/1e3+"s")),t.appendChild(function(e){var t=S("div",{className:"jasmine-run-options"},S("span",{className:"jasmine-trigger"},"Options"),S("div",{className:"jasmine-payload"},S("div",{className:"jasmine-stop-on-failure"},S("input",{className:"jasmine-fail-fast",id:"jasmine-fail-fast",type:"checkbox"}),S("label",{className:"jasmine-label",for:"jasmine-fail-fast"},"stop execution on spec failure")),S("div",{className:"jasmine-throw-failures"},S("input",{className:"jasmine-throw",id:"jasmine-throw-failures",type:"checkbox"}),S("label",{className:"jasmine-label",for:"jasmine-throw-failures"},"stop spec on expectation failure")),S("div",{className:"jasmine-random-order"},S("input",{className:"jasmine-random",id:"jasmine-random-order",type:"checkbox"}),S("label",{className:"jasmine-label",for:"jasmine-random-order"},"run tests in random order")))),n=t.querySelector("#jasmine-fail-fast");n.checked=e.stoppingOnSpecFailure(),n.onclick=function(){f("failFast",!e.stoppingOnSpecFailure())};var r=t.querySelector("#jasmine-throw-failures");r.checked=e.throwingExpectationFailures(),r.onclick=function(){f("throwFailures",!e.throwingExpectationFailures())};var i=t.querySelector("#jasmine-random-order");i.checked=e.randomTests(),i.onclick=function(){f("random",!e.randomTests())};var o=t.querySelector(".jasmine-trigger"),a=t.querySelector(".jasmine-payload"),s=/\bjasmine-open\b/;return o.onclick=function(){s.test(a.className)?a.className=a.className.replace(s,""):a.className+=" jasmine-open"},t}(u)),v.specsExecuted<s){var o="Ran "+v.specsExecuted+" of "+s+" specs - run all",a=h("spec","");n.appendChild(S("span",{className:"jasmine-bar jasmine-skipped"},S("a",{href:a,title:"Run all specs"},o)))}var c,l,p="",E="jasmine-overall-result jasmine-bar ",w=e&&e.failedExpectations||[],C=v.failureCount+w.length>0;(s>0||C)&&(p+=T("spec",v.specsExecuted)+", "+T("failure",v.failureCount),v.pendingSpecCount&&(p+=", "+T("pending spec",v.pendingSpecCount))),"passed"===e.overallStatus?E+=" jasmine-passed ":"incomplete"===e.overallStatus?(E+=" jasmine-incomplete ",p="Incomplete: "+e.incompleteReason+", "+p):E+=" jasmine-failed ",r&&r.random&&(c=S("span",{className:"jasmine-seed-bar"},", randomized with seed ",S("a",{title:"randomized with seed "+r.seed,href:(l=r.seed,h("seed",l))},r.seed))),n.appendChild(S("span",{className:E},p,c));var N="AfterAll ";for(i=0;i<w.length;i++)n.appendChild(S("span",{className:"jasmine-bar jasmine-errored"},_(w[i])));function _(e){if("load"===e.globalErrorType){var t="Error during loading: "+e.message;return e.filename?t+" in "+e.filename+" line "+e.lineno:t}return N+e.message}for(x(e),i=0;i<y.length;i++){var q=y[i];n.appendChild(S("span",{className:"jasmine-bar jasmine-warning"},"DEPRECATION: "+q))}if(j(".jasmine-results").appendChild(g),function e(t,n){for(var r,i=0;i<t.children.length;i++){var o=t.children[i];if(!d||A(o)){if("suite"===o.type){var a=S("ul",{className:"jasmine-suite",id:"suite-"+o.result.id},S("li",{className:"jasmine-suite-detail jasmine-"+o.result.status},S("a",{href:R(o.result)},o.result.description)));e(o,a),n.appendChild(a)}if("spec"===o.type){"jasmine-specs"!==n.getAttribute("class")&&(r=S("ul",{className:"jasmine-specs"}),n.appendChild(r));var s=o.result.description;O(o.result)&&(s="SPEC HAS NO EXPECTATIONS "+s),"pending"===o.result.status&&""!==o.result.pendingReason&&(s=s+" PENDING WITH MESSAGE: "+o.result.pendingReason),r.appendChild(S("li",{className:"jasmine-"+o.result.status,id:"spec-"+o.result.id},S("a",{href:R(o.result)},s)))}}}}(v.topResults,g),b.length){n.appendChild(S("span",{className:"jasmine-menu jasmine-bar jasmine-spec-list"},S("span",{},"Spec List | "),S("a",{className:"jasmine-failures-menu",href:"#"},"Failures"))),n.appendChild(S("span",{className:"jasmine-menu jasmine-bar jasmine-failure-list"},S("a",{className:"jasmine-spec-list-menu",href:"#"},"Spec List"),S("span",{}," | Failures "))),j(".jasmine-failures-menu").onclick=function(){F("jasmine-failure-list")},j(".jasmine-spec-list-menu").onclick=function(){F("jasmine-spec-list")},F("jasmine-failure-list");var M=j(".jasmine-failures");for(i=0;i<b.length;i++)M.appendChild(b[i])}},this;function E(e){for(var t=S("div",{className:"jasmine-spec-detail jasmine-failed"},function(e,t){for(var n,r=S("div",{className:"jasmine-description"},S("a",{title:e.description,href:R(e)},e.description));t&&t.parent;)r.insertBefore(p(" > "),r.firstChild),n=S("a",{href:w(t)},t.result.description),r.insertBefore(n,r.firstChild),t=t.parent;return r}(e,v.currentParent),S("div",{className:"jasmine-messages"})),n=t.childNodes[1],r=0;r<e.failedExpectations.length;r++){var i=e.failedExpectations[r];n.appendChild(S("div",{className:"jasmine-result-message"},i.message)),n.appendChild(S("div",{className:"jasmine-stack-trace"},i.stack))}return t}function w(e){for(var t=[];e&&e.parent;)t.unshift(e.result.description),e=e.parent;return h("spec",t.join(" "))}function x(t){if(t&&t.deprecationWarnings)for(var n=0;n<t.deprecationWarnings.length;n++){var r=t.deprecationWarnings[n].message;e.util.arrayContains(r)||y.push(r)}}function j(e){return c().querySelector(".jasmine_html-reporter "+e)}function S(e,t,n){for(var r=l(e),i=2;i<arguments.length;i++){var o=arguments[i];"string"==typeof o?r.appendChild(p(o)):o&&r.appendChild(o)}for(var a in t)"className"==a?r[a]=t[a]:r.setAttribute(a,t[a]);return r}function T(e,t){return t+" "+(1==t?e:e+"s")}function R(e){return h("spec",e.fullName)}function F(e){o.setAttribute("class","jasmine_html-reporter "+e)}function O(e){return e.failedExpectations.length+e.passedExpectations.length===0&&"passed"===e.status}function A(e){if("spec"==e.type&&"excluded"!=e.result.status)return!0;if("suite"==e.type)for(var t=0,n=e.children.length;t<n;t++)if(A(e.children[t]))return!0}}},jasmineRequire.HtmlSpecFilter=function(){return function(e){var t=e&&e.filterString()&&e.filterString().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=new RegExp(t);this.matches=function(e){return n.test(e)}}},jasmineRequire.ResultsNode=function(){return function e(t,n,r){this.result=t,this.type=n,this.parent=r,this.children=[],this.addChild=function(t,n){this.children.push(new e(t,n,this))},this.last=function(){return this.children[this.children.length-1]},this.updateResult=function(e){this.result=e}}},jasmineRequire.QueryString=function(){return function(e){return this.navigateWithNewParam=function(t,n){e.getWindowLocation().search=this.fullStringWithNewParam(t,n)},this.fullStringWithNewParam=function(e,n){var r=t();return r[e]=n,function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return"?"+t.join("&")}(r)},this.getParam=function(e){return t()[e]},this;function t(){var t=e.getWindowLocation().search.substring(1),n=[],r={};if(t.length>0){n=t.split("&");for(var i=0;i<n.length;i++){var o=n[i].split("="),a=decodeURIComponent(o[1]);"true"!==a&&"false"!==a||(a=JSON.parse(a)),r[decodeURIComponent(o[0])]=a}}return r}}},function(){window.jasmine=jasmineRequire.core(jasmineRequire),jasmineRequire.html(jasmine);var e=jasmine.getEnv(),t=jasmineRequire.interface(jasmine,e);!function(e,t){for(var n in t)e[n]=t[n]}(window,t);var n=new jasmine.QueryString({getWindowLocation:function(){return window.location}}),r=!!n.getParam("spec"),i=n.getParam("failFast");e.stopOnSpecFailure(i);var o=n.getParam("throwFailures");e.throwOnExpectationFailure(o);var a=n.getParam("random");void 0!==a&&""!==a&&e.randomizeTests(a);var s=n.getParam("seed");s&&e.seed(s);var u=new jasmine.HtmlReporter({env:e,navigateWithNewParam:function(e,t){return n.navigateWithNewParam(e,t)},addToExistingQueryString:function(e,t){return n.fullStringWithNewParam(e,t)},getContainer:function(){return document.body},createElement:function(){return document.createElement.apply(document,arguments)},createTextNode:function(){return document.createTextNode.apply(document,arguments)},timer:new jasmine.Timer,filterSpecs:r});e.addReporter(t.jsApiReporter),e.addReporter(u);var c=new jasmine.HtmlSpecFilter({filterString:function(){return n.getParam("spec")}});e.specFilter=function(e){return c.matches(e.getFullName())},window.setTimeout=window.setTimeout,window.setInterval=window.setInterval,window.clearTimeout=window.clearTimeout,window.clearInterval=window.clearInterval,window.jasmineOnload=function(){u.initialize()}}();
kony.gestures=function(){var e=function(e,t){var i,o;return i=e.pageX-t.pageX,o=e.pageY-t.pageY,Math.sqrt(i*i+o*o)},t=function(e,t,i,o,s,n){var r,h,d,a,l,g=t.overlayWidgets||[],c=e.parentNode.getBoundingClientRect();for(d=s?[o.x-c.x,o.y-c.y]:[0,0],e=$KW.Utils.getWidgetNodeFromNodeByModel(t,e),r=0;r<g.length;r++)h=g[r],a=e.querySelector("#"+h.id),(a=$KW.Utils.getWidgetNodeFromNodeByModel(h,a))&&(a=a.parentNode,l={x:h.originalFrame.x,y:h.originalFrame.y,height:h.originalFrame.height,width:h.originalFrame.width},h.finalFrame={left:l.x*i-d[0]+kony.flex.PX,top:l.y*i-d[1]+kony.flex.PX,height:l.height+kony.flex.PX,width:l.width+kony.flex.PX},$KW.FlexUtils.setWidgetPosition(h,h.finalFrame,a),h.frame=$KW.FlexLayoutEngine.getWidgetFrame(h,{width:l.width,height:l.height},h.finalFrame))},i={imagePinchZoom:function(){this.transformProp1=kony.ui.makeAffineTransform(),this.clientRects=[],this.finalScale=this.completeScale=1,this.registerPinch=function(e){this.finalScale=this.completeScale=e.zoomvalue,this.addGestureRecognizer(e)},this.addGestureRecognizer=function(e){var t=e?document.querySelector("#"+$KW.Utils.getKMasterWidgetID(e)):document;this.widgetNode=t,this.widgetModel=e,kony.events.addEventListener(t,"touchstart",this,!1),kony.events.addEventListener(t,"touchmove",this,!1),kony.events.addEventListener(t,"touchend",this,!1)}},longPress:function(){this.longPressDelay=1e3,this.registerLongPress=function(e,t){this.widgetNode=e,this.widgetModel=t,kony.events.addEventListener(e,"touchstart",this,!1),kony.events.addEventListener(e,"touchmove",this,!1),kony.events.addEventListener(e,"touchend",this,!1),kony.events.addEventListener(e,"contextmenu",this,!1)}},pan:function(){this.registerPan=function(e,t){this.widgetNode=t,this.widgetModel=e,kony.events.addEventListener(t,"touchstart",this,!1),kony.events.addEventListener(t,"touchmove",this,!1),kony.events.addEventListener(t,"touchend",this,!1)}}};return i.imagePinchZoom.prototype={handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e)}},onTouchStart:function(e){},onTouchMove:function(t){var i,o,s=t.touches;s.length>=2&&(this.capture=1,o=e(s[0],s[1]),this.initialPinchDistance?Math.abs(this.initialPinchDistance-o)>1&&(this.scale=o/this.initialPinchDistance,i={scale:this.scale,touches:s,gestureState:2},this.perFormPinchAndZoom(this.widgetModel,i)):(this.initialPinchDistance=o,i={gestureState:1},this.perFormPinchAndZoom(this.widgetModel,i)))},onTouchEnd:function(e){var t={scale:this.scale,gestureState:3};delete this.initialPinchDistance,delete this.capture,this.perFormPinchAndZoom(this.widgetModel,t)},perFormPinchAndZoom:function(e,i){var o,s,n,r,h,d,a,l,g,c,u=i.scale,p=$KU.getNodeByModel(e);1===i.gestureState?this.clientRects=p.parentNode.getBoundingClientRect():2===i.gestureState?this.completeScale*u<=20&&this.completeScale*u>=1&&this.finalScale*u<=20&&this.finalScale*u>=1&&((n=(s=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"]).options).disableUserScroll=!0,n.vScroll=!1,n.hScroll=!1,s.refresh(),this.transformProp1.scale(u,u),o=$KW.animUtils.applyTransform(e,this.transformProp1),p.parentNode.style[vendor+"Transform"]=o,p.parentNode.style.transform=o,this.triggeredPinch=!0,r=function(e,t){var i=(t[0].pageX+t[1].pageX)/2,o=(t[0].pageY+t[1].pageY)/2,s=e.x,n=e.y,r=s+e.width,h=n+e.height;return[Math.abs((i-s)/(r-s)),Math.abs((o-n)/(h-n))]}(this.clientRects,i.touches),p.parentNode.style[vendor+"TransformOrigin"]=100*r[0]+"% "+100*r[1]+"% ",this.completeScale=this.finalScale*u,t(p,e,this.completeScale,this.clientRects,!0)):this.triggeredPinch&&(d=(h=p.parentNode.getBoundingClientRect()).height,a=h.width,c=p.getBoundingClientRect(),p.parentNode.style.removeProperty(vendor+"Transform"),p.parentNode.style.removeProperty("transform"),p.parentNode.style.removeProperty("transform-origin"),p.parentNode.style.height=d+"px",p.parentNode.style.width=a+"px",p.style.height=c.height+"px",p.style.width=c.width+"px",l=$KW.Utils.getWidgetNodeFromNodeByModel(e,p).getBoundingClientRect(),g={x:h.x-l.x,y:h.y-l.y},(n=(s=$KG[$KW.Utils.getKMasterWidgetID(e)+"_scroller"]).options).disableUserScroll=!1,n.vScroll=!0,n.hScroll=!0,s.contentoffsetmove=!0,s.refresh(),s.scrollTo(g.x,g.y,0),s.moved=!1,s.contentoffsetmove=!1,t(p,e,this.completeScale,l,!1),this.finalScale=this.completeScale,this.widgetModel.zoomvalue=this.finalScale,delete this.triggeredPinch)},removePinch:function(e){e=e||this.widgetNode;kony.events.removeEventListener(e,"touchstart",this,!1),kony.events.removeEventListener(e,"touchmove",this,!1),kony.events.removeEventListener(e,"touchend",this,!1)}},i.longPress.prototype={handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"contextmenu":return!1}},onTouchStart:function(e){var t,i,o,s,n,r,h,d=(new Date).valueOf();if(this.last=this.doubleTimer=d,this.curTarget=e.currentTarget,t=this,"Image"===this.widgetModel.wType&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1),(o=(i=$KG[$KW.Utils.getKMasterWidgetID(this.widgetModel.parent)+"_scroller"]).options).disableUserScroll=!0,o.vScroll=!1,o.hScroll=!1,i.refresh(),this.startTouch=e.touches[0],s=this.widgetModel.parent.frame,n=(r=$KU.getNodeByModel(this.widgetModel.parent)).parentNode.getBoundingClientRect(),h=$KW.Utils.getWidgetNodeFromNodeByModel(this.widgetModel.parent,r).getBoundingClientRect(),this.offset={x:n.x-h.x,y:n.y-h.y},this.boundingFrame={x:s.width,y:s.height},$KU.getNodeByModel(this.widgetModel.parent),this.longPressTimer=setTimeout(function(){t.onLongPress(e)},this.longPressDelay),this.widgetModel.ontouchstart&&$KU.executeWidgetEventHandler(this.widgetModel,this.widgetModel.ontouchstart),"Image"===this.widgetModel.wType)return!1},onTouchMove:function(t){var i,o,s;if("Image"===this.widgetModel.wType&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1),this.endTouch=t.touches[0],e(this.startTouch,this.endTouch)>10&&!this.longPressTriggered?this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null,this.longPressTriggered=!1):this.longPressTriggered&&(o=this.endTouch,s=this.startTouch,i=[o.pageX-s.pageX,o.pageY-s.pageY],function(e,t){var i=this.widgetModel.originalFrame,o=i.x*t+e[0],s=i.y*t+e[1],n=o+this.offset.x,r=s+this.offset.y;e[0]>0&&(n+=i.width),e[1]>0&&(r+=i.height),(n<0||n>this.boundingFrame.x||r<0||r>this.boundingFrame.y)&&(o=i.x*t,s=i.y*t,this.longPressTriggered=null),this.widgetModel.finalFrame.left=o+"px",this.widgetModel.finalFrame.top=s+"px",$KW.FlexUtils.setWidgetPosition(this.widgetModel,this.widgetModel.finalFrame,this.widgetNode.parentNode),this.widgetModel.frame=$KW.FlexLayoutEngine.getWidgetFrame(this.widgetModel,{width:this.widgetModel.frame.width,height:this.widgetModel.frame.height},this.widgetModel.finalFrame)}.call(this,i,this.widgetModel.parent.zoomvalue)),"Image"===this.widgetModel.wType)return!1},onTouchEnd:function(e){var t,i,o;if("Image"===this.widgetModel.wType&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1),(i=(t=$KG[$KW.Utils.getKMasterWidgetID(this.widgetModel.parent)+"_scroller"]).options).disableUserScroll=!1,i.vScroll=!0,i.hScroll=!0,t.refresh(),this.longPressTriggered&&(this.longPressTimer=null,this.longPressTriggered=!1,o=this.widgetModel.parent.zoomvalue,this.widgetModel.originalFrame.x=this.widgetModel.frame.x/o,this.widgetModel.originalFrame.y=this.widgetModel.frame.y/o),this.widgetModel.ontouchend&&$KU.executeWidgetEventHandler(this.widgetModel,this.widgetModel.ontouchend),"Image"===this.widgetModel.wType)return!1},onLongPress:function(e){clearTimeout(this.longPressTimer),this.longPressTimer=null,this.longPressTriggered=!0}},i.pan.prototype={handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"contextmenu":return!1}},onTouchStart:function(e){var t={};this.startTouch=e.touches[0],t.x1=this.startTouch.pageX,t.y1=this.startTouch.pageY,t.widgetModel=this.widgetModel,t.widgetNode=e.currentTarget,this.widgetModel.widgetswipemove&&this.widgetModel.swipeConfig.gestureStart.call(this.widgetModel.swipeConfig,this.widgetModel,t)},onTouchMove:function(e){var t={};this.moveTouch=e.touches[0],t.x2=this.moveTouch.pageX,t.y2=this.moveTouch.pageY,t.widgetModel=this.widgetModel,t.widgetNode=e.currentTarget,this.widgetModel.widgetswipemove&&this.widgetModel.swipeConfig.gestureMove.call(this.widgetModel.swipeConfig,this.widgetModel,t)},onTouchEnd:function(e){var t={};this.endTouch=e.changedTouches[0],t.x2=this.endTouch.pageX,t.y2=this.endTouch.pageY,t.widgetModel=this.widgetModel,t.widgetNode=e.currentTarget,this.widgetModel.widgetswipemove&&this.widgetModel.swipeConfig.gestureEnd.call(this.widgetModel.swipeConfig,this.widgetModel,t)},removePan:function(e){e=e||this.widgetNode;kony.events.removeEventListener(e,"touchstart",this,!1),kony.events.removeEventListener(e,"touchmove",this,!1),kony.events.removeEventListener(e,"touchend",this,!1)}},i}();
$KW.Camera={render:function(r,e){return""}};
kony.inherits=function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.baseConstructor=e,t.superClass=e.prototype},kony.ui={Widget:function(t,e,i){if(arguments.length<3)throw new KonyError(101,"Error","Invalid number of arguments");if(void 0===t.id||null===t.id||""===t.id)throw new KonyError(1102,"WidgetError","Widget cannot be created due to invalid input data.");this.constructorList=[t,e,i],this.id=t.id,this.focusskin=t.focusSkin,this.isvisible=void 0===t.isVisible||t.isVisible&&!0,t.i18n_text&&(this.i18n_text=t.i18n_text),this.containerweight=e.containerWeight||0,this.retainflexpositionproperties=this.retainFlexPositionProperties=e.retainFlexPositionProperties,this.retaincontentalignment=this.retainContentAlignment=e.retainContentAlignment;var n=$KW.FlexUtils.shouldApplyRTL(this,"contentAligment");this.contentalignment=n?$KW.Utils.getMirrorAlignment(e.contentAlignment):e.contentAlignment,this.isContentAlignmentMirrored=n,this.widgetalignment=e.widgetAlignment,this.marginInPixel=e.marginInPixel,this.paddingInPixel=e.paddingInPixel,this.blockeduiskin=i.blockedUISkin,this.hexpand=void 0!==e.hExpand&&e.hExpand,this.enabled=!1,this.canUpdateUI=!0,this.onclick=t.onClick,this.accessibilityconfig=t.accessibilityConfig,this.widgetswipemove=t.widgetSwipeMove,defineGetter(this,"widgetSwipeMove",function(){return this.widgetswipemove}),defineSetter(this,"widgetSwipeMove",function(t){var e=this.widgetswipemove;this.widgetswipemove=t,kony.model.updateView(this,"widgetSwipeMove",t,e)}),defineGetter(this,"accessibilityConfig",function(){return this.accessibilityconfig}),defineSetter(this,"accessibilityConfig",function(t){var e=this.accessibilityconfig;this.accessibilityconfig=t,kony.model.updateView(this,"accessibilityConfig",t,e)});var o=$KW.FlexUtils.shouldApplyRTL(this,"flexPosition");this._margin=e.margin?e.margin:[0,0,0,0],defineGetter(this,"margin",function(){return this._margin}),defineSetter(this,"margin",function(t){this._margin=t,$KU.isArray(t)&&kony.model.updateView(this,"margin",t)}),this._padding=e.padding?o?$KW.Utils.getMirroredMarginPadding(e.padding):e.padding:[0,0,0,0],defineGetter(this,"padding",function(){return this._padding}),defineSetter(this,"padding",function(t){var e=this._padding;this._padding=t,$KU.isArray(t)&&kony.model.updateView(this,"padding",t),$KU.inArray($KU.contentDrivenWidgets,this.wType)[0]&&$KW.FlexUtils.setLayoutConfig(this,t,e)}),this._skin=t.skin,defineGetter(this,"skin",function(){return this._skin}),defineSetter(this,"skin",function(t){var e=this._skin;(this._skin=t,this.canUpdateUI)&&(kony.model.updateView(this,"skin",t,e),$KU.inArray($KU.contentDrivenWidgets,this.wType)[0]&&$KW.FlexUtils.setLayoutConfig(this,t,e),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent))}),this.onDrag=t.onDrag,this.frame={x:0,y:0,width:0,height:0},this.layoutConfig={self:!0,children:!1},this._left=o?t.right:t.left,defineGetter(this,"left",function(){return this._left}),defineSetter(this,"left",function(t){var e=this._left;this._left=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"left"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this._right=o?t.left:t.right,defineGetter(this,"right",function(){return this._right}),defineSetter(this,"right",function(t){var e=this._right;this._right=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"right"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this.isFlexPositionPropertiesMirrored=o,this._top=t.top,defineGetter(this,"top",function(){return this._top}),defineSetter(this,"top",function(t){var e=this._top;this._top=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"top"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this._bottom=t.bottom,defineGetter(this,"bottom",function(){return this._bottom}),defineSetter(this,"bottom",function(t){var e=this._bottom;this._bottom=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"bottom"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this._width=t.width,defineGetter(this,"width",function(){return this._width}),defineSetter(this,"width",function(t){var e=this._width;this._width=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"width"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this._height=t.height,defineGetter(this,"height",function(){return this._height}),defineSetter(this,"height",function(t){var e=this._height;this._height=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"height"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this.minwidth=t.minWidth,defineGetter(this,"minWidth",function(){return this.minwidth}),defineSetter(this,"minWidth",function(t){var e=this.minwidth;this.minwidth=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"minWidth"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this.maxwidth=t.maxWidth,defineGetter(this,"maxWidth",function(){return this.maxwidth}),defineSetter(this,"maxWidth",function(t){var e=this.maxwidth;this.maxwidth=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"maxWidth"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this.minheight=t.minHeight,defineGetter(this,"minHeight",function(){return this.minheight}),defineSetter(this,"minHeight",function(t){var e=this.minheight;this.minheight=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"minHeight"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this.maxheight=t.maxHeight,defineGetter(this,"maxHeight",function(){return this.maxheight}),defineSetter(this,"maxHeight",function(t){var e=this.maxheight;this.maxheight=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"maxHeight"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this.centerx=t.centerX,defineGetter(this,"centerX",function(){return this.centerx}),defineSetter(this,"centerX",function(t){var e=this.centerx;this.centerx=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"centerX"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this.centery=t.centerY,defineGetter(this,"centerY",function(){return this.centery}),defineSetter(this,"centerY",function(t){var e=this.centery;this.centery=t,$KW.FlexUtils.setLayoutConfig(this,t,e),$KW.FlexUtils.handleContainerData(this,t,"centerY"),this.isImageOverlayWidget&&$KW.Image.adjustImageOverlayWidgets(this.parent)}),this.zindex=t.zIndex||1,defineGetter(this,"zIndex",function(){return this.zindex}),defineSetter(this,"zIndex",function(t){this.zindex!==t&&(this.zindex=t,kony.model.updateView(this,"zindex",t),$KU.checkAndReCalculateTopFlexModal(this))}),this.dolayout=t.doLayout,defineGetter(this,"doLayout",function(){return this.dolayout}),defineSetter(this,"doLayout",function(t){this.dolayout=t}),this._opacity=void 0===t.opacity?1:t.opacity,defineGetter(this,"opacity",function(){return this._opacity}),defineSetter(this,"opacity",function(t){this._opacity=t,kony.model.updateView(this,"opacity",t)}),this._transform=t.transform,defineGetter(this,"transform",function(){return this._transform}),defineSetter(this,"transform",function(t){this._transform=t,kony.model.updateView(this,"transform",t)}),this.anchorpoint=t.anchorPoint,defineGetter(this,"anchorPoint",function(){return this.anchorpoint}),defineSetter(this,"anchorPoint",function(t){anchorpoint=t,kony.model.updateView(this,"anchorpoint",t)}),this.backgroundcolor=t.backgroundColor,defineGetter(this,"backgroundColor",function(){return this.backgroundcolor}),defineSetter(this,"backgroundColor",function(t){this.backgroundcolor=t,kony.model.updateView(this,"backgroundcolor",t)}),this.borderwidth=t.borderWidth,defineGetter(this,"borderWidth",function(){return this.borderwidth}),defineSetter(this,"borderWidth",function(t){this.borderwidth=t,kony.model.updateView(this,"borderwidth",t)}),this.bordercolor=t.borderColor,defineGetter(this,"borderColor",function(t){return this.bordercolor}),defineSetter(this,"borderColor",function(t){this.bordercolor=t,kony.model.updateView(this,"bordercolor",t)}),this.cornerradius=t.cornerRadius,defineGetter(this,"cornerRadius",function(){return this.cornerradius}),defineSetter(this,"cornerRadius",function(t){this.cornerradius=t,kony.model.updateView(this,"cornerradius",t)}),defineGetter(this,"shadowColor",function(){return this.shadowcolor}),defineSetter(this,"shadowColor",function(t){this.shadowcolor=t,kony.model.updateView(this,"shadowcolor",t)}),defineGetter(this,"shadowRadius",function(){return this.shadowradius}),defineSetter(this,"shadowRadius",function(t){this.shadowradius=t,kony.model.updateView(this,"shadowradius",t)}),defineGetter(this,"shadowOffset",function(){return this.shadowoffset}),defineSetter(this,"shadowOffset",function(t){this.shadowoffset=t,kony.model.updateView(this,"shadowoffset",t)}),this.flexblur=t.blur||{enabled:!1,value:0},defineGetter(this,"blur",function(){return this.flexblur}),defineSetter(this,"blur",function(t){var e=this.flexblur;if(this.flexblur=t,t&&(void 0==t.enabled||void 0==t.value))throw this.flexblur=e,new KonyError(102,"Exception","Invalid input.");kony.model.updateView(this,"flexblur",t,e)}),kony.ui.Widget.prototype.setGetterSetter.call(this),this.onTouchStart=t.onTouchStart,this.onTouchMove=t.onTouchMove,this.onTouchEnd=t.onTouchEnd,this.onscrollwidgetposition=t.onScrollWidgetPosition},ContainerWidget:function(t,e,i){kony.ui.ContainerWidget.baseConstructor.call(this,t,e,i),"kony.ui.FlexContainer"!=this.name&&(this.orientation=t.orientation||constants.BOX_LAYOUT_HORIZONTAL),this.percent=void 0===e.percent||e.percent,!1===this.percent&&(this.widgetdirection=e.layoutAlignment),this.isContainerWidget=!0,this.ownchildrenref=[],this.children=[]},GroupWidget:function(t,e,i){kony.ui.GroupWidget.baseConstructor.call(this,t,e,i),this.onselection=t.onSelection,this.masterdata=t.masterData,this.masterdatamap=t.masterDataMap,this.selectedkeyvalue=null,this.selectedkey=t.selectedKey||null,kony.ui.GroupWidget.prototype.setGetterSetter.call(this)},createAnimation:function(t){return $KU.logExecuting("kony.ui.createAnimation"),$KU.logExecutingWithParams("kony.ui.createAnimation",t),$KU.logExecutingFinished("kony.ui.createAnimation"),new $KW.Animator(t)},makeAffineTransform:function(){return $KU.logExecuting("kony.ui.makeAffineTransform"),$KU.logExecutingWithParams("kony.ui.makeAffineTransform"),$KU.logExecutingFinished("kony.ui.makeAffineTransform"),new $KW.Transform},enableCapturingAnimationRuntimeData:function(){$KG.appbehaviors.captureAniamtionData=!0},disableCapturingAnimationRuntimeData:function(){$KG.appbehaviors.captureAniamtionData=!1}},kony.inherits(kony.ui.GroupWidget,kony.ui.Widget),kony.inherits(kony.ui.ContainerWidget,kony.ui.Widget),kony.ui.Widget.prototype.setVisibility=function(t){$KW.APIUtils.setvisibility(this,t),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.Widget.prototype.setFocus=function(){$KW.APIUtils.setfocus(this)},kony.ui.Widget.prototype.setEnabled=function(t){$KW.APIUtils.setenabled(this,t)},kony.ui.Widget.prototype.addGestureRecognizer=function(t,e,i){return $KW.Widget.addgesturerecognizer(this,t,e,i)},kony.ui.Widget.prototype.setGestureRecognizer=function(t,e,i){return $KW.Widget.setgesturerecognizer(this,t,e,i)},kony.ui.Widget.prototype.removeGestureRecognizer=function(t){$KW.Widget.removegesturerecognizer(this,t)},kony.ui.Widget.prototype.toString=function(){return JSON.stringify(this,$KU.jsonReplacer)},kony.ui.Widget.prototype.removeFromParent=function(){this.parent&&(this.parent.id==this.pf?formWidgetExtendRemove.call(this.parent,this):boxWidgetExtendRemove.call(this.parent,this))},kony.ui.Widget.prototype.setWidgetFrame=function(t,e){$KW.Utils.setWidgetFrame(this,t,e)},kony.ui.Widget.prototype.animate=function(t,e,i){t&&t.animate&&t.animate(this,e,i)},kony.ui.Widget.prototype.getPreferredSize=function(t){return $KW.FlexUtils.getPreferredSize(this,t)},kony.ui.Widget.prototype.convertPointToWidget=function(t,e){return $KW.FlexUtils.convertPointToWidget(this,t,e)},kony.ui.Widget.prototype.convertPointFromWidget=function(t,e){return $KW.FlexUtils.convertPointFromWidget(this,t,e)},kony.ui.Widget.prototype.clone=function(t){return owl.deepCopy(this,void 0,t||"")},kony.ui.Widget.prototype.unregisterForPeekandPop,kony.ui.Widget.prototype.setOnPop=kony.ui.Widget.prototype.setOnPeek=kony.ui.Widget.prototype.registerForPeekandPop=kony.ui.Widget.prototype.setBadge=kony.ui.Widget.prototype.getBadge=function(){kony.web.logger("warn","This method is not supported in SPA")},kony.ui.Widget.prototype.setGetterSetter=function(){defineGetter(this,"contentAlignment",function(){return this.contentalignment}),defineSetter(this,"contentAlignment",function(t){var e=this.contentalignment;this.contentalignment=t,kony.model.updateView(this,"contentalignment",t,e)}),defineGetter(this,"containerWeight",function(){return this.containerweight}),defineSetter(this,"containerWeight",function(t){var e=this.containerweight;this.containerweight=t,kony.model.updateView(this,"containerweight",t,e)}),defineGetter(this,"focusSkin",function(){return this.focusskin}),defineSetter(this,"focusSkin",function(t){var e=this.focusskin;this.focusskin=t,kony.model.updateView(this,"focusskin",t,e)}),defineGetter(this,"isVisible",function(){return this.isvisible}),defineSetter(this,"isVisible",function(t){var e=this.isvisible;this.isvisible=t,e!=t&&(kony.model.updateView(this,"isvisible",t),$KU.checkAndReCalculateTopFlexModal(this))}),defineGetter(this,"blockedUISkin",function(){return this.blockeduiskin}),defineSetter(this,"blockedUISkin",function(t){this.blockeduiskin=t}),defineGetter(this,"onClick",function(){return this.onclick}),defineSetter(this,"onClick",function(t){this.onclick=t}),defineGetter(this,"onTouchStart",function(){return this.ontouchstart}),defineSetter(this,"onTouchStart",function(t){this.ontouchstart=t,kony.model.updateView(this,"touchstart",t)}),defineGetter(this,"onScrollWidgetPosition",function(){return this.onscrollwidgetposition}),defineSetter(this,"onScrollWidgetPosition",function(t){this.onscrollwidgetposition=t}),defineGetter(this,"onTouchMove",function(){return this.ontouchmove}),defineSetter(this,"onTouchMove",function(t){this.ontouchmove=t,kony.model.updateView(this,"touchmove",t)}),defineGetter(this,"onTouchEnd",function(){return this.ontouchend}),defineSetter(this,"onTouchEnd",function(t){this.ontouchend=t,kony.model.updateView(this,"touchend",t)})},kony.ui.ContainerWidget.prototype.add=function(t){containerWidgetExtendAdd.call(this,t)},kony.ui.ContainerWidget.prototype.addAt=function(t,e){containerWidgetExtendAddAt.call(this,t,e)},kony.ui.ContainerWidget.prototype.remove=function(t){containerWidgetExtendRemove.call(this,t)},kony.ui.ContainerWidget.prototype.removeAt=function(t){return containerWidgetExtendRemoveAt.call(this,t)},kony.ui.ContainerWidget.prototype.removeAll=function(t){return containerWidgetExtendRemoveAll.call(this,t)},kony.ui.ContainerWidget.prototype.widgets=function(){return this.ownchildrenref},kony.ui.ContainerWidget.prototype.setparent=function(t){containerWidgetExtendSetParent.call(this,t)},kony.ui.ContainerWidget.prototype.createhierarchy=function(t){containerWidgetExtendCreateHierarchy.call(this,t)},kony.ui.ContainerWidget.prototype.removeReferences=function(t){containerWidgetExtendRemoveReferences.call(this,t)},kony.ui.GroupWidget.prototype.setGetterSetter=function(){defineGetter(this,"onSelection",function(){return this.onselection}),defineSetter(this,"onSelection",function(t){this.onselection=t}),defineGetter(this,"masterData",function(){return this.masterdata}),defineSetter(this,"masterData",function(t){this.masterdata=t,$KW[this.wType].updateView(this,"masterdata",t)}),defineGetter(this,"masterDataMap",function(){return this.masterdatamap}),defineSetter(this,"masterDataMap",function(t){this.masterdatamap=t,$KW[this.wType].updateView(this,"masterdatamap",t)}),defineGetter(this,"selectedKey",function(){return this.selectedkey}),defineSetter(this,"selectedKey",function(t){this.selectedkey=t,$KW[this.wType].updateView(this,"selectedkey",t)}),defineGetter(this,"selectedKeyValue",function(){return this.selectedkeyvalue}),defineSetter(this,"selectedKeyValue",function(){})},_konyConstNS=IndexJL?konyLua:kony.ui;
kony.ui.Form2=function(t,e,o){arguments.length<3&&(t=e=o=$KU.mergeDefaults(t,$KU.getAllDefaults("Form2"))),this.layouttype=t.layoutType||e.layoutType||kony.flex.VBOX_LAYOUT,this.layouttype==kony.flex.VBOX_LAYOUT||this.layouttype==constants.CONTAINER_LAYOUT_GRID?kony.ui.Form2.baseConstructor.call(this,t,e,o):(kony.ui.FlexScrollContainer.call(this,t,e,o),$KU.extend(Object.getPrototypeOf?Object.getPrototypeOf(this):this.constructor.prototype,kony.ui.FlexScrollContainer.prototype)),this.type=t.type,this.needAppMenu=this.needappmenu=void 0===t.needAppMenu||t.needAppMenu&&!0,this.enabledForIdleTimeout=this.enabledforidletimeout=t.enabledForIdleTimeout||o.enabledForIdleTimeout||!1,t.i18n_title&&(this.i18n_title=t.i18n_title),this.headers=t.headers&&t.headers.splice(0),this.footers=t.footers&&t.footers.splice(0),this.addWidgets=t.addWidgets,this.onDestroy=t.onDestroy,this.init=t.init,this.preshow=t.preShow,this.postshow=t.postShow,this.onhide=t.onHide||o.onHide,this.onorientationchange=t.onOrientationChange,this.preorientationchange=t.preOrientationChange,defineGetter(this,"layoutType",function(){return this.layouttype}),this.addWidgetsEventWidgetsList=[],this.initEventWidgetsList=[],this.displayOrientation=e.displayOrientation||constants.FORM_DISPLAY_ORIENTATION_BOTH,this.resetFocusToTop=o.resetFocusToTop,this.useTransform=o.useTransform,this.retainScrollPosition=this.retainscrollposition=o.retainScrollPosition||!1,this.dockableAppmenu=this.dockableappmenu=o.dockableAppmenu,this.dockableHeader=this.dockableheader=o.dockableHeader,this.dockableFooter=this.dockablefooter=o.dockableFooter,this.intransitionconfig=o.inTransitionConfig,this.outtransitionconfig=o.outTransitionConfig,this._konyControllerName=t._konyControllerName,this.allboxes=[],this.wType="Form",this.addWidgetsdone=this.initdone=!1,this.addWidgets||(this.addWidgetsdone=!0),this.name="kony.ui.Form2",$KG.allforms[this.id]=this,defineGetter(this,"layoutType",function(){return this.layouttype});var i=t.title;defineGetter(this,"title",function(){return this.i18n_title&&-1!=this.i18n_title.toLowerCase().indexOf("i18n.getlocalizedstring")?$KU.getI18NValue(this.i18n_title):i}),defineSetter(this,"title",function(t){i=t,this.canUpdateUI&&(this.i18n_title="",$KW[this.wType].updateView(this,"title",t))}),kony.ui.Form2.prototype.setGetterSetter(),this.headers&&this.commonHeaderFooterSetup("headers"),this.footers&&this.commonHeaderFooterSetup("footers");var n=t.addWidgets;defineGetter(this,"addWidgets",function(){return n}),defineSetter(this,"addWidgets",function(t){n=t,this.addWidgetsdone=!1}),this.formgetter=function(){var e=t.id,o=this;if(this._konyControllerName)return o.addWidgetsdone||(o.addWidgetsdone=!0,o.ownchildrenref=[],o.children=[],o.addWidgets&&o.addWidgets(o),$KU.widgets.invokeAddWidgetsEventForInternalWidgets(o.addWidgetsEventWidgetsList)),o;defineGetter(window,e,function(){return o.addWidgetsdone||(o.addWidgetsdone=!0,o.ownchildrenref=[],o.children=[],o.addWidgets&&o.addWidgets(o),$KU.widgets.invokeAddWidgetsEventForInternalWidgets(o.addWidgetsEventWidgetsList)),o})},this.formsetter=function(){var e=t.id,o=this;defineSetter(window,e,function(){return o})},this.formgetter(),this._konyControllerName||this.formsetter(),this.ondeviceback=o.onDeviceBack,defineGetter(this,"onDeviceBack",function(){return this.ondeviceback}),defineSetter(this,"onDeviceBack",function(t){this.ondeviceback=t}),Object.defineProperty(this,"topLayerFCModal",{configurable:!0,enumerable:!1,get:function(){return this._topLayerFCModal},set:function(t){this._topLayerFCModal=t}})},kony.inherits(kony.ui.Form2,kony.ui.ContainerWidget),kony.ui.Form2.prototype.add=function(){var t=[].slice.call(arguments);formWidgetExtendAdd.call(this,t),$KU.checkAndReCalculateTopFlexModal(this,this)},kony.ui.Form2.prototype.addAt=function(t,e){formWidgetExtendAddAt.call(this,t,e),$KU.checkAndReCalculateTopFlexModal(this,this)},kony.ui.Form2.prototype.destroy=function(){this._destroy({isMVC:!1})},kony.ui.Form2.prototype._destroy=function(t){if($KG.__currentForm.id!==this.id){for(var e=this.widgets(),o=0;o<e.length;o++)removeAllReferences(e[o]),e[o]instanceof _konyConstNS.ContainerWidget&&(e[o]=$KW.Utils.getActualWidgetModel(e[o]),"FlexContainer"===e[o].wType&&e[o].destroy(),delete this[e[o].id]);this.onDestroy&&this.onDestroy(this),this.addWidgetsdone=!1,this.initdone=!1,this.ownchildrenref=[],this.children=[],t.isMVC&&delete $KG.allforms[this.id]}else kony.web.logger("warn","Current form destroy can not be done")},kony.ui.Form2.prototype.remove=function(t){formWidgetExtendRemove.call(this,t),$KU.checkAndReCalculateTopFlexModal(this,this)},kony.ui.Form2.prototype.removeAt=function(t){var e=formWidgetExtendRemoveAt.call(this,t);return $KU.checkAndReCalculateTopFlexModal(this,this),e},kony.ui.Form2.prototype.removeAll=function(){formWidgetExtendRemoveAll.call(this),$KU.checkAndReCalculateTopFlexModal(this,this)},kony.ui.Form2.prototype.show=function(){if(this._konyControllerName)throw new Error("this API is not applicable on Form "+this.id);this._show()},kony.ui.Form2.prototype.closeNavigationDrawer=kony.ui.Form2.prototype.openNavigationDrawer=kony.ui.Form2.prototype.setBackgroundImageForNavbar=kony.ui.Form2.prototype.setLeftBarButtonItems=kony.ui.Form2.prototype.setRightBarButtonItems=kony.ui.Form2.prototype.setTitleVerticalPositionAdjustment=kony.ui.Form2.prototype.hideTitleBar=kony.ui.Form2.prototype.replaceAt=kony.ui.Form2.prototype.setTitleBarLeftSideButtonSkin=kony.ui.Form2.prototype.setTitleBarRightSideButtonSkin=kony.ui.Form2.prototype.setPreviewActionItems=kony.ui.Form2.prototype.setZoomScale=kony.ui.Form2.prototype.showTitleBar=function(){kony.web.logger("warn","This form method is not supported in SPA")},kony.ui.Form2.prototype._show=function(){this.addWidgetsdone||(this.addWidgetsdone=!0,this.ownchildrenref=[],this.children=[],this.addWidgets&&("string"==typeof this.addWidgets?window[this.addWidgets](this):"function"==typeof this.addWidgets&&this.addWidgets(this)),$KU.widgets.invokeAddWidgetsEventForInternalWidgets(this.addWidgetsEventWidgetsList)),$KG.allforms[this.id]=this,"kony.ui.Form"==this.name?(!this.masterdataloaddone&&this.masterdataload&&this.masterdataload.call(this),!this.transactionaldataloaddone&&this.transactionaldataload&&this.transactionaldataload.call(this),this.transactionaldataloaddone=this.masterdataloaddone=!0):(!this.initdone&&this.init&&$KU.executeWidgetEventHandler(this,this.init),$KU.widgets.invokeInitEventForInternalWidgets(this.initEventWidgetsList),this.initdone=!0),$KU.setActiveInput(),$KU.isAndroid&&$KG.activeInput?$KU.hideKeyboard($KW.Form.show,this):$KW.Form.show(this)},kony.ui.Form2.prototype.scrollToWidget=function(t){$KW.Form.scrollToWidget(this,t)},kony.ui.Form2.prototype.scrollToBeginning=function(){$KW.Form.scrollToBeginning(this)},kony.ui.Form2.prototype.scrollToEnd=function(){$KW.Form.scrollToEnd(this)},kony.ui.Form2.prototype.widgets=function(){return kony.ui.ContainerWidget.prototype.widgets.call(this)},kony.ui.Form2.prototype.createFormLevelHierarchy=function(t){formWidgetExtendCreateFormLevelHierarchy.call(this,t)},kony.ui.Form2.prototype.commonHeaderFooterSetup=function(t){formWidgetExtendCommonHeaderFooterSetup.call(this,t)},kony.ui.Form2.prototype._registerForAddWidgetsEvent=function(t){this.addWidgetsEventWidgetsList.push(t)},kony.ui.Form2.prototype._unRegisterForAddWidgetsEvent=function(t){},kony.ui.Form2.prototype._registerForInitEvent=function(t){this.initEventWidgetsList.push(t)},kony.ui.Form2.prototype._unRegisterForInitEvent=function(t){},kony.ui.Form2.prototype.setGetterSetter=function(){defineGetter(this,"preShow",function(){return this.preshow}),defineSetter(this,"preShow",function(t){this.preshow=t}),defineGetter(this,"postShow",function(){return this.postshow}),defineSetter(this,"postShow",function(t){this.postshow=t}),defineGetter(this,"onHide",function(){return this.onhide}),defineSetter(this,"onHide",function(t){this.onhide=t}),defineGetter(this,"onOrientationChange",function(){return this.onorientationchange}),defineSetter(this,"onOrientationChange",function(t){this.onorientationchange=t}),defineGetter(this,"inTransitionConfig",function(){return this.intransitionconfig}),defineSetter(this,"inTransitionConfig",function(t){this.intransitionconfig=t}),defineGetter(this,"outTransitionConfig",function(){return this.outtransitionconfig}),defineSetter(this,"outTransitionConfig",function(t){this.outtransitionconfig=t}),defineGetter(this,"_konyControllerName",function(){return this.konyControllerName}),defineSetter(this,"_konyControllerName",function(t){this.konyControllerName=t})},kony.ui.Form2.getallboxes=function(t){var e=t;t instanceof Array||(e=[t]),formWidgetExtendGetAllBoxes.call(this,e)},kony.ui.Form2.addHeaderorFooter=function(){formWidgetExtendaddHeaderorFooter.call(this,arguments)},kony.ui.Form=function(t,e,o){kony.ui.Form.baseConstructor.call(this,t,e,o),this.transactionaldataload=t.transactionalDataLoad,this.masterdataload=t.masterDataLoad,this.transactionaldataloaddone=this.masterdataloaddone=!1,this.type=o.formType,this.preShow=this.preshow=o.preShow,this.postShow=this.postshow=o.postShow,this.onHide=this.onhide=o.onHide,this.needAppMenu=this.needappmenu=void 0===o.needAppLevelMenu||o.needAppLevelMenu&&!0,this.headers=o.globalHeaders&&o.globalHeaders.splice(0),this.footers=o.globalFooters&&o.globalFooters.splice(0),this.headers&&this.commonHeaderFooterSetup("headers"),this.footers&&this.commonHeaderFooterSetup("footers"),this.name="kony.ui.Form"},kony.inherits(kony.ui.Form,kony.ui.Form2);
kony.ui.Box=function(t,o,e){arguments.length<3&&(t=o=e=$KU.mergeDefaults(t,$KU.getAllDefaults("HBox"))),kony.ui.Box.baseConstructor.call(this,t,o,e),t.i18n_tabName&&(this.i18n_tabname=t.i18n_tabName),this.position=e&&e.position,this.name="kony.ui.Box",this.allboxes=[],this.orientation==constants.BOX_LAYOUT_HORIZONTAL?this.wType="HBox":this.wType="VBox";var i=e.backgroundimage;defineGetter(this,"backgroundimage",function(){return i}),defineSetter(this,"backgroundimage",function(t){i=t,kony.model.updateView(this,"backgroundimage",t)})},kony.inherits(kony.ui.Box,kony.ui.ContainerWidget),kony.ui.Box.prototype.add=function(){var t=[].slice.call(arguments);boxWidgetExtendAdd.call(this,t)},kony.ui.Box.prototype.addAt=function(t,o){boxWidgetExtendAddAt.call(this,t,o)},kony.ui.Box.prototype.remove=function(t){boxWidgetExtendRemove.call(this,t)},kony.ui.Box.prototype.removeAt=function(t){return boxWidgetExtendRemoveAt.call(this,t)},kony.ui.Box.prototype.widgets=function(){return kony.ui.ContainerWidget.prototype.widgets.call(this)},kony.ui.Box.prototype.updateBoxWeight=function(t){boxWidgetExtendUpdateBoxWeight.call(this,t)};
kony.ui.Button=function(t,e,i){arguments.length<3&&(t=e=i=$KU.mergeDefaults(t,$KU.getAllDefaults("Button"))),kony.ui.Button.baseConstructor.call(this,t,e,i),this.displaytext=void 0===e.displayText||e.displayText&&!0,this.rawBytes=t.rawBytes,this.canUpdateUI=!0,this.wType="Button",this.name="kony.ui.Button",this._text=t.text||"",defineGetter(this,"text",function(){return this._text}),defineSetter(this,"text",function(t){var e=this._text;this._text=t,this.canUpdateUI&&(this.i18n_text="",$KW[this.wType].updateView(this,"text",t),$KW.FlexUtils.setLayoutConfig(this,t,e))})},kony.inherits(kony.ui.Button,kony.ui.Widget),kony.ui.Label=function(t,e,i){arguments.length<3&&(t=e=i=$KU.mergeDefaults(t,$KU.getAllDefaults("Label"))),kony.ui.Label.baseConstructor.call(this,t,e,i),this.canUpdateUI=!0,this.wType="Label",this.name="kony.ui.Label",this._text=t.text||"",defineGetter(this,"text",function(){return this._text}),defineSetter(this,"text",function(t){var e=this._text;this._text=t,this.canUpdateUI&&(this.i18n_text="",$KW[this.wType].updateView(this,"text",t),$KW.FlexUtils.setLayoutConfig(this,t,e))});var n=i.textCopyable;defineGetter(this,"textCopyable",function(){return n}),defineSetter(this,"textCopyable",function(t){n=t,$KW[this.wType].updateView(this,"textCopyable",t)}),this.linespacing=t.lineSpacing,defineGetter(this,"lineSpacing",function(){return this.linespacing}),defineSetter(this,"lineSpacing",function(t){this.linespacing=t,$KW[this.wType].updateView(this,"linespacing",t)})},kony.inherits(kony.ui.Label,kony.ui.Widget),kony.ui.Line=function(t,e,i){arguments.length<3&&(t=e=i=$KU.mergeDefaults(t,$KU.getAllDefaults("Line"))),kony.ui.Line.baseConstructor.call(this,t,e,i),this.wType="Line",this.name="kony.ui.Line";var n=e.thickness;defineGetter(this,"thickness",function(){return n}),defineSetter(this,"thickness",function(t){n=t,$KW[this.wType].updateView(this,"thickness",t)})},kony.inherits(kony.ui.Line,kony.ui.Widget),kony.ui.Link=function(t,e,i){arguments.length<3&&(t=e=i=$KU.mergeDefaults(t,$KU.getAllDefaults("Link"))),kony.ui.Link.baseConstructor.call(this,t,e,i),this.canUpdateUI=!0,this.wType="Link",this.name="kony.ui.Link",this._text=t.text||"",defineGetter(this,"text",function(){return this._text}),defineSetter(this,"text",function(t){var e=this._text;this._text=t,this.canUpdateUI&&(this.i18n_text="",$KW[this.wType].updateView(this,"text",t),$KW.FlexUtils.setLayoutConfig(this,t,e))})},kony.inherits(kony.ui.Link,kony.ui.Widget),kony.ui.Switch=function(t,e,i){arguments.length<3&&(t=e=i=$KU.mergeDefaults(t,$KU.getAllDefaults("Switch"))),kony.ui.Switch.baseConstructor.call(this,t,e,i),this.skin=t.skin,this.leftsidetext=t.leftSideText||"",this.rightsidetext=t.rightSideText||"",t.i18n_rightSideText&&(this.i18n_rightsidetext=t.i18n_rightSideText),t.i18n_leftSideText&&(this.i18n_leftsidetext=t.i18n_leftSideText),this.wType="Switch",this.name="kony.ui.Switch",this.onslide=t.onSlide||null,this.selectedindex=t.selectedIndex==IndexJL?IndexJL:IndexJL+1,this.thumbwidth=t.thumbWidth||"",this.thumbheight=t.thumbHeight||"",this.trackwidth=t.trackWidth||"",this.trackheight=t.trackHeight||"",this.thumbtext=t.thumbText||"",this.thumbskin=t.thumbSkin,this.setGetterSetter()},kony.inherits(kony.ui.Switch,kony.ui.Widget),kony.ui.Switch.prototype.setGetterSetter=function(){defineGetter(this,"leftSideText",function(){return this.leftsidetext}),defineSetter(this,"leftSideText",function(t){this.leftsidetext;this.leftsidetext=t,this.canUpdateUI&&(this.i18n_leftSideText="",$KW[this.wType].updateView(this,"leftsidetext",t))}),defineGetter(this,"rightSideText",function(){return this.rightsidetext}),defineSetter(this,"rightSideText",function(t){this.rightsidetext!=t&&(this.rightsidetext=t,this.canUpdateUI&&(this.i18n_rightSideText="",$KW[this.wType].updateView(this,"rightsidetext",t)))}),defineGetter(this,"onSlide",function(){return this.onslide}),defineSetter(this,"onSlide",function(t){this.onslide=t}),defineGetter(this,"selectedIndex",function(){return this.selectedindex}),defineSetter(this,"selectedIndex",function(t){var e=this.selectedindex;e!=t&&(this.selectedindex=t,$KW[this.wType].updateView(this,"selectedindex",t,e))}),defineGetter(this,"thumbWidth",function(){return this.thumbwidth}),defineSetter(this,"thumbWidth",function(t){this.thumbwidth!=t&&(this.thumbwidth=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"thumbwidth",t))}),defineGetter(this,"thumbHeight",function(){return this.thumbheight}),defineSetter(this,"thumbHeight",function(t){this.thumbheight!=t&&(this.thumbheight=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"thumbheight",t))}),defineGetter(this,"trackHeight",function(){return this.trackheight}),defineSetter(this,"trackHeight",function(t){this.trackheight!=t&&(this.trackheight=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"trackheight",t))}),defineGetter(this,"trackWidth",function(){return this.trackwidth}),defineSetter(this,"trackWidth",function(t){this.trackwidth!=t&&(this.trackwidth=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"trackwidth",t))}),defineGetter(this,"thumbText",function(){return this.thumbtext}),defineSetter(this,"thumbText",function(t){this.thumbtext!=t&&(this.thumbtext=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"thumbtext",t))}),defineGetter(this,"thumbSkin",function(){return this.thumbskin}),defineSetter(this,"thumbSkin",function(t){var e=this.thumbskin;e!=t&&(this.thumbskin=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"thumbskin",t,e))})},kony.ui.Phone=function(t,e,i){arguments.length<3&&(t=e=i=$KU.mergeDefaults(t,$KU.getAllDefaults("Phone"))),kony.ui.Phone.baseConstructor.call(this,t,e,i),this.canUpdateUI=!0,this.wType="Phone",this.name="kony.ui.Phone",this._text=t.text||"",defineGetter(this,"text",function(){return this._text}),defineSetter(this,"text",function(t){var e=this._text;this._text=t,this.canUpdateUI&&(this.i18n_text="",$KW[this.wType].updateView(this,"text",t),$KW.FlexUtils.setLayoutConfig(this,t,e))})},kony.inherits(kony.ui.Phone,kony.ui.Widget),kony.ui.CustomWidget=function(t,e,i){kony.ui.CustomWidget.baseConstructor.call(this,t,e,i);var n=function(t,e,i){defineGetter(t,e,function(){return i[e]}),defineSetter(t,e,function(n){i[e];i[e]=n;for(var h=i.widgetName.split("."),s=window,u=0;u<h.length;u++)s=s[h[u]];s.modelChange(t,e,i[e])})};for(var h in this.wType="TPW",i)n(this,h,i)},kony.inherits(kony.ui.CustomWidget,kony.ui.Widget),kony.ui.Alert=function(t,e,i){$KU.logExecuting("kony.ui.Alert"),$KU.logExecutingWithParams("kony.ui.Alert",t,e,i),$KU.logExecutingFinished("kony.ui.Alert"),$KI.window.alert(t,e,i)};
kony.ui.Calendar=function(t,e,i){arguments.length<3&&(t=e=i=$KU.mergeDefaults(t,$KU.getAllDefaults("Calendar"))),kony.ui.Calendar.baseConstructor.call(this,t,e,i),this.wType="Calendar",this.name="kony.ui.Calendar",this.datecomponents=t.dateComponents||[],this.dateformat=this.format=t.dateFormat||constants.CALENDAR_DATE_FORMAT_DEFAULT,this.formatteddate=this.date,this.validstartdate=t.validStartDate,this.validenddate=t.validEndDate,this.viewtype=this.advview=t.viewType||constants.CALENDAR_VIEW_TYPE_DEFAULT,this.viewconfig=t.viewConfig,this.calendaricon=this.Image=t.calendarIcon,this.onselection=t.onSelection,this.titleonpopup=this.title=i.titleOnPopup,this.noofmonths=i.noOfMonths||i.noofmonths||1,this.dateeditable=!0,this.calimgheight=i.calImgHeight,this.gridtheme=i.gridTheme,this.celltemplate=i.cellTemplate,this.widgetdatamapforcell=i.widgetDataMapForCell;var n=i.data;defineGetter(this,"data",function(){return n}),defineSetter(this,"data",function(t){n=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"data",t)}),defineGetter(this,"widgetDataMapForCell",function(){return this.widgetdatamapforcell}),defineSetter(this,"widgetDataMapForCell",function(t){this.widgetdatamapforcell=t}),defineGetter(this,"calImgHeight",function(){return this.calimgheight}),defineSetter(this,"calImgHeight",function(t){this.calimgheight=t});var a=t.placeholder;defineGetter(this,"placeholder",function(){return a}),defineSetter(this,"placeholder",function(t){a=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"placeholder",t)}),defineGetter(this,"dateEditable",function(){return this.dateeditable}),defineSetter(this,"dateEditable",function(t){1!=!t&&1!=!!t||(this.dateeditable=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"dateeditable",t))}),defineGetter(this,"gridTheme",function(){return this.gridtheme}),defineSetter(this,"gridTheme",function(t){this.gridtheme!==t&&(this.gridtheme=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"gridtheme",t))}),this.selectiontype=i.selectionType,defineGetter(this,"selectionType",function(){return this.selectiontype}),defineSetter(this,"selectionType",function(t){this.selectiontype!==t&&(this.selectiontype=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"selectiontype",t))}),this.selecteddates=t.selectedDates,defineGetter(this,"selectedDates",function(){return this.selecteddates}),defineSetter(this,"selectedDates",function(t){var e=this.selecteddates;$KW.Calendar.isMultiRangeCalendar(this)&&!$KU.equals(e,t)&&($KW.Calendar.isSelectedDatesValid(this,t)?(this.selecteddates=$KW.Calendar.setTimeInDateComponents(t),this.canUpdateUI&&$KW[this.wType].updateView(this,"selecteddates",t)):kony.web.logger("error","Invalid date selection"))});t.date;defineGetter(this,"date",function(){if(!$KW.Calendar.isMultiRangeCalendar(this))return $KW.Calendar.updateCalDOMNode(this),this.formatteddate?this.formatteddate:null}),defineSetter(this,"date",function(t){if(!$KW.Calendar.isMultiRangeCalendar(this)){if(this.Date=t,!t||!t.length)return!1;if("string"==typeof t)var e=$KW.Calendar.getDat(t,this);else e={dd:t[0],mm:t[1],yyyy:t[2]};t&&t.length?(this.day=e.dd,this.month=e.mm,this.year=e.yyyy||e.yy,this.datecomponents||(this.datecomponents=[]),this.datecomponents[0]=e.dd,this.datecomponents[1]=e.mm,this.datecomponents[2]=e.yyyy||e.yy,this.datecomponents[3]=0,this.datecomponents[4]=0,this.datecomponents[5]=0):this.day=this.month=this.year=null,this.hour=this.minutes=this.seconds=0,this.canUpdateUI&&$KW[this.wType].updateView(this,"date",t)}}),this.showcurrentdate=i.showCurrentDate,this.setGetterSetter()},kony.inherits(kony.ui.Calendar,kony.ui.Widget),kony.ui.Calendar.prototype.setGetterSetter=function(){defineGetter(this,"titleOnPopup",function(){return this.title}),defineSetter(this,"titleOnPopup",function(t){this.titleonpopup=this.title=t}),defineGetter(this,"onSelection",function(){return this.onselection}),defineSetter(this,"onSelection",function(t){this.onselection=t}),defineGetter(this,"calendarIcon",function(){return this.calendaricon}),defineSetter(this,"calendarIcon",function(t){this.calendaricon=this.Image=t,$KW[this.wType].updateView(this,"calendaricon",t)}),defineGetter(this,"viewConfig",function(){return this.viewconfig}),defineSetter(this,"viewConfig",function(t){this.viewconfig=t,$KW[this.wType].updateView(this,"viewconfig",t)}),defineGetter(this,"viewType",function(){return this.advview}),defineSetter(this,"viewType",function(t){this.advview=t,$KW[this.wType].updateView(this,"viewtype",t)}),defineGetter(this,"validEndDate",function(){return this.validenddate}),defineSetter(this,"validEndDate",function(t){this.validenddate=t,$KW[this.wType].updateView(this,"validenddate",t)}),defineGetter(this,"validStartDate",function(){return this.validstartdate}),defineSetter(this,"validStartDate",function(t){this.validstartdate=t,$KW[this.wType].updateView(this,"validstartdate",t)}),defineGetter(this,"dateFormat",function(){return this.format}),defineSetter(this,"dateFormat",function(t){var e=this.dateformat;this.dateformat=this.format=t,$KW[this.wType].updateView(this,"dateformat",t),this.placeholder==e?$KW[this.wType].updateView(this,"placeholder",t):$KW[this.wType].updateView(this,"placeholder",this.placeholder||t)}),defineGetter(this,"dateComponents",function(){if(!$KW.Calendar.isMultiRangeCalendar(this))return void 0===this.hour&&(this.hour=this.datecomponents[3]),void 0===this.minutes&&(this.minutes=this.datecomponents[4]),void 0===this.seconds&&(this.seconds=this.datecomponents[5]),[this.day,this.month,this.year,this.hour,this.minutes,this.seconds]}),defineSetter(this,"dateComponents",function(t){$KW.Calendar.isMultiRangeCalendar(this)||(this.datecomponents=this.date=t.slice(0,3),$KW[this.wType].updateView(this,"datecomponents",t))}),defineGetter(this,"formattedDate",function(){return $KW.Calendar.updateCalDOMNode(this),this.formatteddate}),defineSetter(this,"showCurrentDate",function(t){this.showcurrentdate=t}),defineGetter(this,"showCurrentDate",function(){return this.showcurrentdate})},kony.ui.Calendar.prototype.setEnabled=function(t,e,i){if("boolean"==typeof t)return $KW.APIUtils.setenabled(this,t),!1;$KW.Calendar.setEnabled(this,t,0,e,i)},kony.ui.Calendar.prototype.displayedMonth=function(t,e){$KW.Calendar.displayedMonth(this,t,e)},kony.ui.Calendar.prototype.navigateToPreviousMonth=function(){$KW.Calendar.navigateToPreviousMonth(this)},kony.ui.Calendar.prototype.navigateToNextMonth=function(){$KW.Calendar.navigateToNextMonth(this)},kony.ui.Calendar.prototype.enableRangeOfDates=function(t,e,i,n){$KW.Calendar.setEnabled(this,t,e,i,n)},kony.ui.Calendar.prototype.setEnableAll=function(){$KW.Calendar.setEnableAll(this)},kony.ui.Calendar.prototype.setDatesSkin=function(t,e){$KW.Calendar.setDateSkin(this,t,e,!0)},kony.ui.Calendar.prototype.clear=function(){$KW.Calendar.clear(this)},kony.ui.Calendar.prototype.open=function(){$KW.Calendar.open(this)},kony.ui.Calendar.prototype.dismiss=function(){$KW.Calendar.dismiss(this)},kony.ui.Calendar.prototype.setContext=function(t){$KW.Calendar.setcontext(this,t)},kony.ui.Calendar.prototype.clearAppointments=kony.ui.Calendar.prototype.clearData=kony.ui.Calendar.prototype.deleteAppointments=kony.ui.Calendar.prototype.getAppointments=kony.ui.Calendar.prototype.modifyAppointment=kony.ui.Calendar.prototype.removeDataAt=kony.ui.Calendar.prototype.setData=kony.ui.Calendar.prototype.setDataAt=kony.ui.Calendar.prototype.switchToDate=function(){kony.web.logger("warn","This Calendar method is not supported in SPA")};
kony.ui.DataGrid=function(t,e,i){arguments.length<3&&(t=e=i=$KU.mergeDefaults(t,$KU.getAllDefaults("DataGrid"))),kony.ui.DataGrid.baseConstructor.call(this,t,e,i),this.focusedindex=this.focuseditem=this.selecteditems=this.selectedindices=null,this.headerskin=t.headerSkin,this.rownormalskin=t.rowNormalSkin,this.rowfocusskin=t.rowFocusSkin,this.rowalternateskin=t.rowAlternateSkin,this.showcolumnheaders=t.showColumnHeaders,this.columnheadersconfig=t.columnHeadersConfig,this.onrowselected=t.onRowSelected,this.ismultiselect=t.isMultiSelect,this.gridlinecolor=i.gridlineColor;var n=t.data;defineGetter(this,"data",function(){return n}),defineSetter(this,"data",function(t){n=t,this.canUpdateUI&&$KW[this.wType].updateView(this,"data",t)}),this.rowcount=n&&n.length-IndexJL||0,this.wType="DataGrid",this.name="kony.ui.DataGrid",this.canUpdateUI=!0;var o=t.columnHeadersConfig;if(o){for(var r=[],a=0;a<o.length;a++){var s={};s.columnid=o[a].columnID,s.columntype=o[a].columnType,s.columnheadertext=o[a].columnHeaderText,s.columnheadertemplate=o[a].columnHeaderTemplate,s.columndatatemplate=o[a].columnDataTemplate,s.columnwidthinpercentage=o[a].columnWidthInPercentage,s.columncontentalignment=o[a].columnContentAlignment,s.columnonclick=o[a].columnOnClick,r.push(s)}this.columnheadersconfig=r}this.setGetterSetter()},kony.inherits(kony.ui.DataGrid,kony.ui.Widget),kony.ui.DataGrid.prototype.setGetterSetter=function(){defineGetter(this,"rowNormalSkin",function(){return this.rownormalskin}),defineSetter(this,"rowNormalSkin",function(t){var e=this.rownormalskin;this.rownormalskin=t,$KW[this.wType].updateView(this,"rownormalskin",t,e)}),defineGetter(this,"headerSkin",function(){return this.headerskin}),defineSetter(this,"headerSkin",function(t){this.headerskin=t,$KW[this.wType].updateView(this,"headerskin",t)}),defineGetter(this,"isMultiSelect",function(){return this.ismultiselect}),defineSetter(this,"isMultiSelect",function(t){this.ismultiselect=t,$KW[this.wType].updateView(this,"ismultiselect",t)}),defineGetter(this,"rowFocusSkin",function(){return this.rowfocusskin}),defineSetter(this,"rowFocusSkin",function(t){this.rowfocusskin=t}),defineGetter(this,"rowAlternateSkin",function(){return this.rowalternateskin}),defineSetter(this,"rowAlternateSkin",function(t){this.rowalternateskin=t,$KW[this.wType].updateView(this,"rowalternateskin",t)}),defineGetter(this,"showColumnHeaders",function(){return this.showcolumnheaders}),defineSetter(this,"showColumnHeaders",function(t){this.showcolumnheaders=t,$KW[this.wType].updateView(this,"showcolumnheaders",t)}),defineGetter(this,"columnHeadersConfig",function(){return this.columnheadersconfig}),defineSetter(this,"columnHeadersConfig",function(t){if(t){for(var e=[],i=0;i<t.length;i++){var n={};n.columnid=t[i].columnid||t[i].columnID,n.columntype=t[i].columntype||t[i].columnType,n.columnheadertext=t[i].columnheadertext||t[i].columnHeaderText,n.columnheadertemplate=t[i].columnheadertemplate||t[i].columnHeaderTemplate,n.columndatatemplate=t[i].columndatatemplate||t[i].columnDataTemplate,n.columnwidthinpercentage=t[i].columnwidthinpercentage||t[i].columnWidthInPercentage,n.columncontentalignment=t[i].columncontentalignment||t[i].columnContentAlignment,n.columnonclick=t[i].columnonclick||t[i].columnOnClick,e.push(n)}this.columnheadersconfig=e}$KW[this.wType].updateView(this,"columnheadersconfig",t)}),defineGetter(this,"gridlineColor",function(){return this.gridlinecolor}),defineSetter(this,"gridlineColor",function(t){this.gridlinecolor=t,$KW[this.wType].updateView(this,"gridlinecolor",t)}),defineSetter(this,"onRowSelected",function(t){this.onrowselected=t}),defineGetter(this,"selectedIndex",function(){return this.focusedindex}),defineGetter(this,"selectedItem",function(){return this.focuseditem}),defineGetter(this,"selectedItems",function(){return this.selecteditems}),defineGetter(this,"selectedIndices",function(){return this.selectedindices}),defineGetter(this,"rowCount",function(){return this.rowcount})},kony.ui.DataGrid.prototype.applyCellSkin=function(t,e,i){$KW.DataGrid.applyCellSkin(this,t,e,i)},kony.ui.DataGrid.prototype.setData=function(t){$KW.DataGrid.setData(this,t)},kony.ui.DataGrid.prototype.setDataAt=function(t,e){$KW.DataGrid.setDataAt(this,t,e)},kony.ui.DataGrid.prototype.addDataAt=function(t,e){$KW.DataGrid.addDataAt(this,t,e)},kony.ui.DataGrid.prototype.addAll=function(t){$KW.DataGrid.addAll(this,t)},kony.ui.DataGrid.prototype.removeAt=function(t){$KW.DataGrid.removeAt(this,t)},kony.ui.DataGrid.prototype.removeAll=function(){$KW.DataGrid.removeAll(this)},kony.ui.DataGrid.prototype.selectAllRows=function(t){$KW.DataGrid.selectAll(this,t)},kony.ui.DataGrid.prototype.setCellDataAt=function(t,e,i){$KW.DataGrid.setCellData(this,t,e,i)},kony.ui.DataGrid.prototype.setHeaderCellDataAt=function(t,e){$KW.DataGrid.setHeaderCellDataAt(this,t,e)};
kony.ui.CheckBoxGroup=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("CheckBoxGroup"))),kony.ui.CheckBoxGroup.baseConstructor.call(this,e,t,i),this.itemorientation=t.itemOrientation||constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL,this.wType="CheckBoxGroup",this.name="kony.ui.CheckBoxGroup",this.selectedkeys=e.selectedKeys||null,this.selectedkeyvalues=null,this.viewtype=i.viewType||"defaultview",this.size=i.size||18,this.checkedimage=i.checkedImage||"checkboxselected.png",this.uncheckedimage=i.uncheckedImage||"checkboxnormal.png",kony.ui.CheckBoxGroup.prototype.setGetterSetter.call(this)},kony.inherits(kony.ui.CheckBoxGroup,kony.ui.GroupWidget),kony.ui.CheckBoxGroup.prototype.setGetterSetter=function(){defineGetter(this,"selectedKeys",function(){return this.selectedkeys}),defineSetter(this,"selectedKeys",function(e){this.selectedkeys=e,$KW[this.wType].updateView(this,"selectedkeys",e)}),defineGetter(this,"selectedKeyValues",function(){return this.selectedkeyvalues}),defineSetter(this,"viewType",function(e){this.viewtype=e,$KW[this.wType].updateView(this,"viewtype",e)}),defineGetter(this,"viewType",function(){return this.viewtype}),defineSetter(this,"checkedImage",function(e){this.checkedimage=e,$KW[this.wType].updateView(this,"checkedimage",e)}),defineGetter(this,"checkedImage",function(){return this.checkedimage}),defineSetter(this,"uncheckedImage",function(e){this.uncheckedimage=e,$KW[this.wType].updateView(this,"uncheckedimage",e)}),defineGetter(this,"uncheckedImage",function(){return this.uncheckedimage}),defineSetter(this,"dimension",function(e){this.size=e,$KW[this.wType].updateView(this,"size",e)}),defineGetter(this,"dimension",function(){return this.size})},kony.ui.ComboBox=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("ComboBox"))),kony.ui.ComboBox.baseConstructor.call(this,e,t,i),this.wType="ComboBox",this.name="kony.ui.ComboBox"},kony.inherits(kony.ui.ComboBox,kony.ui.GroupWidget),kony.ui.ListBox=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("ListBox"))),kony.ui.ListBox.baseConstructor.call(this,e,t,i),this.wType="ListBox",this.name="kony.ui.ListBox",this.selectedkeys=e.selectedKey&&(IndexJL?[null,e.selectedKey]:[e.selectedKey])||null,this.selectedkeyvalues=null,defineGetter(this,"selectedKeys",function(){return this.selectedkeys}),defineSetter(this,"selectedKeys",function(e){this.selectedkeys=e,$KW[this.wType].updateView(this,"selectedkeys",e)}),defineGetter(this,"selectedKeyValues",function(){return this.selectedkeyvalues})},kony.inherits(kony.ui.ListBox,kony.ui.GroupWidget),kony.ui.RadioButtonGroup=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("RadioButtonGroup"))),kony.ui.RadioButtonGroup.baseConstructor.call(this,e,t,i),this.itemorientation=t.itemOrientation||constants.RADIOGROUP_ITEM_ORIENTATION_VERTICAL,this.wType="RadioButtonGroup",this.name="kony.ui.RadioButtonGroup",this.viewtype=i.viewType||"defaultview",this.size=i.size||18,this.checkedimage=i.checkedImage||"radiobuttonselected.png",this.uncheckedimage=i.uncheckedImage||"radiobuttonnormal.png",kony.ui.RadioButtonGroup.prototype.setGetterSetter.call(this)},kony.inherits(kony.ui.RadioButtonGroup,kony.ui.GroupWidget),kony.ui.RadioButtonGroup.prototype.setGetterSetter=function(){defineSetter(this,"viewType",function(e){this.viewtype=e,$KW[this.wType].updateView(this,"viewtype",e)}),defineGetter(this,"viewType",function(){return this.viewtype}),defineSetter(this,"checkedImage",function(e){this.checkedimage=e,$KW[this.wType].updateView(this,"checkedimage",e)}),defineGetter(this,"checkedImage",function(){return this.checkedimage}),defineSetter(this,"uncheckedImage",function(e){this.uncheckedimage=e,$KW[this.wType].updateView(this,"uncheckedimage",e)}),defineGetter(this,"uncheckedImage",function(){return this.uncheckedimage}),defineSetter(this,"dimension",function(e){this.size=e,$KW[this.wType].updateView(this,"size",e)}),defineGetter(this,"dimension",function(){return this.size})},kony.ui.PickerView=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("PickerView"))),kony.ui.PickerView.baseConstructor.call(this,e,t,i),this.wType="PickerView",this.name="kony.ui.PickerView",this.onselect=e.onSelect,this.setGetterSetter()},kony.inherits(kony.ui.PickerView,kony.ui.CheckBoxGroup),kony.ui.PickerView.prototype.setComponentData=function(e,t){$KW.PickerView.setcomponentdata(this,e,t)},kony.ui.PickerView.prototype.setSelectedKeyInComponent=function(e,t){$KW.PickerView.setselectedkeyincomponent(this,e,t)},kony.ui.PickerView.prototype.setGetterSetter=function(){defineGetter(this,"onSelect",function(){return this.onselect}),defineSetter(this,"onSelect",function(e){this.onselect=e})};
kony.ui.Image2=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("Image2"))),kony.ui.Image2.baseConstructor.call(this,e,t,i),this.ondownloadcomplete=e.onDownloadComplete,this.imageWhileDownloading=this.imagewhiledownloading=e.imageWhileDownloading,this.imageWhenFailed=this.imagewhenfailed=e.imageWhenFailed,this.referencewidth=t.referenceWidth,this.referenceheight=t.referenceHeight,this.imagescalemode=void 0===t.imageScaleMode?constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO:t.imageScaleMode,this.canUpdateUI=!0,this.skin=e.skin,this.wType="Image",this.name="kony.ui.Image2";var n=e.src;n&&(this.srcType=1),defineGetter(this,"src",function(){return n}),defineSetter(this,"src",function(e){this.srctype=1;var t=this.src;n=e,this.canUpdateUI&&$KW[this.wType].updateView(this,"src",e,t)}),this.zoomEnabled=this.zoomenabled=e.zoomEnabled,defineGetter(this,"zoomEnabled",function(){return this.zoomenabled}),defineSetter(this,"zoomEnabled",function(e){var t=this.zoomenabled;t!==e&&$KW[this.wType].updateView(this,"zoomenabled",e,t)}),this.zoomenabled&&(this.zoomValue=this.zoomvalue=e.zoomValue||1),defineGetter(this,"zoomValue",function(){return this.zoomvalue}),defineSetter(this,"zoomValue",function(e){var t=this.zoomvalue;this.zoomenabled&&t!==e&&"number"==typeof e&&e>=1&&e<=20&&$KW[this.wType].updateView(this,"zoomvalue",e,t)});var o=null;defineGetter(this,"base64",function(){return o}),defineSetter(this,"base64",function(e){this.srcType=2,o=e,$KW[this.wType].updateView(this,"base64",e)}),this.setGetterSetter()},kony.inherits(kony.ui.Image2,kony.ui.Widget),kony.ui.Image2.prototype.setGetterSetter=function(){defineGetter(this,"imageScaleMode",function(){return this.imagescalemode}),defineSetter(this,"imageScaleMode",function(e){this.imagescalemode=e,$KW[this.wType].updateView(this,"imagescalemode",e)}),defineGetter(this,"referenceHeight",function(){return this.referenceheight}),defineSetter(this,"referenceHeight",function(e){this.referenceheight=e,$KW[this.wType].updateView(this,"referenceheight",e)}),defineGetter(this,"referenceWidth",function(){return this.referencewidth}),defineSetter(this,"referenceWidth",function(e){this.referencewidth=e,$KW[this.wType].updateView(this,"referencewidth",e)}),defineGetter(this,"onDownloadComplete",function(){return this.ondownloadcomplete}),defineSetter(this,"onDownloadComplete",function(e){this.ondownloadcomplete=e})},kony.ui.Image2.prototype.addOverlayWidgets=function(e){this.zoomenabled&&$KW.Image.addOverlayWidgets(this,e)},kony.ui.Image2.prototype.removeOverlayWidgets=function(e){this.zoomenabled&&$KW.Image.removeOverlayWidgets(this,e)},kony.ui.Image=function(e,t,i){kony.ui.Image.baseConstructor.call(this,e,t,i),this.scaleMode=this.scalemode=i.scaleMode,this.heightwidth=i.heightWidth,this.imageWhileDownloading=this.imagewhiledownloading=i.imageWhileDownloading,this.imageWhenFailed=this.imagewhenfailed=i.imageWhenFailed,this.skin=e.skin,this.name="kony.ui.Image"},kony.inherits(kony.ui.Image,kony.ui.Image2),kony.ui.Image2.prototype.scale=kony.ui.Image2.prototype.cropToRect=kony.ui.Image2.prototype.getImageWidth=kony.ui.Image2.prototype.getImageHeight=kony.ui.Image2.prototype.getImageAsRawBytes=function(){kony.web.logger("warn","This Image method is not supported in SPA")};
kony.ui.ImageGallery2=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("ImageGallery2"))),kony.ui.ImageGallery2.baseConstructor.call(this,e,t,i),this.imageWhileDownloading=this.imagewhiledownloading=e.imageWhileDownloading,this.imageWhenFailed=this.imagewhenfailed=e.imageWhenFailed,this.spaceBetweenImages=this.spacebetweenimages=e.spaceBetweenImages,this.selectedindex=e.selectedIndex||null,this.onselection=e.onSelection,this.referencewidth=t.referenceWidth,this.referenceheight=t.referenceHeight,this.imagescalemode=t.imageScaleMode,this.wType="IGallery",this.name="kony.ui.ImageGallery2",this.canUpdateUI=!0,this.selecteditem=null;var n=e.data;n&&(this.masterdata=n[0],this.key=n[1]),defineGetter(this,"data",function(){return n}),defineSetter(this,"data",function(e){n=e,this.canUpdateUI&&$KW[this.wType].updateView(this,"data",e)}),kony.ui.ImageGallery2.prototype.setGetterSetter.call(this)},kony.inherits(kony.ui.ImageGallery2,kony.ui.Widget),kony.ui.ImageGallery2.prototype.setGetterSetter=function(){defineGetter(this,"selectedIndex",function(){return this.selectedindex}),defineSetter(this,"selectedIndex",function(e){this.selectedindex=e,this.canUpdateUI&&$KW[this.wType].updateView(this,"selectedindex",e)}),defineGetter(this,"onSelection",function(){return this.onselection}),defineSetter(this,"onSelection",function(e){this.onselection=e}),defineGetter(this,"referenceWidth",function(){return this.referencewidth}),defineSetter(this,"referenceWidth",function(e){this.referencewidth=e,$KW[this.wType].updateView(this,"referencewidth",e)}),defineGetter(this,"referenceHeight",function(){return this.referenceheight}),defineSetter(this,"referenceHeight",function(e){this.referenceheight=e,$KW[this.wType].updateView(this,"referenceheight",e)}),defineGetter(this,"imageScaleMode",function(){return this.imagescalemode}),defineSetter(this,"imageScaleMode",function(e){this.imagescalemode=e,$KW[this.wType].updateView(this,"imagescalemode",e)}),defineGetter(this,"selectedItem",function(){return this.selecteditem}),defineSetter(this,"selectedItem",function(){})},kony.ui.ImageGallery2.prototype.addAll=function(e,t){$KW.IGallery.addAll(this,e,t)},kony.ui.ImageGallery2.prototype.setData=function(e,t){$KW.IGallery.setData(this,e,t)},kony.ui.ImageGallery2.prototype.setDataAt=function(e,t){$KW.IGallery.setDataAt(this,e,t)},kony.ui.ImageGallery2.prototype.addDataAt=function(e,t){$KW.IGallery.addDataAt(this,e,t)},kony.ui.ImageGallery2.prototype.removeAt=function(e){$KW.IGallery.removeAt(this,e)},kony.ui.ImageGallery2.prototype.removeAll=function(){$KW.IGallery.removeAll(this)},kony.ui.ImageGallery=function(e,t,i){kony.ui.ImageGallery.baseConstructor.call(this,e,t,i),this.itemsperrow=i.itemsPerRow,this.heightwidth=i.heightWidth,this.name="kony.ui.ImageGallery",this.focuseditem=null,defineGetter(this,"focusedItem",function(){return this.focuseditem}),this.focusedindex=e.focusedIndex||null,this.setGetterSetter()},kony.ui.ImageGallery.prototype.setGetterSetter=function(){defineGetter(this,"focusedIndex",function(){return this.focusedindex}),defineSetter(this,"focusedIndex",function(e){this.focusedindex=e,$KW[this.wType].updateView(this,"focusedindex",e)}),defineGetter(this,"focusedItem",function(){return this.focuseditem})},kony.inherits(kony.ui.ImageGallery,kony.ui.ImageGallery2);
kony.ui.HorizontalImageStrip2=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("HorizontalImageStrip2"))),kony.ui.HorizontalImageStrip2.baseConstructor.call(this,e,t,i),this.imageWhileDownloading=this.imagewhiledownloading=e.imageWhileDownloading,this.imageWhenFailed=this.imagewhenfailed=e.imageWhenFailed,this.spaceBetweenImages=this.spacebetweenimages=e.spaceBetweenImages,this.showArrows=this.showarrows=e.showArrows||!1,this.showScrollbars=this.showscrollbars=e.showScrollbars||!1,this.viewtype=e.viewType||constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_STRIPVIEW,this.referencewidth=t.referenceWidth,this.referenceheight=t.referenceHeight,this.imagescalemode=t.imageScaleMode,this.selectedindex=e.selectedIndex,this.selecteditem=null;var n=e.arrowConfig||null;n&&(this.leftarrowimage=n.leftArrowImage||"",this.rightarrowimage=n.rightArrowImage||""),this.wType="HStrip",this.name="kony.ui.HorizontalImageStrip2",this.canUpdateUI=!0,this.onselection=e.onSelection;var o=e.data;o&&(this.masterdata=o[0],this.key=o[1]),defineGetter(this,"data",function(){return o}),defineSetter(this,"data",function(e){o=e,this.canUpdateUI&&$KW[this.wType].updateView(this,"data",e)}),this.viewconfig=e.viewConfig||null,this.scrollbounce=this.viewconfig&&this.viewconfig.stripviewConfig&&this.viewconfig.stripviewConfig.enableScrollBounce,kony.ui.HorizontalImageStrip2.prototype.setGetterSetter.call(this)},kony.inherits(kony.ui.HorizontalImageStrip2,kony.ui.Widget),kony.ui.HorizontalImageStrip2.prototype.setGetterSetter=function(){defineGetter(this,"selectedIndex",function(){return this.selectedindex}),defineSetter(this,"selectedIndex",function(e){this.selectedindex=e,$KW[this.wType].updateView(this,"selectedindex",e)}),defineGetter(this,"selectedItem",function(){return this.selecteditem}),defineSetter(this,"selectedItem",function(){}),defineGetter(this,"onSelection",function(){return this.onselection}),defineSetter(this,"onSelection",function(e){this.onselection=e}),defineGetter(this,"viewType",function(){return this.viewtype}),defineSetter(this,"viewType",function(e){this.viewtype=e,$KW[this.wType].updateView(this,"viewtype",e)}),defineGetter(this,"viewConfig",function(){return this.viewconfig}),defineSetter(this,"viewConfig",function(e){this.viewconfig=e,$KW[this.wType].updateView(this,"viewconfig",e)}),defineGetter(this,"referenceWidth",function(){return this.referencewidth}),defineSetter(this,"referenceWidth",function(e){this.referencewidth=e,$KW[this.wType].updateView(this,"referencewidth",e)}),defineGetter(this,"referenceHeight",function(){return this.referenceheight}),defineSetter(this,"referenceHeight",function(e){this.referenceheight=e,$KW[this.wType].updateView(this,"referenceheight",e)}),defineGetter(this,"imageScaleMode",function(){return this.imagescalemode}),defineSetter(this,"imageScaleMode",function(e){this.imagescalemode=e,$KW[this.wType].updateView(this,"imagescalemode",e)})},kony.ui.HorizontalImageStrip2.prototype.addAll=function(e,t){$KW.HStrip.addAll(this,e,t)},kony.ui.HorizontalImageStrip2.prototype.removeAt=function(e){$KW.HStrip.removeAt(this,e)},kony.ui.HorizontalImageStrip2.prototype.removeAll=function(){$KW.HStrip.removeAll(this)},kony.ui.HorizontalImageStrip2.prototype.setData=function(e,t){$KW.HStrip.setData(this,e,t)},kony.ui.HorizontalImageStrip2.prototype.setDataAt=function(e,t){$KW.HStrip.setDataAt(this,e,t)},kony.ui.HorizontalImageStrip2.prototype.addDataAt=function(e,t){$KW.HStrip.addDataAt(this,e,t)},kony.ui.HorizontalImageStrip=function(e,t,i){kony.ui.HorizontalImageStrip.baseConstructor.call(this,e,t,i),this.viewtype=this.view=i.view||constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_STRIPVIEW,this.showArrows=this.showarrows=i.showArrows,this.scrollBounce=this.scrollbounce=i.scrollBounce,this.heightWidth=this.heightwidth=i.heightWidth,this.imageWhenFailed=this.imagewhenfailed=i.imageWhenFailed,this.imageWhileDownloading=this.imagewhiledownloading=i.imageWhileDownloading,this.spaceBetweenImages=this.spacebetweenimages=i.spaceBetweenImages,this.name="kony.ui.HorizontalImageStrip",this.focuseditem=null,this.focusedindex=e.focusedIndex||null,this.setGetterSetter()},kony.inherits(kony.ui.HorizontalImageStrip,kony.ui.HorizontalImageStrip2),kony.ui.HorizontalImageStrip.prototype.setGetterSetter=function(){defineGetter(this,"focusedIndex",function(){return this.focusedindex}),defineSetter(this,"focusedIndex",function(e){this.focusedindex=e,$KW[this.wType].updateView(this,"focusedindex",e)}),defineGetter(this,"focusedItem",function(){return this.focuseditem})};
kony.ui.Map=function(t,e,i){arguments.length<3&&(t=e=i=$KU.mergeDefaults(t,$KU.getAllDefaults("Map"))),kony.ui.Map.baseConstructor.call(this,t,e,i),this.provider=t.provider||constants.MAP_PROVIDER_GOOGLE,this.mapApiKey=t.mapKey,this.mapClientId=t.clientId,this.navControlsImageConfig=i.navControlsImageConfig,this.mapSource=this.mapsrc=i.mapSource,this.screenLevelWidget=t.screenLevelWidget,this.defaultpinimage=t.defaultPinImage,this.locationdata=t.locationData,this.zoomlevel=i.zoomLevel,this.markers=[],this.displaymaptypecontrols=!0,this.onpinclick=t.onPinClick,this.onselection=t.onSelection,this.onboundschanged=t.onBoundsChanged,this.autocenterpinonclick=t.autoCenterPinOnClick,this.onmaploaded=t.onMapLoaded,this.enablemultiplecallouts=t.enableMultipleCallouts,this.containerheight=e.containerHeight,this.containerheightreference=e.containerHeightReference||constants.CONTAINER_HEIGHT_BY_FORM_REFERENCE,defineGetter(this,"mapKey",function(){return this.mapApiKey}),defineSetter(this,"mapKey",function(t){this.mapApiKey=t}),defineGetter(this,"autoCenterPinOnClick",function(){return this.autocenterpinonclick}),defineSetter(this,"autoCenterPinOnClick",function(t){this.autocenterpinonclick=t}),defineGetter(this,"containerHeight",function(){return this.containerheight}),defineSetter(this,"containerHeight",function(t){this.containerheight=t,kony.model.updateView(this,"containerheight",t)}),defineGetter(this,"displayMapTypeControls",function(){return this.displaymaptypecontrols}),defineSetter(this,"displayMapTypeControls",function(t){this.displaymaptypecontrols=t}),defineGetter(this,"containerHeightReference",function(){return this.containerheightreference}),defineSetter(this,"containerHeightReference",function(t){this.containerheightreference=t,kony.model.updateView(this,"containerheightreference",t)}),this.wType="Map",this.name="kony.ui.Map";var n=i.address;defineGetter(this,"address",function(){return n}),defineSetter(this,"address",function(t){n=t,$KW[this.wType].updateView(this,"address",t)}),this.calloutPostion=t.calloutPostion,this.widgetdatamapforcallout=t.widgetDataMapForCallout,defineGetter(this,"widgetDataMapForCallout",function(){return this.widgetdatamapforcallout}),defineSetter(this,"widgetDataMapForCallout",function(t){this.widgetdatamapforcallout=t}),this.callouttemplate=t.calloutTemplate,this.calloutwidth=t.calloutWidth,defineGetter(this,"calloutTemplate",function(){return this.callouttemplate}),defineSetter(this,"calloutTemplate",function(t){this.callouttemplate=t}),defineGetter(this,"calloutWidth",function(){return this.calloutwidth}),defineSetter(this,"calloutWidth",function(t){this.calloutwidth=t,$KW.Map.setUpInteractiveCanvasMap()});var o=i.mode||constants.MAP_VIEW_MODE_NORMAL;defineGetter(this,"mode",function(){return o}),defineSetter(this,"mode",function(t){o=t,$KW[this.wType].updateView(this,"mode",t)}),this.setGetterSetter(),t.locationData&&$KW[this.wType].updateView(this,"locationdata",t.locationData)},kony.inherits(kony.ui.Map,kony.ui.Widget),kony.ui.Map.prototype.setGetterSetter=function(){defineGetter(this,"zoomLevel",function(){return this.zoomlevel}),defineSetter(this,"zoomLevel",function(t){this.zoomlevel=t,$KW[this.wType].updateView(this,"zoomlevel",t)}),defineGetter(this,"locationData",function(){return this.locationdata}),defineSetter(this,"locationData",function(t){this.locationdata=t,$KW[this.wType].updateView(this,"locationdata",t)}),defineGetter(this,"defaultPinImage",function(){return this.defaultpinimage}),defineSetter(this,"defaultPinImage",function(t){this.defaultpinimage=t,$KW[this.wType].updateView(this,"defaultpinimage",t)}),defineGetter(this,"onPinClick",function(){return this.onpinclick}),defineSetter(this,"onPinClick",function(t){this.onpinclick=t}),defineGetter(this,"onSelection",function(){return this.onselection}),defineSetter(this,"onSelection",function(t){this.onselection=t}),defineGetter(this,"onBoundsChanged",function(){return this.onboundschanged}),defineSetter(this,"onBoundsChanged",function(t){this.onboundschanged=t}),defineGetter(this,"onMapLoaded",function(){return this.onmaploaded}),defineSetter(this,"onMapLoaded",function(t){this.onmaploaded=t}),defineGetter(this,"enableMultipleCallouts",function(){return this.enablemultiplecallouts}),defineSetter(this,"enableMultipleCallouts",function(t){this.enablemultiplecallouts=t})},kony.ui.Map.prototype.navigateTo=function(t,e){$KW.Map.navigateTo(this,t,e)},kony.ui.Map.prototype.navigateToLocation=function(t,e,i){$KW.Map.navigateToLocation(this,t,e,i)},kony.ui.Map.prototype.routeLocations=function(t,e,i,n){$KW.Map.routeLocations(this,t,e,i,n)},kony.ui.Map.prototype.dismissCallout=function(t,e){$KW.Map.dismissCallout(this,t,e)},kony.ui.Map.prototype.setCalloutVisibility=function(t,e){$KW.Map.setCalloutVisibility(this,t,e)},kony.ui.Map.prototype.addPin=function(t){$KW.Map.addPin(this,t)},kony.ui.Map.prototype.addPins=function(t){$KW.Map.addPins(this,t)},kony.ui.Map.prototype.updatePin=function(t){$KW.Map.updatePin(this,t)},kony.ui.Map.prototype.updatePins=function(t){$KW.Map.updatePins(this,t)},kony.ui.Map.prototype.removePin=function(t){$KW.Map.removePin(this,t,!0)},kony.ui.Map.prototype.removePins=function(t){$KW.Map.removePins(this,t)},kony.ui.Map.prototype.addPolygon=function(t){$KW.Map.addPolygon(this,t)},kony.ui.Map.prototype.addPolyline=function(t){$KW.Map.addPolyline(this,t)},kony.ui.Map.prototype.addCircle=function(t){this.locationdata=[t.centerLocation],$KW.Map.addCircle(this,t)},kony.ui.Map.prototype.clear=function(){$KW.Map.clear(this)},kony.ui.Map.prototype.removeCircle=function(t){$KW.Map.removeCircle(this,t)},kony.ui.Map.prototype.removePolygon=function(t){$KW.Map.removePolygon(this,t)},kony.ui.Map.prototype.removePolyline=function(t){$KW.Map.removePolyline(this,t)};
kony.ui.Browser=function(e,t,r){arguments.length<3&&(e=t=r=$KU.mergeDefaults(e,$KU.getAllDefaults("Browser"))),kony.ui.Browser.baseConstructor.call(this,e,t,r),this.onSuccess=e.onSuccess,this.onFailure=e.onFailure,this.screenLevelWidget=e.screenLevelWidget,this.enableZoom=e.enableZoom,this.detectTelNumber=e.detectTelNumber,this.readconfig=function(e){this.url=e.URL,this.method=e.requestMethod,this.data=e.requestData},e.requestURLConfig&&this.readconfig(e.requestURLConfig),this.requesturlconfig=e.requestURLConfig,this.htmlstring=e.htmlString,this.containerheight=t.containerHeight,this.containerheightreference=t.containerHeightReference||constants.CONTAINER_HEIGHT_BY_FORM_REFERENCE,this.enablenativecommunication=!!e.enableNativeCommunication,this.wType="Browser",this.name="kony.ui.Browser",this.setGetterSetter()},kony.inherits(kony.ui.Browser,kony.ui.Widget),kony.ui.Browser.prototype.setGetterSetter=function(){defineGetter(this,"htmlString",function(){return this.htmlstring}),defineSetter(this,"htmlString",function(e){this.htmlstring=e,$KW[this.wType].updateView(this,"htmlstring",e)}),defineGetter(this,"requestURLConfig",function(){return this.requesturlconfig}),defineSetter(this,"requestURLConfig",function(e){this.requesturlconfig=e,this.readconfig(e),$KW[this.wType].updateView(this,"requesturlconfig",e)}),defineGetter(this,"containerHeight",function(){return this.containerheight}),defineSetter(this,"containerHeight",function(e){this.containerheight=e,kony.model.updateView(this,"containerheight",e)}),defineGetter(this,"containerHeightReference",function(){return this.containerheightreference}),defineSetter(this,"containerHeightReference",function(e){this.containerheightreference=e,kony.model.updateView(this,"containerheightreference",e)}),defineGetter(this,"enableNativeCommunication",function(){return this.enablenativecommunication})},kony.ui.Browser.prototype.isCordovaAppsEnabled=kony.ui.Browser.prototype.isHtmlPreviewEnabled=kony.ui.Browser.prototype.isWebAppDevelopmentEnabled=kony.ui.Browser.prototype.loadData=kony.ui.Browser.prototype.getHTMLFilesInWebFolder=kony.ui.Browser.prototype.canGoBack=kony.ui.Browser.prototype.canGoForward=kony.ui.Browser.prototype.clearHistory=function(){kony.web.logger("warn","This Browser method is not supported in SPA")},kony.ui.Browser.prototype.evaluateJavaScript=function(e){$KW.Browser.evaluateJavaScript(this,e)},kony.ui.Browser.prototype.evaluateJavaScriptdepri=function(e){kony.web.logger("log","executing javascript in "+this.id+" window handler");var t=document.createElement("script");if(t.innerHTML=this.id+"Err = null; try{"+e+"}catch(e){"+this.id+"Err=e}",$KG["webView"+this.id]&&!$KG["webView"+this.id].closed){var r=document.createElement("a");if(r.href=this.url,window.location.origin!=r.origin)throw{errorCode:"104",name:"Not supported Error",message:"Not supported Error"};if($KG["webView"+this.id].document.head.appendChild(t),null!=$KG["webView"+this.id][this.id+"Err"])throw{errorCode:"106",name:"Unknown Error",message:"Unknown Error"}}else if(document.head.appendChild(t),null!=window[this.id+"Err"])throw{errorCode:"106",name:"Unknown Error",message:"Unknown Error"};return null},kony.ui.Browser.prototype.evaluateJavaScriptAsync=function(e){return null},kony.ui.Browser.prototype.setResponse=kony.ui.Browser.prototype.requestURLConfig=function(){kony.web.logger("warn","This Browser method is not supported in SPA")},kony.ui.Browser.prototype.goBack=function(){$KW.Browser.goBack(this)},kony.ui.Browser.prototype.goForward=function(){$KW.Browser.goForward(this)},kony.ui.Browser.prototype.reload=function(){$KW.Browser.reload(this)};
kony.ui.RichText=function(t,i,e){arguments.length<3&&(t=i=e=$KU.mergeDefaults(t,$KU.getAllDefaults("RichText"))),kony.ui.RichText.baseConstructor.call(this,t,i,e),this._text=t.text||"",defineGetter(this,"text",function(){return this._text}),defineSetter(this,"text",function(t){var i=this._text;this._text=t,this.canUpdateUI&&(this.i18n_text="",$KW[this.wType].updateView(this,"text",t),$KW.FlexUtils.setLayoutConfig(this,t,i))}),this.linkskin=t.linkSkin,this.linkfocusskin=e.linkFocusSkin,defineGetter(this,"linkSkin",function(){return this.linkskin}),defineSetter(this,"linkSkin",function(t){this.linkskin=t,$KW[this.wType].updateView(this,"linkskin",t)}),defineGetter(this,"linkFocusSkin",function(){return this.linkfocusskin}),defineSetter(this,"linkFocusSkin",function(t){this.linkfocusskin=t,$KW[this.wType].updateView(this,"linkfocusskin",t)}),this.canUpdateUI=!0,this.wType="RichText",this.name="kony.ui.RichText"},kony.inherits(kony.ui.RichText,kony.ui.Widget);
kony.ui.Box=function(t,o,e){arguments.length<3&&(t=o=e=$KU.mergeDefaults(t,$KU.getAllDefaults("HBox"))),kony.ui.Box.baseConstructor.call(this,t,o,e),t.i18n_tabName&&(this.i18n_tabname=t.i18n_tabName),this.position=e&&e.position,this.name="kony.ui.Box",this.allboxes=[],this.orientation==constants.BOX_LAYOUT_HORIZONTAL?this.wType="HBox":this.wType="VBox";var i=e.backgroundimage;defineGetter(this,"backgroundimage",function(){return i}),defineSetter(this,"backgroundimage",function(t){i=t,kony.model.updateView(this,"backgroundimage",t)})},kony.inherits(kony.ui.Box,kony.ui.ContainerWidget),kony.ui.Box.prototype.add=function(){var t=[].slice.call(arguments);boxWidgetExtendAdd.call(this,t)},kony.ui.Box.prototype.addAt=function(t,o){boxWidgetExtendAddAt.call(this,t,o)},kony.ui.Box.prototype.remove=function(t){boxWidgetExtendRemove.call(this,t)},kony.ui.Box.prototype.removeAt=function(t){return boxWidgetExtendRemoveAt.call(this,t)},kony.ui.Box.prototype.widgets=function(){return kony.ui.ContainerWidget.prototype.widgets.call(this)},kony.ui.Box.prototype.updateBoxWeight=function(t){boxWidgetExtendUpdateBoxWeight.call(this,t)};
kony.ui.ScrollBox=function(n,e,i){arguments.length<3&&(n=e=i=$KU.mergeDefaults(n,$KU.getAllDefaults("ScrollBox"))),kony.ui.ScrollBox.baseConstructor.call(this,n,e,i),this.totalWt=0,this.position=n.position||constants.BOX_POSITION_AS_NORMAL,this.enableScrollByPage=n.enableScrollByPage||!1,this.scrollDirection=this.scrolldirection=n.scrollDirection||constants.SCROLLBOX_SCROLL_HORIZONTAL,this.showscrollbars=void 0===n.showScrollbars||n.showScrollbars,this.scrollbar=this.showscrollbars?"scrollbar":"none",this.containerheight=e.containerHeight,this.containerheightreference=e.containerHeightReference,this.wType="ScrollBox",this.name="kony.ui.ScrollBox";var t=i.scrollArrowConfig&&(i.scrollArrowConfig[0]||i.scrollArrowConfig[1]||i.scrollArrowConfig[2]||i.scrollArrowConfig[3])?i.scrollArrowConfig:null;t&&(this.scrollbar="arrows",t.length>=4&&(this.leftarrowimage=t[0],this.toparrowimage=t[1],this.rightarrowimage=t[2],this.bottomarrowimage=t[3])),this.scrollingevents=n.scrollingEvents||null,this.scrollingevents&&(this.scrollingevents.onpush=n.scrollingEvents.onPush,this.scrollingevents.onpull=n.scrollingEvents.onPull,this.scrollingevents.onreachingbeginning=n.scrollingEvents.onReachingBegining,this.scrollingevents.onreachingend=n.scrollingEvents.onReachingEnd),this.setGetterSetter()},kony.inherits(kony.ui.ScrollBox,kony.ui.Box),kony.ui.ScrollBox.prototype.setGetterSetter=function(){defineGetter(this,"containerHeight",function(){return this.containerheight}),defineSetter(this,"containerHeight",function(n){this.containerheight=n,kony.model.updateView(this,"containerheight",n)}),defineGetter(this,"containerHeightReference",function(){return this.containerheightreference}),defineSetter(this,"containerHeightReference",function(n){this.containerheightreference=n,kony.model.updateView(this,"containerheightreference",n)}),defineGetter(this,"showScrollbars",function(){return this.showscrollbars}),defineSetter(this,"showScrollbars",function(n){this.showscrollbars=n,$KW[this.wType].updateView(this,"showscrollbars",n)}),defineGetter(this,"scrollingEvents",function(){return this.scrollingevents}),defineSetter(this,"scrollingEvents",function(n){this.scrollingevents=n,n&&(this.scrollingevents.onpush=n.onPush,this.scrollingevents.onpull=n.onPull,this.scrollingevents.onreachingbeginning=n.onReachingBegining,this.scrollingevents.onreachingend=n.onReachingEnd)}),this.scrollingevents=this.scrollingevents||{},this.scrollingevents.scrollObj=this,this.scrollingevents&&(defineGetter(this.scrollingEvents,"onPush",function(){return this.onpush}),defineSetter(this.scrollingEvents,"onPush",function(n){this.onpush=n,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onpush",n)}),defineGetter(this.scrollingEvents,"onPull",function(){return this.onpull}),defineSetter(this.scrollingEvents,"onPull",function(n){this.onpull=n,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onpull",n)}),defineGetter(this.scrollingEvents,"onReachingBegining",function(){return this.onreachingbeginning}),defineSetter(this.scrollingEvents,"onReachingBegining",function(n){this.onreachingbeginning=n,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onreachingbeginning",n)}),defineGetter(this.scrollingEvents,"onReachingEnd",function(){return this.onreachingend}),defineSetter(this.scrollingEvents,"onReachingEnd",function(n){this.onreachingend=n,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onreachingend",n)}))},kony.ui.ScrollBox.prototype.scrollToBeginning=function(){$KW.ScrollBox.scrollToBeginning(this)},kony.ui.ScrollBox.prototype.scrollToEnd=function(){$KW.ScrollBox.scrollToEnd(this)};
kony.ui.FlexContainer=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("FlexContainer"))),this.name="kony.ui.FlexContainer",kony.ui.FlexContainer.baseConstructor.call(this,e,t,i),this.wType="FlexContainer",this.allboxes=[],this.autogrowMode=e.autogrowMode,this.autogrowHeight=!1,this.canMeasureChildrenHeight=!0,this.hBorder=0,this.vBorder=0,this.isMaster=void 0!==e.isMaster&&(e.isMaster&&!0),this.preshow=e.preShow,this.postshow=e.postShow,this.onhide=e.onHide,this.addWidgets=e.addWidgets,this.onDestroy=e.onDestroy,this.init=e.init,this.addWidgetsdone=this.initdone=!1,this.enableonscrollwidgetpositionforsubwidgets=e.enableOnScrollWidgetPositionForSubwidgets||!1,e.i18n_tabName&&(this.i18n_tabname=e.i18n_tabName),this.addWidgets||(this.addWidgetsdone=!0);var n=e.addWidgets;defineGetter(this,"addWidgets",function(){return n}),defineSetter(this,"addWidgets",function(e){n=e,this.addWidgetsdone=!1}),this.retainflowhorizontalalignment=this.retainFlowHorizontalAlignment=t.retainFlowHorizontalAlignment;var o=e.layoutType===kony.flex.FLOW_HORIZONTAL&&$KW.FlexUtils.shouldApplyRTL(this,"layoutAlignment");this.reverselayoutdirection=o?!e.reverseLayoutDirection:e.reverseLayoutDirection,defineGetter(this,"reverseLayoutDirection",function(){return this.reverselayoutdirection}),defineSetter(this,"reverseLayoutDirection",function(e){var t=this.reverselayoutdirection;this.reverselayoutdirection=e,$KW.FlexUtils.setChildrenConfig(this,e,t)}),this.defineContainerGetter=function(t){if(this.addWidgets){var i=e.id,n=this;defineGetter(t,i,function(){return $KU.invokeAddWidgets(n),$KU.invokeWidgetInit(n),n})}},this.defineContainerSetter=function(t){if(this.addWidgets){var i=e.id,n=this;defineSetter(t,i,function(){return n})}},this.layouttype=e.layoutType||kony.flex.FREE_FORM,defineGetter(this,"layoutType",function(){return this.layouttype}),defineSetter(this,"layoutType",function(e){var t=this.layouttype;e!=t&&(this.layouttype=e,$KW.FlexUtils.setLayoutConfig(this,e,t),$KW.FlexUtils.setChildrenConfig(this,e,t),$KW[this.wType].updateView(this,"layouttype",e))}),this.clipbounds=void 0===e.clipBounds||e.clipBounds,defineGetter(this,"clipBounds",function(){return this.clipbounds}),defineSetter(this,"clipBounds",function(e){this.clipbounds=e,$KW[this.wType].updateView(this,"clipbounds",e)}),this.dolayout=e.doLayout,defineGetter(this,"doLayout",function(){return this.dolayout}),defineSetter(this,"doLayout",function(e){this.dolayout=e}),defineGetter(this,"_konyControllerName",function(){return this.konyControllerName}),defineSetter(this,"_konyControllerName",function(e){this.konyControllerName=e}),defineGetter(this,"preShow",function(){return this.preshow}),defineSetter(this,"preShow",function(e){this.preshow=e}),defineGetter(this,"postShow",function(){return this.postshow}),defineSetter(this,"postShow",function(e){this.postshow=e}),defineGetter(this,"onHide",function(){return this.onhide}),defineSetter(this,"onHide",function(e){this.onhide=e}),this.ismodalcontainer=e.isModalContainer,defineGetter(this,"isModalContainer",function(){return this.ismodalcontainer}),defineSetter(this,"isModalContainer",function(e){e!=this.ismodalcontainer&&(this.ismodalcontainer=e,$KU.checkAndReCalculateTopFlexModal(this))})},kony.inherits(kony.ui.FlexContainer,kony.ui.ContainerWidget),kony.ui.FlexContainer.prototype.destroy=function(){for(var e=this.widgets(),t=0;t<e.length;t++)removeAllReferences(e[t]),e[t]instanceof _konyConstNS.ContainerWidget&&(e[t]=$KW.Utils.getActualWidgetModel(e[t]),"FlexContainer"===e[t].wType&&e[t].destroy(),delete this[e[t].id]);this.onDestroy&&this.onDestroy(this),this.addWidgetsdone=!1,this.initdone=!1,this.ownchildrenref=[],this.children=[]},kony.ui.FlexContainer.prototype.add=function(){var e=[].slice.call(arguments);boxWidgetExtendAdd.call(this,e),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.FlexContainer.prototype.addAt=function(e,t){boxWidgetExtendAddAt.call(this,e,t),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.FlexContainer.prototype.addAll=function(e,t){boxWidgetExtendAddAt.call(this,e,t),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.FlexContainer.prototype.remove=function(e){boxWidgetExtendRemove.call(this,e),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.FlexContainer.prototype.removeAt=function(e){var t=boxWidgetExtendRemoveAt.call(this,e);return $KU.checkAndReCalculateTopFlexModal(this),t},kony.ui.FlexContainer.prototype.removeAll=function(){boxWidgetExtendRemoveAll.call(this),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.FlexContainer.prototype.widgets=function(){return kony.ui.ContainerWidget.prototype.widgets.call(this)},kony.ui.FlexContainer.prototype.forceLayout=function(){$KW.FlexContainer.forceLayout(this)},kony.ui.FlexContainer.prototype.setDefaultUnit=function(e){this.defaultunit=e},kony.ui.FlexContainer.prototype.executeOnParent=function(){if(arguments.length>=1){var e=arguments[0],t=[];arguments.length>=2&&(t=(t=[].slice.call(arguments)).slice(1,t.length)),$KW.FlexContainer.executeOnParent(this,e,t)}},kony.ui.FlexContainer.prototype._registerForAddWidgetsEvent=function(e){},kony.ui.FlexContainer.prototype._unRegisterForAddWidgetsEvent=function(e){},kony.ui.FlexContainer.prototype._registerForInitEvent=function(e){},kony.ui.FlexContainer.prototype._unRegisterForInitEvent=function(e){},kony.ui.FlexScrollContainer=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("FlexScrollContainer"))),this.name="kony.ui.FlexScrollContainer",kony.ui.FlexScrollContainer.baseConstructor.call(this,e,t,i),this.wType="FlexScrollContainer",this.allboxes=[],this.enablescrolling=void 0===e.enableScrolling||e.enableScrolling,defineGetter(this,"enableScrolling",function(){return this.enablescrolling}),defineSetter(this,"enableScrolling",function(e){this.enablescrolling=e,$KW[this.wType].updateView(this,"enableScrolling",e)}),this.scrolldirection=void 0===e.scrollDirection?kony.flex.SCROLL_HORIZONTAL:e.scrollDirection,defineGetter(this,"scrollDirection",function(){return this.scrolldirection}),defineSetter(this,"scrollDirection",function(e){this.scrolldirection=e,$KW[this.wType].updateView(this,"scrollDirection",e)}),this.contentoffset=e.contentOffset,defineGetter(this,"contentOffset",function(){return this.contentoffset}),defineSetter(this,"contentOffset",function(e){this.contentoffset=e,$KW.FlexScrollContainer.updateView(this,"contentOffset",e)}),this.contentsize=e.contentSize,defineGetter(this,"contentSize",function(){return this.contentsize}),defineSetter(this,"contentSize",function(e){this.contentsize=e}),defineGetter(this,"enableOnScrollWidgetPositionForSubwidgets",function(){return this.enableonscrollwidgetpositionforsubwidgets}),defineSetter(this,"enableOnScrollWidgetPositionForSubwidgets",function(e){this.enableonscrollwidgetpositionforsubwidgets=e}),defineGetter(this,"contentOffsetMeasured",function(){return $KW.APIUtils.getContentOffsetMeasured(this)}),this.contentsize=e.contentSize,defineGetter(this,"contentSizeMeasured",function(){return $KW.FlexScrollContainer.getContentSizeMeasured(this)}),defineSetter(this,"contentSizeMeasured",function(e){}),this.bounce=void 0===e.bounces||e.bounces,defineGetter(this,"bounces",function(){return this.bounce}),defineSetter(this,"bounces",function(e){this.bounce=e,$KW[this.wType].updateView(this,"bounces",e)}),this.allowhorizontalbounce=void 0===e.allowHorizontalBounce||e.allowHorizontalBounce,defineGetter(this,"allowHorizontalBounce",function(){return this.allowhorizontalbounce}),defineSetter(this,"allowHorizontalBounce",function(e){this.allowhorizontalbounce=e,$KW[this.wType].updateView(this,"allowHorizontalBounce",e)}),this.allowverticalbounce=void 0===e.allowVerticalBounce||e.allowVerticalBounce,defineGetter(this,"allowVerticalBounce",function(){return this.allowverticalbounce}),defineSetter(this,"allowVerticalBounce",function(e){this.allowverticalbounce=e,$KW[this.wType].updateView(this,"allowVerticalBounce",e)}),this.horizontalscrollindicator=void 0===e.horizontalScrollIndicator||e.horizontalScrollIndicator,defineGetter(this,"horizontalScrollIndicator",function(){return this.horizontalscrollindicator}),defineSetter(this,"horizontalScrollIndicator",function(e){this.horizontalscrollindicator=e,$KW[this.wType].updateView(this,"horizontalScrollIndicator",e)}),this.verticalscrollindicator=void 0===e.verticalScrollIndicator||e.verticalScrollIndicator,defineGetter(this,"verticalScrollIndicator",function(){return this.verticalscrollindicator}),defineSetter(this,"verticalScrollIndicator",function(e){this.verticalscrollindicator=e,$KW[this.wType].updateView(this,"verticalScrollIndicator",e)}),this.pagineenabled=void 0!==e.pagineEnabled&&e.pagineEnabled,defineGetter(this,"pagineEnabled",function(){return this.pagineenabled}),defineSetter(this,"pagineEnabled",function(e){this.pagineenabled=e}),this.dragg=!1,defineGetter(this,"dragging",function(){var e=$KW.Utils.getKMasterWidgetID(this)+"_scroller";return!!$KG[e]&&$KG[e].dragging}),defineSetter(this,"dragging",function(e){}),defineGetter(this,"tracking",function(){var e=$KW.Utils.getKMasterWidgetID(this)+"_scroller";return!!$KG[e]&&$KG[e].tracking}),defineSetter(this,"tracking",function(e){}),defineGetter(this,"decelerating",function(){var e=$KW.Utils.getKMasterWidgetID(this)+"_scroller";return!!$KG[e]&&(!this.tracking&&$KG[e].animating)}),defineSetter(this,"decelerating",function(e){}),this.onscrollstart=e.onScrollStart,defineGetter(this,"onScrollStart",function(){return this.onscrollstart}),defineSetter(this,"onScrollStart",function(e){this.onscrollstart=e,$KW[this.wType].updateView(this,"onScrollStart",e)}),this.onscrolltouchreleased=e.onScrollTouchReleased,defineGetter(this,"onScrollTouchReleased",function(){return this.onscrolltouchreleased}),defineSetter(this,"onScrollTouchReleased",function(e){this.onscrolltouchreleased=e,$KW[this.wType].updateView(this,"onScrollTouchReleased",e)}),this.onscrolling=e.onScrolling,defineGetter(this,"onScrolling",function(){return this.onscrolling}),defineSetter(this,"onScrolling",function(e){this.onscrolling=e,$KW[this.wType].updateView(this,"onScrolling",e)}),this.ondecelerationstarted=e.onDecelerationStarted,defineGetter(this,"onDecelerationStarted",function(){return this.ondecelerationstarted}),defineSetter(this,"onDecelerationStarted",function(e){this.ondecelerationstarted=e,$KW[this.wType].updateView(this,"onDecelerationStarted",e)}),this.onscrollend=e.onScrollEnd,defineGetter(this,"onScrollEnd",function(){return this.onscrollend}),defineSetter(this,"onScrollEnd",function(e){this.onscrollend=e,$KW[this.wType].updateView(this,"onScrollEnd",e)}),this.scrollingevents=e.scrollingEvents||null,this.scrollingevents&&(this.scrollingevents.onpush=e.scrollingEvents.onPush,this.scrollingevents.onpull=e.scrollingEvents.onPull,this.scrollingevents.onreachingbeginning=e.scrollingEvents.onReachingBegining,this.scrollingevents.onreachingend=e.scrollingEvents.onReachingEnd),this.pullkey=e.pullToRefreshI18NKey||"",this.releasepullkey=e.releaseToPullRefreshI18NKey||"",this.pushkey=e.pushToRefreshI18NKey||"",this.releasepushkey=e.releaseToPushRefreshI18NKey||"",this.pullskin=e.pullToRefreshSkin||"",this.pushskin=e.pushToRefreshSkin||"",this.pullicon=e.pullToRefreshIcon||"",this.pushicon=e.pushToRefreshIcon||"",this.animateicons=e.animateIcons||"",defineGetter(this,"scrollingEvents",function(){return this.scrollingevents}),defineSetter(this,"scrollingEvents",function(e){this.scrollingevents=e,this.scrollingevents&&(this.scrollingevents.onpush=this.scrollingevents.onPush,this.scrollingevents.onpull=this.scrollingevents.onPull,this.scrollingevents.onreachingbeginning=this.scrollingevents.onReachingBegining,this.scrollingevents.onreachingend=this.scrollingevents.onReachingEnd),$KW[this.wType].updateView(this,"scrollingevents",e)}),defineGetter(this,"pullToRefreshI18NKey",function(){return this.pullkey}),defineSetter(this,"pullToRefreshI18NKey",function(e){this.pullkey=e,$KW[this.wType].updateView(this,"pullkey",e)}),defineGetter(this,"releaseToPullRefreshI18NKey",function(){return this.releasepullkey}),defineSetter(this,"releaseToPullRefreshI18NKey",function(e){this.releasepullkey=e,$KW[this.wType].updateView(this,"releasepullkey",e)}),defineGetter(this,"pushToRefreshI18NKey",function(){return this.pushkey}),defineSetter(this,"pushToRefreshI18NKey",function(e){this.pushkey=e,$KW[this.wType].updateView(this,"pushkey",e)}),defineGetter(this,"releaseToPushRefreshI18NKey",function(){return this.releasepushkey}),defineSetter(this,"releaseToPushRefreshI18NKey",function(e){this.releasepushkey=e,$KW[this.wType].updateView(this,"releasepushkey",e)}),defineGetter(this,"pullToRefreshSkin",function(){return this.pullskin}),defineSetter(this,"pullToRefreshSkin",function(e){this.pullskin=e,$KW[this.wType].updateView(this,"pullskin",e)}),defineGetter(this,"pushToRefreshSkin",function(){return this.pushskin}),defineSetter(this,"pushToRefreshSkin",function(e){this.pushskin=e,$KW[this.wType].updateView(this,"pushskin",e)}),defineGetter(this,"pullToRefreshIcon",function(){return this.pullicon}),defineSetter(this,"pullToRefreshIcon",function(e){this.pullicon=e,$KW[this.wType].updateView(this,"pullicon",e)}),defineGetter(this,"pushToRefreshIcon",function(){return this.pushicon}),defineSetter(this,"pushToRefreshIcon",function(e){this.pushicon=e,$KW[this.wType].updateView(this,"pushicon",e)}),defineGetter(this,"animateIcons",function(){return this.animateicons}),defineSetter(this,"animateIcons",function(e){this.animateicons=e,$KW[this.wType].updateView(this,"animateicons",e)})},kony.inherits(kony.ui.FlexScrollContainer,kony.ui.FlexContainer),kony.ui.FlexScrollContainer.prototype.forceLayout=function(){$KW.FlexScrollContainer.forceLayout(this)},kony.ui.FlexScrollContainer.prototype.setContentOffset=function(e,t){$KW.FlexScrollContainer.setContentOffSet(this,e,t)},kony.ui.FlexScrollContainer.prototype.scrollToWidget=function(e,t){$KW.FlexScrollContainer.scrollToWidget(this,e,t)},kony.ui.FlexScrollContainer.prototype.scrollToEnd=function(){$KW.FlexScrollContainer.scrollToEnd(this)},kony.ui.FlexScrollContainer.prototype.setZoomScale=function(){kony.web.logger("warn","This FlexScrollContainer method is not supported in SPA")};
kony.ui.SegmentedUI2=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("SegmentedUI2"))),kony.ui.SegmentedUI2.baseConstructor.call(this,e,t,i),this.scrollbounce=void 0==e.enableScrollBounce||e.enableScrollBounce,this.groupcells=e.groupCells||!1,this.screenLevelWidget=e.screenLevelWidget||!1,this.widgetskin=e.widgetSkin,this.skin=e.skin,this.rowskin=e.rowSkin,this.focusskin=e.rowFocusSkin,this.askin=e.alternateRowSkin,this.sectionheaderskin=e.sectionHeaderSkin,this.widgetdatamap=e.widgetDataMap,this.rowtemplate=e.rowTemplate,this.sectionheadertemplate=e.sectionHeaderTemplate,this.separatorrequired=e.separatorRequired||!1,this.separatorthickness=e.separatorThickness,this.separatorcolor=e.separatorColor,this.viewtype=e.viewType,this.autogrowMode=e.autogrowMode,this.onrowclick=e.onRowClick,this.onrowdisplay=e.onRowDisplay,this.retainselection=e.retainSelection||!1,this.needpageindicator=e.needPageIndicator||!1,this.pageondotimage=e.pageOnDotImage||!1,this.pageoffdotimage=e.pageOffDotImage||!1,this.onswipe=e.onSwipe,this.showscrollbars=e.showScrollbars,this.scrollingevents=e.scrollingEvents||!1,this.contentoffset=e.contentOffset,this.scrollingevents&&(this.scrollingevents.onpush=e.scrollingEvents.onPush,this.scrollingevents.onpull=e.scrollingEvents.onPull,this.scrollingevents.onreachingbeginning=e.scrollingEvents.onReachingBegining,this.scrollingevents.onreachingend=e.scrollingEvents.onReachingEnd),this.selectionbehavior=e.selectionBehavior||constants.SEGUI_DEFAULT_BEHAVIOR,this.selectionbehaviorconfig=e.selectionBehaviorConfig,this.selectedindex=e.selectedIndex||null,this.selecteditems=null,this.selectedindices=e.selectedIndices||null,this.selectedrowindex=e.selectedRowIndex||null,this.selectedrowindices=e.selectedRowIndices||null,this.containerheight=t.containerHeight,this.containerheightreference=t.containerHeightReference||constants.CONTAINER_HEIGHT_BY_FORM_REFERENCE,this.__y=0;var n=e.data;defineGetter(this,"data",function(){return n}),defineSetter(this,"data",function(e){n=e,this.canUpdateUI&&$KW[this.wType].updateView(this,"data",e)}),defineGetter(this,"enableScrollBounce",function(){return this.scrollbounce}),defineSetter(this,"enableScrollBounce",function(e){this.scrollbounce=e,$KW[this.wType].updateView(this,"enableScrollBounce",e)}),defineGetter(this,"contentOffsetMeasured",function(){return $KW.APIUtils.getContentOffsetMeasured(this)}),defineGetter(this,"contentOffset",function(){return this.contentoffset}),defineSetter(this,"contentOffset",function(e){if(this.contentoffset=e,void 0!==e&&null!==e&&void 0!==e.x&&void 0!==e.y)return this.__y=0,$KW.APIUtils.setContentOffSet(this,e,!0)}),defineGetter(this,"enableScrollBounce",function(){return this.scrollbounce}),defineSetter(this,"enableScrollBounce",function(e){this.scrollbounce=e,$KW[this.wType].updateView(this,"enableScrollBounce",e)}),this.retainscrollpositionmode=e.retainScrollPositionMode||constants.SEGUI_SCROLL_POSITION_DEFAULT,this.clonedTemplates=[],this.setGetterSetter(),this.wType="Segment",this.name="kony.ui.SegmentedUI2",this.canUpdateUI=!0},kony.inherits(kony.ui.SegmentedUI2,kony.ui.Widget),kony.ui.SegmentedUI2.prototype.setGetterSetter=function(){defineGetter(this,"widgetSkin",function(){return this.widgetskin}),defineSetter(this,"widgetSkin",function(e){var t=this.widgetskin;this.widgetskin=e,$KW[this.wType].updateView(this,"widgetskin",e,t)}),defineGetter(this,"rowSkin",function(){return this.rowskin}),defineSetter(this,"rowSkin",function(e){var t=this.skin;this.rowskin=e,$KW[this.wType].updateView(this,"rowskin",e,t)}),defineGetter(this,"rowFocusSkin",function(){return this.focusskin}),defineSetter(this,"rowFocusSkin",function(e){this.focusskin;this.focusskin=e,kony.model.updateView(this,"focusskin",e)}),defineGetter(this,"alternateRowSkin",function(){return this.askin}),defineSetter(this,"alternateRowSkin",function(e){var t=this.askin;this.askin=e,$KW[this.wType].updateView(this,"askin",e,t)}),defineGetter(this,"sectionHeaderSkin",function(){return this.sectionheaderskin}),defineSetter(this,"sectionHeaderSkin",function(e){var t=this.sectionheaderskin;this.sectionheaderskin=e,$KW[this.wType].updateView(this,"sectionskin",e,t)}),defineGetter(this,"widgetDataMap",function(){return this.widgetdatamap}),defineSetter(this,"widgetDataMap",function(e){this.widgetdatamap=e}),defineGetter(this,"rowTemplate",function(){return this.rowtemplate}),defineSetter(this,"rowTemplate",function(e){this.rowtemplate=e}),defineGetter(this,"sectionHeaderTemplate",function(){return this.sectionheadertemplate}),defineSetter(this,"sectionHeaderTemplate",function(e){this.sectionheadertemplate=e}),defineGetter(this,"separatorRequired",function(){return this.separatorrequired}),defineSetter(this,"separatorRequired",function(e){this.separatorrequired=e,$KW[this.wType].updateView(this,"separatorrequired",e)}),defineGetter(this,"separatorThickness",function(){return this.separatorthickness}),defineSetter(this,"separatorThickness",function(e){this.separatorthickness=e,$KW[this.wType].updateView(this,"separatorthickness",e)}),defineGetter(this,"separatorColor",function(){return this.separatorcolor}),defineSetter(this,"separatorColor",function(e){this.separatorcolor=e,$KW[this.wType].updateView(this,"separatorcolor",e)}),defineGetter(this,"viewType",function(){return this.viewtype}),defineSetter(this,"viewType",function(e){var t=this.viewtype;this.viewtype=e,$KW[this.wType].updateView(this,"viewtype",e,t)}),defineGetter(this,"onRowClick",function(){return this.onrowclick}),defineSetter(this,"onRowClick",function(e){this.onrowclick=e}),defineGetter(this,"onRowDisplay",function(){return this.onrowdisplay}),defineSetter(this,"onRowDisplay",function(e){this.onrowdisplay=e,$KW.Segment.onRowDisplay(this)}),defineGetter(this,"retainSelection",function(){return this.retainselection}),defineSetter(this,"retainSelection",function(e){this.retainselection=e}),defineGetter(this,"needPageIndicator",function(){return this.needpageindicator}),defineSetter(this,"needPageIndicator",function(e){this.needpageindicator=e,$KW[this.wType].updateView(this,"needpageindicator",e)}),defineGetter(this,"pageOnDotImage",function(){return this.pageondotimage}),defineSetter(this,"pageOnDotImage",function(e){this.pageondotimage=e,$KW[this.wType].updateView(this,"pageondotimage",e)}),defineGetter(this,"pageOffDotImage",function(){return this.pageoffdotimage}),defineSetter(this,"pageOffDotImage",function(e){this.pageoffdotimage=e,$KW[this.wType].updateView(this,"pageoffdotimage",e)}),defineGetter(this,"onSwipe",function(){return this.onswipe}),defineSetter(this,"onSwipe",function(e){this.onswipe=e}),defineGetter(this,"showScrollbars",function(){return this.showscrollbars}),defineSetter(this,"showScrollbars",function(e){this.showscrollbars=e}),defineGetter(this,"scrollingEvents",function(){return this.scrollingevents}),defineSetter(this,"scrollingEvents",function(e){this.scrollingevents=e,$KW[this.wType].updateView(this,"scrollingevents",e)}),defineGetter(this,"containerHeight",function(){return this.containerheight}),defineSetter(this,"containerHeight",function(e){this.containerheight=e,kony.model.updateView(this,"containerheight",e)}),defineGetter(this,"containerHeightReference",function(){return this.containerheightreference}),defineSetter(this,"containerHeightReference",function(e){this.containerheightreference=e,kony.model.updateView(this,"containerheightreference",e)}),defineGetter(this,"selectionBehavior",function(){return this.selectionbehavior}),defineSetter(this,"selectionBehavior",function(e){var t=this.selectionbehavior;this.selectionbehavior=e,$KW[this.wType].updateView(this,"selectionbehavior",e,t)}),defineGetter(this,"selectionBehaviorConfig",function(){return this.selectionbehaviorconfig}),defineSetter(this,"selectionBehaviorConfig",function(e){this.selectionbehaviorconfig=e,$KW[this.wType].updateView(this,"selectionbehaviorconfig",e)}),defineGetter(this,"selectedIndex",function(){return this.selectedindex}),defineSetter(this,"selectedIndex",function(e){this.selectedindex=e,$KW[this.wType].updateView(this,"selectedindex",e)}),defineGetter(this,"selectedItems",function(){return this.selecteditems}),defineGetter(this,"selectedRowItems",function(){return this.selecteditems}),defineGetter(this,"selectedIndices",function(){return this.selectedindices}),defineSetter(this,"selectedIndices",function(e){this.selectedindices=e,$KW[this.wType].updateView(this,"selectedindices",e)}),defineGetter(this,"selectedRowIndex",function(){return this.selectedrowindex}),defineSetter(this,"selectedRowIndex",function(e){this.selectedrowindex=e,$KW[this.wType].updateView(this,"selectedindex",e)}),defineGetter(this,"selectedRowIndices",function(){return this.selectedrowindices}),defineSetter(this,"selectedRowIndices",function(e){this.selectedrowindices=e,$KW[this.wType].updateView(this,"selectedindices",e)}),this.scrollingevents=this.scrollingevents||{},this.scrollingevents.scrollObj=this,this.scrollingevents&&(defineGetter(this.scrollingEvents,"onPush",function(){return this.onpush}),defineSetter(this.scrollingEvents,"onPush",function(e){this.onpush=e,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onpush",e)}),defineGetter(this.scrollingEvents,"onPull",function(){return this.onpull}),defineSetter(this.scrollingEvents,"onPull",function(e){this.onpull=e,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onpull",e)}),defineGetter(this.scrollingEvents,"onReachingBegining",function(){return this.onreachingbeginning}),defineSetter(this.scrollingEvents,"onReachingBegining",function(e){this.onreachingbeginning=e,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onreachingbeginning",e)}),defineGetter(this.scrollingEvents,"onReachingEnd",function(){return this.onreachingend}),defineSetter(this.scrollingEvents,"onReachingEnd",function(e){this.onreachingend=e,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onreachingend",e)})),defineGetter(this,"retainScrollPositionMode",function(){return this.retainscrollpositionmode}),defineSetter(this,"retainScrollPositionMode",function(e){this.retainscrollpositionmode!=e&&(this.retainscrollpositionmode=e,this.__y=0)})},kony.ui.SegmentedUI2.prototype.addAll=function(e,t){$KW.Segment.addAll(this,e,t)},kony.ui.SegmentedUI2.prototype.addDataAt=function(e,t,i,n){$KW.Segment.addDataAt(this,e,t,i,n)},kony.ui.SegmentedUI2.prototype.addSectionAt=function(e,t,i){$KW.Segment.addSectionAt(this,e,t,i)},kony.ui.SegmentedUI2.prototype.removeAll=function(e){$KW.Segment.removeAll(this,e)},kony.ui.SegmentedUI2.prototype.removeAt=function(e,t,i){$KW.Segment.removeAt(this,e,t,i)},kony.ui.SegmentedUI2.prototype.removeSectionAt=function(e,t){$KW.Segment.removeSectionAt(this,e,t)},kony.ui.SegmentedUI2.prototype.setData=function(e,t){$KW.Segment.setData(this,e,t)},kony.ui.SegmentedUI2.prototype.setDataAt=function(e,t,i,n){$KW.Segment.setDataAt(this,e,t,i,n)},kony.ui.SegmentedUI2.prototype.setSectionAt=function(e,t,i){$KW.Segment.setSectionAt(this,e,t,i)},kony.ui.SegmentedUI2.prototype.setDataWithSections=function(e){$KW.Segment.setDataWithSections(this,e)},kony.ui.SegmentedUI2.prototype.animateRows=function(e){new $KW.Segment.animateRows(this,e)},kony.ui.SegmentedUI2.prototype.setAnimations=function(e){this.listAnimation&&this.listAnimation.destroy(),this.listAnimation=new $KW.Segment.setAnimations(this,e)},kony.ui.SegmentedUI2.prototype.getFirstVisibleRow=function(){return $KW.Segment.getFirstVisibleRow(this)},kony.ui.SegmentedUI2.prototype.getLastVisibleRow=function(){return $KW.Segment.getLastVisibleRow(this)},kony.ui.SegmentedUI2.prototype.searchText=function(e,t){return $KW.Segment.searchText(e,t,this)},kony.ui.SegmentedUI2.prototype.getUpdatedSearchResults=function(){return $KW.Segment.getUpdatedSearchResults(this)},kony.ui.SegmentedUI2.prototype.clearSearch=function(){return $KW.Segment.clearSearch(this)},kony.ui.SegmentedUI2.prototype.resetSwipeMove=function(e){return $KW.Segment.resetSwipe(this,e)},kony.ui.SegmentedUI=function(e,t,i){kony.ui.SegmentedUI.baseConstructor.call(this,e,t,i),this.skin=e.skin,this.askin=e.aSkin,this.sectionheaderskin=i.secSkin,this.name="kony.ui.SegmentedUI",retainSelection=i.retainSelection||!1,viewType=this.viewtype=i.view,selectionBehavior=this.selectionbehavior=i.behavior||constants.SEGUI_DEFAULT_BEHAVIOR,separatorThickness=this.separatorthickness=i.sepThickness,separatorColor=this.separatorcolor=i.sepColor,onRowClick=this.onrowclick=e.onClick,this.separatorrequired=!0,this.focuseditem=null,defineGetter(this,"focusedItem",function(){return this.focuseditem}),this.focusedindex=e.focusedIndex||null,defineGetter(this,"focusedIndex",function(){return this.focusedindex}),defineSetter(this,"focusedIndex",function(e){this.focusedindex=e,$KW[this.wType].updateView(this,"focusedindex",e)}),this.needpageindicator=i.isPageIndicatorNeeded||null,defineGetter(this,"isPageIndicatorNeeded",function(){return this.needpageindicator}),defineSetter(this,"isPageIndicatorNeeded",function(e){this.needpageindicator=e,$KW[this.wType].updateView(this,"needpageindicator",e)})},kony.inherits(kony.ui.SegmentedUI,kony.ui.SegmentedUI2);
kony.ui.TextBox2=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("TextBox2"))),kony.ui.TextBox2.baseConstructor.call(this,e,t,i),this.autoCorrect=this.autocorrect=i.autoCorrect||!1,this.autoComplete=this.autocomplete=i.autoComplete||!1,this.pattern=i.pattern,this.placeholderskin=i.placeholderSkin,this.secureTextEntry=this.securetextentry=e.secureTextEntry,this.maxtextlength=e.maxTextLength,this.textinputmode=e.textInputMode||constants.TEXTBOX_INPUT_MODE_ANY,this.keyboardtype=e.keyBoardStyle||constants.TEXTBOX_KEY_BOARD_STYLE_DEFAULT,this.restrictcharactersset=e.restrictCharactersSet,this.containerheightmode=t.containerHeightMode||constants.TEXTBOX_DEFAULT_PLATFORM_HEIGHT,this.containerheight=t.containerHeight,this.containerheightreference=t.containerHeightReference,e.i18n_placeholder&&(this.i18n_placeholder=e.i18n_placeholder),this.ondone=e.onDone,this.onbeginediting=i.onBeginEditing,this.onendediting=i.onEndEditing,this.ontextchange=e.onTextChange||i.onTextChange,this.autocapitalize=e.autoCapitalize||constants.TEXTBOX_AUTO_CAPITALIZE_NONE,this._text=e.text||"",defineGetter(this,"text",function(){return this._text}),defineSetter(this,"text",function(e){this._text=e,this.canUpdateUI&&(this.i18n_text="",$KW[this.wType].updateView(this,"text",e))}),this._placeholder=e.placeholder||"",defineGetter(this,"placeholder",function(){return this._placeholder}),defineSetter(this,"placeholder",function(e){this._placeholder=e,this.canUpdateUI&&(this.i18n_placeholder="",$KW[this.wType].updateView(this,"placeholder",e))}),defineGetter(this,"placeholderSkin",function(){return this.placeholderskin}),defineSetter(this,"placeholderSkin",function(e){this.placeholderskin;this.placeholderskin=e,$KW[this.wType].updateView(this,"placeholderskin",e)});i.pattern;this._pattern=i.pattern,defineGetter(this,"pattern",function(){return this._pattern}),defineSetter(this,"pattern",function(e){this._pattern=e,$KW[this.wType].updateView(this,"pattern",e)}),this._name=i.name||"",defineGetter(this,"name",function(){return this._name}),defineSetter(this,"name",function(e){this._name=e,$KW[this.wType].updateView(this,"name",e)}),this.canUpdateUI=!0,this.wType="TextField",this.__name="kony.ui.TextBox2",kony.ui.TextBox2.prototype.setGetterSetter.call(this)},kony.inherits(kony.ui.TextBox2,kony.ui.Widget),kony.ui.TextBox2.prototype.setSelection=function(e,t){$KW.TextField.setSelection(this,e,t)},kony.ui.TextBox2.prototype.getSelection=function(){return $KW.TextField.getSelection(this)},kony.ui.TextBox2.prototype.setGetterSetter=function(){defineGetter(this,"maxTextLength",function(){return this.maxtextlength}),defineSetter(this,"maxTextLength",function(e){this.maxtextlength=e,$KW[this.wType].updateView(this,"maxtextlength",e)}),defineGetter(this,"textInputMode",function(){return this.textinputmode||this.mode}),defineSetter(this,"textInputMode",function(e){this.textinputmode=this.mode=e,$KW[this.wType].updateView(this,"textinputmode",e)}),defineGetter(this,"keyBoardStyle",function(){return this.keyboardtype}),defineSetter(this,"keyBoardStyle",function(e){this.keyboardtype=e,$KW[this.wType].updateView(this,"keyboardtype",e)}),defineGetter(this,"onDone",function(){return this.ondone}),defineSetter(this,"onDone",function(e){this.ondone=e}),defineGetter(this,"onKeyDown",function(){return this.onkeydown}),defineSetter(this,"onKeyDown",function(e){this.onkeydown=e}),defineGetter(this,"onKeyUp",function(){return this.onkeyup}),defineSetter(this,"onKeyUp",function(e){this.onkeyup=e}),defineGetter(this,"onBeginEditing",function(){return this.onbeginediting}),defineSetter(this,"onBeginEditing",function(e){this.onbeginediting=e}),defineGetter(this,"onEndEditing",function(){return this.onendediting}),defineSetter(this,"onEndEditing",function(e){this.onendediting=e}),defineGetter(this,"onTextChange",function(){return this.ontextchange}),defineSetter(this,"onTextChange",function(e){this.ontextchange=e}),defineGetter(this,"autoCapitalize",function(){return this.autocapitalize}),defineSetter(this,"autoCapitalize",function(e){this.autocapitalize=e,$KW[this.wType].updateView(this,"autocapitalize",e)}),defineGetter(this,"containerHeightMode",function(){return this.containerheightmode}),defineSetter(this,"containerHeightMode",function(e){this.containerheightmode=e,$KW[this.wType].updateView(this,"containerheightmode",e)}),defineGetter(this,"containerHeight",function(){return this.containerheight}),defineSetter(this,"containerHeight",function(e){this.containerheight=e,$KW[this.wType].updateView(this,"containerheight",e)}),defineGetter(this,"containerHeightReference",function(){return this.containerheightreference}),defineSetter(this,"containerHeightReference",function(e){this.containerheightreference=e,$KW[this.wType].updateView(this,"containerheightreference",e)}),defineGetter(this,"secureTextEntry",function(){return this.securetextentry}),defineSetter(this,"secureTextEntry",function(e){this.securetextentry=e,$KW[this.wType].updateView(this,"securetextentry",e)}),defineGetter(this,"restrictCharactersSet",function(){return this.restrictcharactersset}),defineSetter(this,"restrictCharactersSet",function(e){this.restrictcharactersset=e})},kony.ui.TextBox=function(e,t,i){kony.ui.TextBox.baseConstructor.call(this,e,t,i),this.placeholder=i.placeholder,this.autocapitalize=i.autoCapitalize,this.keyboardtype=i.keyBoardType,this.ondone=i.onDone,this.__name="kony.ui.TextBox"},kony.inherits(kony.ui.TextBox,kony.ui.TextBox2),kony.ui.TextArea2=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("TextArea2"))),kony.ui.TextArea2.baseConstructor.call(this,e,t,i),this.wType="TextArea",this.name="kony.ui.TextArea2",this.numberofvisiblelines=e.numberOfVisibleLines,this.setGetterSetter()},kony.inherits(kony.ui.TextArea2,kony.ui.TextBox2),kony.ui.TextArea2.prototype.setGetterSetter=function(){defineGetter(this,"numberOfVisibleLines",function(){return this.numberofvisiblelines}),defineSetter(this,"numberOfVisibleLines",function(e){this.numberofvisiblelines=e,$KW[this.wType].updateView(this,"numberofvisiblelines",e)})},kony.ui.TextArea=function(e,t,i){kony.ui.TextArea.baseConstructor.call(this,e,t,i),this.numberofrows=i.numberOfRows,this.name="kony.ui.TextArea"},kony.inherits(kony.ui.TextArea,kony.ui.TextArea2);
kony.ui.Popup=function(t,i,e){arguments.length<3&&(t=i=e=$KU.mergeDefaults(t,$KU.getAllDefaults("Popup"))),kony.ui.Popup.baseConstructor.call(this,t,i,e),this.wType="Popup",this.name="kony.ui.Popup",this.containerheight=i.containerHeight,this.containerheightreference=i.containerHeightReference||constants.CONTAINER_HEIGHT_BY_FORM_REFERENCE;var n=this.inTransitionConfig||this.intransitionconfig,o=this.outTransitionConfig||this.outtransitionconfig;this.ptranIn=this.ptran=n?n.popupTransition:"none",this.ptranOut=o?o.popupTransition:"none",this.ismodal=t.isModal,this.transparencybehindthepopup=t.transparencyBehindThePopup,this.setGetterSetter()},kony.inherits(kony.ui.Popup,kony.ui.Form2),kony.ui.Popup.prototype.setGetterSetter=function(){defineGetter(this,"isModal",function(){return this.ismodal}),defineSetter(this,"isModal",function(t){this.ismodal=t,$KW[this.wType].updateView(this,"ismodal",t)}),defineGetter(this,"transparencyBehindThePopup",function(){return this.transparencybehindthepopup}),defineSetter(this,"transparencyBehindThePopup",function(t){this.transparencybehindthepopup=t,$KW[this.wType].updateView(this,"transparencybehindthepopup",t)}),defineGetter(this,"containerHeight",function(){return this.containerheight}),defineSetter(this,"containerHeight",function(t){this.containerheight=t,kony.model.updateView(this,"containerheight",t)}),defineGetter(this,"containerHeightReference",function(){return this.containerheightreference}),defineSetter(this,"containerHeightReference",function(t){this.containerheightreference=t,kony.model.updateView(this,"containerheightreference",t)})},kony.ui.Popup.prototype.destroy=function(){this.onDestroy&&this.onDestroy(this),$KW.Popup.dismiss(this);for(var t=this.widgets(),i=0;i<t.length;i++)removeAllReferences(t[i]),t[i]instanceof _konyConstNS.ContainerWidget&&delete this[t[i].id];this.addWidgetsdone=!1,this.initdone=!1,this.ownchildrenref=[],this.children=[]},kony.ui.Popup.prototype.dismiss=function(){$KW.Popup.dismiss(this)},kony.ui.Popup.prototype.show=function(){this.addWidgetsdone||(this.addWidgetsdone=!0,this.addWidgets&&this.addWidgets(this)),!this.initdone&&this.init&&this.init(this),this.initdone=!0,$KW.Popup.show(this)},kony.ui.Popup.prototype.setContext=function(t){$KW.Popup.setcontext(this,t)},kony.ui.Popup.prototype.scrollToBeginning=function(){$KW.Popup.scrollToBeginning(this)},kony.ui.Popup.prototype.scrollToEnd=function(){$KW.Popup.scrollToEnd(this)},kony.ui.Popup.prototype.scrollToWidget=function(t){$KW.Popup.scrollToWidget(this,t)},kony.ui.Popup.prototype.navigateTo=kony.ui.Popup.prototype.showTitleBar=kony.ui.Popup.prototype.hideTitleBar=kony.ui.Popup.prototype.setTitleBarSkin=kony.ui.Popup.prototype.setTitleBarLeftSideButtonSkin=kony.ui.Popup.prototype.setTitleBarRightSideButtonSkin=function(){kony.web.logger("warn","This popup API is not supported.")};
kony.ui.TabPane=function(i,e,t){if(arguments.length<3&&(i=e=t=$KU.mergeDefaults(i,$KU.getAllDefaults("TabPane"))),kony.ui.TabPane.baseConstructor.call(this,i,e,t),this.wType="TabPane",this.name="kony.ui.TabPane",this.screenLevelWidget=i.screenLevelWidget||!1,this.isMaster=!0,this.activeskin=i.activeSkin,this.activefocusskin=i.activeFocusSkin,this.inactiveskin=i.inactiveSkin,this.viewtype=i.viewType,this.viewconfig=i.viewConfig,i.viewConfig&&i.viewConfig.collapsibleViewConfig&&(this.viewconfig.collapsibleviewconfig=this.viewconfig.collapsibleViewConfig,this.viewconfig.collapsibleviewconfig.onclick=this.viewconfig.collapsibleviewconfig.onClick,this.viewconfig.collapsibleviewconfig.expandedimage=this.viewconfig.collapsibleviewconfig.expandedImage,this.viewconfig.collapsibleviewconfig.collapsedimage=this.viewconfig.collapsibleviewconfig.collapsedImage,this.viewconfig.collapsibleviewconfig.imageposition=this.viewconfig.collapsibleviewconfig.imagePosition,this.viewconfig.collapsibleviewconfig.tabnamealignment=this.viewconfig.collapsibleviewconfig.tabNameAlignment,this.viewconfig.collapsibleviewconfig.toggletabs=this.viewconfig.collapsibleviewconfig.toggleTabs),this.ontabclick=i.onTabClick,this.retainpositionintab=i.retainPositionInTab,this.needpageindicator=i.needPageIndicator,this.selectedtabindex=i.selectedTabIndex,this.containerheight=e.containerHeight,this.containerheightreference=e.containerHeightReference||constants.CONTAINER_HEIGHT_BY_FORM_REFERENCE,i.viewConfig&&i.viewConfig.collapsibleViewConfig){var n=i.viewConfig.collapsibleViewConfig;this.collapsedimage=n.expandedImage,this.expandedimage=n.collapsedImage,this.toggletabs=n.toggleTabs,this.imageposition=n.imagePosition,this.tabnamealignment=n.tabNameAlignment}if(i.viewConfig&&i.viewConfig.pageViewConfig){var a=i.viewConfig.pageViewConfig;this.pageondotimage=a.pageOnDotImage,this.pageoffdotimage=a.pageOffDotImage,this.needpageindicator=a.needPageIndicator}this.activetabs=i.activeTabs,this.viewtype!=constants.TABPANE_VIEW_TYPE_TABVIEW&&this.viewtype!=constants.TABPANE_VIEW_TYPE_PAGEVIEW||this.activetabs&&(!this.activetabs||0!=this.activetabs.length)||(this.activetabs=[0],this.activetab=0),this.activetabs&&this.activetabs.length>0&&(this.activetab=this.activetabs[0]),this.setGetterSetter()},kony.inherits(kony.ui.TabPane,kony.ui.ContainerWidget),kony.ui.TabPane.prototype.setGetterSetter=function(){defineGetter(this,"activeSkin",function(){return this.activeskin}),defineSetter(this,"activeSkin",function(i){var e=this.activeskin;this.activeskin=i,$KW[this.wType].updateView(this,"activeskin",i,e)}),defineGetter(this,"activeFocusSkin",function(){return this.activefocusskin}),defineSetter(this,"activeFocusSkin",function(i){var e=this.activefocusskin;this.activefocusskin=i,kony.model.updateView(this,"activefocusskin",i,e)}),defineGetter(this,"inactiveSkin",function(){return this.inactiveskin}),defineSetter(this,"inactiveSkin",function(i){var e=this.inactiveskin;this.inactiveskin=i,$KW[this.wType].updateView(this,"inactiveskin",i,e)}),defineGetter(this,"viewType",function(){return this.viewtype}),defineSetter(this,"viewType",function(i){this.viewtype=i,this.viewtype!=constants.TABPANE_VIEW_TYPE_TABVIEW&&this.viewtype!=constants.TABPANE_VIEW_TYPE_PAGEVIEW||this.activetabs&&(!this.activetabs||0!=this.activetabs.length)||(this.activetabs=[0],this.activetab=0),this.activetabs&&this.activetabs.length>0&&(this.activetab=this.activetabs[0]),$KW[this.wType].updateView(this,"viewtype",i)}),defineGetter(this,"containerHeight",function(){return this.containerheight}),defineSetter(this,"containerHeight",function(i){this.containerheight=i,kony.model.updateView(this,"containerheight",i)}),defineGetter(this,"containerHeightReference",function(){return this.containerheightreference}),defineSetter(this,"containerHeightReference",function(i){this.containerheightreference=i,kony.model.updateView(this,"containerheightreference",i)}),defineGetter(this,"viewConfig",function(){return this.viewconfig}),defineSetter(this,"viewConfig",function(i){this.viewconfig=i,this.viewconfig.collapsibleviewconfig=this.viewconfig.collapsibleViewConfig,this.viewconfig.collapsibleviewconfig.onclick=this.viewconfig.collapsibleviewconfig.onClick,this.expandedimage=this.viewconfig.collapsibleviewconfig.expandedimage=this.viewconfig.collapsibleviewconfig.expandedImage,this.collapsedimage=this.viewconfig.collapsibleviewconfig.collapsedimage=this.viewconfig.collapsibleviewconfig.collapsedImage,this.imageposition=this.viewconfig.collapsibleviewconfig.imageposition=this.viewconfig.collapsibleviewconfig.imagePosition,this.tabnamealignment=this.viewconfig.collapsibleviewconfig.tabnamealignment=this.viewconfig.collapsibleviewconfig.tabNameAlignment,this.toggletabs=this.viewconfig.collapsibleviewconfig.toggletabs=this.viewconfig.collapsibleviewconfig.toggleTabs,$KW[this.wType].updateView(this,"viewconfig",i)}),defineGetter(this,"onTabClick",function(){return this.ontabclick}),defineSetter(this,"onTabClick",function(i){this.ontabclick=i,$KW[this.wType].updateView(this,"ontabclick",i)}),defineGetter(this,"retainPositionInTab",function(){return this.retainpositionintab}),defineSetter(this,"retainPositionInTab",function(i){this.retainpositionintab=i,$KW[this.wType].updateView(this,"retainpositionintab",i)}),defineGetter(this,"needPageIndicator",function(){return this.needpageindicator}),defineSetter(this,"needPageIndicator",function(i){this.needpageindicator=i,$KW[this.wType].updateView(this,"needpageindicator",i)}),defineGetter(this,"selectedTabIndex",function(){return this.selectedtabindex}),defineSetter(this,"selectedTabIndex",function(i){this.selectedtabindex=i,$KW[this.wType].updateView(this,"selectedtabindex",i)}),defineGetter(this,"activeTabs",function(){return this.activetabs}),defineSetter(this,"activeTabs",function(i){this.activetabs=i,this.viewtype!=constants.TABPANE_VIEW_TYPE_TABVIEW&&this.viewtype!=constants.TABPANE_VIEW_TYPE_PAGEVIEW||i&&(!i||0!=i.length)||(this.activetabs=[0],this.activetab=0),this.activetabs&&this.activetabs.length>0&&(this.activetab=this.activetabs[0]),$KW[this.wType].updateView(this,"activetabs",i)}),defineGetter(this,"activeTab",function(){return this.activetabs[0]}),defineSetter(this,"activeTab",function(i){this.activetabs[0]=i,$KW[this.wType].updateView(this,"activetab",i)})},kony.ui.TabPane.prototype.addTab=function(i,e,t,n,a){var s=n;s.id=i,s.tabname=e,s.image=t,s.oninit=a,this.allboxes=[],s.name="kony.ui.Tab";kony.ui.ContainerWidget.prototype.add.call(this,[s]),kony.ui.Form2.prototype.createFormLevelHierarchy.call(this,[s]),$KG.allforms[this.pf]&&kony.ui.Form2.prototype.createFormLevelHierarchy.call($KG.allforms[this.pf],[s]),kony.ui.ContainerWidget.prototype.createhierarchy.call(this,s.ownchildrenref),$KW.TabPane.addChildTab(this,s),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.TabPane.prototype.addTabAt=function(i,e,t,n,a){var s=n;s.id=i,s.tabname=e,s.image=t,this.allboxes=[],s.name="kony.ui.Tab";kony.ui.ContainerWidget.prototype.addAt.call(this,s,a),kony.ui.Form2.prototype.createFormLevelHierarchy.call(this,[s]),$KG.allforms[this.pf]&&kony.ui.Form2.prototype.createFormLevelHierarchy.call($KG.allforms[this.pf],[s]),kony.ui.ContainerWidget.prototype.createhierarchy.call(this,s.ownchildrenref),$KW.TabPane.addChildTabAt(this,s,a),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.TabPane.prototype.removeTabAt=function(i){$KW.TabPane.removeTabAt(this,i),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.TabPane.prototype.removeTabById=function(i){$KW.TabPane.removeTabById(this,i),$KU.checkAndReCalculateTopFlexModal(this)},kony.ui.TabPane.prototype.setTabName=function(i,e){$KW.TabPane.setTabName(this,i,e)},kony.ui.TabPane.prototype.setTabImage=function(i,e){$KW.TabPane.setTabImage(this,i,e)};
kony.ui.Slider=function(e,i,t){arguments.length<3&&(e=i=t=$KU.mergeDefaults(e,$KU.getAllDefaults("Slider"))),kony.ui.Slider.baseConstructor.call(this,e,i,t),this.min=e.min,this.max=e.max,this.step=e.step,this.onslide=e.onSlide,this.onselection=e.onSelection,this.leftskin=e.leftSkin,this.rightskin=e.rightSkin,this.thumbimage=e.thumbImage,this.focusthumbimage=e.focusThumbImage,"undefined"==e.selectedValue||null==e.selectedValue?this.selectedvalue=Math.abs(e.min+(e.min-e.max)/2):this.selectedvalue=e.selectedValue,this.widgetalignment=i.widgetAlignment;var n=i.margin?i.margin:[0,0,0,0];this.margin=n,this.minlabel=t.minLabel,this.maxlabel=t.maxLabel,this.minlabelskin=t.minLabelSkin,this.maxlabelskin=t.maxLabelSkin,this.thickness=t.thickness,this.orientation="horizontal",this.wType="Slider",this.name="kony.ui.Slider",this.setGetterSetter()},kony.inherits(kony.ui.Slider,kony.ui.Widget),kony.ui.Slider.prototype.setGetterSetter=function(){defineGetter(this,"selectedValue",function(){return this.selectedvalue}),defineSetter(this,"selectedValue",function(e){this.selectedvalue=e,$KW[this.wType].updateView(this,"selectedvalue",e)}),defineGetter(this,"focusThumbImage",function(){return $KU.isIOS7?null:this.focusthumbimage}),defineSetter(this,"focusThumbImage",function(e){$KU.isIOS7||(this.focusthumbimage=e,$KW[this.wType].updateView(this,"focusthumbimage",e))}),defineGetter(this,"thumbImage",function(){return $KU.isIOS7?null:this.thumbimage}),defineSetter(this,"thumbImage",function(e){$KU.isIOS7||(this.thumbimage=e,$KW[this.wType].updateView(this,"thumbimage",e))}),defineGetter(this,"rightSkin",function(){return this.rightskin}),defineSetter(this,"rightSkin",function(e){$KW[this.wType].updateView(this,"rightskin",e,this.rightskin)}),defineGetter(this,"leftSkin",function(){return this.leftskin}),defineSetter(this,"leftSkin",function(e){$KW[this.wType].updateView(this,"leftskin",e,this.leftskin)}),defineGetter(this,"minLabel",function(){return this.minlabel}),defineSetter(this,"minLabel",function(e){$KW[this.wType].updateView(this,"minlabel",e,this.minlabel)}),defineGetter(this,"maxLabel",function(){return this.maxlabel}),defineSetter(this,"maxLabel",function(e){$KW[this.wType].updateView(this,"maxlabel",e,this.maxlabel)}),defineGetter(this,"maxLabelSkin",function(){return this.maxlabelskin}),defineSetter(this,"maxLabelSkin",function(e){$KW[this.wType].updateView(this,"maxlabelskin",e,this.maxlabelskin)}),defineGetter(this,"minLabelSkin",function(){return this.minlabelskin}),defineSetter(this,"minLabelSkin",function(e){$KW[this.wType].updateView(this,"minlabelskin",e,this.minlabelskin)}),defineGetter(this,"onSelection",function(){return this.onselection}),defineSetter(this,"onSelection",function(e){this.onselection=e}),defineGetter(this,"onSlide",function(){return this.onslide}),defineSetter(this,"onSlide",function(e){this.onslide=e})};
kony.ui.Video=function(e,t,o){arguments.length<3&&(e=t=o=$KU.mergeDefaults(e,$KU.getAllDefaults("Video"))),kony.ui.Video.baseConstructor.call(this,e,t,o),this.wType="Video",this.name="kony.ui.Video";var i=e.source;defineGetter(this,"source",function(){return i}),defineSetter(this,"source",function(e){i=e,$KW[this.wType].updateView(this,"source",e)});var n=o.controls||e.controls;this.controls=o.controls||e.controls,defineGetter(this,"controls",function(){return n}),defineSetter(this,"controls",function(e){n=e,$KW[this.wType].updateView(this,"controls",e)});var r=o.poster||e.poster;defineGetter(this,"poster",function(){return r}),defineSetter(this,"poster",function(e){r=e,$KW[this.wType].updateView(this,"poster",e)})},kony.inherits(kony.ui.Video,kony.ui.Widget),kony.ui.Video.prototype.setSource=function(e){this.source=e},kony.ui.Video.prototype.play=function(){$KW.Video.play(this)},kony.ui.Video.prototype.pause=function(e){$KW.Video.pause(this)},kony.ui.Video.prototype.resume=function(e){$KW.Video.resume(this)},kony.ui.Video.prototype.stop=function(e){$KW.Video.stop(this)},kony.ui.Video.prototype.seekTo=function(e){$KW.Video.seekTo(this,e)},kony.ui.Video.prototype.isPlaying=function(){return $KW.Video.isPlaying(this)},kony.ui.Video.prototype.getCurrentPosition=function(){return $KW.Video.getCurrentPosition(this)},kony.ui.Video.prototype.getDuration=function(){return $KW.Video.getDuration(this)},kony.ui.Video.prototype.getBufferPercentage=function(){return $KW.Video.getBufferPercentage(this)};
kony.ui.KMasterTemplate=function(e,t,o,n){var i=[];arguments.length<3?(e=t=o=$KU.mergeDefaults(e,$KU.getAllDefaults("UserWidget")),i.push(e)):(i.push(e),i.push(t),i.push(o));var r=_kony.mvc.initializeMasterController(n,e.id,i),l=$KW.FlexUtils.shouldApplyRTL(r,"flexPosition");for(var a in e)l?"left"==a?r.right=e.left:"right"==a?r.left=e.right:r[a]=e[a]:r[a]=e[a];if(r.isMaster=!0,r.children)for(var s=0;s<r.children.length;s++){var c=r[r.children[s]];updateImmediateMasterToChilds(c,r)}return _kony.mvc.setMasterContract(r,r.id,n),r},kony.ui.KComponentTemplate=function(e,t,o,n){var i=[];arguments.length<3?(e=t=o=$KU.mergeDefaults(e,$KU.getAllDefaults("KComponent")),i.push(e)):(i.push(e),i.push(t),i.push(o));var r=new kony.ui.KComponent(e,t,o),l=_kony.mvc.initializeMasterController(n,r.id,i),a=$KW.FlexUtils.shouldApplyRTL(l,"flexPosition"),s=["preShow","postShow","destroy","onHide"];for(var c in e)-1==s.indexOf(c)&&(a?"left"==c?l.right=e.left:"right"==c?l.left=e.right:l[c]=e[c]:l[c]=e[c]);l.height=e.height,l._userWidget=!0,l.isMaster=!0,r.userWidgetProxyObject=l,r._konyControllerName=l._konyControllerName,$KU.invokeAddWidgets(l);var u=["accessibilityConfig","margin","padding","skin","left","right","top","bottom","width","height","minWidth","maxWidth","minHeight","maxHeight","centerX","centerY","zIndex","doLayout","opacity","transform","anchorPoint","backgroundColor","borderWidth","borderColor","cornerRadius","enableScrolling","scrollDirection","contentOffset","contentSize","contentOffsetMeasured","contentSizeMeasured","bounces","allowHorizontalBounce","allowVerticalBounce","horizontalScrollIndicator","verticalScrollIndicator","pagineEnabled","dragging","tracking","decelerating","onScrollStart","onScrollTouchReleased","onScrolling","onDecelerationStarted","onScrollEnd","layoutType","clipBounds","contentAlignment","containerWeight","focusSkin","isVisible","blockedUISkin","onClick","onTouchStart","onTouchMove","onTouchEnd"];for(var h in u)!function(e){Object.defineProperty(r,e,{get:function(){return r.userWidgetProxyObject[e]},set:function(t){r.userWidgetProxyObject[e]=t}})}(u[h]);return _kony.mvc.setMasterContract(r,r.id,n),r},kony.ui.KComponent=function(e,t,o){arguments.length<3&&(e=t=o=$KU.mergeDefaults(e,$KU.getAllDefaults("KComponent"))),kony.ui.KComponent.baseConstructor.call(this,e,t,o),this.wType="KComponent",this.name="kony.ui.KComponent",this.ownchildrenref=[],this.children=[],this.allboxes=[]},kony.inherits(kony.ui.KComponent,kony.ui.FlexContainer),kony.ui.KComponent.prototype.forceLayout=function(){$KW.KComponent.forceLayout(this)};
kony.ui.CollectionView=function(e,t,i){arguments.length<3&&(e=t=i=$KU.mergeDefaults(e,$KU.getAllDefaults("SegmentedUI2"))),kony.ui.CollectionView.baseConstructor.call(this,e,t,i),this.skin=e.skin,this.itemskin=e.itemSkin,this.itemselectedskin=e.itemSelectedSkin,this.sectionheaderskin=e.sectionHeaderSkin,this.sectionfooterskin=e.sectionFooterSkin,this.widgetdatamap=e.widgetDataMap,this.itemtemplate=e.itemTemplate,this.sectionheadertemplate=e.sectionHeaderTemplate,this.sectionfootertemplate=e.sectionFooterTemplate,this.pulltorefreshview=e.pullToRefreshView,this.releasetopullrefreshview=e.releaseToPullRefreshView,this.pushtorefreshview=e.pushToRefreshView,this.releasetopushrefreshview=e.releaseToPushRefreshView,this.enableReordering=e.enableReordering||!1,this.layouttype=e.layout||kony.collectionview.LAYOUT_HORIZONTAL,this.autogrowMode=e.autogrowMode,this.retainselection=e.retainSelection||!1,this.contentoffset=e.contentOffset,this.selectionbehavior=e.selectionBehavior||kony.collectionview.SINGLE_SELECT,this.selecteditemindex=e.selectedItemIndex||null,this.selecteditemindices=e.selectedItemIndices||null,this.selecteditems=null,this.minlinespace=e.minLineSpace,this.minitemspace=e.minItemSpace,this.onitemselect=e.onItemSelect,this.scrolldirection=e.scrollDirection,this.onscrollstart=e.onScrollStart,defineGetter(this,"onScrollStart",function(){return this.onscrollstart}),defineSetter(this,"onScrollStart",function(e){this.onscrollstart=e,$KW[this.wType].updateView(this,"onScrollStart",e)}),this.onscrollend=e.onScrollEnd,defineGetter(this,"onScrollEnd",function(){return this.onscrollend}),defineSetter(this,"onScrollEnd",function(e){this.onscrollend=e,$KW[this.wType].updateView(this,"onScrollEnd",e)}),this.onscrolling=e.onScrolling,defineGetter(this,"onScrolling",function(){return this.onscrolling}),defineSetter(this,"onScrolling",function(e){this.onscrolling=e,$KW[this.wType].updateView(this,"onScrolling",e)}),this.onscrolltouchreleased=e.onScrollTouchReleased,defineGetter(this,"onScrollTouchReleased",function(){return this.onscrolltouchreleased}),defineSetter(this,"onScrollTouchReleased",function(e){this.onscrolltouchreleased=e,$KW[this.wType].updateView(this,"onScrollTouchReleased",e)});var n=e.data;defineGetter(this,"data",function(){return n}),defineSetter(this,"data",function(e){n=e,this.canUpdateUI&&$KW[this.wType].updateView(this,"data",e)}),this.scrollbounce=void 0==e.bounces||e.bounces,defineGetter(this,"bounces",function(){return this.scrollbounce}),defineSetter(this,"bounces",function(e){this.scrollbounce=e,$KW[this.wType].updateView(this,"bounces",e)}),this.showscrollbars=e.showScrollbars,this.scrollingevents=e.scrollingEvents||!1,this.scrollingevents&&(this.scrollingevents.onpush=e.scrollingEvents.onPush,this.scrollingevents.onpull=e.scrollingEvents.onPull,this.scrollingevents.onreachingbeginning=e.scrollingEvents.onReachingBeginning,this.scrollingevents.onreachingend=e.scrollingEvents.onReachingEnd),this.clonedTemplates=[],this.setGetterSetter(),this.wType="CollectionView",this.name="kony.ui.CollectionView",this.canUpdateUI=!0},kony.inherits(kony.ui.CollectionView,kony.ui.Widget),kony.ui.CollectionView.prototype.setGetterSetter=function(){defineGetter(this,"itemSkin",function(){return this.itemskin}),defineSetter(this,"itemSkin",function(e){var t=this.itemskin;this.itemskin=e,$KW[this.wType].updateView(this,"itemskin",e,t)}),defineGetter(this,"itemSelectedSkin",function(){return this.itemselectedskin}),defineSetter(this,"itemSelectedSkin",function(e){var t=this.itemselectedskin;this.itemselectedskin=e,kony.model.updateView(this,"itemselectedskin",e,t)}),defineGetter(this,"sectionHeaderSkin",function(){return this.sectionheaderskin}),defineSetter(this,"sectionHeaderSkin",function(e){var t=this.sectionheaderskin;this.sectionheaderskin=e,$KW[this.wType].updateView(this,"sectionheaderskin",e,t)}),defineGetter(this,"sectionFooterSkin",function(){return this.sectionfooterskin}),defineSetter(this,"sectionFooterSkin",function(e){var t=this.sectionfooterskin;this.sectionfooterskin=e,$KW[this.wType].updateView(this,"sectionfooterskin",e,t)}),defineGetter(this,"widgetDataMap",function(){return this.widgetdatamap}),defineSetter(this,"widgetDataMap",function(e){this.widgetdatamap=e}),defineGetter(this,"itemTemplate",function(){return this.itemtemplate}),defineSetter(this,"itemTemplate",function(e){this.itemtemplate=e}),defineGetter(this,"sectionHeaderTemplate",function(){return this.sectionheadertemplate}),defineSetter(this,"sectionHeaderTemplate",function(e){this.sectionheadertemplate=e}),defineGetter(this,"sectionFooterTemplate",function(){return this.sectionfootertemplate}),defineSetter(this,"sectionFooterTemplate",function(e){this.sectionfootertemplate=e}),defineGetter(this,"pullToRefreshView",function(){return this.pulltorefreshview}),defineSetter(this,"pullToRefreshView",function(e){var t=this.pulltorefreshview;this.pulltorefreshview=e,$KW[this.wType].updateView(this,"pulltorefreshview",e,t)}),defineGetter(this,"releaseToPullRefreshView",function(){return this.releasetopullrefreshview}),defineSetter(this,"releaseToPullRefreshView",function(e){var t=this.releasetopullrefreshview;this.releasetopullrefreshview=e,$KW[this.wType].updateView(this,"releasetopullrefreshview",e,t)}),defineGetter(this,"pushToRefreshView",function(){return this.pushtorefreshview}),defineSetter(this,"pushToRefreshView",function(e){var t=this.pushtorefreshview;this.pushtorefreshview=e,$KW[this.wType].updateView(this,"pushtorefreshview",e,t)}),defineGetter(this,"releaseToPushRefreshView",function(){return this.releasetopushrefreshview}),defineSetter(this,"releaseToPushRefreshView",function(e){var t=this.releasetopushrefreshview;this.releasetopushrefreshview=e,$KW[this.wType].updateView(this,"releasetopushrefreshview",e,t)}),defineGetter(this,"onItemSelect",function(){return this.onitemselect}),defineSetter(this,"onItemSelect",function(e){this.onitemselect=e}),defineGetter(this,"showScrollbars",function(){return this.showscrollbars}),defineSetter(this,"showScrollbars",function(e){this.showscrollbars=e}),defineGetter(this,"scrollingEvents",function(){return this.scrollingevents}),defineSetter(this,"scrollingEvents",function(e){this.scrollingevents=e,$KW[this.wType].updateView(this,"scrollingevents",e)}),defineGetter(this,"selectionBehavior",function(){return this.selectionbehavior}),defineSetter(this,"selectionBehavior",function(e){var t=this.selectionbehavior;this.selectionbehavior=e,$KW[this.wType].updateView(this,"selectionbehavior",e,t)}),defineGetter(this,"layout",function(){return this.layouttype}),defineSetter(this,"layout",function(e){var t=this.layouttype;this.layouttype=e,$KW[this.wType].updateView(this,"layouttype",e,t)}),defineGetter(this,"selectedItems",function(){return this.selecteditems}),defineGetter(this,"selectedItemIndex",function(){return this.selecteditemindex}),defineSetter(this,"selectedItemIndex",function(e){this.selecteditemindex=e,$KW[this.wType].updateView(this,"selecteditemindex",e)}),defineGetter(this,"selectedItemIndices",function(){return this.selecteditemindices}),defineSetter(this,"selectedItemIndices",function(e){this.selecteditemindices=e,$KW[this.wType].updateView(this,"selecteditemindices",e)}),defineGetter(this,"contentOffsetMeasured",function(){return $KW.APIUtils.getContentOffsetMeasured(this)}),defineGetter(this,"contentOffset",function(){return this.contentoffset}),defineSetter(this,"contentOffset",function(e){if(this.contentoffset=e,void 0!==e&&null!==e&&void 0!==e.x&&void 0!==e.y)return $KW.APIUtils.setContentOffSet(this,e,!0)}),defineGetter(this,"minLineSpace",function(){return this.minlinespace}),defineSetter(this,"minLineSpace",function(e){this.minlinespace=e,this.canUpdateUI&&$KW[this.wType].updateView(this,"minLineSpace",e)}),defineGetter(this,"minItemSpace",function(){return this.minitemspace}),defineSetter(this,"minItemSpace",function(e){this.minitemspace=e,this.canUpdateUI&&$KW[this.wType].updateView(this,"minItemSpace",e)}),defineGetter(this,"onItemDisplay",function(){return this.onitemdisplay}),defineSetter(this,"onItemDisplay",function(e){this.onitemdisplay=e}),defineGetter(this,"retainSelection",function(){return this.retainselection}),defineSetter(this,"retainSelection",function(e){var t=this.retainselection;this.retainselection=e,t!=e&&$KW[this.wType].updateView(this,"retainselection",e,t)}),defineGetter(this,"reachingBeginningOffset",function(){return this.reachingbeginningoffset}),defineSetter(this,"reachingBeginningOffset",function(e){this.reachingbeginningoffset=e,$KW[this.wType].updateView(this,"reachingBeginningOffset",e)}),defineGetter(this,"reachingEndOffset",function(){return this.reachingendoffset}),defineSetter(this,"reachingEndOffset",function(e){this.reachingendoffset=e,$KW[this.wType].updateView(this,"reachingEndOffset",e)}),this.scrollingevents=this.scrollingevents||{},this.scrollingevents.scrollObj=this,this.scrollingevents&&(defineGetter(this.scrollingEvents,"onPush",function(){return this.onpush}),defineSetter(this.scrollingEvents,"onPush",function(e){this.onpush=e,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onpush",e)}),defineGetter(this.scrollingEvents,"onPull",function(){return this.onpull}),defineSetter(this.scrollingEvents,"onPull",function(e){this.onpull=e,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onpull",e)}),defineGetter(this.scrollingEvents,"onReachingBeginning",function(){return this.onreachingbeginning}),defineSetter(this.scrollingEvents,"onReachingBeginning",function(e){this.onreachingbeginning=e,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onreachingbeginning",e)}),defineGetter(this.scrollingEvents,"onReachingEnd",function(){return this.onreachingend}),defineSetter(this.scrollingEvents,"onReachingEnd",function(e){this.onreachingend=e,$KW[this.scrollObj.wType].updateView(this.scrollObj,"onreachingend",e)})),defineGetter(this,"scrollDirection",function(){return this.scrolldirection}),defineSetter(this,"scrollDirection",function(e){this.scrolldirection=e,$KW[this.wType].updateView(this,"scrollDirection",e)})},kony.ui.CollectionView.prototype.setData=function(e){$KW.CollectionView.Data.setData(this,e)},kony.ui.CollectionView.prototype.addAll=function(e){$KW.CollectionView.Data.addAll(this,e)},kony.ui.CollectionView.prototype.addDataAt=function(e,t,i){$KW.CollectionView.Data.addDataAt(this,e,t,i)},kony.ui.CollectionView.prototype.addSectionAt=function(e,t){$KW.CollectionView.Data.addSectionAt(this,e,t)},kony.ui.CollectionView.prototype.removeAll=function(){$KW.CollectionView.Data.removeAll(this)},kony.ui.CollectionView.prototype.removeDataAt=function(e,t,i){$KW.CollectionView.Data.removeDataAt(this,e,t,i)},kony.ui.CollectionView.prototype.removeSectionAt=function(e,t){$KW.CollectionView.Data.removeSectionAt(this,e,t)},kony.ui.CollectionView.prototype.setDataAt=function(e,t,i){$KW.CollectionView.Data.setDataAt(this,e,t,i)},kony.ui.CollectionView.prototype.setSectionAt=function(e,t){$KW.CollectionView.Data.setSectionAt(this,e,t)},kony.ui.CollectionView.prototype.setDataWithSections=function(e){$KW.CollectionView.Data.setDataWithSections(this,e)},kony.ui.CollectionView.prototype.animateRows=function(e){new $KW.CollectionView.Data.animateRows(this,e)},kony.ui.CollectionView.prototype.setAnimations=function(e){this.listAnimation&&this.listAnimation.destroy(),this.listAnimation=new $KW.CollectionView.setAnimations(this,e)},kony.ui.CollectionView.prototype.getFirstVisibleItem=function(){return $KW.CollectionView.Data.getFirstVisibleItem(this)},kony.ui.CollectionView.prototype.getLastVisibleItem=function(){return $KW.CollectionView.Data.getLastVisibleItem(this)},kony.ui.CollectionView.prototype.scrollToItemAtIndex=function(e){return $KW.CollectionView.scrollToItemAtIndex(this,e)},kony.ui.CollectionView.prototype.getVisibleItems=function(){return $KW.CollectionView.Animation.getVisibleItems(this)},kony.ui.CollectionView.prototype.getIndicesForVisibleItems=function(){return $KW.CollectionView.Animation.getIndicesForVisibleItems(this)},kony.ui.CollectionView.prototype.appendLayoutDataAt=function(e,t,i){$KW.CollectionView.Data.appendLayoutDataAt(this,e,t,i)};
kony.ui.Camera=function(e,a,o){arguments.length<3&&(e=a=o=$KU.mergeDefaults(e,$KU.getAllDefaults("Camera"))),kony.ui.Camera.baseConstructor.call(this,e,a,o),this.wType="Camera"},kony.inherits(kony.ui.Camera,kony.ui.Widget),kony.ui.Camera.prototype.startVideoCapture=kony.ui.Camera.prototype.stopVideoCapture=kony.ui.Camera.prototype.takePicture=kony.ui.Camera.prototype.getSupportedCameraSources=kony.ui.Camera.prototype.releaseRawBytes=kony.ui.Camera.prototype.openCamera=kony.ui.Camera.prototype.closeCamera=function(){kony.web.logger("warn","This Camera method is not supported in SPA")};
kony.type=function(e){$KU.logExecuting("kony.type"),$KU.logExecutingWithParams("kony.type",e);var n=$KI.type(e);return"table"!=n&&"object"!=n||(n=void 0==e.name?n:e.name),$KU.logExecutingFinished("kony.type"),n};
$KI.crypto&&(kony.crypto={newKey:$KI.crypto.newkey,saveKey:$KI.crypto.savekey,createHash:$KI.crypto.createhash,retrievePublicKey:$KI.crypto.retrievepublickey,deleteKey:$KI.crypto.deletekey,readKey:$KI.crypto.readkey,encrypt:$KI.crypto.encrypt,decrypt:$KI.crypto.decrypt,createHMacHash:$KI.crypto.createHMacHash,createPBKDF2Key:$KI.crypto.createPBKDF2Key}),$KI.db&&(kony.db={openDatabase:$KI.db.opendatabase,transaction:$KI.db.transaction,readTransaction:$KI.db.readtransaction,executeSql:$KI.db.executesql,sqlResultsetRowItem:$KI.db.sqlresultsetrowitem,changeVersion:$KI.db.changeversion}),$KI.ds&&(kony.ds={delete:$KI.ds.Delete,remove:$KI.ds.Delete,read:$KI.ds.read,save:$KI.ds.save}),$KI.i18n&&(kony.i18n={deleteResourceBundle:$KI.i18n.deleteresourcebundle,getLocalizedString:$KI.i18n.getlocalizedstring,getCurrentLocale:$KI.i18n.getcurrentlocale,isResourceBundlePresent:$KI.i18n.isresourcebundlepresent,setCurrentLocale:$KI.i18n.setcurrentlocale,setCurrentLocaleAsync:$KI.i18n.setcurrentlocaleasync,setDefaultLocale:$KI.i18n.setdefaultlocale,setDefaultLocaleAsync:$KI.i18n.setdefaultlocaleasync,setResourceBundle:$KI.i18n.setresourcebundle,updateResourceBundle:$KI.i18n.updateresourcebundle,getCurrentDeviceLocale:$KI.i18n.getcurrentdevicelocale,getSupportedLocales:$KI.i18n.getsupportedlocales,isLocaleSupportedByDevice:$KI.i18n.islocalesupportedbydevice,setLocaleLayoutConfig:$KI.i18n.setlocalelayoutconfig}),$KI.localstorage&&(kony.store={key:$KI.localstorage.key,getItem:$KI.localstorage.getitem,removeItem:$KI.localstorage.removeitem,setItem:$KI.localstorage.setitem,clear:$KI.localstorage.clear,length:$KI.localstorage.length}),$KI.geolocation&&(kony.location={clearWatch:$KI.geolocation.clearwatch,getCurrentPosition:$KI.geolocation.getcurrentposition,watchPosition:$KI.geolocation.watchposition,PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3}),$KI.os&&(kony.os={toNumber:$KI.os.tonumber,toCurrency:$KI.os.tocurrency,freeMemory:$KI.os.freememory,userAgent:$KI.os.useragent,deviceInfo:$KI.os.platform,hasGPSSupport:$KI.os.hasgpssupport,hasCameraSupport:$KI.os.hascamerasupport,hasTouchSupport:$KI.os.hastouchsupport,hasOrientationSupport:$KI.os.hasorientationsupport,hasAccelerometerSupport:$KI.os.hasaccelerometersupport,getDeviceCurrentOrientation:$KI.os.getdevicecurrentorientation,httpheaders:$KI.os.httpheaders,getApplicationMode:$KI.os.getapplicationmode,setApplicationMode:$KI.os.setapplicationmode,setApplicationScrollMode:$KI.os.setapplicationscrollmode,getAppContext:$KI.os.getappcontext,print:tobeimplemented,addHiddenField:tobeimplemented,getBatteryLevel:tobeimplemented,getBatteryState:tobeimplemented,readHiddenField:tobeimplemented,registerBatteryChange:tobeimplemented,removeAllMetaTags:tobeimplemented,removeMetaTag:tobeimplemented,startSecureTransaction:tobeimplemented,unregisterBatteryChange:tobeimplemented,RESOURCE_LOCATION:0,RESOURCE_CAMERA:1,RESOURCE_PHOTO_GALLERY:2,RESOURCE_CONTACTS:3,RESOURCE_CALENDAR:4,RESOURCE_EXTERNAL_STORAGE:5}),$KI.net&&(kony.net={HttpRequest:$KI.net.HttpRequest,FormData:$KI.net.FormData,MultipartFormData:$KI.net.MultipartFormData,invokeServiceAsync:$KI.net.invokeserviceasync,invokeService:$KI.net.invokeService,cancel:$KI.net.cancel,isNetworkAvailable:$KI.net.isNetworkAvailable,setNetworkCallbacks:$KI.net.setNetworkCallbacks,getActiveNetworkType:$KI.net.getActiveNetworkType,getCookies:$KI.net.getCookies,clearCookies:$KI.net.clearCookies,loadClientCertificate:$KI.net.loadClientCertificate,removeAllCachedResponses:$KI.net.removeAllCachedResponses,removeIntegrityCheck:$KI.net.removeIntegrityCheck,setIntegrityCheck:$KI.net.setIntegrityCheck,urlDecode:$KI.net.urlDecode,urlEncode:$KI.net.urlEncode}),$KI.phone&&(kony.phone={dial:$KI.phone.dial,openMediaGallery:$KI.phone.openmediagallery,addCalendarEvent:$KI.phone.addCalendarEvent,findCalendarEvents:$KI.phone.findCalendarEvents,openEmail:$KI.phone.openEmail,removeCalendarEvent:$KI.phone.removeCalendarEvent,sendSMS:$KI.phone.sendSMS}),$KI.string&&(kony.string={rep:$KI.string.rep,reverse:$KI.string.reverse,trim:$KI.string.trim,equalsIgnoreCase:$KI.string.equalsignorecase,startsWith:$KI.string.startswith,endsWith:$KI.string.endswith,isNumeric:$KI.string.isnumeric,containsChars:$KI.string.containschars,containsOnlyGivenChars:$KI.string.containsonlygivenchars,containsNoGivenChars:$KI.string.containsnogivenchars,isAsciiAlpha:$KI.string.isasciialpha,isAsciiAlphaNumeric:$KI.string.isasciialphanumeric,isValidEmail:$KI.string.isvalidemail}),$KI.timer&&(kony.timer={schedule:$KI.timer.schedule,cancel:$KI.timer.cancel,setCallBack:$KI.timer.setcallback}),$KI.themes&&(kony.theme={createTheme:$KI.themes.createtheme,deleteTheme:$KI.themes.deletetheme,getCurrentThemeData:$KI.themes.getcurrentthemedata,getCurrentTheme:$KI.themes.getcurrenttheme,getAllThemes:$KI.themes.allthemes,isThemePresent:$KI.themes.isthemepresent,setCurrentTheme:$KI.themes.setcurrenttheme,packagedthemes:$KI.themes.packagedthemes}),kony.convertToBase64=$KI.converttobase64,kony.convertToRawBytes=$KI.converttorawbytes,kony.print=$KI.print,kony.props={},kony.props.getProperty=$KI.props.getProperty,kony.stream||(kony.stream={}),kony.stream.registerDataStream=tobeimplemented,kony.stream.deregisterDataStream=tobeimplemented,kony.stream.setCallback=tobeimplemented,kony.accelerometer||(kony.accelerometer={}),kony.accelerometer.registerAccelerationEvents=tobeimplemented,kony.accelerometer.retrieveCurrentAcceleration=tobeimplemented,kony.accelerometer.startMonitoringAcceleration=tobeimplemented,kony.accelerometer.stopMonitoringAcceleration=tobeimplemented,kony.accelerometer.unregisterAccelerationEvents=tobeimplemented,kony.forcetouch||(kony.forcetouch={}),kony.forcetouch.getQuickActionItems=tobeimplemented,kony.forcetouch.getStaticQuickActionItems=tobeimplemented,kony.forcetouch.removeQuickActionItems=tobeimplemented,kony.forcetouch.removeQuickActionItems=tobeimplemented,kony.forcetouch.setQuickActionItems=tobeimplemented,kony.keychain||(kony.keychain={}),kony.keychain.remove=tobeimplemented,kony.keychain.retrieve=tobeimplemented,kony.keychain.save=tobeimplemented,kony.localAuthentication||(kony.localAuthentication={}),kony.localAuthentication.authenticate=tobeimplemented,kony.localAuthentication.getBiometryType=tobeimplemented,kony.localAuthentication.cancelAuthentication=tobeimplemented,kony.localAuthentication.getStatusForAuthenticationMode=tobeimplemented,kony.media||(kony.media={}),kony.media.createFromFile=tobeimplemented,kony.media.createFromUri=tobeimplemented,kony.media.record=tobeimplemented,kony.localnotifications||(kony.localnotifications={}),kony.localnotifications.cancel=tobeimplemented,kony.localnotifications.create=tobeimplemented,kony.localnotifications.getNotifications=tobeimplemented,kony.localnotifications.setCallbacks=tobeimplemented,kony.notificationsettings||(kony.notificationsettings={}),kony.notificationsettings.createAction=tobeimplemented,kony.notificationsettings.createCategory=tobeimplemented,kony.notificationsettings.registerCategory=tobeimplemented,kony.push||(kony.push={}),kony.push.deRegister=tobeimplemented,kony.push.register=tobeimplemented,kony.push.setCallbacks=tobeimplemented,kony.contact||(kony.contact={}),kony.contact.add=tobeimplemented,kony.contact.details=tobeimplemented,kony.contact.find=tobeimplemented,kony.contact.remove=tobeimplemented,kony.lang||(kony.lang={}),kony.lang.setUncaughtExceptionHandler=$KI.setUncaughtExceptionHandler,kony.lang.getUncaughtExceptionHandler=$KI.getUncaughtExceptionHandler,kony.map||(kony.map={}),kony.map.containsLocation=tobeimplemented,kony.map.distanceBetween=tobeimplemented,kony.map.decode=tobeimplemented,kony.map.searchRoutes=tobeimplemented,kony.filter||(kony.filter={}),kony.filter.createFilter=tobeimplemented,kony.image||(kony.image={}),kony.image.createImage=tobeimplemented,kony.image.createImageFromSnapShot=tobeimplemented,kony.image.cropImageInTiles=tobeimplemented,kony.image.cropImageInTilesForRects=tobeimplemented,kony.camera||(kony.camera={}),kony.camera.releaseRawBytes=tobeimplemented,kony.backgroundtasks||(kony.backgroundtasks={}),kony.backgroundtasks.startTask=tobeimplemented,kony.backgroundtasks.stopTask=tobeimplemented,kony.backgroundtasks.getTaskDetails=tobeimplemented,kony.shareExtensions||(kony.shareExtensions={}),kony.shareExtensions.popConfigurationViewController=tobeimplemented,kony.shareExtensions.pushConfigurationViewController=tobeimplemented,kony.shareExtensions.setExtensionsCallbacks=tobeimplemented,kony.todayExtension||(kony.todayExtension={}),kony.todayExtension.setExtensionsCallbacks=tobeimplemented,kony.actionExtension||(kony.actionExtension={}),kony.actionExtension.setExtensionsCallbacks=tobeimplemented,kony.intentExtension||(kony.intentExtension={}),kony.intentExtension.setExtensionsCallbacks=tobeimplemented,kony.iMessageExtensions||(kony.iMessageExtensions={}),kony.iMessageExtensions.setExtensionsCallbacks=tobeimplemented,kony.notificationContentExtension||(kony.notificationContentExtension={}),kony.notificationContentExtension.setExtensionsCallbacks=tobeimplemented,kony.runOnMainThread=tobeimplemented,kony.runOnWorkerThread=tobeimplemented,com||(com={}),com.kony||(com.kony={}),com.kony.Beacon=tobeimplemented,com.kony.BeaconManager=tobeimplemented,com.kony.BeaconRegion=tobeimplemented,com.kony.PeripheralManager=tobeimplemented,com.kony.isPassLibraryAvailable=tobeimplemented,com.kony.PassLibrary=tobeimplemented,com.kony.Beacon.prototype.getrssi=com.kony.Beacon.prototype.getMajor=com.kony.Beacon.prototype.getMinor=com.kony.Beacon.prototype.getAccuracy=com.kony.Beacon.prototype.getProximity=com.kony.Beacon.prototype.getProximityUUIDString=com.kony.BeaconManager.prototype.getRangedRegions=com.kony.BeaconManager.prototype.authorizationStatus=com.kony.BeaconManager.prototype.getMonitoredRegions=com.kony.BeaconManager.prototype.requestStateForRegion=com.kony.BeaconManager.prototype.stopRangingBeaconsInRegion=com.kony.BeaconManager.prototype.startMonitoringBeaconRegion=com.kony.BeaconManager.prototype.startRangingBeaconsInRegion=com.kony.BeaconManager.prototype.stopMonitoringBeaconsRegion=com.kony.BeaconManager.prototype.isRangingAvailableForBeaconRegions=com.kony.BeaconManager.prototype.setAuthorizationStatusChangedCallback=com.kony.BeaconManager.prototype.setMonitoringStartedForRegionCallback=com.kony.BeaconManager.prototype.isMonitoringAvailableForBeaconRegions=com.kony.PeripheralManager.prototype.isAdvertising=com.kony.PeripheralManager.prototype.stopAdvertising=com.kony.PeripheralManager.prototype.authorizationStatus=com.kony.PeripheralManager.prototype.startAdvertisingWithMeasuredPower=com.kony.PassLibrary.prototype.addPassWithCompletionCallback=com.kony.PassLibrary.prototype.addPassesWithCompletionCallback=com.kony.PassLibrary.prototype.containsPass=com.kony.PassLibrary.prototype.getPassWithTypeIdentifierAndSerialNumber=com.kony.PassLibrary.prototype.getPasses=com.kony.PassLibrary.prototype.removePass=com.kony.PassLibrary.prototype.replacePassWithPass=tobeimplemented;
function tobeimplemented(){kony.web.logger("warn","API to be implemented Yet")}kony.application={createAppMenu:$KW.Appmenu&&$KW.Appmenu.createappmenu,setCurrentAppMenu:$KW.Appmenu&&$KW.Appmenu.setcurrentappmenu,getCurrentAppMenu:$KW.Appmenu&&$KW.Appmenu.getcurrentappmenu,setAppMenuFocusByID:$KW.Appmenu&&$KW.Appmenu.setappmenufocusbyid,addAppMenuItemAt:$KW.Appmenu&&$KW.Appmenu.addappmenuitemat,removeAppMenuItemAt:$KW.Appmenu&&$KW.Appmenu.removeappmenuitemat,setAppMenu:$KW.Appmenu&&$KW.Appmenu.setappmenu,setAppMenuFocusIndex:$KW.Appmenu&&$KW.Appmenu.setappmenufocusindex,showAppMenuItems:$KW.Appmenu&&$KW.Appmenu.showappmenuitems,hideAppMenuItems:$KW.Appmenu&&$KW.Appmenu.hideappmenuitems,setBMState:kony.bm.setBMState,resetBMState:kony.bm.resetBMState,getBMState:kony.bm.getBMState,getFormId:kony.bm.getFormId,addBMState:kony.bm.addBMState,removeBMState:kony.bm.removeBMState,exit:$KI.exit,getPreviousForm:$KW.Form&&$KW.Form.getPreviousForm,getCurrentForm:$KW.Form&&$KW.Form.getCurrentForm,getCurrentBreakpoint:$KW.Form&&$KW.Form.getCurrentBreakpoint,removeGestureRecognizerForAllForms:$KW.Widget&&$KW.Widget.removegesturerecognizerforallforms,setGestureRecognizerForAllForms:$KW.Widget&&$KW.Widget.setgesturerecognizerforallforms,addGestureRecognizerForAllForms:$KW.Widget&&$KW.Widget.addgesturerecognizerforallforms,getApplicationMode:$KI.os&&$KI.os.getapplicationmode,setApplicationMode:$KI.os&&$KI.os.setapplicationmode,setApplicationInitializationEvents:$KI.setappevents,registerForIdleTimeout:$KI.appevents&&$KI.appevents.registerforidletimeout,unregisterForIdleTimeout:$KI.appevents&&$KI.appevents.unregisterforidletimeout,setApplicationBadgeValue:tobeimplemented,getApplicationBadgeValue:tobeimplemented,setAppMenuBadgeValue:tobeimplemented,getAppMenuBadgeValue:tobeimplemented,appReset:$KI.appreset,setAppHeaders:$KI.setappheaders,setAppFooters:$KI.setappfooters,setApplicationCallbacks:$KI.setapplicationcallbacks,addApplicationCallbacks:$KI.addapplicationcallbacks,removeApplicationCallbacks:$KI.removeapplicationcallbacks,setApplicationBehaviors:$KI.setapplicationbehaviors,getApplicationBehavior:$KI.getapplicationbehavior,registerUserWidget:$KW.KComponent.registerComponent,registerMaster:$KW.KComponent.registerComponent,showLoadingScreen:$KI.window&&$KI.window.showLoadingScreen,dismissLoadingScreen:$KI.window&&$KI.window.dismissLoadingScreen,setupWidgetDataRecording:$KI.setupWidgetDataRecording,setSeoDataReadyFlag:$KI.setSeoDataReadyFlag,removeSeoDataReadyFlag:$KI.removeSeoDataReadyFlag,openURL:$KI.window.openURL,openURLAsync:$KI.window.openURLAsync,PERMISSION_DENIED:0,PERMISSION_GRANTED:1,PERMISSION_RESTRICTED:2,RESOURCE_NOT_SUPPORTED:3,checkPermission:function(e,t){if($KU.logExecuting("kony.application.checkPermission"),arguments.length<1)throw $KU.logErrorMessage("Invalid no of arguments"),new KonyError(101,"Error","Invalid number of arguments");switch($KU.logExecutingWithParams("kony.application.checkPermission",e,t),e){case kony.os.RESOURCE_LOCATION:case kony.os.RESOURCE_CAMERA:case kony.os.RESOURCE_PHOTO_GALLERY:case kony.os.RESOURCE_CALENDAR:return $KU.logExecutingFinished("kony.application.checkPermission VIA if resource permission granted "),{status:kony.application.PERMISSION_GRANTED,canRequestPermission:!1};case kony.os.RESOURCE_CONTACTS:case kony.os.RESOURCE_EXTERNAL_STORAGE:default:return $KU.logExecutingFinished("kony.application.checkPermission VIA if resource permission is not granted or resource is not supported"),{status:kony.application.RESOURCE_NOT_SUPPORTED,canRequestPermission:!1}}},requestPermission:function(e,t,n){if($KU.logExecuting("kony.application.requestPermission"),$KU.logExecutingWithParams("kony.application.requestPermission",e,t,n),arguments.length<2)throw $KU.logErrorMessage("Invalid no of arguments"),new KonyError(101,"Error","Invalid number of arguments");if("function"!=typeof t)throw $KU.logErrorMessage("Invalid callback function"),new KonyError(102,"Error","Invalid input.");switch(e){case kony.os.RESOURCE_LOCATION:case kony.os.RESOURCE_CAMERA:case kony.os.RESOURCE_PHOTO_GALLERY:case kony.os.RESOURCE_CALENDAR:$KU.logExecutingFinished("kony.application.requestPermission VIA if resource permission granted"),t({status:kony.application.PERMISSION_GRANTED,canRequestPermission:!1});break;case kony.os.RESOURCE_CONTACTS:case kony.os.RESOURCE_EXTERNAL_STORAGE:default:$KU.logExecutingFinished("kony.application.requestPermission VIA if if resource permission is not granted or resource is not supported"),t({status:kony.application.RESOURCE_NOT_SUPPORTED,canRequestPermission:!1})}},openApplicationSettings:function(){$KU.logWarnMessage("openApplicationSettings API is not supported.")},isPopupBlocked:function(e){var t;$KU.logExecuting("kony.application.isPopupBlocked"),$KU.logExecutingWithParams("kony.application.isPopupBlocked",e),setTimeout(function(){t=window.open(null);try{t.close(),$KU.logExecutingFinished("kony.application.isPopupBlocked VIA enabling popups"),e&&e(!1)}catch(t){$KU.logExecutingFinished("kony.application.isPopupBlocked VIA disabling popups"),e&&e(!0)}},2e3)},isImageTurnedOff:function(e){$KU.logExecuting("kony.application.isImageTurnedOff"),$KU.logExecutingWithParams("kony.application.isImageTurnedOff",e);var t=document.createElement("img");t.src=$KU.getImageURL("slider.png"),t.id="__kspaimage",t.style.visibility="hidden",document.body.appendChild(t),setTimeout(function(){t.complete?($KU.logExecutingFinished("kony.application.isImageTurnedOff VIA !isCompleted == false"),e&&e(!1)):($KU.logExecutingFinished("kony.application.isImageTurnedOff VIA !isCompleted == true"),e&&e(!0)),document.body.removeChild(t)},1e3)},addSettingsMenuItemAt:tobeimplemented,beginBackgroundTask:tobeimplemented,createSettingsMenu:tobeimplemented,destroyForm:tobeimplemented,disableZoomedOutView:tobeimplemented,endBackgroundTask:tobeimplemented,getApplicationState:tobeimplemented,getAppWindow:tobeimplemented,getCurrentSettingsMenu:tobeimplemented,getPreviousSessionParams:tobeimplemented,invalidateSession:tobeimplemented,launchApp:tobeimplemented,registerOnKeyPress:tobeimplemented,removeSecondaryTile:tobeimplemented,removeSettingsMenuItemAt:tobeimplemented,setApplicationLayout:tobeimplemented,setApplicationProperties:tobeimplemented,setAppTile:tobeimplemented,setCheckBoxSelectionImageAlignment:tobeimplemented,setCurrentSettingsMenu:tobeimplemented,setDefaultTextboxPadding:tobeimplemented,setRespectImageSizeForImageWidgetAlignment:tobeimplemented,setSecondaryTile:tobeimplemented,setZoomedOutView:tobeimplemented,zoomIn:tobeimplemented},kony.application.settings={read:tobeimplemented,write:tobeimplemented};
function accessorDescriptor(e,t){var o={enumerable:!0,configurable:!0};return o[e]=t,o}function defineGetter(e,t,o){if(Object.defineProperty)return Object.defineProperty(e,t,accessorDescriptor("get",o));if(Object.prototype.__defineGetter__)return e.__defineGetter__(t,o);throw new Error("browser does not support getters")}function defineSetter(e,t,o){if(Object.defineProperty)return Object.defineProperty(e,t,accessorDescriptor("set",o));if(Object.prototype.__defineSetter__)return e.__defineSetter__(t,o);throw new Error("browser does not support setters")}kony.mvc=kony.mvc||{},kony.mvc.BaseController=function(){function e(e){var t;this.viewId=e,defineGetter(this,"view",function(){return void 0===t&&(t=this.__initializeView(this),Object.prototype.hasOwnProperty.call(this,"onViewCreated")&&this.onViewCreated.apply(this)),t}),defineSetter(this,"view",function(e){t=e})}return e.prototype.destroy=function(){this.onDestroy&&this.onDestroy(),this.view=null,this.viewId=null},e}(),kony.mvc=kony.mvc||{},inheritsFrom=function(e,t){e.prototype=Object.create(t.prototype)},kony.mvc.FormController=function(){function e(e){var t;this.navigationMode=0,this.__initializeView=function(e){var t=null,o=e.viewId;if(Object.prototype.hasOwnProperty.call(this,"onCreateView"))if("object"==typeof(o=this.onCreateView.apply(this,null))&&Object.prototype.hasOwnProperty.call(o,"id"))t=o;else{formCreateFunc=require(o);var n=formCreateFunc(e);"[object Array]"===Object.prototype.toString.call(n)?(n[0]._konyControllerName=e.Name,t=new _kony.mvc.Form2(n[0],n[1],n[2])):(n._konyControllerName=e.Name,t=new _kony.mvc.Form2(n))}else{formCreateFunc=require(o);n=formCreateFunc(e);"[object Array]"===Object.prototype.toString.call(n)?(n[0]._konyControllerName=e.Name,t=new _kony.mvc.Form2(n[0],n[1],n[2])):(n._konyControllerName=e.Name,t=new _kony.mvc.Form2(n))}return t.mvcInitializeView=!1,t._konyControllerName=e.Name,_kony.mvc.ctrlname2ControllerMap[t._konyControllerName]=e,_kony.mvc.viewId2ControllerNameMap[t.id]=e.Name,_kony.mvc.viewName2viewId[e.viewId]=t.id,t.mvcInitializeView=!0,t},this.__showView=function(e){null!=this.view&&(t=e,_kony.mvc.showForm(this.view))},defineGetter(this,"navigationContext",function(){return t}),defineSetter(this,"navigationContext",function(e){throw new Error("Setter for Navigation context is not allowed.")}),kony.mvc.BaseController.call(this,e)}return inheritsFrom(e,kony.mvc.BaseController),e.prototype.pauseNavigation=function(){1==this.navigationMode?this.navigationMode=2:kony.print("No form navigation is in progress hence cannot be paused.")},e.prototype.resumeNavigation=function(){2==this.navigationMode?(this.navigationMode=0,this.__showView()):kony.print("No form navigation is in paused state hence cannot be resumed.")},e.prototype.show=function(e,t){this.navigationMode=1,this.onNavigate&&this.onNavigate.call(this,e,t),1==this.navigationMode&&(this.navigationMode=0,this.__showView(e))},e.prototype.getPreviousForm=function(){var e=kony.application.getPreviousForm();return null!=e?e._konyControllerName?e.id:e:null},e.prototype.getPreviousFormFriendlyName=function(){var e=kony.application.getPreviousForm();if(null!=e){var t=kony.mvc.registry.getFriendlyName(e.id);return null!=t?t:e.id}return null},e.prototype.getCurrentForm=function(){var e=kony.application.getCurrentForm();return null!=e?e._konyControllerName?e.id:e:null},e.prototype.getCurrentFormFriendlyName=function(){var e=kony.application.getCurrentForm(),t=kony.mvc.registry.getFriendlyName(e.id);return null!=t?t:e.id},e.prototype.destroy=function(){if(null!=this.view){if(this.view.onDestroy){var e=this.view.onDestroy;this.view.onDestroy=null,e.call(this)}_kony.mvc.destroyForm(this.view)}kony.mvc.BaseController.prototype.destroy.call(this)},e}(),_kony=_kony||{},_kony.mvc=_kony.mvc||{},kony.mvc=kony.mvc||{},kony.utils=kony.utils||{},inheritsFrom=function(e,t){e.prototype=Object.create(t.prototype)},_kony.mvc.ctrlname2ControllerMap={},_kony.mvc.viewId2ControllerNameMap={},_kony.mvc.formNavigateInProgress=[],_kony.mvc.viewName2viewId={},kony.utils.LoadJSFile=function(e){return controllerConfig=require(e),controllerConfig},kony.application.destroyForm=function(e){var t=null,o=e,n=kony.mvc.registry.get(o);null!=n&&(o=n);var r=o;if(o in _kony.mvc.viewName2viewId&&(o=_kony.mvc.viewName2viewId[o]),null!=o&&o in _kony.mvc.viewId2ControllerNameMap){var i=_kony.mvc.viewId2ControllerNameMap[o];i in _kony.mvc.ctrlname2ControllerMap&&(null!=(t=_kony.mvc.ctrlname2ControllerMap[i])&&t.destroy(),delete _kony.mvc.ctrlname2ControllerMap[i],delete _kony.mvc.viewId2ControllerNameMap[o],r in _kony.mvc.viewName2viewId&&delete _kony.mvc.viewName2viewId[r])}},konyNavigate2Form=function(e){new kony.mvc.Navigation(e).navigate()},_kony.mvc.navigateBack2Form=function(e){var t=_kony.mvc.GetController(e,!0);if(!t)throw kony.print("########## No controller is found to navigate #####"),"Controller Not Found";t.show.call(t,null,!0)},_kony.mvc.destroyController=function(e){var t=null;e in _kony.mvc.ctrlname2ControllerMap&&(null!=(t=_kony.mvc.ctrlname2ControllerMap[e])&&t.destroy(),t=null,delete _kony.mvc.ctrlname2ControllerMap[e])},_kony.mvc.executeInJsContext=function(e,t,o){if(e._konyControllerName in _kony.mvc.ctrlname2ControllerMap){var n=e._konyControllerName,r=_kony.mvc.ctrlname2ControllerMap[n];null!=r&&("string"==typeof t||t instanceof String?r[t].apply(r,o):t.apply(r,o))}else{var i=null;if(o.length>0){var R=o[0];"object"==typeof R&&Object.prototype.hasOwnProperty.call(R,"id")&&(i=R,o.shift())}null!=i?t.apply(i,o):"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"id")?t.apply(e,o):(o.unshift(e),t.apply(null,o))}},_kony.mvc.assignFunctions2Controller=function(e,t){if(t.length>1){for(var o={},n=0;n<t.length;n++){var r="extensionLevel"+n;for(var i in e[r]={},0==n&&(e.parent={}),t[n])n<t.length&&_kony.mvc.isValidControllerKey(i)&&("function"==typeof t[n][i]?(e[r][i]=t[n][i].bind(e),0==n&&(e.parent[i]=t[n][i].bind(e))):(e[r][i]=t[n][i],0==n&&(e.parent[i]=t[n][i]))),o[i]=t[n][i]}for(var i in o)_kony.mvc.isValidControllerKey(i)&&("function"==typeof o[i]?e[i]=o[i].bind(e):e[i]=o[i])}else{var R=t[0];for(var i in R)_kony.mvc.isValidControllerKey(i)&&"object"==typeof R&&Object.prototype.hasOwnProperty.call(R,i)&&("function"==typeof R[i]?e[i]=R[i].bind(e):e[i]=R[i])}},_kony.mvc.isValidControllerKey=function(e){return"prototype"!=e&&"view"!=e&&"viewId"!=e&&"userWidgetName"!=e&&"__initializeView"!=e&&"name"!=e},_konyControllerCounter=0,globalObj=this;var stringToFunction=function(e){for(var t=e.split("."),o=globalObj||this,n=0,r=t.length;n<r;n++)o=o[t[n]];if("function"!=typeof o)throw new Error("function not found");return o};_kony.mvc.GetControllerAsync=function(e,t,o){var n=null,r=null,i=null,R=0,a=e,_=[],l=null,c=null,E=null,s=null,O=null,d=kony.mvc.registry.get(a);if(null!=d&&(a=d),a in _kony.mvc.viewName2viewId&&(a=_kony.mvc.viewName2viewId[a]),null!=a)if(a in _kony.mvc.viewId2ControllerNameMap)(r=_kony.mvc.viewId2ControllerNameMap[a])in _kony.mvc.ctrlname2ControllerMap&&(n=_kony.mvc.ctrlname2ControllerMap[r]),t(n);else{if(_=[],c=kony.mvc.registry.getControllerName(e),E=kony.mvc.registry.getControllerType(e),s=kony.mvc.registry.getControllerTypeFile(e),O=kony.mvc.registry.getControllerExtName(e),null==c&&(c=a+"Controller"),_.push(c),null!=E&&(l=null==s?E.replace(/\./g,"/"):s.replace(/\./g,"/"),_.push(l)),null!=O)if("string"==typeof O)_.push(O);else for(i=O.length,R=0;R<i&&null!=O[R];R++)_.push(O[R]);_.push(_kony.mvc.registryMap[e].name),require(_,function(o){var r=null;null==E?n=new kony.mvc.FormController(a):(r=stringToFunction(E),n=new r(a)),n.Name=c+"_"+(++_konyControllerCounter).toString(),_kony.mvc.loadAllExtensionControllers(n,o,e),t(n)},function(e){o(e)})}},_kony.mvc.GetController=function(e,t){var o=null,n=e,r=kony.mvc.registry.get(n);if(null!=r&&(n=r),n in _kony.mvc.viewName2viewId&&(n=_kony.mvc.viewName2viewId[n]),null!=n)if(t&&n in _kony.mvc.viewId2ControllerNameMap){var i=_kony.mvc.viewId2ControllerNameMap[n];i in _kony.mvc.ctrlname2ControllerMap&&(o=_kony.mvc.ctrlname2ControllerMap[i])}else{var R=kony.mvc.registry.getControllerName(e);null==R&&(R=n+"Controller");var a,_=kony.utils.LoadJSFile(R);if(t)if(null==(a=kony.mvc.registry.getControllerType(e)))o=new kony.mvc.FormController(n);else{var l=null;l=null==(c=kony.mvc.registry.getControllerTypeFile(e))?a.replace(/\./g,"/"):c.replace(/\./g,"/"),kony.utils.LoadJSFile(l),o=new(stringToFunction(a))(n)}else if(null==(a=kony.mvc.registry.getControllerType(e)))o=new kony.mvc.TemplateController(n);else{var c;l=null;l=null==(c=kony.mvc.registry.getControllerTypeFile(e))?a.replace(/\./g,"/"):c.replace(/\./g,"/"),kony.utils.LoadJSFile(l),o=new(stringToFunction(a))(n)}o.Name=R+"_"+(++_konyControllerCounter).toString(),_kony.mvc.loadAllExtensionControllers(o,_,e);o.view}return o},_kony.mvc.loadAllExtensionControllers=function(e,t,o){var n=[];n.push(t);var r={},i=kony.mvc.registry.getControllerExtName(o);if(null!=i)if("string"==typeof i)r=kony.utils.LoadJSFile(i),n.push(r);else for(var R=i.length,a=0;a<R&&null!=i[a];a++)r=kony.utils.LoadJSFile(i[a]),n.push(r);_kony.mvc.assignFunctions2Controller(e,n)},_kony.mvc.CreateMasterWidgetController=function(e,t,o){var n=null,r=e,i=kony.mvc.registry.get(r);if(null!=i&&(r=i),null!=r){var R=kony.mvc.registry.getControllerName(e);null==R&&(R=r+"Controller");var a=e.replace(/\./g,"/"),_=kony.utils.LoadJSFile(a+"/"+R),l=kony.mvc.registry.getControllerType(e);if(null==l)n=new kony.mvc.MasterController(e,r,t);else{var c=kony.mvc.registry.getControllerTypeFile(e),E=null;E=null==c?l.replace(/\./g,"/"):c.replace(/\./g,"/"),kony.utils.LoadJSFile(E),n=new(stringToFunction(l))(e,r,t)}n.args=o,n.Name=R+"_"+(++_konyControllerCounter).toString();var s=constants.MASTER_TYPE_USERWIDGET;if("[object Array]"===Object.prototype.toString.call(o)?null!=o[0].masterType&&(s=o[0].masterType):s=o.masterType,n.masterType=s,s==constants.MASTER_TYPE_USERWIDGET)_kony.mvc.loadAllExtensionControllers(n,_,e);else{var O=[];O.push(_),_kony.mvc.assignFunctions2Controller(n,O)}n.initializeProperties&&n.initializeProperties(),Object.prototype.hasOwnProperty.call(n,"constructor")&&n.constructor.apply(n,o)}return n},_kony.mvc.initializeSubViewController=function(e){return _kony.mvc.GetController(e,!1).view},_kony.mvc.initializeMasterController=function(e,t,o){return _kony.mvc.CreateMasterWidgetController(e,t,o).view},_kony.mvc.initializeFormViewController=function(e){return _kony.mvc.GetController(e,!0).view},_kony=_kony||{},_kony.mvc=_kony.mvc||{},_kony.mvc.setData2UserWidget=function(e,t,o,n){var r=e._konyControllerName;if(r in _kony.mvc.ctrlname2ControllerMap){var i=_kony.mvc.ctrlname2ControllerMap[r];if(null==i)return;var R=i.view;i.view=t;i.view.bottom;if("object"==typeof o)for(var a in o)Object.prototype.hasOwnProperty.call(i,a)?i[a]=o[a]:n&&(R[a]=o[a]);i.view=R}},_kony.mvc.setMasterWidgetContract=function(e,t){var o=Object.getOwnPropertyNames(t).filter(function(e){return"function"==typeof t[e]&&"__initializeView"!=e});_kony.mvc.setFunctions(e,o,t);var n=Object.getOwnPropertyNames(t).filter(function(e){return"function"!=typeof t[e]&&"viewId"!=e&&"view"!=e&&"userWidgetName"!=e});_kony.mvc.setProperties(e,n,t);var r=t.view,i=_kony.mvc.getMethods(e);o=_kony.mvc.getMethods(r).filter(function(e){return i.indexOf(e)<=-1});_kony.mvc.setFunctions(e,o,r,!0);var R=_kony.mvc.getProperties(e);n=_kony.mvc.getProperties(r).filter(function(e){return R.indexOf(e)<=-1});_kony.mvc.setProperties(e,n,r);var a=_kony.mvc.getAllChildren(r);_kony.mvc.setProperties(e,a,r)},_kony.mvc.getAllChildren=function(e){var t=[];if(e.widgets)for(var o=e.widgets(),n=0;n<o.length;n++){var r=o[n];if(t.push(r.id),null==r._konyControllerName)for(var i=_kony.mvc.getAllChildren(r),R=0;R<i.length;R++)t.push(i[R])}return t},_kony.mvc.getMethods=function(e){var t=Object.getOwnPropertyNames(e).filter(function(t){return"function"==typeof e[t]});for(var o in e)"function"==typeof e[o]&&t.push(o);return t},_kony.mvc.getProperties=function(e){var t=Object.getOwnPropertyNames(e).filter(function(t){return"function"!=typeof e[t]});for(var o in e)"function"!=typeof e[o]&&t.push(o);return t},_kony.mvc.setMasterContract=function(e){if(null!=e&&!e._konyInitialized){var t=e._konyControllerName;if(t in _kony.mvc.ctrlname2ControllerMap){var o=_kony.mvc.ctrlname2ControllerMap[t];if(null==o)return;o.view.bottom;o.masterType==constants.MASTER_TYPE_USERWIDGET?(appConfig&&appConfig.testAutomation&&appConfig.testAutomation.scriptsURL&&_kony.mvc.setMasterWidgetContract(e,o),_kony.mvc.setUserWidgetContract(e,o)):_kony.mvc.setMasterWidgetContract(e,o),e._konyInitialized=!0}}},_kony.mvc.setUserWidgetContract=function(e,t){var o=t.userWidgetName,n=o,r=o.lastIndexOf("."),i=o+"Config";r>=0&&(i=i.substring(r+1),n=o.replace(/\./g,"/"));i=n+"/"+i;var R=require(i);if(null!=R){if(null!=R.properties){var a=R.properties;_kony.mvc.setProperties(e,a,t)}if(null!=R.apis){var _=R.apis;_kony.mvc.setFunctions(e,_,t)}if(null!=R.events){var l=R.events;_kony.mvc.setEvents(e,l,t)}}},_kony.mvc.setProperties=function(e,t,o){if(null!=t&&null!=e&&null!=o&&e!==o)for(i=0;i<t.length;i++){var n=t[i];"string"==typeof n&&(n={name:n,writable:!0,enumerable:!0,configurable:!0});var r=n.name;defineGetter(e,r,function(e){return function(){return o[e]}}(r)),null!=n.writable&&n.writable&&defineSetter(e,r,function(e){return function(t){o[e]=t}}(r))}},_kony.mvc.setFunctions=function(e,t,o,n){if(null!=t&&null!=e&&null!=o)for(i=0;i<t.length;i++){var r=t[i];e[r]=n?function(e){return function(){o[e].apply(o,arguments)}}(r):o[r].bind(o)}},_kony.mvc.setEvents=function(e,t,o){if(null!=t&&null!=e&&null!=o&&e!==o)for(i=0;i<t.length;i++){var n=t[i];defineGetter(e,n,function(e){return function(){return o[e]}}(n)),defineSetter(e,n,function(e){return function(t){o[e]=t}}(n))}},kony.mvc=kony.mvc||{},kony.utils=kony.utils||{},kony.mvc.Navigation=function(){return function(e,t){var o=t;this.getModel=function(){if(null==o){var e=_kony.mvc.GetController(n,!0);if(!e)throw kony.print("########## No controller is found to navigate #####"),"Controller Not Found";e.getModel&&(o=e.getModel())}return o},this.setModel=function(e){o=e};var n=e;this.navigate=function(e){var t=kony.application.getApplicationBehavior("FormControllerSyncLoad");if(null==t||1==t){var i=_kony.mvc.GetController(n,!0);if(!i)throw kony.print("########## No controller is found to navigate for form "+n),"Controller Not Found";null==o&&i.getModel&&(o=i.getModel.call(i)),i.setModel&&i.setModel.call(i,o),i.show.call(i,e,!1)}else{var R=_kony.mvc.formNavigateInProgress.length;_kony.mvc.formNavigateInProgress.push("Form"+R),0==R?r(n,e,R):kony.timer.schedule("Form"+R,function(){_kony.mvc.formNavigateInProgress.indexOf("Form"+(R-1))<0&&(kony.timer.cancel("Form"+R),r(n,e,R))},1,!0)}};var r=function(e,t,n){_kony.mvc.GetControllerAsync(e,function(r){var i;if(!r)throw kony.print("########## No controller is found to navigate for form "+e),"Controller Not Found";null==o&&r.getModel&&(o=r.getModel.call(r)),r.setModel&&r.setModel.call(r,o),r.show.call(r,t,!1),i=_kony.mvc.formNavigateInProgress.indexOf("Form"+n),_kony.mvc.formNavigateInProgress.splice(i,1)},function(e){throw kony.print("Error: Unable to load Form Controller -"+e),"Controller or Form Not Found"})}}}(),kony.mvc=kony.mvc||{},inheritsFrom=function(e,t){e.prototype=Object.create(t.prototype)},kony.mvc.TemplateController=function(e){this.__initializeView=function(e){var t=null,o=e.viewId;return Object.prototype.hasOwnProperty.call(this,"onCreateView")&&"object"==typeof(o=this.onCreateView.apply(this,null))&&Object.prototype.hasOwnProperty.call(o,"id")?t=o:(formCreateFunc=require(o),t=formCreateFunc(e)),t._konyControllerName=e.Name,_kony.mvc.ctrlname2ControllerMap[t._konyControllerName]=e,_kony.mvc.viewId2ControllerNameMap[t.id]=e.Name,_kony.mvc.viewName2viewId[e.viewId]=t.id,t},kony.mvc.BaseController.call(this,e),this.executeOnParent=function(e,t){this.view.executeOnParent(e,t)},this.getCurrentView=function(e){for(;null!=e.parent&&e.id!=this.view.id;)e=e.parent;return e}},inheritsFrom(kony.mvc.TemplateController,kony.mvc.BaseController),kony.mvc.MasterController=function(e,t,o){this.__initializeView=function(e){var t=null,n=this.userWidgetName.replace(/\./g,"/"),r=e.viewId;Object.prototype.hasOwnProperty.call(this,"onCreateView")?t="object"==typeof(r=this.onCreateView.apply(this,null))&&Object.prototype.hasOwnProperty.call(r,"id")?r:kony.utils.LoadJSFile(n+"/"+r)(e):t=kony.utils.LoadJSFile(n+"/"+r)(e);return t._konyControllerName=e.Name,_kony.mvc.ctrlname2ControllerMap[t._konyControllerName]=e,null!=o?(_kony.mvc.viewId2ControllerNameMap[o]=e.Name,_kony.mvc.viewName2viewId[e.viewId]=o):(_kony.mvc.viewId2ControllerNameMap[t.id]=e.Name,_kony.mvc.viewName2viewId[e.viewId]=t.id),t},this.userWidgetName=e,this.getCurrentView=function(e){for(;null!=e.parent&&e.id!=this.view.id;)e=e.parent;return e},kony.mvc.BaseController.call(this,t)},inheritsFrom(kony.mvc.MasterController,kony.mvc.BaseController),_kony=_kony||{},_kony.mvc=_kony.mvc||{},void 0==kony.mvc&&(kony.mvc={}),void 0==kony.mvc.registry&&(kony.mvc.registry={}),_kony.mvc.registryMap={},kony.mvc.registry.add=function(e,t,o,n){if(e in _kony.mvc.registryMap)kony.print("########## A form with friendly name "+e+" is already exists in registry.");else{var r={};if(r.name=t,"string"==typeof o)r.controllerName=o,r.controllerExtName=n;else for(var i in o)"name"!=i&&(r[i]=o[i]);_kony.mvc.registryMap[e]=r}},kony.mvc.registry.remove=function(e){e in _kony.mvc.registryMap?delete _kony.mvc.registryMap[e]:kony.print("########## No form with friendly name "+e+" is found in registry")},kony.mvc.registry.get=function(e){if(!(e in _kony.mvc.registryMap))return kony.print("########## No form with friendly name "+e+" is found in registry"),null;var t=_kony.mvc.registryMap[e];return null!=t?t.name:void 0},kony.mvc.registry.getFriendlyName=function(e){for(var t in _kony.mvc.registryMap)if(_kony.mvc.registryMap.hasOwnProperty(t)){var o=_kony.mvc.registryMap[t];if(null!=o&&e==o.name)return t}return null},kony.mvc.registry.getControllerName=function(e){if(!(e in _kony.mvc.registryMap))return kony.print("########## No form with friendly name "+e+" is found in registry"),null;var t=_kony.mvc.registryMap[e];return null!=t?t.controllerName:void 0},kony.mvc.registry.getControllerType=function(e){if(!(e in _kony.mvc.registryMap))return kony.print("########## No form with friendly name "+e+" is found in registry"),null;var t=_kony.mvc.registryMap[e];return null!=t?t.controllerType:void 0},kony.mvc.registry.getControllerTypeFile=function(e){if(!(e in _kony.mvc.registryMap))return kony.print("########## No form with friendly name "+e+" is found in registry"),null;var t=_kony.mvc.registryMap[e];return null!=t?t.controllerTypeFileName:void 0},kony.mvc.registry.getControllerExtName=function(e){if(!(e in _kony.mvc.registryMap))return kony.print("########## No form with friendly name "+e+" is found in registry"),null;var t=_kony.mvc.registryMap[e];return null!=t?t.controllerExtName:void 0},kony=kony||{},kony.model=kony.model||{},kony.model.Util=kony.model.Util||{},kony.model.Util.perfStats=[],kony.model.Util.perftimecal=function(e,t,o,n){if(!1!==kony.model.Util.isPerfTestReq){var r=o.getMinutes()+":"+o.getSeconds()+":"+o.getMilliseconds(),i=n.getMinutes()+":"+n.getSeconds()+":"+n.getMilliseconds(),R=o.getTime(),a=n.getTime()-R,_=new Date;_.setTime(a);var l=_.getUTCMinutes()+":"+_.getUTCSeconds()+":"+_.getUTCMilliseconds();kony.model.Util.perfStats.push(e+" "+r),kony.model.Util.perfStats.push(t+" "+i),kony.model.Util.perfStats.push("Total time taken is >> "+l)}},kony.model.Util.perlogout=function(){if(!1!==kony.model.Util.isPerfTestReq){for(var e=0;e<kony.model.Util.perfStats.length;e++)kony.model.log.info("[PERF][INFO] :"+kony.model.Util.perfStats[e]);kony.model.Util.perfStats=[]}},kony.model.Util.matchIgnoreCase=function(e,t){return null!==e&&null!==t&&void 0!==e&&void 0!==t&&e.toUpperCase()===t.toUpperCase()},kony.model.Util.clone=function(e){return function e(t){if(!t||"object"!=typeof t||"[object Function]"===Object.prototype.toString.call(t))return t;if(t.nodeType&&"cloneNode"in t)return t.cloneNode(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);var o,n,r;if(t instanceof Array)for(o=[],n=0,r=t.length;n<r;++n)n in t&&o.push(e(t[n]));else o=t.constructor?new t.constructor:{};return function(e,t,o){var n,r,i={};for(n in t)r=t[n],n in e&&(e[n]===r||n in i&&i[n]===r)||(e[n]=o?o(r):r);return e}(o,t,e)}(e)},kony.model.Util.mergeJSONs=function(e,t){if(!e)return t;if(!t)return e;var o={};for(var n in e)o[n]=e[n];for(var n in t)o.hasOwnProperty(n)||(o[n]=t[n]);return o},kony=kony||{},kony.model=kony.model||{},kony.model.log=kony.model.log||{},kony.model.constants=kony.model.constants||{},kony.model.constants.isForTesting=void 0,kony.model.constants.TestConstants={},kony.model.constants.picklist="picklist",kony.model.constants.reference="reference",kony.model.constants.picklistmultiselect="picklistmultiselect",kony.model.constants.extendedfield="extendedfield",kony.model.constants.entityMetadataMap={},kony.model.constants.INTEGER_MIN_VALUE=-2147483648,kony.model.constants.INTEGER_MAX_VALUE=2147483647,kony.model.constants.credStoreUsername="username",kony.model.constants.credStorePassword="password",kony.model.constants.credStoreOptions="options",kony.model.constants.credStoreIdentityService="identityServiceName",kony.model.constants.credStoreName="credentials",kony.model.constants.OperationType={NO_FILTER:1,FILTER_BY_PRIMARY_KEY:2,ADD:3},kony.model.constants.ValidationType={CREATE:1,UPDATE:1},kony.model.constants.MatchType={EQUALS:{value:"=",name:"EQUALS"},GREATER:{value:">",name:"GREATER"},GREATEREQUAL:{value:">=",name:"GREATEREQUAL"},LESS:{value:"<",name:"LESS"},LESSEQUAL:{value:"<=",name:"LESSEQUAL"},STARTSWITH:{value:"LIKE",name:"STARTSWITH"},CONTAINS:{value:"LIKE",name:"CONTAINS"},LIKE:{value:"LIKE",name:"LIKE"},ENDSWITH:{value:"LIKE",name:"ENDSWITH"},NOTEQUAL:{value:"<>",name:"NOTEQUAL"},ISNULL:{value:"IS NULL",name:"ISNULL"},ISNOTNULL:{value:"IS NOT NULL",name:"ISNOTNULL"}},kony=kony||{},kony.model=kony.model||{},kony.model.DataStore=function(){function e(){var e={};this.getDataByKey=function(t){if(e.hasOwnProperty(t))return e[t]},this.setDataByKey=function(t,o){e[t]=o}}return e.prototype.storeData=function(e,t,o){1==o?this.setDataByKey(e,t):kony.store.setItem(e,t)},e.prototype.getData=function(e,t){return 1==t?this.getDataByKey(e):kony.store.getItem(e)},e}(),kony.model.AuthenticationManager=function(){function e(){}return e.prototype.authenticate=function(e,t,o){try{var n=kony.model.ApplicationContext.getFactorySharedInstance(),r=e.authParams,i=e.options,R=e.identityServiceName,a={authParams:r,options:i,identityServiceName:R},_=kony.model.ApplicationContext.getFactorySharedInstance().createDataStoreObject();_.storeData("UserCredentials",a,!0),kony.model.ApplicationContext.setUserCredentialObj(_),function(){kony.model.log.info("Getting SDK IdentityService");var e=kony.sdk.getCurrentInstance().getIdentityService(R);kony.model.ApplicationContext.setIdentityService(e),kony.model.log.info("Making SDK login Call"),e.login(r,c,E)}()}catch(e){kony.model.log.error("Error while authentication: "+e.toString());var l=n.createExceptionObject(kony.model.ExceptionCode.CD_ERROR_OFFLINE_LOGIN_FAILURE,kony.model.ExceptionCode.MSG_ERROR_OFFLINE_LOGIN_FAILURE);o(l)}function c(){kony.model.log.info("SDK login Success");var e="offline"===i.access;kony.model.ApplicationContext.setOnlineStatus(!e),t()}function E(e){kony.model.log.error("SDK login Failed "+e);var t=n.createExceptionObject(kony.model.ExceptionCode.CD_ERROR_LOGIN_FAILURE,kony.model.ExceptionCode.MSG_ERROR_LOGIN_FAILURE,e);o(t)}},e.prototype.saveUserDetails=function(){var e=kony.model.ApplicationContext.getFactorySharedInstance().createDataStoreObject(),t=kony.model.ApplicationContext.getUserCredentialObj().getData("UserCredentials",!0),o=t.authParams.userid,n=t.options,r=t.identityServiceName,i={};i[kony.model.constants.credStoreUsername]=o,i[kony.model.constants.credStoreOptions]=n,i[kony.model.constants.credStoreIdentityService]=r,e.storeData(kony.model.constants.credStoreName,i)},e.prototype.getSavedUserDetails=function(){return kony.model.ApplicationContext.getFactorySharedInstance().createDataStoreObject().getData(kony.model.constants.credStoreName)},e.prototype.execute=function(e,t,o){this.authenticate(e,t,o)},e}(),kony=kony||{},kony.model=kony.model||{},kony.model.AppFactory=function(){function e(){}return e.prototype.createExceptionObject=function(e,t,o){return new kony.model.Exception(e,t,o)},e.prototype.createSyncManagerObject=function(){return new kony.model.SyncManagerMF},e.prototype.createDataObject=function(e){return new kony.model.Data(e)},e.prototype.createModelObject=function(e,t,o,n){if(t){var r,i=kony.model[o][t+"Model"],R=kony.model[o][t+"ModelExtension"],a=e.getMetadataStore().getEntityMetadata(t,o,n);if(a){var _={};_.serviceName=o,_.options=n,r=new i(e,a,_)}else kony.model.log.error("error in entity controller factory, entity meta data for "+t+" undefined");return void 0!==R&&"function"==typeof R?(modelExtensionObj=new R(r),r.setControllerExtensionObject(modelExtensionObj)):kony.model.log.error("error in entity controller factory, model Extension Object for "+t+" is undefined"),r}},e.prototype.createViewObject=function(e,t){return new kony.model.View(e,t)},e.prototype.createConfigClassObject=function(e){return new kony.model.ConfigClass(e)},e.prototype.createAuthenticationManager=function(){var e=new kony.model.AuthenticationManager;return kony.model.ApplicationContext&&kony.model.ApplicationContext.setAuthManager(e),e},e.prototype.getAuthManager=function(){return kony.model.ApplicationContext&&kony.model.ApplicationContext.getAuthManager()?kony.model.ApplicationContext.getAuthManager():this.createAuthManager()},e.prototype.createDataStoreObject=function(){return new kony.model.DataStore},e.prototype.createAppInitManagerObject=function(){return new kony.model.AppInitManager},e.prototype.createMetadataServiceManagerObject=function(){return new kony.model.MetadataServiceManagerMF},e.prototype.createSegmentFieldObject=function(e,t){return new kony.model.SegmentField(e,t)},e.prototype.createSearchInfoObject=function(e,t){return new kony.model.searchInfo(e,t)},e.prototype.createSegmentWidgetConfigObject=function(e,t){return new kony.model.SegmentWidgetConfig(e,t)},e.prototype.createWidgetConfigObject=function(e,t){return new kony.model.widgetConfig(e,t)},e.prototype.createORMControllerObject=function(e,t){return new kony.model.persistent.ORMControllerMFAPP(e,t)},e.prototype.createORMControllerOdataObject=function(e){return new kony.model.persistent.ORMControllerMFAPPOData(e)},e.prototype.createORMControllerOdataExpandObject=function(e){return new kony.model.persistent.ORMControllerMFAPPODataExpand(e)},e.prototype.createORMControllerSQLObject=function(e){return new kony.model.persistent.ORMControllerMFAPPSQL(e)},e.prototype.createGroupWidgetsContextOffline=function(e,t){return new kony.model.persistent.GroupWidgetsContextOffline(e,t)},e.prototype.createGroupWidgetsContextOnline=function(e,t){return new kony.model.persistent.GroupWidgetsContextOnline(e,t)},e.prototype.createGroupWidgetsContextCommon=function(e,t){return new kony.model.persistent.GroupWidgetsContextCommon(e,t)},e.prototype.createMetadataStore=function(){return new kony.model.MetadataStore},e}(),kony=kony||{},kony.model=kony.model||{},kony.model.ApplicationContext=function(){function e(){var e;this.formObjects=void 0,this.metadataStore=void 0,this.configParams=void 0,this.modelObjects={},this.authManager=void 0,this.metadataOptions={},this.setCredentialObj=function(t){e=t},this.getCredentialObj=function(){return e}}var t,o=new e,n=!0,r=void 0,i=void 0;return e.prototype.getAppInstance=function(){return o||(o=new e),o},e.prototype.getFactorySharedInstance=function(){return t||(t=new kony.model.AppFactory),t},e.prototype.getMetadataServiceManager=function(){return i||(i=new kony.model.MetadataServiceManagerMF),i},e.prototype.isAppsFirstLogin=function(e){var t=e.username;!t&&e.authParams&&(t=e.authParams.userid);var o=e.options,n=e.identityServiceName,r=kony.store.getItem(kony.model.constants.credStoreName);if(null!==r&&void 0!==r){var i=r[kony.model.constants.credStoreOptions],R=r[kony.model.constants.credStoreIdentityService],a=r[kony.model.constants.credStoreUsername];if(void 0!==a&&void 0!==i&&kony.model.Util.matchIgnoreCase(a,t)&&kony.model.Util.matchIgnoreCase(i.access,o.access)&&kony.model.Util.matchIgnoreCase(R,n))return!1}return!0},e.prototype.appServicesLogin=function(e,t,o){try{var n=e.options,r=e.syncOptions,i="offline"===n.access,R=e.configParams,a=e.metadataOptions,_={syncOptions:r},l={};l.authParams=e.authParams,l.options=e.options,l.identityServiceName=e.identityServiceName,l.showLoadingscreen=!0;var c=this.getFactorySharedInstance();R&&R.constructor===Object&&Object.keys(R).length>0&&kony.model.ApplicationContext.setConfigParams(R);var E=c.createAppInitManagerObject();E.registerService("AuthenticationServiceManager",{object:c.createAuthenticationManager(),params:l}),E.registerService("MetadataServiceManager",{object:c.createMetadataServiceManagerObject(),params:{options:n,metadataOptions:a}}),i&&E.registerService("SyncManager",{object:c.createSyncManagerObject(),params:_}),E.executeRegistedServices(t,o)}catch(e){kony.model.ApplicationContext.dismissLoadingScreen(),kony.model.log.error("Error while authentication: "+e.toString()),o(this.getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_APP_INITIALIZATION_FAILED,kony.model.ExceptionCode.MSG_ERROR_APP_INITIALIZATION_FAILED))}},e.prototype.getObjectService=function(e,t){try{var o;return e.hasOwnProperty("mock")&&1==e.mock?(kony.model.log.info("Initialising mocked object service"),kony.model.log.info("Getting SDK ObjectService"),o=kony.sdk.getCurrentInstance().getObjectService(t,{access:t})):(kony.model.log.info("Getting SDK ObjectService"),o=kony.sdk.getCurrentInstance().getObjectService(t,e)),o}catch(e){throw this.getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_INITIALIZING_METADATA_PROVIDER,kony.model.ExceptionCode.MSG_ERROR_INITIALIZING_METADATA_PROVIDER+" -- "+e.message)}},e.prototype.logout=function(e,t){var o=new Date;try{this.reset();var n=kony.model.ApplicationContext.getIdentityService();function r(){var t=new Date;kony.model.Util.perftimecal("Logout >>","Logout Ended >>",o,t),kony.model.Util.perlogout(),e()}n?n.logout(r,t):r()}catch(e){t(this.getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_FAILED_TO_LOGOUT,kony.model.ExceptionCode.MSG_ERROR_FAILED_TO_LOGOUT+" : "+e.toString(),e))}},e.prototype.showLoadingScreen=function(e){var t=kony.model.ApplicationContext.getConfigParams();t&&t.ShowLoadingScreenFunction?(0,t.ShowLoadingScreenFunction)(e):(e=" "+e+" \n",kony.application.showLoadingScreen(null,e,constants.LOADING_SCREEN_POSITION_ONLY_CENTER,!0,!0,null))},e.prototype.showSyncLoadingScreen=function(e){var t=kony.model.ApplicationContext.getConfigParams();t&&t.ShowSyncLoadingScreenFunction?(0,t.ShowSyncLoadingScreenFunction)(e):(e=" "+e+" \n",kony.application.showLoadingScreen(null,e,constants.LOADING_SCREEN_POSITION_ONLY_CENTER,!0,!0,null))},e.prototype.dismissLoadingScreen=function(){var e=kony.model.ApplicationContext.getConfigParams();e&&e.DismissLoadingScreenFunction?(0,e.DismissLoadingScreenFunction)():kony.application.dismissLoadingScreen()},e.prototype.dismissSyncLoadingScreen=function(){var e=kony.model.ApplicationContext.getConfigParams();e&&e.DismissSyncLoadingScreenFunction?(0,e.DismissSyncLoadingScreenFunction)():kony.application.dismissLoadingScreen()},e.prototype.getAuthManager=function(){return this.authManager},e.prototype.setAuthManager=function(e){this.authManager=e},e.prototype.setUserCredentialObj=function(e){this.setCredentialObj(e)},e.prototype.getUserCredentialObj=function(){return this.getCredentialObj()},e.prototype.setOnlineStatus=function(e){n=!0===e},e.prototype.isAppSyncEnabled=function(){return!1===n},e.prototype.getMetadataStore=function(){return this.metadataStore||(this.metadataStore=new kony.model.MetadataStore),this.metadataStore},e.prototype.getSyncManager=function(){return this.syncManager||(this.syncManager=this.getFactorySharedInstance().createSyncManagerObject()),this.syncManager},e.prototype.reset=function(){this.metadataStore=void 0,this.formObjects=void 0},e.prototype.setConfigParams=function(e){if(this.configParams)for(var t in e)this.configParams[t]=e[t];else this.configParams=e},e.prototype.getConfigParams=function(){return this.configParams},e.prototype.getModel=function(e,t,o){var n=t+"."+e;return this.modelObjects[n]||(this.modelObjects[n]=this.getFactorySharedInstance().createModelObject(this,e,t,o)),this.modelObjects[n].setOptions(o),this.modelObjects[n]},e.prototype.setIdentityService=function(e){r=e},e.prototype.getIdentityService=function(){return r},e.prototype.login=function(e,t,o){this.getFactorySharedInstance().createAuthenticationManager().execute(e,t,o)},e.prototype.createModel=function(e,t,o,n,r,i){var R,a=t+"."+e,_=this;try{var l=kony.model[t][e+"Model"],c=kony.model[t][e+"ModelExtension"];if(n.getFromServer)kony.model.ApplicationContext.getMetadataServiceManager().fetchForObject(t,e,o,n,s.bind(this),O.bind(this));else if(_.modelObjects.hasOwnProperty(a))_.modelObjects[a].setOptions(o),r(_.modelObjects[a]);else{var E=_.getMetadataStore();try{E.getEntityMetadata(e,t,o)?s():kony.model.ApplicationContext.getMetadataServiceManager().fetchForObject(t,e,o,n,s,O)}catch(e){kony.model.log.error("Error in fetching metadata for object service : "+objServiceName,e),i.call(e)}}function s(){var n=_.getMetadataStore().getEntityMetadata(e,t,o);if(n){var i={};i.serviceName=t,i.options=o,R=new l(_,n,i)}else kony.model.log.error("error in entity controller factory, entity meta data for "+e+" undefined");void 0!==c&&"function"==typeof c?(modelExtensionObj=new c(R),R.setControllerExtensionObject(modelExtensionObj)):kony.model.log.error("error in entity controller factory, model Extension Object for "+e+" is undefined"),_.modelObjects[a]=R,_.modelObjects[a].setOptions(o),r(_.modelObjects[a])}function O(e){kony.model.log.error("Error in fetching metadata for object service : "+objServiceName),i(e)}}catch(e){i.call(e)}},e.prototype.initializeObjectServices=function(e,t,o){var n=this,r=0,i=Object.keys(e);!function R(){if(r>=i.length)return void t();var a=0;var _;var l=e[i[r]].options;var c=i[r];var E=e[i[r]].metadataOptions;e[i[r]].entities?(_=Object.keys(e[i[r]].entities),function t(){if(a>=_.length)return void s();var o=_[a];var R=e[i[r]].entities[_[a]].metadataOptions;R||(R=E);if(R.getFromServer){var d=c+"."+o;n.modelObjects[d]=null}kony.model.ApplicationContext.getMetadataServiceManager().fetchForObject(c,o,l,R,function y(t){a++,function t(){if(a>=_.length)return void s();var o=_[a];var R=e[i[r]].entities[_[a]].metadataOptions;R||(R=E);if(R.getFromServer){var d=c+"."+o;n.modelObjects[d]=null}kony.model.ApplicationContext.getMetadataServiceManager().fetchForObject(c,o,l,R,y,function(e){O(e)});function y(e){a++,t()}}()},function(e){O(e)});function y(e){a++,t()}}()):kony.model.ApplicationContext.getMetadataServiceManager().fetchForObjectService(c,l,E,s,O);function s(){r++,R()}function O(e){o(e)}}()},o}(),kony=kony||{},kony.model=kony.model||{},kony.model.BaseModel=function(){function e(e,t,o){var n=e,r=t,i=t.fields,R=t.columnsMap,a=t.relatedEntities,_=void 0,l=o.serviceName,c=o.options;this.getServiceName=function(){return l},this.setServiceName=function(e){l=e},this.getOptions=function(){return c},this.setOptions=function(e){c=e},this.getObjectService=function(){return this.getApplicationContext().getObjectService(this.getOptions(),this.getServiceName())},this.getControllerExtensionObject=function(){return _},this.setControllerExtensionObject=function(e){_=e},this.getApplicationContext=function(){return n},this.getEntityMetaData=function(){return r},this.getFields=function(){return i},this.getColumnsMap=function(){return R},this.getRelatedEntities=function(){return a},this.getAccessType=function(){return c&&c.hasOwnProperty("access")&&"offline"===c.access.toLowerCase()?"offline":"online"},this.getDataObjectOnline=function(e,t){this.getValueForProperty("name");for(var o="*",n=this.getValueForProperty("primaryKey"),r=0;r<n.length;r++)-1===e.indexOf(n[r])&&e.push(n[r]);for(var i in e)o="*"===o?e[i]:o+","+e[i];var R="$select="+o;if(kony.model.log.info("columnNamesString : "+o),t){kony.model.log.info("DataModel object --\x3e ",t);var a=t.getPrimaryKeyValueMap();if(a){R=R.concat("&$filter=");for(var _=Object.keys(a),l=1;l<_.length;l++)R=R.concat(_[l-1]+" eq "+a[_[l-1]]+" and ");R=R.concat(_[l-1]+" eq "+a[_[l-1]])}}var c=new kony.sdk.dto.DataObject(this.getValueForProperty("name"));return c.setOdataUrl(R),c},this.getDataObjectOffline=function(e,t){for(var o=this.getValueForProperty("name"),n=new kony.sdk.dto.Table(o,o,!1),r=new kony.sdk.dto.SelectQuery(this.getServiceName(),n),i=this.getValueForProperty("primaryKey"),R=0;R<i.length;R++)-1===e.indexOf(i[R])&&e.push(i[R]);for(var a in e){var _=new kony.sdk.dto.Column(n,e[a]);r.addColumn(_)}if(t){var l=t.getPrimaryKeyValueMap();if(l)for(var c=Object.keys(l),E=0;E<c.length;E++){_=new kony.sdk.dto.Column(n,c[E]);var s=new kony.sdk.dto.Match(_,kony.sdk.constants.MatchType.EQUALS,l[c[E]]);r.addCriteria(s)}}var O=new kony.sdk.dto.DataObject(this.getValueForProperty("name"));return O.setSelectQueryObject(r),O},this.getRequestOptions=function(e){if(e&&!e.hasOwnProperty("dataObject")){var t={};return t.dataObject=e,t}return e}}return e.prototype.getValueForColumnProperty=function(e,t){var o=null;return e&&t&&(o=this.getColumnInfo(e)[t]),o},e.prototype.getColumnNames=function(){var e=[];for(var t in this.getColumnsMap())e.push(t);return e},e.prototype.getValueForProperty=function(e){return this.getEntityMetaData()[e]},e.prototype.getColumnInfo=function(e){return this.getColumnsMap()[e]},e.prototype.getFieldPickListValues=function(e){return this.getColumnInfo(e).pickListValues},e.prototype.getChildRelationshipList=function(e,t){var o=this.getValueForProperty("relationshipList");e.call(this,o)},e.prototype.getRelationshipForChildEntityName=function(e,t,o){var n=this.getValueForProperty("relatedEntities");n?t.call(this,n[e]):o.call(this,n)},e.prototype.fetchDataForColumns=function(e,t,o,n){try{var r,i=this;r="offline"===this.getAccessType()?this.getDataObjectOffline(e,n):this.getDataObjectOnline(e,n),this.fetch(r,function(e){kony.model.log.info("Success fetching data for columns in entity controller"),t(e)},function(e){kony.model.log.error("Error fetching data for columns in entity controller");var t=i.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_FETCHING_DATA_FOR_COLUMNS,kony.model.ExceptionCode.MSG_ERROR_FETCHING_DATA_FOR_COLUMNS,e);o(t)})}catch(e){var R;kony.model.log.error("Error fetching data for columns in entity controller"),R=i.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_FETCHING_DATA_FOR_COLUMNS,kony.model.ExceptionCode.MSG_ERROR_FETCHING_DATA_FOR_COLUMNS,e),o(R)}},e.prototype.fetch=function(e,t,o){this.fetchResponseWithRecords(e,function(e){e=e.records,t(e)},o)},e.prototype.create=function(e,t,o){try{var n=this,r=n.getRequestOptions(e);if(!1===this.validate(r.dataObject,kony.model.constants.ValidationType.CREATE))throw R=this.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_VALIDATION_CREATE,kony.model.ExceptionCode.MSG_ERROR_VALIDATION_CREATE);var i=new Date;kony.model.log.info("Making SDK create Call"),n.getObjectService().create(r,function(e){kony.model.log.info("SDK create Success");var o=new Date;kony.model.Util.perftimecal("Create in entity controller >>","Create in entity controller done >>",i,o),t(e)},function(e){kony.model.log.error("SDK create Failed "+e);var t=n.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_CREATE,kony.model.ExceptionCode.MSG_ERROR_CREATE,e);o(t)})}catch(e){var R=n.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_CREATE,kony.model.ExceptionCode.MSG_ERROR_CREATE,e);o(R)}},e.prototype.update=function(e,t,o){var n=new Date;try{var r=this,i=r.getRequestOptions(e);if(!1===this.validate(i.dataObject,kony.model.constants.ValidationType.UPDATE))throw R=this.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_VALIDATION_UPDATE,kony.model.ExceptionCode.MSG_ERROR_VALIDATION_UPDATE);"offline"===this.getAccessType()?(kony.model.log.info("Making SDK update Call"),r.getObjectService().update(i,a,_)):(kony.model.log.info("Making SDK partialUpdate Call"),r.getObjectService().partialUpdate(i,a,_))}catch(e){var R=r.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_UPDATE,kony.model.ExceptionCode.MSG_ERROR_UPDATE,e);o(R)}function a(e){kony.model.log.info("SDK update Success");var o=new Date;kony.model.Util.perftimecal("Update in entity controller >>","Update in entity controller done >>",n,o),t(e)}function _(e){kony.model.log.error("SDK update Failed "+e);var t=r.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_UPDATE,kony.model.ExceptionCode.MSG_ERROR_UPDATE,e);o(t)}},e.prototype.partialUpdate=function(e,t,o){this.update(e,t,o)},e.prototype.completeUpdate=function(e,t,o){var n=new Date;try{var r=this,i=r.getRequestOptions(e);if(!1===this.validate(i.dataObject,kony.model.constants.ValidationType.UPDATE))throw R=this.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_VALIDATION_UPDATE,kony.model.ExceptionCode.MSG_ERROR_VALIDATION_UPDATE);kony.model.log.info("Making SDK update Call"),r.getObjectService().update(i,function(e){kony.model.log.info("SDK update Success");var o=new Date;kony.model.Util.perftimecal("Update in entity controller >>","Update in entity controller done >>",n,o),t(e)},function(e){kony.model.log.error("SDK update Failed "+e);var t=r.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_UPDATE,kony.model.ExceptionCode.MSG_ERROR_UPDATE,e);o(t)})}catch(e){var R=r.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_UPDATE,kony.model.ExceptionCode.MSG_ERROR_UPDATE,e);o(R)}},e.prototype.remove=function(e,t,o){try{var n=this,r=new Date,i=n.getRequestOptions(e);kony.model.log.info("Making SDK deleteRecord Call"),n.getObjectService().deleteRecord(i,function(e){kony.model.log.info("SDK deleteRecord Success");var o=new Date;kony.model.Util.perftimecal("Remove in entity controller >>","Remove in entity controller done >>",r,o),t(e)},function(e){kony.model.log.error("SDK deleteRecord Failed "+e);var t=n.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_DELETE,kony.model.ExceptionCode.MSG_ERROR_DELETE,e);o(t)})}catch(e){var R=n.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_DELETE,kony.model.ExceptionCode.MSG_ERROR_DELETE,e);o(R)}},e.prototype.removeByPrimaryKey=function(e,t,o){try{var n=this,r=this.getValueForProperty("name"),i=new kony.sdk.dto.DataObject(n.getValueForProperty("name"));i.setRecord(e),this.remove(i,function(o){kony.model.log.info("Record with primaryFieldValue - "+e+" - of entity '"+r+"' deleted successfully"),t(o)},function(e){var t=n.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_DELETE_BY_PRIMARY_KEY,kony.model.ExceptionCode.MSG_ERROR_DELETE_BY_PRIMARY_KEY,e);o(t)})}catch(e){var R=n.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_DELETE_BY_PRIMARY_KEY,kony.model.ExceptionCode.MSG_ERROR_DELETE_BY_PRIMARY_KEY,e);o(R)}},e.prototype.executeSelectQuery=function(e,t,o){try{var n=this;kony.model.log.info("Making SDK executeSelectQuery Call"),this.getObjectService().executeSelectQuery(e,function(e){kony.model.log.info("SDK executeSelectQuery Call Success");var o=n.getValueForProperty("primaryKey");if(e&&e.length>0)for(var r in e){for(var i={},R=0;R<o.length;R++)e[r].hasOwnProperty(o[R])&&(i[o[R]]=e[r][o[R]]);e[r].primaryKeyValueMap=i}t(e)},function(e){kony.model.log.error("SDK executeSelectQuery Call Failed "+e);var t=n.getApplicationContext().getFactorySharedInstance().createExceptionObject(-1,"Error executing executeSelectQuery",e);o(t)})}catch(e){kony.model.log.error("Error fetching data for columns in entity controller");var r=n.getApplicationContext().getFactorySharedInstance().createExceptionObject(-1,"Error executing executeSelectQuery",e);o(r)}},e.prototype.fetchResponse=function(e,t,o){var n=new Date;try{var r=this,i=r.getRequestOptions(e);kony.model.log.info("Making SDK fetch Call"),r.getObjectService().fetch(i,function(e){kony.model.log.info("SDK fetch Success");var o=e.records,i=r.getValueForProperty("primaryKey");if(o&&o.length>0)for(var R in o){for(var a={},_=0;_<i.length;_++)o[R].hasOwnProperty(i[_])&&(a[i[_]]=o[R][i[_]]);o[R].primaryKeyValueMap=a}var l=new Date;kony.model.Util.perftimecal("Fetch in entity controller >>","Fetch in entity controller done >>",n,l),t(e)},function(e){kony.model.log.error("Error in fetching data for given query",e);var t=r.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_FETCH,kony.model.ExceptionCode.MSG_ERROR_FETCH,e);o(t)})}catch(e){var R;R=e instanceof kony.model.Exception?r.getApplicationContext().getFactorySharedInstance().createExceptionObject(e.code,e.message,e):r.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_FETCH,kony.model.ExceptionCode.MSG_ERROR_FETCH,e),o(R)}},e.prototype.fetchResponseWithRecords=function(e,t,o){var n=this;this.fetchResponse(e,function(e){if(!e.hasOwnProperty("records")){for(var o in e)if(e[o]instanceof Array){e.records=e[o];break}var r=e.records,i=n.getValueForProperty("primaryKey");if(r&&r.length>0)for(var o in r){for(var R={},a=0;a<i.length;a++)r[o].hasOwnProperty(i[a])&&(R[i[a]]=r[o][i[a]]);r[o].primaryKeyValueMap=R}}t(e)},o)},e.prototype.customVerb=function(e,t,o,n){var r=new Date;try{var i=this;i.getRequestOptions(t);kony.model.log.info("Making SDK custom verb Call"),this.getApplicationContext().getObjectService({access:"online"},this.getServiceName()).customVerb(e,t,function(e){kony.model.log.info("SDK fetch Success");var t=e.records,n=i.getValueForProperty("primaryKey");if(t&&t.length>0)for(var R in t){for(var a={},_=0;_<n.length;_++)t[R].hasOwnProperty(n[_])&&(a[n[_]]=t[R][n[_]]);t[R].primaryKeyValueMap=a}var l=new Date;kony.model.Util.perftimecal("Customverb call in entity controller >>","CustomVerb call in entity controller done >>",r,l),o(e)},R)}catch(e){R(e instanceof kony.model.Exception?i.getApplicationContext().getFactorySharedInstance().createExceptionObject(e.code,e.message,e):i.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_CUSTOMVERB,kony.model.ExceptionCode.MSG_ERROR_CUSTOMVERB,e))}function R(e){kony.model.log.error("Error in custom verb call",e);var t=i.getApplicationContext().getFactorySharedInstance().createExceptionObject(kony.model.ExceptionCode.CD_ERROR_CUSTOMVERB,kony.model.ExceptionCode.MSG_ERROR_CUSTOMVERB,e);n(t)}},e.prototype.validate=function(e,t){return this.getControllerExtensionObject().validate(e,t)},e}(),kony=kony||{},kony.model=kony.model||{},kony.model.MetadataServiceManagerMF=function(){function e(){}return e.prototype.fetch=function(e,t,o,n,r){var i=kony.model.ApplicationContext.getObjectService(e,t);kony.model.log.info("Making SDK metadata Call"),i.getMetadataOfAllObjects(o,n,r)},e.prototype.apply=function(e,t,o,n,r){var i={};for(var R in e){var a=e[R];i[R]=a;var _=a.columns;i[R].columnsMap={};for(var l=0;l<_.length;l++){var c=_[l];i[R].columnsMap[c.name]=c}if(E(a),kony.model.ApplicationContext)kony.model.ApplicationContext.getMetadataStore().setEntityMetadata(i[R],R,o,t)}function E(e){var t=e.relationshipList,o={};for(var n in t){var r=t[n],i={};i.relationshipFields=r.relationshipFields,i.relationshipType=r.relationshipType,i.relationshipName=r.relationshipName,o[r.relatedEntity]=i}e.relatedEntities=o}var s={};s.dataModel=i,n&&n(s)},e.prototype.fetchForAllObjectServices=function(e,t,o,n){var r=this;var i=function(){var e=kony.model.Util.clone(kony.sdk.getCurrentInstance().objectsvc);kony.sdk.registeredobjsvcs&&(e=e?kony.model.Util.mergeJSONs(e,kony.sdk.registeredobjsvcs):kony.sdk.registeredobjsvcs);var t=[];for(var o in e)-1===o.indexOf("_metadata")&&t.push(o);return t}(),R=0;function a(e){kony.model.log.error("error fetching metadata"+JSON.stringify(e)),n(e)}r.fetch(e,i[R],t,function n(_){kony.model.log.info("SDK metadata Call Success for ObjectService "+i[R]);r.apply(_,e,i[R]);R++;if(R>=i.length)return void o(_);r.fetch(e,i[R],t,n,a)},a)},e.prototype.fetchForObjectService=function(e,t,o,n,r){var i=this;i.fetch(t,e,o,function(o){i.apply(o,t,e),n(o)},function(e){kony.model.log.error("error fetching metadata"+JSON.stringify(e)),r(e)})},e.prototype.fetchForObject=function(e,t,o,n,r,i){var R=this,a=kony.model.ApplicationContext.getObjectService(o,e);kony.model.log.info("Making SDK metadata Call"),a.getMetadataOfObject(t,n,function(n){kony.model.log.info("SDK metadata Call Success for Object "+t);var i={};i[t]=n,R.apply(i,o,e),r(n)},function(e){kony.model.log.error("error fetching metadata"+JSON.stringify(e)),i(e)})},e.prototype.execute=function(e,t,o){this.fetchForAllObjectServices(e.options,e.metadataOptions,function(e){return void t(e)},function(e){return void o(e)})},e}(),kony=kony||{},kony.model=kony.model||{},kony.model.MetadataStore=function(){function e(){var e={};this.getServiceMetadata=function(t,o){return e[t]},this.setServiceMetadata=function(t,o,n){e[o]=t}}return e.prototype.getEntityMetadata=function(e,t,o){var n=this.getServiceMetadata(t,o);if(n&&n[e])return n[e]},e.prototype.setEntityMetadata=function(e,t,o,n){var r=this.getServiceMetadata(o,n);r||(r={}),r[t]=e,this.setServiceMetadata(r,o,n)},e}(),kony=kony||{},kony.model=kony.model||{},kony.model.log=kony.model.log||{},kony.model.Util=kony.model.Util||{},void 0===kony.model.log&&(kony.model.log={}),kony.model.log.NONE={value:0,name:"none",code:"NONE"},kony.model.log.FATAL={value:1,name:"fatal",code:"FATAL"},kony.model.log.ERROR={value:2,name:"error",code:"ERROR"},kony.model.log.WARN={value:3,name:"warn",code:"WARN"},kony.model.log.INFO={value:4,name:"info",code:"INFO"},kony.model.log.DEBUG={value:5,name:"debug",code:"DEBUG"},kony.model.log.TRACE={value:6,name:"trace",code:"TRACE"},kony.model.currentLogLevel=kony.model.log.INFO,kony.model.log.trace=function(e,t){kony.model.logger(kony.model.log.TRACE,"MVVM",e,t)},kony.model.log.debug=function(e,t){kony.model.logger(kony.model.log.DEBUG,"MVVM",e,t)},kony.model.log.info=function(e,t){kony.model.logger(kony.model.log.INFO,"MVVM",e,t)},kony.model.log.warn=function(e,t){kony.model.logger(kony.model.log.WARN,"MVVM",e,t)},kony.model.log.error=function(e,t){kony.model.logger(kony.model.log.ERROR,"MVVM",e,t)},kony.model.log.fatal=function(e,t){kony.model.logger(kony.model.log.FATAL,"MVVM",e,t)},kony.model.log.setLogLevel=function(e,t,o){switch(e){case kony.model.log.NONE:kony.model.currentLogLevel=kony.model.log.NONE;break;case kony.model.log.TRACE:kony.model.currentLogLevel=kony.model.log.TRACE;break;case kony.model.log.INFO:kony.model.currentLogLevel=kony.model.log.INFO;break;case kony.model.log.WARN:kony.model.currentLogLevel=kony.model.log.WARN;break;case kony.model.log.ERROR:kony.model.currentLogLevel=kony.model.log.ERROR;break;case kony.model.log.FATAL:kony.model.currentLogLevel=kony.model.log.FATAL;break;case kony.model.log.DEBUG:kony.model.currentLogLevel=kony.model.log.DEBUG;break;default:return kony.model.log.error("Failed in setting log level "+e),void o("Failed in setting log level "+e)}kony.model.log.info("Log Level successfully set to "+kony.model.currentLogLevel.name),t("Log Level successfully set to "+kony.model.currentLogLevel.name)},kony.model.log.isDebugEnabled=function(){return kony.model.currentLogLevel.value>=kony.model.log.DEBUG.value},kony.model.log.isTraceEnabled=function(){return kony.model.currentLogLevel.value>=kony.model.log.TRACE.value},kony.model.log.isInfoEnabled=function(){return kony.model.currentLogLevel.value>=kony.model.log.INFO.value},kony.model.log.isWarnEnabled=function(){return kony.model.currentLogLevel.value>=kony.model.log.WARN.value},kony.model.log.isFatalEnabled=function(){return kony.model.currentLogLevel.value>=kony.model.log.FATAL.value},kony.model.log.isErrorEnabled=function(){return kony.model.currentLogLevel.value>=kony.model.log.ERROR.value},kony.model.log.isNoneEnabled=function(){return kony.model.currentLogLevel.value===kony.model.log.NONE.value},kony.model.log.getCurrentLogLevel=function(){return kony.model.currentLogLevel},kony.model.Util.isNullOrUndefined=function(e){return null===e||void 0===e},kony.model.Util.isValidJs=function(e){return!kony.model.Util.isNullOrUndefined(e)&&("object"===kony.type(e)||"Object"===kony.type(e)||"Array"===kony.type(e))},kony.model.logger=function(e,t,o,n){if(e.value<=kony.model.currentLogLevel.value){n=void 0===n?"":n,void 0!==t&&null!==t||(t="AFN"),kony.model.Util.isValidJs(n)&&(n=kony.model.Util.stringifyObject(n));var r="["+(new Date).toLocaleDateString()+"]["+(new Date).toLocaleTimeString()+"]["+t+"]["+e.code+"] : "+o+" "+n;kony.model.error_alert&&e.value==kony.model.log.ERROR.value&&alert(r),kony.print(r)}},kony.model.Util.stringifyObject=function(e){var t;try{t=e instanceof Error||e instanceof kony.model.Exception?e.toString():JSON.stringify(e)}catch(e){t=""}return t},kony.model.print=function(e){"undefined"!=typeof kony&&"function"==typeof kony.print?kony.print(e):"undefined"!=typeof console&&"function"==typeof console.log&&console.log(e)},kony=kony||{},kony.model=kony.model||{},kony.model.DataAccessAppsExceptionCode={CD_ERROR_10000:1e4,CD_ERROR_10001:10001,CD_ERROR_10002:10002,CD_ERROR_10003:10003,CD_ERROR_10004:10004,CD_ERROR_10005:10005,CD_ERROR_10006:10006,CD_ERROR_10007:10007,CD_ERROR_10008:10008,CD_ERROR_10009:10009,CD_ERROR_10010:10010,CD_ERROR_10011:10011,CD_ERROR_10012:10012,CD_ERROR_10013:10013,CD_ERROR_10014:10014,CD_ERROR_10015:10015,CD_ERROR_10016:10016,CD_ERROR_10017:10017,CD_ERROR_10018:10018,CD_ERROR_10019:10019,CD_ERROR_10020:10020,CD_ERROR_10021:10021,CD_ERROR_10022:10022,CD_ERROR_10023:10023,CD_ERROR_10024:10024,CD_ERROR_10025:10025,CD_ERROR_10026:10026,CD_ERROR_10027:10027,CD_ERROR_10028:10028,CD_ERROR_10029:10029,CD_ERROR_10030:10030,CD_ERROR_10031:10031,CD_ERROR_10032:10032,CD_ERROR_10033:10033,CD_ERROR_10034:10034,CD_ERROR_10035:10035,CD_ERROR_10036:10036,CD_ERROR_10037:10037,CD_ERROR_10038:10038,CD_ERROR_10039:10039,CD_ERROR_10040:10040,CD_ERROR_10041:10041,CD_ERROR_10042:10042,CD_ERROR_10043:10043,CD_ERROR_10044:10044,CD_ERROR_10045:10045,CD_ERROR_10046:10046,CD_ERROR_10047:10047,CD_ERROR_10048:10048,CD_ERROR_10049:10049,CD_ERROR_10050:10050,CD_ERROR_10051:10051,CD_ERROR_10052:10052,CD_ERROR_10053:10053,CD_ERROR_10054:10054,CD_ERROR_10055:10055,CD_ERROR_10056:10056,CD_ERROR_10057:10057,CD_ERROR_10058:10058,CD_ERROR_10059:10059,CD_ERROR_10060:10060,CD_ERROR_10061:10061,CD_ERROR_10062:10062,CD_ERROR_10063:10063,CD_ERROR_10064:10064,CD_ERROR_10065:10065,CD_ERROR_10066:10066,CD_ERROR_10067:10067,CD_ERROR_10068:10068,CD_ERROR_10069:10069,CD_ERROR_10070:10070,CD_ERROR_10071:10071,CD_ERROR_10072:10072,CD_ERROR_10073:10073,CD_ERROR_10074:10074,CD_ERROR_10075:10075,CD_ERROR_10076:10076,CD_ERROR_10077:10077,CD_ERROR_10078:10078,CD_ERROR_10079:10079,CD_ERROR_10080:10080,CD_ERROR_10081:10081,CD_ERROR_10082:10082,CD_ERROR_10083:10083,CD_ERROR_10084:10084,CD_ERROR_10085:10085,CD_ERROR_10086:10086,CD_ERROR_10087:10087,CD_ERROR_10088:10088,CD_ERROR_10089:10089,CD_ERROR_10090:10090,CD_ERROR_10091:10091,CD_ERROR_10092:10092,CD_ERROR_10094:10094,CD_ERROR_10095:10095,CD_ERROR_10096:10096,CD_ERROR_10097:10097,CD_ERROR_10098:10098,CD_ERROR_10099:10099,CD_ERROR_10100:10100,CD_ERROR_10101:10101,CD_ERROR_10102:10102,CD_ERROR_10104:10104,CD_ERROR_10105:10105,CD_ERROR_10106:10106,CD_ERROR_10108:10108,CD_ERROR_10109:10109,CD_ERROR_10110:10110,CD_ERROR_10111:10111,CD_ERROR_10112:10112,CD_ERROR_10113:10113,CD_ERROR_10114:10114,CD_ERROR_10115:10115,CD_ERROR_10116:10116,CD_ERROR_10117:10117,CD_ERROR_10118:10118,CD_ERROR_10119:10119,CD_ERROR_10120:10120,CD_ERROR_10121:10121,CD_ERROR_10122:10122,CD_ERROR_10123:10123,CD_ERROR_10124:10124,CD_ERROR_10125:10125,CD_ERROR_10126:10126,CD_ERROR_10127:10127,CD_ERROR_10128:10128,CD_ERROR_10129:10129,CD_ERROR_10130:10130,CD_ERROR_10131:10131,CD_ERROR_10132:10132,CD_ERROR_10133:10133,CD_ERROR_10134:10134,CD_ERROR_10135:10135,CD_ERROR_10136:10136,CD_ERROR_10137:10137,CD_ERROR_10138:10138,CD_ERROR_10139:10139,CD_ERROR_10140:10140,CD_ERROR_10141:10141,CD_ERROR_10142:10142,CD_ERROR_10143:10143,CD_ERROR_10144:10144,CD_ERROR_10145:10145,CD_ERROR_10146:10146,CD_ERROR_10147:10147,CD_ERROR_10148:10148,CD_ERROR_10149:10149,MSG_ERROR_10000:"Unable to execute delete query",MSG_ERROR_10001:"SQLLite Error occurred",MSG_ERROR_10002:"Invalid Table configuration in the Database",MSG_ERROR_10003:"Entity does not exist in the Database",MSG_ERROR_10004:"There is no relationship/definiton defined for the Entity in Enterprise DB",MSG_ERROR_10005:"Invalid column name",MSG_ERROR_10006:"Column does not exist in the Database",MSG_ERROR_10007:"Unable to execute Insert query",MSG_ERROR_10008:"Specified column datatype doesnot match with datatype from field mapping",MSG_ERROR_10009:"Unique constraint check failed as the data already exist in DB",MSG_ERROR_10010:"Specified foreign key is not found",MSG_ERROR_10011:"Unable to execute Select query",MSG_ERROR_10012:"Invalid Meta Column Name Usage. Correct usage is COLUMNNAME__f",MSG_ERROR_10013:"Invalid Meta Column Name Usage in Join Clause. Correct usage is COLUMNNAME__f",MSG_ERROR_10014:"Unable to execute update query",MSG_ERROR_10015:"No columns specified for updating",MSG_ERROR_10016:"Column name either null or empty in update builder",MSG_ERROR_10017:"Specified foreign key is not found, Rolled back transaction",MSG_ERROR_10018:"Value is null",MSG_ERROR_10019:"Column data type does not match the value",MSG_ERROR_10020:"No columns specified for update",MSG_ERROR_10021:"Invalid table name",MSG_ERROR_10022:"Connection NOT created from pool",MSG_ERROR_10023:"User id invalid",MSG_ERROR_10024:"Invalid arguments to com.kony.common.DataAccess.Query.Between Constructor",MSG_ERROR_10025:"Invalid arguments to setColumn of com.kony.common.DataAccess.Query.Between",MSG_ERROR_10026:"Invalid arguments to setRange of com.kony.common.DataAccess.Query.Between",MSG_ERROR_10027:"Invalid Column name passed to com.kony.common.DataAccess.Query.Column Constructor .\nExpected:Table\nActual:",MSG_ERROR_10028:"Invalid data type for the attribute in com.kony.common.DataAccess.Query.Column Constructor",MSG_ERROR_10029:"Invalid ColumnName to SetName of com.kony.common.DataAccess.Query.Column",MSG_ERROR_10030:"Invalid arguments to setTable of com.kony.common.DataAccess.Query.Column",MSG_ERROR_10031:"Invalid arguments to com.kony.common.DataAccess.Query.Range.DateRange Constructor",MSG_ERROR_10032:"Invalid arguments to setEnd of com.kony.common.DataAccess.Query.Range.DateRange",MSG_ERROR_10033:"Invalid arguments to setStart of com.kony.common.DataAccess.Query.Range.DateRange",MSG_ERROR_10034:"Invalid arguments to com.kony.common.DataAccess.Query.Range.DecimalRange Constructor",MSG_ERROR_10035:"Invalid arguments to setEnd of com.kony.common.DataAccess.Query.Range.DecimalRange",MSG_ERROR_10036:"Invalid arguments to setStart of com.kony.common.DataAccess.Query.Range.DecimalRange",MSG_ERROR_10037:"Invalid data type for the attribute subSelect in com.kony.common.DataAccess.Query.Exists Constructor \nExpected:SelectQuery\nActual:",MSG_ERROR_10038:"Invalid data type for the attribute subSelect in com.kony.common.DataAccess.Query.Exists.prototype.setSubSelect \nExpected:SelectQuery\nActual:",MSG_ERROR_10039:"Invalid arguments to com.kony.common.DataAccess.Query.Expression Constructor",MSG_ERROR_10040:"Invalid number of arguments to com.kony.common.DataAccess.Query.Expression",MSG_ERROR_10041:"Invalid Operator type passed to com.kony.common.DataAccess.Query.Expression",MSG_ERROR_10042:"Invalid arguments for the attribute com.kony.common.DataAccess.Query.Expression initExpression",MSG_ERROR_10043:"Invalid arguments for the attribute com.kony.common.DataAccess.Query.Expression setExpression",MSG_ERROR_10044:"Invalid arguments for the attribute com.kony.common.DataAccess.Query.Expression setTerm",MSG_ERROR_10045:"Invalid arguments to setEnd of com.kony.common.DataAccess.Query.Range.FloatRange",MSG_ERROR_10046:"Invalid arguments to setStart of com.kony.common.DataAccess.Query.Range.FloatRange",MSG_ERROR_10047:"Invalid argument for the attribute in com.kony.common.DataAccess.Query.Group",MSG_ERROR_10048:"Invalid arguments for the attribute in com.kony.common.DataAccess.Query.Group.prototype.setColumn",MSG_ERROR_10049:"Invalid number of arguments passed to com.kony.common.DataAccess.Query.InCriteria",MSG_ERROR_10050:"Invalid arguments for getInCriteriaByTableAndCollection in com.kony.common.DataAccess.Query.InCriteria",MSG_ERROR_10051:"Invalid arguments for getInCriteriaByColumnAndCollection in com.kony.common.DataAccess.Query.InCriteria",MSG_ERROR_10052:"Invalid arguments for getColumnForTable in com.kony.common.DataAccess.Query.InCriteria",MSG_ERROR_10053:"Invalid arguments to com.kony.common.DataAccess.Query.Range.IntegerRange Constructor",MSG_ERROR_10054:"Invalid arguments to setEnd of com.kony.common.DataAccess.Query.Range.IntegerRange",MSG_ERROR_10055:"Invalid arguments to setStart of com.kony.common.DataAccess.Query.Range.IntegerRange",MSG_ERROR_10056:"Invalid arguments passed for  com.kony.common.DataAccess.Query.Join",MSG_ERROR_10057:"Invalid arguments passed for the method in com.kony.common.DataAccess.Query.Join",MSG_ERROR_10058:"Invalid arguments passed for the method setCriteria in com.kony.common.DataAccess.Query.Join",MSG_ERROR_10059:"Invalid arguments passed for the method setTable in com.kony.common.DataAccess.Query.Join",MSG_ERROR_10060:"Invalid arguments passed for the method setJoinType in com.kony.common.DataAccess.Query.Join",MSG_ERROR_10061:"Invalid arguments passed for the method initCriteria in com.kony.common.DataAccess.Query.Join",MSG_ERROR_10062:"Insufficient input passed to com.kony.common.DataAccess.Query.And Constructor",MSG_ERROR_10063:"Invalid data type for com.kony.common.DataAccess.Query.And Expected value Criteria",MSG_ERROR_10064:"Insufficient input passed to com.kony.common.DataAccess.Query.Or Constructor",MSG_ERROR_10065:"Invalid data type for com.kony.common.DataAccess.Query.Or Expected value Criteria",MSG_ERROR_10066:"Insufficient input passed to com.kony.common.DataAccess.Query.Not Constructor",MSG_ERROR_10067:"Invalid data type for com.kony.common.DataAccess.Query.Not Expected value Criteria",MSG_ERROR_10068:"Invalid match type passed in com.kony.common.DataAccess.Query.Match.prototype.initMatchByColumn",MSG_ERROR_10069:"Invalid value passed in com.kony.common.DataAccess.Query.Match.prototype.initMatchByColumn",MSG_ERROR_10070:"Invalid arguments passed for the method initMatchByColumn in com.kony.common.DataAccess.Query.Match.prototype.initMatchByColumn.",MSG_ERROR_10071:"Invalid match type passed in com.kony.common.DataAccess.Query.Match.prototype.initMatchByTableAndColName",MSG_ERROR_10072:"Invalid value passed in com.kony.common.DataAccess.Query.Match.prototype.initMatchByTableAndColName",MSG_ERROR_10073:"Invalid columnName passed in com.kony.common.DataAccess.Query.Match.prototype.initMatchByTableAndColName",MSG_ERROR_10074:"Invalid arguments passed for the method initMatchByTableAndColName in com.kony.common.DataAccess.Query.Match",MSG_ERROR_10075:"Match object not initialized properly  in com.kony.common.DataAccess.Query.Match",MSG_ERROR_10076:"Invalid arguments passed for the constructor in com.kony.common.DataAccess.Query.Order",MSG_ERROR_10077:"Invalid arguments for the method setColumn in com.kony.common.DataAccess.Query.Order",MSG_ERROR_10078:"Invalid arguments to com.kony.common.DataAccess.Query.Range.StringRange Constructor",MSG_ERROR_10079:"Invalid arguments to setEnd of com.kony.common.DataAccess.Query.Range.StringRange",MSG_ERROR_10080:"Invalid arguments to setStart of com.kony.common.DataAccess.Query.Range.StringRange",MSG_ERROR_10081:"Invalid Arguments passed to DeleteBuilder.addCriteria",MSG_ERROR_10082:"Invalid data type for the attribute in DeleteBuilder.addCriteria. Expected: Criteria | Actual:",MSG_ERROR_10083:"Invalid data type for the attribute in DeleteBuilder . Expected: Table | Actual:",MSG_ERROR_10084:"Invalid data type for the attribute in com.kony.common.DataAccess.Query.InsertQuery .\nExpected:Table\nActual:",MSG_ERROR_10085:"Invalid data type for the attribute in com.kony.common.DataAccess.Query.InsertQuery.prototype.addColumn .\nExpected:Column\nActual:",MSG_ERROR_10086:"Invalid data type for the attribute in com.kony.common.DataAccess.Query.InsertQuery.prototype.addColumnToTable .\nExpected:String\nActual:",MSG_ERROR_10087:"Invalid data type for the attribute in com.kony.common.DataAccess.Query.InsertQuery.prototype.addColumnToTable .\nExpected:Table\nActual:",MSG_ERROR_10088:"Invalid data type for the attribute in com.kony.common.DataAccess.Query.InsertQuery.prototype.removeColumn .\nExpected:Table\nActual:",MSG_ERROR_10089:"Invalid Arguments passed to SelectBuilder",MSG_ERROR_10090:"Invalid data type for the attribute in SelectBuilder .\nExpected:Table\nActual:",MSG_ERROR_10091:"Invalid Arguments passed to selectBuilder.addColumn",MSG_ERROR_10092:"Invalid data type for the attribute in selectBuilder.addColumn .\nExpected:Column\nActual:",MSG_ERROR_10094:"Invalid data type for the attribute in SelectBuilder.\nExpected:Table\nActual:",MSG_ERROR_10095:"Invalid Arguments of Alias passed to selectBuilder ",MSG_ERROR_10096:"Invalid data type for the attribute in selectBuilder.\nExpected:Table\nActual:",MSG_ERROR_10097:"Invalid Arguments passed to selectBuilder.addCriteria",MSG_ERROR_10098:"Invalid data type for the attribute in selectBuilder.addCriteria .\nExpected:Criteria\nActual:",MSG_ERROR_10099:"Invalid Arguments passed to selectBuilder.addGroup",MSG_ERROR_10100:"Invalid data type for the attribute in selectBuilder.addGroup .\nExpected:Group\nActual:",MSG_ERROR_10101:"Invalid Arguments passed to selectBuilder.addJoin",MSG_ERROR_10102:"Invalid data type for the attribute in SelectBuilder.addJoin .\nExpected:Criteria\nActual:",MSG_ERROR_10104:"Invalid data type for the attribute in SelectBuilder",MSG_ERROR_10105:"Invalid Arguments passed to selectBuilder.addOrder",MSG_ERROR_10106:"Invalid data type for the attribute in selectBuilder.addOrder \nExpected:Order\nActual:",MSG_ERROR_10108:"Invalid data type for the attribute in SelectBuilder \nExpected:Table\nActual:",MSG_ERROR_10109:"Invalid Arguments passed to selectBuilder.removeColumn",MSG_ERROR_10110:"Invalid data type for the attribute in selectBuilder.removeColumn \nExpected:Column\nActual:",MSG_ERROR_10111:"Invalid Arguments passed to selectBuilder.removeCriteria",MSG_ERROR_10112:"Invalid data type for the attribute in selectBuilder.removeCriteria \nExpected:Criteria\nActual:",MSG_ERROR_10113:"Invalid Arguments passed to selectBuilder.removeGroup",MSG_ERROR_10114:"Invalid data type for the attribute in selectBuilder.removeGroup \nExpected:Group\nActual:",MSG_ERROR_10115:"Invalid Arguments passed to selectBuilder.removeJoin",MSG_ERROR_10116:"Invalid data type for the attribute in selectBuilder.removeJoin \nExpected:Group\nActual:",MSG_ERROR_10117:"Invalid data type for the attribute in SelectBuilder \nExpected:Group\nActual:",MSG_ERROR_10118:"Invalid Arguments passed to UpdateQuery",MSG_ERROR_10119:"Invalid data type for the attribute in UpdateQuery .\nExpected:Table\nActual:",MSG_ERROR_10120:"Invalid Arguments passed to UpdateBuilder.addColumn method",MSG_ERROR_10121:"Invalid data type for the attribute in UpdateBuilder.addColumn method",MSG_ERROR_10122:"Invalid Arguments passed to UpdateBuilder.addColumnByColumnNameAndValue",MSG_ERROR_10123:"Invalid data type for the attribute in UpdateBuilder.addColumnByColumnNameAndValue",MSG_ERROR_10124:"Invalid Arguments passed to UpdateBuilder.addCriteria",MSG_ERROR_10125:"Invalid data type for the attribute in UpdateBuilder.addCriteria .\nExpected:Criteria\nActual:",MSG_ERROR_10126:"Invalid Arguments passed to UpdateBuilder.removeCriteria",MSG_ERROR_10127:"Invalid data type for the attribute in UpdateBuilder.removeCriteria .\nExpected:Criteria\nActual:",MSG_ERROR_10128:"Invalid Arguments passed to UpdateBuilder",MSG_ERROR_10129:"Invalid data type for the attribute in UpdateBuilder .\nExpected:Table\nActual:",MSG_ERROR_10130:"Invalid number of arguments to com.kony.common.DataAccess.Query.InsertQuery.prototype.addColumn",MSG_ERROR_10131:"unknown database error occured. please verify the table and columns names.",MSG_ERROR_10132:"No parent keys found.",MSG_ERROR_10133:"field object is empty",MSG_ERROR_10134:"Given JoinType doesn't support",MSG_ERROR_10135:"Cannot insert record as the integrity failed with",MSG_ERROR_10136:"error occurred during language fetch",MSG_ERROR_10137:"No logical fields exist for the table",MSG_ERROR_10138:"unknown database error occured. please verify the table and column names/values.",MSG_ERROR_10139:"Invalid number of arguments to com.kony.common.DataAccess.Query.Match",MSG_ERROR_10140:"Invalid number of arguments to com.kony.common.DataAccess.Query.Join",MSG_ERROR_10141:"Entity with name doesn't exist",MSG_ERROR_10142:"Invalid Meta Column Name Usage, Correct usage COLUMNNAME__f",MSG_ERROR_10143:"Table does not exist in the database",MSG_ERROR_10144:"Column does not exist in table",MSG_ERROR_10145:"Table is undefined.Please provide valid table name",MSG_ERROR_10146:"Invalid Arguments passed to DeleteBuilder",MSG_ERROR_10147:"Invalid Arguments passed to InsertBuilder",MSG_ERROR_10148:"No data found to update with the selected criteria",MSG_ERROR_10149:"The request could not be completed."},kony.model.Exception=function(){function e(t,o){var n;return void 0==t?o.append(""):t.getErrorObj()?(t.getErrorObj().name&&t.getErrorObj().message?o.append(t.getErrorObj().name+": "+t.getErrorObj().message+": "+t.getErrorObj().sourceURL):o.append(JSON.stringify(t.getErrorObj())),o.append("\n"),o.append(t.code+":"+t.message+"\n")):((n=e(t.exceptionObj,o)).append(t.code+":"+t.message),n.append("\n"),n)}function t(e,t,o){var n;this.code="number"==typeof e?e:-1,this.message="string"==typeof t?t:"",this.name="Exception",o instanceof kony.model.Exception?(this.exceptionObj=o,n=void 0):(n=o,this.exceptionObj=void 0),this.getErrorObj=function(){return n},this.getParentException=function(){return this.exceptionObj}}return inheritsFrom(t,Error),t.prototype.toString=function(){var t=new kony.model.Util.StringBuffer;return(t=e(this,t)).toString()},t.prototype.alert=function(t){if(!0===t){var o=new kony.model.Util.StringBuffer;o=e(this,o),alert(o.toString())}else alert(this.code+":"+this.name+":"+this.message)},t.prototype.setSyncResponse=function(e){this.syncresponse=e},t.prototype.getRootErrorObj=function(){return function e(t){return t&&void 0!=t.exceptionObj&&void 0==t.getErrorObj()?e(t.exceptionObj):t&&void 0==t.exceptionObj&&void 0!=t.getErrorObj()?t.getErrorObj():void 0}(this)},t}(),kony.model.ExceptionCode={CD_ERROR_LOADING_TEMPLATES:3,CD_ERROR_FAILED_TO_CREATE_RECORD:9,CD_ERROR_FAILED_TO_UPDATE_RECORD:10,CD_ERROR_CALLBACK_NOT_A_FUNCTION:11,CD_ERROR_LOGIN_FAILURE:12,CD_ERROR_SESSION_TOKEN_INVALID:13,CD_ERROR_FAILED_TO_SAVE_FORM:14,CD_ERROR_FAILED_TO_FETCH_DATA:15,CD_ERROR_FAILED_TO_INITIALIZE_FORM:16,CD_ERROR_FETCHING_METADATA:17,CD_ERROR_MORE_RECORDS_FOUND:18,CD_ERROR_FETCHING_TEMPLATES:19,CD_ERROR_FETCHING_FORMS:20,CD_ERROR_INITIALIZING_UI_CONFIG_DATA_PROVIDER:21,CD_ERROR_INITIALIZING_METADATA_PROVIDER:22,CD_ERROR_INITIALIZING_DATA_PROVIDER:23,CD_ERROR_FAILED_TO_LOAD_APPLICATION:24,CD_ERROR_APP_INITIALIZATION_FAILED:25,CD_ERROR_INITIALIZING_SAAS_APP:26,CD_ERROR_FORMVIEWCONTROLLER_NOT_FOUND:27,CD_ERROR_NAVIGATION_STACK_EMPTY:28,CD_ERROR_FORM_NOT_FOUND:29,CD_ERROR_METADATA_FOR_ENTITY_NOT_FOUND:30,CD_ERROR_NO_FIELDS_MODIFIED_UPDATE_FAILED:31,CD_ERROR_PRIMARY_FIELD_VALUE_NOT_FOUND:32,CD_ERROR_UNDEFINED_WIDGET_CONTROLLER:33,CD_ERROR_FAILED_TO_LOGOUT:35,CD_ERROR_FAILED_LOADING_MASTER_DATA:36,CD_ERROR_FAILED_TO_NAVIGATE_TO_FORM:37,CD_ERROR_PARSING_JSONS:38,CD_ERROR_FAILED_LOADING_FORMS:39,CD_ERROR_FAILED_FORM_INIT_WHILE_CALLBACK:40,CD_ERROR_KONY_FORM_OBJECT_UNDEFINED:41,CD_ERROR_SAVE_CANNOT_SET_PRIMARY_KEY:42,CD_ERROR_FETCH_FAILED_FOR_CHILD_ENTITY:43,CD_ERROR_GET_NEXT_LIST:44,CD_ERROR_UNSUPPORTED_SEGMENT_TYPE:45,CD_ERROR_NOT_INHERITING_VIEW_CONTROLLER:46,CD_ERROR_NOT_INHERITING_WIDGET_CONTROLLER:47,CD_ERROR_FAILED_BINDING_DATA_TO_WIDGET:48,CD_ERROR_PAGINATION_NOT_ENABLED_FOR_SEGMENT:49,CD_ERROR_PARAM_VALUE_NOT_DEFINED_IN_QUERYPARAM:50,CD_ERROR_BRACES_ARE_NOT_DEFINED_PROPERLY:51,CD_ERROR_ADDITIONAL_FIELDS_ARE_NOT_DEFINED_PROPERLY:52,CD_ERROR_QUERY_NOT_DEFINED_PROPERLY:53,CD_ERROR_QUERYPARAMS_NOT_DEFINED_PROPERLY:54,CD_ERROR_MATCHOPERATOR_NOT_DEFINED_PROPERLY:55,CD_ERROR_DATA_VALIDATION_FIELD_NOT_CREATEABLE:56,CD_ERROR_DATA_VALIDATION_FIELD_NOT_UPDATEABLE:57,CD_ERROR_DATA_VALIDATION_FIELD_NOT_NULLABLE:58,CD_ERROR_DATA_VALIDATION_INVALID_INPUT_DATA:59,CD_ERROR_DATA_VALIDATION_INVALID_MODEL:60,CD_ERROR_DATA_VALIDATION_INVALID_ENTITY:61,CD_ERROR_DATA_VALIDATION_ENTITYMETADATA_NOTFOUND:62,CD_ERROR_CREATING_APPMENU:63,CD_ERROR_FETCHING_APPMENU_DATA:64,CD_ERROR_FIELD_NOT_PRESENT:65,cd_ERROR_ENITTY_NOT_PRESENT:66,CD_TENANT_NOT_SYNC_ENABLED:67,CD_INVALID_QUERY:68,CD_ERROR_FETCH_USER_PROFILE_FAILURE:69,CD_RESOURCE_NO_CREATE_PERMISSION:74,CD_RESOURCE_NO_READ_PERMISSION:75,CD_RESOURCE_NO_UPDATE_PERMISSION:76,CD_RESOURCE_NO_DELETE_PERMISSION:77,CD_ERROR_OFFLINE_LOGIN_FAILURE:70,CD_ERROR_UNABLE_TO_SYNC:71,CD_ERROR_UNABLE_TO_GET_SYNC_CONFIG:72,CD_ERROR_UNABLE_TO_RESET_SYNC:73,CD_ERROR_NO_RESPONSE_RECEIVED:78,CD_ERROR_NETWORK_UNAVAILABLE:79,CD_ERROR_IN_SET_ADDITIONAL_FIELDS:80,CD_ERROR_IN_SET_QUERY:81,CD_ERROR_IN_SET_QUERY_PARAMS:82,CD_ERROR_ENTER_VALID_TENANT_NAME:83,CD_ERROR_NAVIGATION_CONTROLLER_NOT_DEFINED:84,CD_ERROR_ENTITY_NOT_SPECIFIED:85,CD_ERROR_FORMTYPE_NOT_SPECIFIED:86,CD_ERROR_FORM_NOT_DEFINED_FOR_RECORDTYPE:87,CD_ERROR_RECORDTYPES_NOT_AVAILABLE:88,CD_ERROR_FORMSFORRECORDTYPES_MAP_NOT_DEFINED:89,CD_ERROR_SAAS_INSTANCE_NOTDEFINED:90,CD_ERROR_INVALID_ENTITY:91,CD_VERSION_UNSUPPORTED_ERROR:92,CD_ERROR_ASSOCIATING_RECORD:93,CD_ERROR_DISOCIATING_RECORD:94,CD_ERROR_NOT_INSTANCE_OF_CUSTOMINFO:95,CD_ERROR_FORM_ENTITY_NOT_FOUND:96,CD_ERROR_FORM_PRIMARY_FIELDVALUE_NOT_FOUND:97,CD_ERROR_CANNOT_ASSOCIATE_DISSOCIATE_OF_SAME_ENTITY:98,CD_ERROR_SAVING_MULTI_ENTITY_LABEL:99,CD_ERROR_SAVING_CHILD_CONTAINER:100,CD_ERROR_DECODING_BASE64_FORMJS:102,CD_ERROR_BATCH_INSERT:103,CD_ERROR_LOCAL_DB_CONNECTION:104,CD_ERROR_EXECUTE_SINGLE_SQL_QUERY:105,CD_UPGRADE_UNAVAILABLE:106,CD_ERROR_I18N:107,CD_INVALID_LOGIN_HANDLER_RESPONSE:108,CD_ERROR_FAILED_TO_QUERY_DATA:109,CD_ERROR_LOADING_THEME:110,CD_ERROR_SETTING_THEME:111,CD_ERROR_FETCHING_THEME:112,CD_ERROR_MULTIPLE_DEFAULT_THEME:113,CD_ERROR_CREATING_THEME:114,CD_ERROR_METHOD_INVALID:115,CD_ERROR_INVALID_HTTPCUSTOMREQUEST_INPUT:116,CD_ERROR_INVALID_INPUT:117,CD_ERROR_INVALID_INPUT_TYPE:118,CD_ERROR_INVALID_PAYLOAD:119,CD_ERROR_INVALID_DATAPROVIDER_TYPE:120,CD_ERROR_DATAPROVIDER_NOT_INTIALIZED:121,CD_ERROR_INVALID_CUSTOMSERVICE_INPUT_PARAM:122,CD_ERROR_UNEXPECTED_CUSTOMRESPONSE:123,CD_CLOUD_UNAUTHORISED_FOR_DATAPROVIDER:124,CD_CREDSTORE_NOT_FOUND:125,CD_CREDENTIAL_MISMATCH_WITH_CREDSTORE:126,CD_ERROR_TENANT_NOT_SPECIFIED:50003,CD_ERROR_UNABLE_TO_CONNECT:50004,CD_ERROR_SYNC_FAILURE:50005,CD_ERROR_LANDING_PAGE_NOT_DEFINED:50007,CD_ERROR_INVALID_PARAM1:50008,CD_ERROR_ENTITY_CONTROLLER_NOT_DEFINED:10001,CD_ERROR_IN_ENTITY_DEFINITION:10002,CD_ERROR_IN_RETREIVNING_CHILD_RELATIONSHIPLIST:10003,CD_ERROR_FETCHING_DATA_FOR_COLUMNS:10004,CD_ERROR_FETCHING_CHILD_RELATIONSHP_FOR_ENTITY:10005,CD_ERROR_PROCESSING_CHILD_RELATIONSHIPLIST:10006,CD_ERROR_FETCH:10007,CD_ERROR_CREATE:10008,CD_ERROR_UPDATE:10009,CD_ERROR_UPDATE_BY_PRIMARY_KEY:10010,CD_ERROR_DELETE:10011,CD_ERROR_DELETE_BY_PRIMARY_KEY:10012,CD_ERROR_VALIDATION_UPDATE:10013,CD_ERROR_VALIDATION_CREATE:10014,CD_ERROR_GET_WIDGET_DATA_FORMMODEL:20001,CD_ERROR_SET_WIDGET_DATA_FORMMODEL:20002,CD_ERROR_FORMMODEL_PROPERTY_VALUE_CHANGED:20003,CD_ERROR_FORMMODEL_CLEAR:20004,CD_ERROR_FORMMODEL_DESTROY:20005,CD_ERROR_FORMMODEL_UPDATE:20006,CD_ERROR_FORMMODEL_SHOWVIEW:20007,CD_ERROR_FORMMODEL_SET_MASTERDATA:20008,CD_ERROR_FORMMODEL_GET_MASTERDATA:20009,CD_ERROR_FORMMODEL_SET_VIEW_ATTRIBUTE:20010,CD_ERROR_FORMMODEL_GET_VIEW_ATTRIBUTE:20011,CD_ERROR_FORMMODEL_PERFORM_ACTION_ONVIEW:20012,CD_ERROR_FORMMODEL_PERFORM_ACTION:20013,CD_ERROR_NOTIFYING_OBSERVERS:20014,CD_ERROR_FORMMODEL_PROPERTIES_INIT:20015,CD_ERROR_FETCH_IN_CONTROLLER:30001,CD_ERROR_BIND_IN_CONTROLLER:30002,CD_ERROR_SAVE_IN_CONTROLLER:30003,CD_ERROR_DELETE_IN_CONTROLLER:30004,CD_ERROR_LOADDATA_SHOWFORM_CONTROLLER:30005,CD_ERROR_GETTING_ENTITY_CONTROLLER:30006,CD_ERROR_GETTING_ENTITY_METADATA:30007,CD_ERROR_FETCH_IN_BASE_CONTROLLER_EXTENSION:30008,CD_ERROR_BIND_IN_BASE_CONTROLLER_EXTENSION:30009,CD_ERROR_SAVE_IN_BASE_CONTROLLER_EXTENSION:30010,CD_ERROR_ACTION_NOT_FOUND_IN_CONTROLLER:30011,CD_ERROR_FORMATDATA_IN_BASE_CONTROLLER_EXTENSION:30012,CD_ERROR_FORMATDATA_IN_CONTROLLER:30013,CD_ERROR_DELETE_IN_BASE_CONTROLLER_EXTENSION:30014,CD_ERROR_GENERATE_RECORDS_IN_BASE_CONTROLLER_EXTENSION:30015,CD_ERROR_FETCH_IN_CONTROLLER_EXTENSION:40013,CD_ERROR_BINDDATA_IN_CONTROLLER_EXTENSION:40014,CD_ERROR_SAVEDATA_IN_CONTROLLER_EXTENSION:40015,CD_ERROR_DELETEDATA_IN_CONTROLLER_EXTENSION:40016,CD_ERROR_PROCESSDATA_IN_CONTROLLER_EXTENSION:40017,CD_ERROR_SHOWFORM_IN_CONTROLLER_EXTENSION:40018,CD_ERROR_GET_DATA_WIDGETS_OF_FORM:60001,CD_ERROR_GETTING_QUERY_WIDGETS_MAPPING:60002,CD_ERROR_ORM_CONTROLLER_FETCH_RECORDS:70001,CD_ERROR_ORM_CONTROLLER_FETCH_RECORDS_QUERIES_NOT_DEFINED:70002,CD_ERROR_ORM_CONTROLLER_FETCH_RECORD_PK_NOT_DEFINED:70003,CD_ERROR_ORM_CONTROLLER_FETCH_RECORD_PK:70004,CD_ERROR_ORM_CONTROLLER_FETCH_RECORDS_BY_NATIVE_QUERY:70005,CD_ERROR_ORM_CONTROLLER_FETCH_RECORDS_BY_COLUMN_DEFINITION:70006,CD_ERROR_ORM_CONTROLLER_SAVE_RECORD:70007,CD_ERROR_ORM_CONTROLLER_SAVE_RECORDS:70008,CD_ERROR_ORM_CONTROLLER_REMOVE_RECORD:70009,CD_ERROR_ORM_CONTROLLER_REMOVE_RECORDS:70010,CD_ERROR_ORM_CONTROLLER_FETCH_CHILD_RELATIONSHIP:70011,CD_ERROR_ORM_CONTROLLER_RESULTSET_TO_OBJECT_CONVERSION:70012,CD_ERROR_ORM_CONTROLLER_PREPARE_FETCH_QUERY:70013,CD_ERROR_ORM_CONTROLLER_UNMARSHALL_TO_MODEL_OBJECT:70014,CD_ERROR_ORM_CONTROLLER_FETCH_AND_BIND_DATA_STRATEGY:70015,CD_ERROR_PREPARING_QUERY_STRING:90001,CD_ERROR_APP_INIT_FORMS:90002,CD_ERROR_INVALID_DATA_OBJECT:90003,CD_ERROR_CUSTOMVERB:90004,MSG_ERROR_CUSTOMVERB:"Error while invoking custom verb",MSG_ERROR_SAAS_INSTANCE_NOTDEFINED:"kony.model.ApplicationContext.INSTANCE is not defined",MSG_ERROR_FORMSFORRECORDTYPES_MAP_NOT_DEFINED:"FormsForRecordTypes map is not defined or it has no entities",MSG_ERROR_RECORDTYPES_NOT_AVAILABLE:"No record types available from service",MSG_ERROR_FORM_NOT_DEFINED_FOR_RECORDTYPE:"no default forms for given formType ",MSG_ERROR_FORMTYPE_NOT_SPECIFIED:"Please specify formType for record type",MSG_ERROR_ENTITY_NOT_SPECIFIED:"Please specify entity to get record types",MSG_ERROR_MATCHOPERATOR_NOT_DEFINED_PROPERLY:"Match Operator is not mentioned properly in the query",MSG_ERROR_QUERYPARAMS_NOT_DEFINED_PROPERLY:"Queryparams are not defined properly",MSG_ERROR_QUERY_NOT_DEFINED_PROPERLY:"Query is not defined properly",MSG_ERROR_ADDITIONAL_FIELDS_ARE_NOT_DEFINED_PROPERLY:"Additinal Fields should be described in an Array Format Only",MSG_ERROR_BRACES_ARE_NOT_DEFINED_PROPERLY:"Braces are not defined properly in the query",MSG_ERROR_PARAM_VALUE_NOT_DEFINED_IN_QUERYPARAM:"Parameter value is not defined for this parameter",MSG_ERROR_DATA_VALIDATION_FIELD_NOT_CREATEABLE:"Form Validation Error- Field is not createable",MSG_ERROR_DATA_VALIDATION_FIELD_NOT_UPDATEABLE:"Form Validation Error - Field is not updateable",MSG_ERROR_DATA_VALIDATION_FIELD_NOT_NULLABLE:"Form Validation Error - Field is not nullable",MSG_ERROR_DATA_VALIDATION_INVALID_INPUT_DATA:"Form Validation Error - Invalid input data",MSG_ERROR_DATA_VALIDATION_INVALID_MODEL:"Form Validation Error - Invalid Model",MSG_ERROR_DATA_VALIDATION_INVALID_ENTITY:"Form Validation Error - Invalid Entity",MSG_ERROR_DATA_VALIDATION_ENTITYMETADATA_NOTFOUND:"Form Validation Error - EntityMetaData Not Found",MSG_ERROR_FETCHING_APPMENU_DATA:"Error fetching data for app menu",MSG_ERROR_CREATING_APPMENU:"Error creating app menu",CD_ERROR_WIDGETID_NOT_DEFINED:50,CD_ERROR_PROCESSING_FORMCONFIG:51,CD_ERROR_TAGNAME_NOTVALID:52,CD_ERROR_EVENTNAME_NOT_DEFINED:53,CD_ERROR_WIDGET_INSTANCE_NOT:54,CD_ERROR_WHILE_PROCESSING_WIDGETCONFIG:55,CD_ERROR_PRESAVECALLBACK_NOT_A_FUNCTION:56,CD_ERROR_IN_DATACALLBACK:57,CD_ERROR_IN_PRESAVECALLBACK:58,CD_ERROR_NOT_MODEL_INSTANCE:59,MSG_ERROR_NOT_MODEL_INSTANCE:"result of callback is not a model instance",MSG_ERROR_IN_PRESAVECALLBACK:"PreSave callback execution got failed",MSG_ERROR_IN_DATACALLBACK:"Data Call Back Execution got failed",MSG_ERROR_PRESAVECALLBACK_NOT_A_FUNCTION:"presave call back is not a function",MSG_ERROR_WHILE_PROCESSING_WIDGETCONFIG:"error while processing widget config of ",MSG_ERROR_WIDGET_INSTANCE_NOT:"it should be instance of kony.model.widgetConfig",MSG_ERROR_EVENTNAME_NOT_DEFINED:"event name is not defined",MSG_ERROR_WIDGETID_NOT_DEFINED:"Widget id is not specifed",MSG_ERROR_PROCESSING_FORMCONFIG:"error while processing form config",MSG_ERROR_TAGNAME_NOTVALID:"specified tag name not valid ",MSG_ERROR_PAGINATION_NOT_ENABLED_FOR_SEGMENT:"Pagination not enabled for this segment",MSG_ERROR_FAILED_BINDING_DATA_TO_WIDGET:"Failed to bind data to widget",MSG_ERROR_NOT_INHERITING_WIDGET_CONTROLLER:"Does not inherit WidgetController class ",MSG_ERROR_NOT_INHERITING_VIEW_CONTROLLER:"Does not inherit ViewController class ",MSG_ERROR_UNSUPPORTED_SEGMENT_TYPE:"segment widget type is not yet supported",MSG_ERROR_GET_NEXT_LIST:"Get next list error - Data Records recieved < 0 ",MSG_ERROR_FETCH_FAILED_FOR_CHILD_ENTITY:"failed to get data for child entity",MSG_ERROR_SAVE_CANNOT_SET_PRIMARY_KEY:"cannot save form, cannot explicitly set primary key value",MSG_ERROR_KONY_FORM_OBJECT_UNDEFINED:"kony form object is undefined",MSG_ERROR_FAILED_FORM_INIT_WHILE_CALLBACK:"failed to initilaize the form while executing datacallback",MSG_ERROR_FAILED_LOADING_FORMS:"Failed to load form",MSG_ERROR_PARSING_JSONS:"Error while parsing forms JSON",MSG_ERROR_FAILED_TO_NAVIGATE_TO_FORM:"failed to navigate to form ",MSG_ERROR_FAILED_LOADING_MASTER_DATA:"failed to laod master data",MSG_ERROR_FAILED_TO_LOGOUT:"Failed to logout",MSG_ERROR_UNDEFINED_WIDGET_CONTROLLER:"Undefined widget controller",MSG_ERROR_PRIMARY_FIELD_VALUE_NOT_FOUND:"cannot save form, primary field value not found",MSG_ERROR_NO_FIELDS_MODIFIED_UPDATE_FAILED:"Cannot save form, no fields are modified",MSG_ERROR_METADATA_FOR_ENTITY_NOT_FOUND:"metadata could not found for entity ",MSG_ERROR_FORM_NOT_FOUND:"Form not found",MSG_ERROR_EXPECTED_BOOLEAN:"First parameter must be boolean",MSG_ERROR_NAVIGATION_STACK_EMPTY:"Navigation stack is empty",MSG_ERROR_FORMVIEWCONTROLLER_NOT_FOUND:"form view controller not found",MSG_ERROR_INITIALIZING_SAAS_APP:"Error Initializing SaaS Application",MSG_ERROR_APP_INITIALIZATION_FAILED:"Application initialization failed",MSG_ERROR_FAILED_TO_LOAD_APPLICATION:"Failed to Load Application",MSG_ERROR_INITIALIZING_DATA_PROVIDER:"Unable to initialize data provider",MSG_ERROR_INITIALIZING_METADATA_PROVIDER:"Unable to initialize meta data provider",MSG_ERROR_INITIALIZING_UI_CONFIG_DATA_PROVIDER:"Unable to initialize UI Config data provider",MSG_ERROR_FETCHING_FORMS:"Error fetching forms",MSG_ERROR_FETCHING_TEMPLATES:"Error fetching templates",MSG_ERROR_MORE_RECORDS_FOUND:"Expected one record but found more than one",MSG_ERROR_FETCHING_METADATA:"Error fetching metadata for entity",MSG_ERROR_FAILED_TO_INITIALIZE_FORM:"Failed to initialize form",MSG_ERROR_FAILED_TO_FETCH_DATA:"Failed to fetch data for form",MSG_ERROR_FAILED_TO_SAVE_FORM:"Failed to save form",MSG_ERROR_SESSION_TOKEN_INVALID:"Invalid session token",MSG_ERROR_LOGIN_FAILURE:"Login failure",MSG_ERROR_OFFLINE_LOGIN_FAILURE:"Login failure in offline mode",MSG_ERROR_CALLBACK_NOT_A_FUNCTION:"Callbacks not a function",MSG_ERROR_FAILED_TO_CREATE_RECORD:"Failed to create record",MSG_ERROR_FAILED_TO_UPDATE_RECORD:"Failed to update record",MSG_ERROR_LOADING_TEMPLATES:"Error loading templates",MSG_ERROR_FIELD_NOT_PRESENT:"Invalid field mapped",MSG_ERROR_ENITTY_NOT_PRESENT:"Invalid Entity mapped",MSG_TENANT_NOT_SYNC_ENABLED:"Cloud is not sync enabled",MSG_INVALID_QUERY:"Query framed is invalid",MSG_ERROR_FETCH_USER_PROFILE_FAILURE:"Unable to fetch the user profile",MSG_ERROR_UNABLE_TO_SYNC:"Sync failed",MSG_ERROR_UNABLE_TO_GET_SYNC_CONFIG:"Unable to get sync configuration",MSG_ERROR_NETWORK_UNAVAILABLE:"Device is not connected to network. Please check your connection and try again.",MSG_ERROR_UNABLE_TO_RESET_SYNC:"Sync reset failed",MSG_HAMBURGER_MENU_WRONG_CONFIG:"Wrong Hamburger Menu config",MSG_HAMBURGER_MENU_INITIALIZATION_FAILED:"Failed to initialize Hamburger Menu",MSG_HAMBURGER_MENU_WRONG_FORM_TYPE:"Hamburger Menu wrong form type",MSG_HAMBURGER_MENU_WRONG_SKIN:"Main flex form skin is not provided with form bg color",MSG_RESOURCE_NO_CREATE_PERMISSION:"User does not have permission to create {}",MSG_RESOURCE_NO_READ_PERMISSION:"User does not have permission to read{}",MSG_RESOURCE_NO_UPDATE_PERMISSION:"User does not have permission to update {}",MSG_RESOURCE_NO_DELETE_PERMISSION:"User does not have permission to delete {}",MSG_NETWORK_UNAVAILABLE:"Network unavailable or disconnected",MSG_ERROR_NO_RESPONSE_RECEIVED:"No response received",MSG_ERROR_IN_SET_ADDITIONAL_FIELDS:"Error in setAdditionalFields",MSG_ERROR_IN_SET_QUERY:"Error in setQuery",MSG_ERROR_IN_SET_QUERY_PARAMS:"Error in setQueryParams",MSG_ERROR_ENTER_VALID_TENANT_NAME:"Enter a valid cloud name",MSG_ERROR_NAVIGATION_CONTROLLER_NOT_DEFINED:"Navigation controller not defined",MSG_ERROR_INVALID_ENTITY:"Invalid Entity Name",MSG_VERSION_UNSUPPORTED_ERROR:" You are trying to connect to older version of the Kony MobileFabric App Services. This app requires Kony MobileFabric App Services version to be $VERSION or greater ",MSG_ERROR_ASSOCIATING_RECORD:"Error associating record",MSG_ERROR_DISOCIATING_RECORD:"Error dissociating record",MSG_ERROR_NOT_INSTANCE_OF_CUSTOMINFO:"info object not an instance of kony.model.CustomInfo class",MSG_ERROR_FORM_ENTITY_NOT_FOUND:"Entity of form not found",MSG_ERROR_FORM_PRIMARY_FIELDVALUE_NOT_FOUND:"Primary field value for form is not found",MSG_ERROR_CANNOT_ASSOCIATE_DISSOCIATE_OF_SAME_ENTITY:"Cannot associate/dissociate records of same entity",MSG_ERROR_SAVING_MULTI_ENTITY_LABEL:"Error saving mutli entity label data",MSG_ERROR_SAVING_CHILD_CONTAINER:"Error saving child container data",MSG_UPGRADE_UNAVAILABLE:"upgraded version of this cloud is not available, please try diabling connect to upgraded version",MSG_ERROR_I18N:"I18n Error ",MSG_INVALID_LOGIN_HANDLER_RESPONSE:"invalid response object returned by login handler",MSG_ERROR_FAILED_TO_QUERY_DATA:"failed to query data for the widget",MSG_ERROR_BATCH_INSERT:"Exception occurred while batchInsert",MSG_ERROR_LOCAL_DB_CONNECTION:"Error in getting localdb connection",MSG_ERROR_EXECUTE_SINGLE_SQL_QUERY:"Exception occurred while executeSingleSqlQuery",MSG_ERROR_DECODING_BASE64_FORMJS:"Error while decoding base64 formJS",MSG_ERROR_LOADING_THEME:"error loading theme",MSG_ERROR_SETTING_THEME:"error setting theme to the application",MSG_ERROR_FETCHING_THEME:"error fetching theme from datasource",MSG_ERROR_MULTIPLE_DEFAULT_THEME:"error, more than once default themes returned",MSG_ERROR_CREATING_THEME:"error while creating theme",MSG_ERROR_METHOD_INVALID:"method type invalid , should be either GET/POST/PUT/DELETE",MSG_ERROR_INVALID_HTTPCUSTOMREQUEST_INPUT:"method type expected, httpcustomrequest accepts a string parameter of the method type",MSG_ERROR_INVALID_INPUT:"expected two string inputs",MSG_ERROR_INVALID_INPUT_TYPE:"expected string type as input",MSG_ERROR_INVALID_PAYLOAD:"invalid payload, expected only one parameter",MSG_ERROR_INVALID_DATAPROVIDER_TYPE:"expected rest dataprovider object",MSG_ERROR_DATAPROVIDER_NOT_INTIALIZED:"dataprovider object not intialized",MSG_ERROR_INVALID_CUSTOMSERVICE_INPUT_PARAM:"expected httpcustomrequest input param",MSG_ERROR_UNEXPECTED_CUSTOMRESPONSE:"expected customresponse key in response",MSG_CLOUD_UNAUTHORISED_FOR_DATAPROVIDER:"Invalid dataProviderKey or Present cloud is not authorised for the suggested data provider",MSG_CREDSTORE_NOT_FOUND:"Login failure in offline mode. CredStore is not created yet",MSG_CREDENTIAL_MISMATCH_WITH_CREDSTORE:"Login failure in offline mode. User Credentials did not match with credStore",MSG_ERROR_IN_ENTITY_DEFINITION:"Error in getting entity definition in model",MSG_ERROR_IN_RETREIVNING_CHILD_RELATIONSHIPLIST:"Error in retreiving child relationship list in model",MSG_ERROR_FETCHING_DATA_FOR_COLUMNS:"Error fetching data for columns in model",MSG_ERROR_FETCHING_CHILD_RELATIONSHP_FOR_ENTITY:"Error fetching relationship for child entity in model",MSG_ERROR_PROCESSING_CHILD_RELATIONSHIPLIST:"Error processing child relationship list in getRelationshipForChildEntityName in model",MSG_ERROR_FETCH:"Error in fetching data in model",MSG_ERROR_CREATE:"Error in create in model",MSG_ERROR_UPDATE:"Error in update in model",MSG_ERROR_UPDATE_BY_PRIMARY_KEY:"Error in update by primarykey in model",MSG_ERROR_DELETE:"Error in delete in model",MSG_ERROR_DELETE_BY_PRIMARY_KEY:"Error in delete by primarykey in model",MSG_ERROR_FETCH_IN_CONTROLLER_EXTENSION:"Error in fetch in controller extension",MSG_ERROR_BINDDATA_IN_CONTROLLER_EXTENSION:"Error in bindData in controller extension",MSG_ERROR_SAVEDATA_IN_CONTROLLER_EXTENSION:"Error in saveData in controller extension",MSG_ERROR_DELETEDATA_IN_CONTROLLER_EXTENSION:"Error in deleteData in controller extension",MSG_ERROR_ENTITY_CONTROLLER_NOT_DEFINED:"Model is not defined",MSG_ERROR_FETCH_IN_BASE_CONTROLLER_EXTENSION:"Error in fetchData of BaseControllerExtension",MSG_ERROR_BIND_IN_BASE_CONTROLLER_EXTENSION:"Error in bindData of BaseControllerExtension",MSG_ERROR_SAVE_IN_BASE_CONTROLLER_EXTENSION:"Error in saveData of BaseControllerExtension",MSG_ERROR_DELETE_IN_BASE_CONTROLLER_EXTENSION:"Error in saveData of BaseControllerExtension",MSG_ERROR_GENERATE_RECORDS_IN_BASE_CONTROLLER_EXTENSION:"Error in generateRecords of BaseControllerExtension",MSG_ERROR_ACTION_NOT_FOUND_IN_CONTROLLER:"Error action not found in controller for actionName",MSG_ERROR_APP_INIT_FORMS:"Error in application init forms",MSG_ERROR_ORM_CONTROLLER_FETCH_RECORDS:"Error in persistent controller's fetch records",MSG_ERROR_ORM_CONTROLLER_FETCH_RECORDS_QUERIES_NOT_DEFINED:"Error in persistent controller's fetch records, odata queries not defined",MSG_ERROR_ORM_CONTROLLER_FETCH_RECORD_PK_NOT_DEFINED:"Error in persistent controller's fetch by PK, PK not defined",MSG_ERROR_ORM_CONTROLLER_FETCH_RECORD_PK:"Error in persistent controller's fetch by PK",MSG_ERROR_ORM_CONTROLLER_FETCH_RECORDS_BY_NATIVE_QUERY:"Error in persistent controller's fetch with native query",MSG_ERROR_ORM_CONTROLLER_FETCH_RECORDS_BY_COLUMN_DEFINITION:"Error in persistent controller's fetch by columns",MSG_ERROR_ORM_CONTROLLER_SAVE_RECORD:"Error in persistent controller's save record",MSG_ERROR_ORM_CONTROLLER_SAVE_RECORDS:"Error in persistent controller's save records",MSG_ERROR_ORM_CONTROLLER_REMOVE_RECORD:"Error in persistent controller's remove record",MSG_ERROR_ORM_CONTROLLER_REMOVE_RECORDS:"Error in persistent controller's remove records",MSG_ERROR_ORM_CONTROLLER_FETCH_CHILD_RELATIONSHIP:"Error in persistent controller's fetch child relationship",MSG_ERROR_ORM_CONTROLLER_RESULTSET_TO_OBJECT_CONVERSION:"Error in persistent controller's resultset to record object conversion",MSG_ERROR_ORM_CONTROLLER_PREPARE_FETCH_QUERY:"Error in persistent controller's prepare fetch query",MSG_ERROR_ORM_CONTROLLER_UNMARSHALL_TO_MODEL_OBJECT:"Error in persistent controller's unmarshall record object to form model object",MSG_ERROR_ORM_CONTROLLER_FETCH_AND_BIND_DATA_STRATEGY:"Error in persistent controller's fetch and bind data strategy",MSG_ERROR_GET_DATA_WIDGETS_OF_FORM:"Error getting data widgets of form",MSG_ERROR_GETTING_QUERY_WIDGETS_MAPPING:"Error getting queryWidgetsMapping",MSG_ERROR_PREPARING_QUERY_STRING:"Error in preparing query string",MSG_ERROR_NOTIFYING_OBSERVERS:"Error notifying observers of formmodel",MSG_ERROR_GET_WIDGET_DATA_FORMMODEL:"Error getting widget data of formmodel",MSG_ERROR_SET_WIDGET_DATA_FORMMODEL:"Error setting widget data of formmodel",MSG_ERROR_FORMMODEL_PROPERTY_VALUE_CHANGED:"Error in propertyValueChanged of formmodel",MSG_ERROR_FORMMODEL_CLEAR:"Error in clear of formmodel",MSG_ERROR_FORMMODEL_DESTROY:"Error in destroy of formmodel",MSG_ERROR_FORMMODEL_UPDATE:"Error in update of formmodel",MSG_ERROR_FORMMODEL_SET_MASTERDATA:"Error in setMasterData of formmodel",MSG_ERROR_FORMMODEL_GET_MASTERDATA:"Error in getMasterData of formmodel",MSG_ERROR_FORMMODEL_SET_VIEW_ATTRIBUTE:"Error settingView attribute by property in formmodel",MSG_ERROR_FORMMODEL_GET_VIEW_ATTRIBUTE:"Error gettingView attribute by property in formmodel",MSG_ERROR_FORMMODEL_PERFORM_ACTION_ONVIEW:"Error in performActionOnView of formmodel",MSG_ERROR_FORMMODEL_PERFORM_ACTION:"Error in performAction of formmodel",MSG_ERROR_FORMMODEL_PROPERTIES_INIT:"Error in initialization of formmodel properties",MSG_ERROR_FETCH_IN_CONTROLLER:"Error in fetch of controller",MSG_ERROR_BIND_IN_CONTROLLER:"Error in bind of controller",MSG_ERROR_SAVE_IN_CONTROLLER:"Error in save of controller",MSG_ERROR_DELETE_IN_CONTROLLER:"Error in delete of controller",MSG_ERROR_LOADDATA_SHOWFORM_CONTROLLER:"Error in load data and show form of controller",MSG_ERROR_GETTING_ENTITY_CONTROLLER:"Error getting model from formcontroller",MSG_ERROR_GETTING_ENTITY_METADATA:"Error getting entity metadata from formcontroller",MSG_ERROR_INVALID_DATA_OBJECT:"Error while reading data, expected data object",MSG_ERROR_PROCESSDATA_IN_CONTROLLER_EXTENSION:"Error while formatting data in controller extension",MSG_ERROR_FORMATDATA_IN_BASE_CONTROLLER_EXTENSION:"Error while formatting data in base controller extension",MSG_ERROR_FORMATDATA_IN_CONTROLLER:"Error while formatting data in controller",MSG_ERROR_VALIDATION_UPDATE:"Error validating data in update model",MSG_ERROR_VALIDATION_CREATE:"Error validating data in create model",MSG_ERROR_SHOWFORM_IN_CONTROLLER_EXTENSION:"Error in showForm in controller extension"};
kony.license={};var appConfig=void 0;function cloudSessionCallback(){kony.license.log("Cloud session timed out."),kony.ds.remove("konyLastAccessTime"),kony.ds.remove("konyUUID"),kony.ds.remove("konyCustomReportData"),kony.ds.remove("konyOfflineAccessData"),kony.license.pushKonySessionsToServer(),kony.cloud.appevents.unregisterforidletimeout(),kony.cloud.appevents.registerforidletimeout(30,cloudSessionCallback)}kony.license.disableMetricReporting=function(){kony.ds.save(["true"],"LicenseDisableFlag")},kony.licensevar={},kony.licensevar.didAppWentInBackground=!1,kony.license.timeoutValue=14400,kony.license.version="8.4.0.6",kony.licensevar.currentSessionId="",kony.licensevar.latestSessionCreationTimestamp="",kony.licensevar.maxSessionCountLimit=100,kony.licensevar.changeHandlers=[],kony.licensevar.isLicenseUrlAvailable=!0,kony.licensevar.isISTNetworkCallProcessingInProgress=!1,kony.licensevar.deferredNewSessionsCounter=0,kony.licensevar.isInteractive=!1,kony.licensevar.isPostAppInitCalled=!1,kony.licensevar.timesAppBecomeInteractive=0,kony.licensevar.maxDeferSessionCount=15,kony.licensevar.appLaunch="appLaunch",kony.licensevar.appStateCallbackFunction=function(){kony.licensevar.timesAppBecomeInteractive++,kony.license.log("appStateCallbackFunction:: isPostAppInitCalled :"+kony.licensevar.isPostAppInitCalled+" ,isInteractive :"+kony.licensevar.isInteractive),!1===kony.licensevar.isInteractive?(kony.licensevar.isInteractive=!0,kony.license.log("App is in interactive state"),!0===kony.licensevar.isPostAppInitCalled&&(kony.license.log("Creating and sending a new interactive session details."),kony.license.sendNewIST())):kony.license.log("Warning: appStateCallbackFunction is called "+kony.licensevar.timesAppBecomeInteractive+" times, ignoring the interactive app state event")},kony.licensevar.callbacksObjList={},kony.licensevar.callbacksObjList.isAppLaunchedForInteraction={},kony.licensevar.callbacksObjList.isAppLaunchedForInteraction.appStateCallbackFunction=kony.licensevar.appStateCallbackFunction,kony.license.maxWaitTimeToHandleMultipleNewSessions=60,kony.license.setLogging=function(e){!0===e?kony.ds.save([!0],"LicenseLoggingFlag"):kony.ds.save([!1],"LicenseLoggingFlag")},kony.license.log=function(e){try{var n=kony.ds.read("LicenseLoggingFlag")}catch(e){}void 0!=n&&void 0!=n[0]&&null!=n[0]&&!0===n[0]&&kony.print("[License] :"+e)},kony.license.isLicenseUrlAvailable=function(){return kony.licensevar.isLicenseUrlAvailable},kony.license.setIsLicenseUrlAvailable=function(e){kony.licensevar.isLicenseUrlAvailable=e},kony.license.getSessionId=function(){return kony.licensevar.currentSessionId},kony.license.registerChangeListener=function(e){if(e){var n={},i=kony.ds.read("konyUserID");n.sessionId=kony.licensevar.currentSessionId,void 0!=i&&void 0!=i[0]&&null!=i[0]&&(n.userId=i[0]),e(n),kony.licensevar.changeHandlers.push(e)}},kony.license.notifyChangesToListeners=function(){for(var e=0;e<kony.licensevar.changeHandlers.length;e++){var n={},i=kony.ds.read("konyUserID");n.sessionId=kony.licensevar.currentSessionId,void 0!=i&&void 0!=i[0]&&null!=i[0]&&(n.userId=i[0]),(0,kony.licensevar.changeHandlers[e])(n)}},kony.license.processDeferredNewSessions=function(){kony.license.log("sending deferred launch date - "+kony.licensevar.currentSessionId),kony.licensevar.isISTNetworkCallProcessingInProgress=!1,kony.licensevar.deferredNewSessionsCounter=0,kony.license.pushKonySessionsToServer(!0)},kony.license.startLicenseService=function(){"use strict";var e=kony.os.deviceInfo();function n(n,i){if(!n)return null;if(kony.license.log("Entering into getfromserverurl when IST-base url is not defined"),"thinclient"===e.name)return(n=n.replace(/mwservlet\/*$/i,""))+i;var s=n.match(/mwservlet/i),o=null;if(s){var t="mwservlet".length,r=n.lastIndexOf(s),a=n.slice(0,r),l=r+t,c=n.slice(l,n.length);o=/[a-zA-Z0-9]/.test(c)?n:a}else o=n;return o+i}kony.license.log("startLicenseService deviceInfo "+JSON.stringify(e)),kony.setUserID=function(e,n){void 0!=n&&null!=n||(n=!1);var i=new Array;i.push(e);var s=kony.ds.read("userIDFromLicenseFlag");if(!s||"true"!=s[0]||!n){if(!n){var o=new Array;o.push("true"),kony.ds.save(o,"userIDFromLicenseFlag")}kony.ds.save(i,"konyUserID"),kony.license.notifyChangesToListeners()}},kony.license.generateUUID=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return(new Date).getTime()+"-"+e()+"-"+e()+"-"+e()},kony.license.isCloud=function(){var e=!0,n=kony.ds.read("LicenseDisableFlag");return!n||"true"!==n[0]&&"true"!==n||(e=!1),!1===kony.license.isLicenseUrlAvailable()&&(e=!1),e},kony.license.getCurrentDateTime=function(){var e,n;return kony.license.log("getCurrentDateTime.."),n=(e=new Date).getUTCMonth()+1,("00"+e.getUTCFullYear()).slice(-4)+"-"+("00"+n).slice(-2)+"-"+("00"+e.getUTCDate()).slice(-2)+" "+("00"+e.getUTCHours()).slice(-2)+":"+("00"+e.getUTCMinutes()).slice(-2)+":"+("00"+e.getUTCSeconds()).slice(-2)},kony.license.appendLicenseTrackingKeys=function(n,i){kony.license.log("appendLicenseTrackingKeys deviceinfo ---\x3e "+JSON.stringify(e));var s={};if(!0===kony.license.isCloud()){if(s.plat=e.name,void 0!==kony.sdk?(s.chnl=kony.sdk.getChannelType(),s.did=kony.sdk.getDeviceId(),s.plat=kony.sdk.getPlatformName()):(s.chnl="fpApp",s.did="fp-"+kony.license.generateUUID(),s.plat="fp"),s.aid=appConfig.appId,s.aver=appConfig.appVersion,s.aname=appConfig.appName,"undefined"!=typeof konyRef&&null!=konyRef&&konyRef.mainRef&&(s.mfaid=konyRef.mainRef.appId,s.mfbaseid=konyRef.mainRef.baseId,s.mfaname=konyRef.mainRef.name),kony.application.getCurrentForm()){var o=kony.application.getCurrentForm().id;o&&(s.fid=o)}s.atype=function(e){if("thinclient"===e)return"spa";var n=kony.application.getApplicationMode();return n===constants.APPLICATION_MODE_NATIVE?"native":n===constants.APPLICATION_MODE_HYBRID?"hybrid":n===constants.APPLICATION_MODE_WRAPPER?"mixedmode":""}(e.name),s.os=e.version,s.stype="b2c",s.dm=e.model,s.ua=kony.os.userAgent(),s.sessiontype=!0===kony.licensevar.isInteractive?"I":"NI";var t=kony.ds.read("konyUserID");if(void 0!==t&&null!==t&&t.length>0?s.kuid=t[0]:s.kuid="","session"===n){if(kony.license.checkAndCreateSession(),!0===kony.licensevar.isISTNetworkCallProcessingInProgress||kony.licensevar.deferredNewSessionsCounter>0){if(kony.licensevar.deferredNewSessionsCounter>0)try{kony.license.log("cancelling the previous timer, as in span of "+kony.license.maxWaitTimeToHandleMultipleNewSessions+" seconds, a new IST was fired immediately"),kony.timer.cancel("konySession"+(kony.licensevar.deferredNewSessionsCounter-1))}catch(e){kony.license.log("error - "+JSON.stringify(e)+",  while cancelling the deferred session timer to send launch dates with timer id"+(kony.licensevar.deferredNewSessionsCounter-1))}return kony.timer.schedule("konySession"+kony.licensevar.deferredNewSessionsCounter++,kony.license.processDeferredNewSessions,kony.license.maxWaitTimeToHandleMultipleNewSessions,!1),kony.license.log("another session is in progress , we will try again"),{}}var r=kony.license.getStoredSession();s.launchDates=r,kony.licensevar.isISTNetworkCallProcessingInProgress=!0,s.svcid="RegisterKonySession",kony.license.log("----------\x3eLaunchDates : "+s.launchDates)}else{var a=kony.ds.read("konyUUID");void 0!==a&&null!==a&&a.length>0?s.rsid=a[0]:s.rsid=kony.license.generateUUID().toString()}}return kony.license.log("input params in appendLicenseTrackingKeys are "+JSON.stringify(s)),s},kony.license.checkAndCreateSession=function(){kony.license.log("check and create session..");var e=kony.ds.read("konyUUID");void 0!==e&&null!==e&&e.length>0?kony.licensevar.currentSessionId=e[0]:kony.license.createSession()};var i=0;kony.license.createSession=function(){if(0!=i)try{kony.timer.cancel("konyLicenseTimeout"+(i-1))}catch(e){kony.license.log("the error object while cancelling the timer is"+e)}var e=new Array;kony.licensevar.currentSessionId=kony.license.generateUUID().toString(),kony.licensevar.latestSessionCreationTimestamp=kony.license.getCurrentDateTime(),e.push(kony.licensevar.currentSessionId),kony.ds.save(e,"konyUUID"),kony.license.storeSession(),kony.license.notifyChangesToListeners(),kony.timer.schedule("konyLicenseTimeout"+i++,kony.license.sendNewIST,kony.license.timeoutValue,!1)},kony.license.storeSession=function(){var e=kony.licensevar.currentSessionId,n=kony.license.getStoredSession();void 0!==n&&null!==n||(n=new Array);var i=new Array;i.push(e),i.push(kony.licensevar.latestSessionCreationTimestamp);var s=!0===kony.licensevar.isInteractive?"I":"NI";if(i.push(s),0===n.length||n[n.length-1][0]!==i[0]?(n.length>0&&kony.licensevar.deferredNewSessionsCounter>0&&n.pop(),n.push(i)):(kony.license.log("Ignoring duplicate session: "+JSON.stringify(i)),n[n.length-1][2]=kony.licensevar.isInteractive.toString()),n.length>kony.licensevar.maxSessionCountLimit){kony.license.log("Trimming to latest "+kony.licensevar.maxSessionCountLimit+" records, total records found - "+n.length);var o=n.length-kony.licensevar.maxSessionCountLimit;n=n.slice(o)}kony.ds.save(n,"konyOfflineAccessData"),kony.license.log("offlineData saved")},kony.license.getStoredSession=function(){return kony.ds.read("konyOfflineAccessData")},kony.license.sendNewIST=function(){kony.license.createSession(),kony.license.pushKonySessionsToServer(!0)},kony.license.handleISTInvocation=function(e,n,i){!kony.licensevar.isInteractive&&kony.license.getStoredSession().length>=kony.licensevar.maxDeferSessionCount||kony.licensevar.isInteractive?kony.license.invokeIST(e,n,kony.license.licenseUsageServiceSuccessCallback,kony.license.licenseUsageServiceFailureCallback,i):kony.licensevar.isISTNetworkCallProcessingInProgress=!1},kony.license.licenseUsageServiceSuccessCallback=function(e){kony.licensevar.isISTNetworkCallProcessingInProgress=!1,kony.license.log("launch dates sent successfully. result - "+JSON.stringify(e)),kony.ds.remove("konyOfflineAccessData"),kony.ds.remove("konyOfflineSessionsCount")},kony.license.licenseUsageServiceFailureCallback=function(e){var n,i;kony.licensevar.isISTNetworkCallProcessingInProgress=!1,kony.license.log("launch dates weren't sent successfully. result - "+JSON.stringify(e)),void 0===(i=kony.ds.read("konyOfflineSessionsCount"))||null===i||i.length<1?(i=new Array).push(1):i[0]>=500||(n=i[0]+1,i[0]=n),kony.ds.save(i,"konyOfflineSessionsCount")},kony.license.captureKonyLicenseUsage=function(e){kony.license.pushKonySessionsToServer(e)},kony.license.pushKonySessionsToServer=function(i){var s,o,t;kony.license.log("capturing license information..");var r,a=!0;if(void 0===i||null===i?i=!1:!0!==i&&(i=!1),!1===kony.license.isCloud()&&(kony.license.log("session tracking is turned off"),a=!1),void 0!==kony.ds.read("konyLastAccessTime")&&null!==kony.ds.read("konyLastAccessTime")&&(s=new Date,o=new Date(kony.ds.read("konyLastAccessTime")[0]),s.getTime()-o.getTime()<18e5&&!1===i?a=!1:kony.ds.remove("konyLastAccessTime")),!0===a){var l={},c={};"thinclient"!==e.name&&(c.httpRequestOptions=[],c.httpRequestOptions.timeoutIntervalForRequest=60),r="",appConfig.isturlbase?r=appConfig.isturlbase+"/IST":appConfig.secureurl?r=n(appConfig.secureurl,"IST"):appConfig.url&&(r=n(appConfig.url,"IST")),t=r,l.konyreportingparams=JSON.stringify(kony.license.appendLicenseTrackingKeys("session"),null),c.disableIntegrity=!0,"{}"!==l.konyreportingparams&&kony.license.handleISTInvocation(t,l,c)}},kony.license.backgroundTimeCapture=function(){if(kony.license.log("app is going to background.."),!0===kony.license.isCloud()){var e=new Array;e.push((new Date).toString()),kony.ds.save(e,"konyLastAccessTime")}},kony.license.clearLastAccess=function(){kony.license.log("clear last access.."),!0===kony.license.isCloud()&&kony.ds.remove("konyLastAccessTime")},kony.license.setAppCallbacksOverride=function(){kony.license.log("overriding kony.application.setApplicationCallbacks..");var n=kony.application.setApplicationCallbacks;if(kony.application.setApplicationCallbacks=function(i){if(!0===kony.license.isCloud()&&void 0!==i&&null!==i){if(void 0!==i.onforeground&&null!==i.onforeground){var s=i.onforeground;i.onforeground=function(){!0===kony.licensevar.didAppWentInBackground&&kony.license.pushKonySessionsToServer(!1),"thinclient "!==e.name&&void 0!==kony.sync&&(kony.sync.isAppInBackground=!1),kony.licensevar.didAppWentInBackground=!1,s()}}if(void 0!==i.onbackground&&null!==i.onbackground){var o=i.onbackground;i.onbackground=function(){kony.licensevar.didAppWentInBackground=!0,kony.license.backgroundTimeCapture(),void 0!==kony.sdk&&void 0!==kony.sdk.metric&&kony.sdk.metric.saveInDS(),"thinclient "!==e.name&&void 0!==kony.sync&&(kony.sync.isAppInBackground=!0),o()}}if(void 0!==i.onappterminate&&null!==i.onappterminate){var t=i.onappterminate;i.onappterminate=function(){kony.license.clearLastAccess(),void 0!==kony.sdk&&void 0!==kony.sdk.metric&&kony.sdk.metric.saveInDS(),t()}}}return n(i)},"thinclient "!==e.name){kony.application.setApplicationCallbacks({onforeground:function(){},onbackground:function(){},onappterminate:function(){}})}},kony.license.invokeServiceAsyncOverride=function(){kony.license.log("overriding kony.net.invokeServiceAsync..");var e=kony.net.invokeServiceAsync;kony.net.invokeServiceAsync=function(n,i,s,o,t,r){return!0===kony.license.isCloud()&&(void 0!==i&&null!==i||(i={}),void 0===i||null===i||(a=i,!!(a&&a.httpconfig&&a.httpconfig.method&&"get"===a.httpconfig.method))||(i.konyreportingparams=void 0!==t&&null!==t?l(i.konyreportingparams,t,r):l(i.konyreportingparams,null,null))),e(n,i,s,o);var a;function l(e,n,i){var s=kony.license.appendLicenseTrackingKeys(n,i);if(!e)return JSON.stringify(s);try{for(var o in"string"==typeof e&&(e=JSON.parse(e)),s)void 0===e[o]&&(e[o]=s[o]);return JSON.stringify(e)}catch(n){return kony.license.log("unable to parse params "+e),JSON.stringify(s)}}}},kony.license.invokeServiceSyncOverride=function(){kony.license.log("overriding kony.net.invokeServiceSync..");var e=kony.net.invokeServiceSync;kony.net.invokeServiceSync=function(n,i,s){return!0===kony.license.isCloud()&&(void 0!==i&&null!==i||(i={}),void 0!==i&&null!==i&&(i.konyreportingparams=JSON.stringify(kony.license.appendLicenseTrackingKeys(null)))),e(n,i,s)}},kony.license.setAppInitializationEventsOverride=function(){var e=kony.application.setApplicationInitializationEvents;kony.application.setApplicationInitializationEvents=function(n){if(kony.license.log("setApplicationInitializationEvents events "+n),kony.licensevar.isPostAppInitCalled=!0,!0===kony.license.isCloud()&&void 0!==n&&null!==n)if(void 0!==n.postappinit&&null!==n.postappinit){var i=n.postappinit,s=function(){kony.license.pushKonySessionsToServer(!0),kony.ds.save([!0],kony.licensevar.appLaunch);var e=i.apply(this,arguments);if(void 0!==e||null!==e)return e};n.postappinit=s}else s=function(){kony.license.pushKonySessionsToServer(!0),kony.ds.save([!0],kony.licensevar.appLaunch)},n.postappinit=s;return e(n)}},kony.license.apiOverride=function(){kony.license.log("Entering apiOverride.."),"thinclient"!==e.name?kony.license.setAppCallbacksOverride():kony.licensevar.isInteractive=!0,kony.license.invokeServiceAsyncOverride(),kony.license.invokeServiceSyncOverride(),kony.license.setAppInitializationEventsOverride()},kony.license.apiOverride(),kony.application.addApplicationCallbacks(kony.licensevar.callbacksObjList),"thinclient"!==e.name&&(Object.seal(kony.license),Object.freeze(kony.license)),kony.license.log("license loading completed")},kony.license.invokeIST=function(e,n,i,s,o){if(void 0!==e&&void 0!==e&&null!==e&&""!==e){var t={"Content-Type":"application/x-www-form-urlencoded"};kony.hasOwnProperty("sdk")&&kony.sdk.getCurrentInstance&&kony.sdk.getCurrentInstance()&&(e=kony.sdk.getCurrentInstance().appendGlobalParams(e,t,n));var r=new kony.net.HttpRequest;for(var a in o&&o.httpRequestOptions&&o.httpRequestOptions instanceof Object&&o.httpRequestOptions.timeoutIntervalForRequest&&(r.timeout=1e3*o.httpRequestOptions.timeoutIntervalForRequest),r.open("POST",e),paramsTable=new kony.net.FormData,n)void 0!==n[a]&&("string"!=typeof n[a]&&(n[a]=JSON.stringify(n[a])),paramsTable.append(a,n[a]));for(var l in kony.license.log("paramsTable formed is "+paramsTable.toString()),t)t.hasOwnProperty(l)&&r.setRequestHeader(l,t[l]);r.onReadyStateChange=function(n){var o=Number(r.readyState.toString()),t=Number(r.status.toString());kony.license.log("localRequestCallback in state :"+o+" with status :"+t);var a=null;if(4===o){var l=!0;if(t>=200&&t<300||504===t)if(504!==t)try{"string"==typeof(a=JSON.parse(JSON.stringify(r.response)))&&(a=JSON.parse(a)),a.url=e,!a||void 0!==a.opstatus&&0!=a.opstatus||(l=!1)}catch(e){kony.license.log("error while extracting response :"+e)}else l=!1;!0===l?s({error:"failure in sending IST call with status as :"+t,url:e}):i(a)}},r.send(paramsTable)}else s("license url can't be null or empty")},kony.license.startLicenseService();
